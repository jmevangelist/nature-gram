(self.webpackChunknature_gram=self.webpackChunknature_gram||[]).push([[179],{945:(pt,Te,L)=>{"use strict";L.d(Te,{Z:()=>Ee});var a=L(5861),W=L(160),te=L(5619),oe=L(5879),ge=L(4190);let Ee=(()=>{class we{constructor(ue,ie){this.injector=ue,this.routeReuseStrategy=ie,this.api_token=localStorage.getItem("api_token")??"",this.expired=!0;let le=localStorage.getItem("authorized_user");le&&(this.authorized_user=JSON.parse(le)),this.api_token&&(this.expired=!1),this.expiredSubject=new te.X(this.expired),this.expired$=this.expiredSubject.asObservable()}get token(){return this.api_token}get me(){return this.authorized_user}get isExpired(){return this.expired}getStatus(){return this.token?this.expired?"expired":"authorized":"none"}setExpired(){this.api_token="",this.expired=!0,this.expiredSubject.next(!0)}setToken(ue){this.api_token=ue,this.expired=!1,this.expiredSubject.next(!1),localStorage.setItem("api_token",ue)}setMe(ue){this.authorized_user=ue,localStorage.setItem("authorized_user",JSON.stringify(ue))}auth(ue){var ie=this;return(0,a.Z)(function*(){const le=ie.injector.get(W.E);let _e=!1;try{let Ve=yield le.getMe(ue);Ve&&(ie.setMe(Ve),ie.setToken(ue),_e=!0,ie.routeReuseStrategy.clearRouteStore())}catch(Ve){console.log(Ve)}finally{return _e}})()}logout(){localStorage.removeItem("api_token"),localStorage.removeItem("authorized_user"),this.api_token="",this.authorized_user=void 0,this.expired=!0,this.expiredSubject.next(!0),this.routeReuseStrategy.clearRouteStore()}}return we.\u0275fac=function(ue){return new(ue||we)(oe.LFG(oe.zs3),oe.LFG(ge.wN))},we.\u0275prov=oe.Yz7({token:we,factory:we.\u0275fac,providedIn:"root"}),we})()},2275:(pt,Te,L)=>{"use strict";L.r(Te),L.d(Te,{CommentsComponent:()=>Tt});var a=L(5879),W=L(6814),te=L(8469),oe=L(406),ge=L(4893),Ee=L(9482);const pe=["check",(0,Ee.h)({outline:'<path d="M13.72,27.69,3.29,17.27a1,1,0,0,1,1.41-1.41l9,9L31.29,7.29a1,1,0,0,1,1.41,1.41Z"/>'})],ie=["play",(0,Ee.h)({outline:'<path d="M8.07,31.6A2.07,2.07,0,0,1,6,29.53V6.32A2.07,2.07,0,0,1,9,4.47L32.21,16.08a2.07,2.07,0,0,1,0,3.7L9,31.38A2.06,2.06,0,0,1,8.07,31.6Zm0-25.34L8,6.32V29.53l.1.06L31.31,18a.06.06,0,0,0,0-.06Z"/>',solid:'<path d="M32.16,16.08,8.94,4.47A2.07,2.07,0,0,0,6,6.32V29.53a2.06,2.06,0,0,0,3,1.85L32.16,19.77a2.07,2.07,0,0,0,0-3.7Z"/>'})];var le=L(945),_e=L(95),Ve=L(160),Fe=L(3893),de=L(7715),se=L(3620),xe=L(7903),et=L(512);const Ae=["idInput"],Je=["textarea"],ce=["activity"];function ye(tt,ht){if(1&tt&&a._UZ(0,"img",18),2&tt){const Ge=a.oxw().$implicit;a.Q6J("src",Ge.user.icon||"assets/default.png",a.LSH)}}function ke(tt,ht){if(1&tt&&(a.TgZ(0,"span",19),a._uU(1),a.qZA()),2&tt){const Ge=a.oxw().$implicit;a.xp6(1),a.Oqu(Ge.user.login)}}function Le(tt,ht){if(1&tt&&a._UZ(0,"app-taxon",22),2&tt){const Ge=a.oxw(2).$implicit;a.Q6J("taxon",Ge.taxon)}}function nt(tt,ht){if(1&tt){const Ge=a.EpF();a.TgZ(0,"button",23,24),a.NdJ("click",function(){a.CHM(Ge);const Pe=a.MAs(1),Qe=a.oxw(2).$implicit,jt=a.oxw();return a.KtG(jt.agree(Qe.taxon,Pe))}),a._UZ(2,"cds-icon",25),a._uU(3,"agree"),a.qZA()}if(2&tt){const Ge=a.oxw(3);a.Q6J("disabled",Ge.authServ.isExpired)}}const it=function(tt){return["/taxon",tt]};function It(tt,ht){if(1&tt&&(a.ynx(0),a.YNc(1,Le,1,1,"app-taxon",20),a.YNc(2,nt,4,1,"button",21),a.BQk()),2&tt){const Ge=a.oxw().$implicit;a.xp6(1),a.Q6J("urlify",a.VKq(2,it,Ge.taxon.id)),a.xp6(1),a.Q6J("ngIf","supporting"!=Ge.category&&Ge.taxon.is_active&&Ge.current)}}const qe=function(tt){return["/naturalist",tt]};function St(tt,ht){if(1&tt&&(a.TgZ(0,"div",6,7)(2,"div",8)(3,"div",9),a.YNc(4,ye,1,1,"img",10),a.qZA(),a.TgZ(5,"div",11)(6,"p",12),a.YNc(7,ke,2,1,"span",13),a._uU(8," \u30fb "),a.TgZ(9,"span",14),a._uU(10),a.ALo(11,"async"),a.ALo(12,"dateTimeAgo"),a.qZA(),a._uU(13," \u30fb "),a.TgZ(14,"span",14),a._uU(15),a.qZA()()()(),a.TgZ(16,"div",15),a.YNc(17,It,3,4,"ng-container",16),a._UZ(18,"p",17),a.qZA()()),2&tt){const Ge=ht.$implicit;a.ekj("opacity-5",!Ge.current&&Ge.taxon),a.xp6(4),a.Q6J("urlify",a.VKq(13,qe,Ge.user.login)),a.xp6(3),a.Q6J("urlify",a.VKq(15,qe,Ge.user.login)),a.xp6(3),a.Oqu(a.lcZ(11,8,a.xi3(12,10,Ge.created_at,"short"))),a.xp6(5),a.Oqu(Ge.current||!Ge.taxon?Ge.category:"withdrawn"),a.xp6(2),a.Q6J("ngIf",Ge.taxon),a.xp6(1),a.Q6J("innerHTML",Ge.body,a.oJD)}}function pn(tt,ht){if(1&tt&&a._UZ(0,"app-taxon",22),2&tt){const Ge=a.oxw(3);a.Q6J("taxon",Ge.selectedTaxon)}}function Cn(tt,ht){if(1&tt){const Ge=a.EpF();a.ynx(0),a.TgZ(1,"div",42),a.YNc(2,pn,1,1,"app-taxon",20),a._UZ(3,"span"),a.TgZ(4,"cds-icon",43),a.NdJ("click",function(){a.CHM(Ge);const Pe=a.oxw(2);return Pe.selectedTaxon=void 0,a.KtG(Pe.id=void 0)}),a.qZA()(),a.BQk()}if(2&tt){const Ge=a.oxw(2);a.xp6(2),a.Q6J("urlify",a.VKq(2,it,Ge.selectedTaxon.id)),a.xp6(2),a.uIk("shape","close")}}function Ai(tt,ht){if(1&tt&&a._UZ(0,"app-taxon",52),2&tt){const Ge=a.oxw().$implicit;a.Q6J("taxon",Ge.taxon)}}function Ke(tt,ht){if(1&tt&&(a.TgZ(0,"span"),a._uU(1),a.ALo(2,"percent"),a.qZA()),2&tt){const Ge=a.oxw(2).$implicit;a.xp6(1),a.Oqu(a.lcZ(2,1,Ge.combined_score/100))}}function rt(tt,ht){if(1&tt&&(a.ynx(0),a.TgZ(1,"p",53),a._uU(2),a.YNc(3,Ke,3,3,"span",16),a.qZA(),a.BQk()),2&tt){const Ge=a.oxw().$implicit;a.xp6(2),a.hij("",Ge.score?"common ancestor":"computer vision score: "," "),a.xp6(1),a.Q6J("ngIf",Ge.combined_score)}}function ot(tt,ht){if(1&tt){const Ge=a.EpF();a.TgZ(0,"div",44),a.YNc(1,Ai,1,1,"app-taxon",45),a._UZ(2,"span",46),a.TgZ(3,"div",47)(4,"button",48,49),a.NdJ("click",function(Pe){const jt=a.CHM(Ge).$implicit,Lt=a.MAs(5),Fn=a.oxw(2);return a.KtG(Fn.rankup(jt,Pe,Lt))}),a._UZ(6,"cds-icon",50),a.qZA(),a.TgZ(7,"button",51),a.NdJ("click",function(){const Qe=a.CHM(Ge).$implicit,jt=a.oxw(2);return a.KtG(jt.identify(Qe))}),a._UZ(8,"cds-icon",25),a.qZA(),a.YNc(9,rt,4,2,"ng-container",16),a.qZA()()}if(2&tt){const Ge=ht.$implicit;a.xp6(1),a.Q6J("urlify",a.VKq(3,it,Ge.taxon.id)),a.xp6(3),a.Q6J("disabled",48460==Ge.taxon.id),a.xp6(5),a.Q6J("ngIf",Ge.combined_score>0||Ge.score)}}function yt(tt,ht){if(1&tt){const Ge=a.EpF();a.TgZ(0,"div",26)(1,"div",27)(2,"div",28),a._UZ(3,"img",18),a.qZA(),a.TgZ(4,"div",11),a.YNc(5,Cn,5,4,"ng-container",16),a.TgZ(6,"div",29)(7,"button",30),a.NdJ("click",function(){a.CHM(Ge);const Pe=a.oxw();return Pe.getSuggestions(),a.KtG(Pe.isIdentifying=!0)}),a._uU(8," ID"),a.qZA(),a._UZ(9,"textarea",31,32),a.qZA()(),a.TgZ(11,"button",33),a.NdJ("click",function(){a.CHM(Ge);const Pe=a.oxw();return a.KtG(Pe.onSubmit())}),a._UZ(12,"cds-icon",34),a.qZA()(),a.TgZ(13,"div",35)(14,"cds-icon",36),a.NdJ("click",function(){a.CHM(Ge);const Pe=a.oxw();return a.KtG(Pe.isIdentifying=!1)}),a.qZA(),a._UZ(15,"input",37,38),a.TgZ(17,"cds-icon",39),a.NdJ("click",function(){a.CHM(Ge);const Pe=a.oxw();return Pe.isIdentifying=!1,a.KtG(Pe.qTaxon.reset())}),a.qZA()(),a.TgZ(18,"div",40),a.YNc(19,ot,10,5,"div",41),a.qZA()()}if(2&tt){const Ge=a.oxw();a.xp6(3),a.Q6J("src",(null==Ge.authServ.me?null:Ge.authServ.me.icon)||"assets/default.png",a.LSH),a.xp6(2),a.Q6J("ngIf",Ge.selectedTaxon),a.xp6(2),a.Q6J("clrLoading",Ge.identBtnState),a.xp6(2),a.Q6J("formControl",Ge.comment),a.xp6(2),a.Q6J("clrLoading",Ge.submitBtnState)("disabled",!Ge.comment.value&&!Ge.id),a.xp6(2),a.ekj("display-inline-block",Ge.isIdentifying),a.xp6(1),a.uIk("shape","search"),a.xp6(1),a.Q6J("formControl",Ge.qTaxon),a.xp6(2),a.uIk("shape","close"),a.xp6(1),a.ekj("flex-auto",Ge.auto),a.Q6J("hidden",!Ge.isIdentifying),a.xp6(1),a.Q6J("ngForOf",Ge.suggestions)}}let Tt=(()=>{class tt{constructor(Ge){this.changeDetectRef=Ge,this.authServ=(0,a.f3M)(le.Z),this.inatServ=(0,a.f3M)(Ve.E),this.newComment="",this.submitBtnState=oe.xp5.DEFAULT,this.identBtnState=oe.xp5.DEFAULT,this.loading=!0,this.combination=[],this.openIdentification=!1,this.suggestions=[],this.isIdentifying=!1,this.computerVision=[],this.comment=new _e.NI(""),this.qTaxon=new _e.NI(""),this.auto=!1,this.index=10,this.observe=!0,this.sub=[],ge.Q.addIcons(pe,ie)}ngOnInit(){this.sub.push((0,de.D)(this.qTaxon.valueChanges).pipe((0,se.b)(300)).subscribe(this.searchTaxa.bind(this))),this.sub.push(this.comment.valueChanges.subscribe(()=>{console.log(this.textarea.nativeElement.scrollHeight),this.textarea.nativeElement.style.height="",this.textarea.nativeElement.style.height=this.textarea.nativeElement.scrollHeight+"px"})),setTimeout(()=>{this.combination=this.comments.concat(...this.identifications).sort((Ge,kt)=>Date.parse(Ge.created_at)-Date.parse(kt.created_at)),0==this.combination.length&&(this.loading=!1)})}ngAfterViewInit(){this.activity.changes.subscribe(kt=>{this.loading=!1,this.changeDetectRef.detectChanges()})}trackByItems(Ge,kt){return kt.uuid??kt.id}loadmorecomments(){this.index=this.index+20,this.index>this.combination.length&&(this.observe=!1)}agree(Ge,kt){kt.loadingStateChange(oe.xp5.LOADING),this.inatServ.identification({identification:{taxon_id:Ge.id,observation_id:this.uuid}}).then(Qe=>{this.combination.push(...Qe)}).finally(()=>{kt.loadingStateChange(oe.xp5.DEFAULT)})}identify(Ge){let kt=!0;this.qTaxon.value&&(kt=!1),this.id={identification:{taxon_id:Ge.taxon.id,observation_id:this.uuid,vision:kt}},this.selectedTaxon=Ge.taxon,console.log(this.id),this.isIdentifying=!1,this.qTaxon.reset()}onSubmit(){this.comment.value&&!this.id?(this.submitBtnState=oe.xp5.LOADING,this.inatServ.comment({fields:"string",comment:{parent_type:"Observation",parent_id:this.uuid,body:this.comment.value}}).then(kt=>{this.combination.push(...kt)}).finally(()=>{this.comment.reset(),this.submitBtnState=oe.xp5.DEFAULT})):this.id&&(this.submitBtnState=oe.xp5.LOADING,this.id.identification.body=this.comment.value,this.inatServ.identification(this.id).then(Ge=>{this.combination.push(...Ge)}).finally(()=>{this.qTaxon.reset(),this.suggestions=[],this.comment.reset(),this.submitBtnState=oe.xp5.DEFAULT,this.id=void 0,this.selectedTaxon=void 0})),this.isIdentifying=!1}getSuggestions(){this.identBtnState=oe.xp5.LOADING,this.computerVision.length?(this.suggestions=this.computerVision.map(Ge=>({combined_score:Ge.combined_score,score:Ge.score,taxon:Ge.taxon})),this.identBtnState=oe.xp5.DEFAULT):this.inatServ.getComputerVisionOnObs(this.uuid).then(Ge=>{this.suggestions=Ge.map(kt=>kt),this.computerVision=Ge.map(kt=>({combined_score:kt.combined_score,score:kt.score,taxon:kt.taxon}))}).finally(()=>{this.identBtnState=oe.xp5.DEFAULT,this.idInput.nativeElement.focus()})}searchTaxa(Ge){Ge?(this.identBtnState=oe.xp5.LOADING,this.inatServ.taxaAutoComplete(Ge).then(kt=>{this.suggestions=kt.map(Pe=>({combined_score:0,taxon:Pe})),0==kt.length&&(this.qTaxon.setErrors({invalid:"No matching taxon found"}),this.suggestions=[])}).catch(kt=>{this.suggestions=[],this.qTaxon.setErrors({invalid:kt})}).finally(()=>{this.identBtnState=oe.xp5.DEFAULT})):this.suggestions=[...this.computerVision]}rankup(Ge,kt,Pe){kt.stopPropagation();let Qe=Ge.taxon.ancestor_ids[Ge.taxon.ancestor_ids.length-1];Qe==Ge.taxon.id&&(Qe=Ge.taxon.ancestor_ids[Ge.taxon.ancestor_ids.length-2]),Ge.taxon.ancestor_ids.length&&(Pe.loadingStateChange(oe.xp5.LOADING),this.inatServ.getTaxa(Qe).then(jt=>{jt.length&&(Ge.taxon=jt[0],Ge.score=void 0,Ge.combined_score=void 0)}).finally(()=>{Pe.loadingStateChange(oe.xp5.DEFAULT)}))}ngOnDestroy(){this.sub.forEach(Ge=>{Ge.unsubscribe()})}}return tt.\u0275fac=function(Ge){return new(Ge||tt)(a.Y36(a.sBO))},tt.\u0275cmp=a.Xpm({type:tt,selectors:[["app-comments"]],viewQuery:function(Ge,kt){if(1&Ge&&(a.Gf(Ae,5),a.Gf(Je,5),a.Gf(ce,5)),2&Ge){let Pe;a.iGM(Pe=a.CRH())&&(kt.idInput=Pe.first),a.iGM(Pe=a.CRH())&&(kt.textarea=Pe.first),a.iGM(Pe=a.CRH())&&(kt.activity=Pe)}},inputs:{comments:"comments",identifications:"identifications",uuid:"uuid",auto:"auto"},standalone:!0,features:[a.jDz],decls:9,vars:12,consts:[[1,"spinner-container"],[1,"spinner","spinner-md",3,"hidden"],[1,"activity-container"],["class","activity",3,"opacity-5",4,"ngFor","ngForOf","ngForTrackBy"],["appIntersectionObserver","",3,"observe","hidden","intersected"],["class","your-input",4,"ngIf"],[1,"activity"],["activity",""],[1,"clr-row","activity-header"],[1,"clr-col-auto"],["class","user_icon",3,"src",4,"urlify"],[1,"clr-col"],[1,"user-name"],["class","p4",4,"urlify"],[1,"p7"],[1,"activity-body"],[4,"ngIf"],[1,"p5","activity-body-body",3,"innerHTML"],[1,"user_icon",3,"src"],[1,"p4"],[3,"taxon",4,"urlify"],["clrLoading","","class","btn btn-sm btn-success-outline btn-icon",3,"disabled","click",4,"ngIf"],[3,"taxon"],["clrLoading","",1,"btn","btn-sm","btn-success-outline","btn-icon",3,"disabled","click"],["b",""],["shape","check"],[1,"your-input"],[1,"user-comment","clr-row","clr-align-items-center"],[1,"clr-col-auto","user-icon-container"],[1,"input-container"],[1,"btn","btn-sm","btn-success",3,"clrLoading","click"],["type","text","rows","1","placeholder","comment",1,"p5",3,"formControl"],["textarea",""],[1,"btn","btn-sm","btn-link","btn-primary","comment-btn","btn-icon",3,"clrLoading","disabled","click"],["shape","play","solid","true"],[1,"user-identification"],[1,"search",3,"click"],["type","text","placeholder","search taxon","id","qTaxon",1,"p5",3,"formControl"],["idInput",""],[1,"close-icn",3,"click"],[1,"search-list",3,"hidden"],["class","card clickable","for","qTaxon",4,"ngFor","ngForOf"],[1,"card","card-id"],[3,"click"],["for","qTaxon",1,"card","clickable"],["class","list-taxon",3,"taxon",4,"urlify"],[1,"list-taxon"],[1,"taxon-rank-up"],["clrLoading","",1,"btn","btn-sm","btn-primary","btn-icon",3,"disabled","click"],["r",""],["shape","arrow","direction","up"],[1,"btn","btn-sm","btn-success","btn-icon",3,"click"],[1,"list-taxon",3,"taxon"],[1,"p7","score"]],template:function(Ge,kt){1&Ge&&(a.TgZ(0,"div",0)(1,"span",1),a._uU(2," Loading... "),a.qZA()(),a.TgZ(3,"div",2),a.YNc(4,St,19,17,"div",3),a.ALo(5,"slice"),a.TgZ(6,"span",4),a.NdJ("intersected",function(){return kt.loadmorecomments()}),a._uU(7,"..."),a.qZA()(),a.YNc(8,yt,20,15,"div",5)),2&Ge&&(a.xp6(1),a.Q6J("hidden",!kt.loading),a.xp6(2),a.ekj("flex-auto",kt.auto),a.xp6(1),a.Q6J("ngForOf",a.Dn7(5,8,kt.combination,0,kt.index))("ngForTrackBy",kt.trackByItems),a.xp6(2),a.Q6J("observe",kt.observe)("hidden",!kt.observe),a.xp6(2),a.Q6J("ngIf",!kt.authServ.isExpired))},dependencies:[W.ez,W.sg,W.O5,W.Ov,W.OU,W.Zx,te.i,oe.K6A,oe.q0d,oe.nkF,oe.cCV,oe.MPb,_e.UX,_e.Fj,_e.JJ,_e.oH,_e.u5,Fe.F,xe.L,et.Z],styles:[".user_icon[_ngcontent-%COMP%]{height:1rem;width:1rem;border-radius:50%}.user-icon-container[_ngcontent-%COMP%]{align-self:flex-start}p[_ngcontent-%COMP%]{margin-top:0!important}.taxon-common[_ngcontent-%COMP%]{line-height:.8rem!important}.taxon-container[_ngcontent-%COMP%]{display:flex;margin:.3rem 0}.user-comment[_ngcontent-%COMP%] > .clr-col[_ngcontent-%COMP%]{padding-right:0}.taxon-img[_ngcontent-%COMP%]{width:1.8rem;height:1.8rem;align-self:center}.taxon-taxon[_ngcontent-%COMP%]{margin-left:.3rem!important}.taxon-name[_ngcontent-%COMP%]{margin-top:0!important}.clr-row[_ngcontent-%COMP%]{margin:0!important}.activity[_ngcontent-%COMP%]{margin:.3rem 0!important}.activity-body[_ngcontent-%COMP%]{margin-left:1.6rem}.activity-body[_ngcontent-%COMP%] > .p5[_ngcontent-%COMP%]{line-height:.8rem!important}.activity-body-body[_ngcontent-%COMP%]{overflow-wrap:break-word;display:flex;flex-direction:column;overflow-x:scroll;word-wrap:break-word}.clr-col-auto[_ngcontent-%COMP%]{padding:0}a[_ngcontent-%COMP%]{text-decoration:unset}.comment-btn[_ngcontent-%COMP%]{padding:0!important;min-width:0;margin:0;align-self:end;width:1rem!important}.activity-container[_ngcontent-%COMP%]{display:flex;overflow-y:scroll;flex-direction:column;width:100%;margin-bottom:.5rem;flex:1 2 0}.search-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;overflow-y:scroll;width:100%;flex:10 2 1px;max-height:10rem;height:10rem}.flex-auto[_ngcontent-%COMP%]{flex:auto!important}.spinner-container[_ngcontent-%COMP%]{display:flex;justify-content:center}.container[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;flex:fit-content}.user-identification[_ngcontent-%COMP%]{padding:.3rem 0;display:none;width:100%}.input-container[_ngcontent-%COMP%]{display:flex;align-items:center}.input-container[_ngcontent-%COMP%] > .btn[_ngcontent-%COMP%]{margin:0;margin-left:.3rem;width:1.2rem!important;min-width:1.2rem!important;padding:0;border:none!important;z-index:1}.input-container[_ngcontent-%COMP%] > textarea[_ngcontent-%COMP%]{border-radius:.2rem;border-style:hidden;background-color:#e8e8e8;margin-top:0!important;width:100%;padding:.3rem .3rem .3rem 1.7rem;margin-left:-1.5rem;max-height:8rem}.card-id[_ngcontent-%COMP%]{padding:.3rem;margin-top:.2rem;display:flex;width:100%;margin-bottom:.2rem;box-shadow:none!important}.card-id[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{flex:auto}.user-identification[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{border-radius:.2rem;border-style:hidden;background-color:#e8e8e8;margin-top:0!important;width:100%;min-height:1.2rem;padding-right:1.2rem;padding-left:1.2rem}.user-identification[_ngcontent-%COMP%] > .close-icn[_ngcontent-%COMP%]{margin-left:-1rem}.user-identification[_ngcontent-%COMP%] > .search[_ngcontent-%COMP%]{margin-right:-1rem}.your-input[_ngcontent-%COMP%]{flex:initial}.opacity-5[_ngcontent-%COMP%]{opacity:.5}.search-list[_ngcontent-%COMP%] > .card[_ngcontent-%COMP%]{box-shadow:none!important;margin-top:.2rem;padding:0 .5rem;display:flex;width:100%}.list-taxon[_ngcontent-%COMP%]{flex:1 1 auto}.taxon-rank-up[_ngcontent-%COMP%]{align-self:center;text-align:end}.taxon-rank-up[_ngcontent-%COMP%] > .btn[_ngcontent-%COMP%]{margin:.1rem}.score[_ngcontent-%COMP%]{text-align:end;width:-moz-fit-content;width:fit-content}.display-inline-block[_ngcontent-%COMP%]{display:inline-block!important}.display-none[_ngcontent-%COMP%]{display:none!important}[_nghost-%COMP%]{display:flex;flex-direction:column;max-height:inherit;max-width:inherit;width:100%!important;flex:auto}[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}"]}),tt})()},9211:(pt,Te,L)=>{"use strict";L.d(Te,{c:()=>W});var a=L(5879);let W=(()=>{class te{constructor(){this.User={id:!0,name:!0,login:!0,icon:!0,observations_count:!0},this.Photos={id:!0,url:!0,original_dimensions:{height:!0,width:!0},attribution:!0,license_code:!0},this.Taxon={id:!0,name:!0,iconic_taxon_name:!0,preferred_common_name:!0,rank:!0,rank_level:!0,default_photo:this.Photos,is_active:!0,ancestor_ids:!0},this.Taxon_search={id:!0,name:!0,iconic_taxon_name:!0,preferred_common_name:!0,rank:!0,rank_level:!0,matched_term:!0,default_photo:this.Photos,is_active:!0,wikipedia_summary:!0,ancestor_ids:!0},this.Taxon_verbose={id:!0,name:!0,iconic_taxon_name:!0,preferred_common_name:!0,rank:!0,rank_level:!0,matched_term:!0,default_photo:this.Photos,taxon_photos:{taxon:!0,photo:this.Photos},is_active:!0,wikipedia_summary:!0,wikipedia_url:!0,ancestor_ids:!0,ancestors:this.Taxon_search,children:this.Taxon_search},this.SpeciesCount={count:!0,taxon:this.Taxon_verbose},this.Identification={id:!0,uuid:!0,created_at:!0,current:!0,taxon:this.Taxon,user:this.User,category:!0,body:!0},this.Faves={id:!0,user_id:!0,user:{login:!0}},this.Comment={id:!0,uuid:!0,body:!0,created_at:!0,user:this.User,html:!0},this.Observation={uuid:!0,id:!0,user:{id:!0,login:!0,icon:!0,icon_url:!0},place_guess:!0,taxon:{id:!0,name:!0,preferred_common_name:!0,rank:!0,rank_level:!0},photos:this.Photos,time_observed_at:!0,created_at:!0,faves_count:!0,identifications:this.Identification,description:!0,faves:this.Faves,quality_grade:!0,comments:this.Comment,quality_metrics:{id:!0,agree:!0,metric:!0,user_id:!0},tags:!0},this.Observation_verbose={uuid:!0,id:!0,user:{id:!0,login:!0,icon:!0,icon_url:!0,observations_count:!0},place_guess:!0,taxon:{id:!0,name:!0,preferred_common_name:!0,rank:!0,rank_level:!0},photos:this.Photos,time_observed_at:!0,created_at:!0,faves_count:!0,identifications:this.Identification,description:!0,faves:this.Faves,quality_grade:!0,comments:this.Comment,quality_metrics:{id:!0,agree:!0,metric:!0,user_id:!0},tags:!0,project_observations:{id:!0,uuid:!0,project:{id:!0,icon:!0,title:!0,slug:!0}},geojson:{coordinates:!0,type:!0},uri:!0},this.UserAll={id:!0,name:!0,login:!0,icon:!0,icon_url:!0,observations_count:!0,description:!0},this.fields={observation:rison.encode(this.Observation),observation_verbose:rison.encode(this.Observation_verbose),speciesCount:rison.encode(this.SpeciesCount)}}}return te.\u0275fac=function(ge){return new(ge||te)},te.\u0275prov=a.Yz7({token:te,factory:te.\u0275fac,providedIn:"root"}),te})()},160:(pt,Te,L)=>{"use strict";L.d(Te,{E:()=>ge});var a=L(5861),W=L(5879),te=L(9211),oe=L(945);let ge=(()=>{class Ee{constructor(){this.base_url="https://api.inaturalist.org",this.inaturalistConfig=(0,W.f3M)(te.c),this.authService=(0,W.f3M)(oe.Z)}getObservations(pe){var ue=this;return(0,a.Z)(function*(){const ie=new URL("v2/observations",ue.base_url),_e=[["photo_licensed","true"],["photos","true"],["fields",ue.inaturalistConfig.fields.observation]];pe&&_e.push(...pe),ie.search=new URLSearchParams(_e).toString();const de=((yield(yield fetch(ie)).json())??{}).results??[];for(let se of de)if(se.photos)for(let xe of se.photos)xe.url=xe.url.replace("square","medium");return de})()}getObservationsByUUID(pe){var ue=this;return(0,a.Z)(function*(){const ie=new URL(`v2/observations/${pe}`,ue.base_url);ie.search=new URLSearchParams([["fields",ue.inaturalistConfig.fields.observation_verbose]]).toString();const Fe=((yield(yield fetch(ie)).json())??{}).results??[];for(let de of Fe)if(de.photos)for(let se of de.photos)se.url=se.url.replace("square","original");return Fe})()}getObservationsSpeciesCount(pe){var ue=this;return(0,a.Z)(function*(){const ie=new URL("v2/observations/species_counts",ue.base_url),_e=[["photo_licensed","true"],["photos","true"],["fields",ue.inaturalistConfig.fields.speciesCount]];return pe&&_e.push(...pe),ie.search=new URLSearchParams(_e).toString(),(yield(yield fetch(ie)).json()).results})()}getObservationsTaxonomy(pe){var ue=this;return(0,a.Z)(function*(){const ie=new URL("v1/observations/taxonomy",ue.base_url);ie.search=new URLSearchParams(pe).toString();const le=yield fetch(ie);if(!le.ok)throw le.status;return yield le.json()})()}getObservationTaxonSummaryByUUID(pe){var ue=this;return(0,a.Z)(function*(){const ie=new URL(`v2/observations/${pe}/taxon_summary`,ue.base_url);return ie.search=new URLSearchParams([["fields","all"]]).toString(),yield(yield fetch(ie)).json()})()}getUserByLogin(pe){var ue=this;return(0,a.Z)(function*(){const ie=new URL("v2/users/autocomplete",ue.base_url);ie.search=new URLSearchParams([["q",pe],["fields","login"]]).toString();let _e=yield fetch(ie),Ve=(yield _e.json())??{};const Fe=Ve.results.filter(xe=>xe.login==pe);if(!Fe)return;const de=new URL(`v2/users/${Fe[0].id}`,ue.base_url);return de.search=new URLSearchParams([["fields","all"]]).toString(),_e=yield fetch(de),Ve=(yield _e.json())??{},1==Ve.total_results?Ve.results[0]:void 0})()}getTaxa(pe,ue){var ie=this;return(0,a.Z)(function*(){const le=new URL(`/v2/taxa/${pe}`,ie.base_url);ue?"all"==ue&&(ue=rison.encode(ie.inaturalistConfig.Taxon_verbose)):ue=rison.encode(ie.inaturalistConfig.Taxon_search),le.search=new URLSearchParams([["fields",ue??"all"]]).toString();let _e=yield fetch(le);if(!_e.ok)throw _e.status;return(yield _e.json()).results})()}taxaAutoComplete(pe){var ue=this;return(0,a.Z)(function*(){const ie=new URL("/v2/taxa/autocomplete",ue.base_url);ie.search=new URLSearchParams([["fields",rison.encode(ue.inaturalistConfig.Taxon_search)],["q",pe]]).toString();let le=yield fetch(ie);if(!le.ok)throw le.status;return(yield le.json()).results})()}searchPlaces(pe){var ue=this;return(0,a.Z)(function*(){const ie=new URL("/v2/places",ue.base_url);ie.search=new URLSearchParams([["fields","id,display_name"],["q",pe],["geo","true"]]).toString();let le=yield fetch(ie);if(!le.ok)throw le.status;return(yield le.json()).results})()}search(pe,ue,ie){var le=this;return(0,a.Z)(function*(){const _e=new URL("v2/search",le.base_url);let Ve=[["q",pe],["fields","all"]];ue?.length&&Ve.push(["sources",`${ue}`]),ie&&Ve.push(["page",ie.toString()]),_e.search=new URLSearchParams(Ve).toString();let Fe=yield fetch(_e);if(!Fe.ok)throw Fe.status;return yield Fe.json()})()}getProjectsByUserID(pe){var ue=this;return(0,a.Z)(function*(){const ie=new URL(`v2/users/${pe}/projects`,ue.base_url);return ie.search=new URLSearchParams([["fields","id,description,icon,title,header_image_url,banner_color"]]).toString(),(yield(yield fetch(ie)).json()).results})()}getProjects(pe){var ue=this;return(0,a.Z)(function*(){const ie=new URL("v2/projects",ue.base_url);let le=[["fields","title,description,icon,id,header_image_url,banner_color,slug"]];return pe&&le.push(...pe),ie.search=new URLSearchParams(le).toString(),(yield(yield fetch(ie)).json()).results})()}getMe(pe){var ue=this;return(0,a.Z)(function*(){const ie=new URL("v2/users/me",ue.base_url);ie.search=new URLSearchParams([["fields","all"]]).toString();let le=yield fetch(ie,{headers:{Authorization:pe}});if(!le.ok)throw le.status;let _e=(yield le.json())??{};if(_e)return _e.results[0]})()}getRelationships(pe){var ue=this;return(0,a.Z)(function*(){const ie=new URL("v2/relationships",ue.base_url);let le=ue.authService.token,_e=[["fields","all"],["following","yes"],["order_by","users.login"],["order","asc"]];pe&&_e.push(["q",pe]),ie.search=new URLSearchParams(_e).toString();let Ve=yield fetch(ie,{headers:{Authorization:le}});if(!Ve.ok)throw 401==Ve.status&&ue.authService.setExpired(),Ve.statusText;return(yield Ve.json()).results})()}relationships(pe){var ue=this;return(0,a.Z)(function*(){let le="POST",_e={headers:{Authorization:ue.authService.token,"Content-Type":"application/json"}},Ve="v2/relationships";"number"==typeof pe?(le="DELETE",Ve=`${Ve}/${pe}`):_e.body=JSON.stringify({fields:"all",relationship:pe}),_e.method=le;const Fe=new URL(Ve,ue.base_url);let de=yield fetch(Fe,_e);if(!de.ok)throw 401==de.status&&ue.authService.setExpired(),de.statusText;if("POST"==le)return(yield de.json()).results})()}fave(pe,ue){var ie=this;return(0,a.Z)(function*(){const le=new URL(`v2/observations/${pe}/fave`,ie.base_url);let _e=ie.authService.token,Ve=yield fetch(le,{method:ue?"POST":"DELETE",headers:{Authorization:_e}});if(!Ve.ok)throw 401==Ve.status&&ie.authService.setExpired(),Ve.statusText;return!0})()}quality(pe,ue,ie,le){var _e=this;return(0,a.Z)(function*(){const Ve=new URL(`v2/observations/${pe}/quality/${ue}`,_e.base_url);let Fe=_e.authService.token;Ve.search=new URLSearchParams([["agree",ie.toString()]]).toString();let de=yield fetch(Ve,{method:le,headers:{Authorization:Fe}});if(!de.ok)throw 401==de.status&&_e.authService.setExpired(),de.statusText;return 204==de.status})()}comment(pe){var ue=this;return(0,a.Z)(function*(){const ie=new URL("v2/comments",ue.base_url);let le=ue.authService.token;pe.fields=rison.encode(ue.inaturalistConfig.Comment);let _e=yield fetch(ie,{method:"POST",headers:{Authorization:le,"Content-Type":"application/json"},body:JSON.stringify(pe)});if(!_e.ok)throw 401==_e.status&&ue.authService.setExpired(),_e.statusText;return(yield _e.json()).results})()}identification(pe){var ue=this;return(0,a.Z)(function*(){const ie=new URL("v2/identifications",ue.base_url);let le=ue.authService.token;pe.fields=rison.encode(ue.inaturalistConfig.Identification);let _e=yield fetch(ie,{method:"POST",headers:{Authorization:le,"Content-Type":"application/json"},body:JSON.stringify(pe)});if(!_e.ok)throw 401==_e.status&&ue.authService.setExpired(),_e.statusText;return(yield _e.json()).results})()}getComputerVisionOnObs(pe){var ue=this;return(0,a.Z)(function*(){const ie=new URL(`v2/computervision/score_observation/${pe}`,ue.base_url);let le=ue.authService.token,_e=`(taxon:${rison.encode(ue.inaturalistConfig.Taxon)})`;ie.search=new URLSearchParams([["fields",_e]]).toString();let Ve=yield fetch(ie,{method:"GET",headers:{Authorization:le,"Content-Type":"application/json"}});if(!Ve.ok)throw 401==Ve.status&&ue.authService.setExpired(),Ve.statusText;let Fe=yield Ve.json();return Fe.common_ancestor&&Fe.results.unshift(Fe.common_ancestor),Fe.results})()}getObservationsUpdates(pe){var ue=this;return(0,a.Z)(function*(){const ie=new URL("v2/observations/updates",ue.base_url);let le=ue.authService.token,Ve=[["fields","all"]];pe&&Object.entries(pe).forEach(se=>{Ve.push(se)}),ie.search=new URLSearchParams(Ve).toString();let Fe=yield fetch(ie,{method:"GET",headers:{Authorization:le,"Content-Type":"application/json"}});if(!Fe.ok)throw 401==Fe.status&&ue.authService.setExpired(),Fe.statusText;return yield Fe.json()})()}}return Ee.\u0275fac=function(pe){return new(pe||Ee)},Ee.\u0275prov=W.Yz7({token:Ee,factory:Ee.\u0275fac,providedIn:"root"}),Ee})()},8469:(pt,Te,L)=>{"use strict";L.d(Te,{i:()=>ge});var a=L(1687),W=L(7921),te=L(7398),oe=L(5879);let ge=(()=>{class we{transform(ue,ie){const le=Date.parse(ue??"");let _e=36e5;return Date.now()-le<6e4?_e=5e3:Date.now()-le<36e5&&(_e=6e4),(0,a.F)(_e).pipe((0,W.O)(-1),(0,te.U)(Ve=>function Ee(we,pe){if(!we)return"";const ue=Date.now();let ie=Math.floor((ue-we)/1e3),le="second";if(ie>=60)le="minute",ie=Math.floor(ie/60),ie>=60&&(le="hour",ie=Math.floor(ie/60),ie>=24&&(le="day",ie=Math.floor(ie/24),ie>=7&&(le="week",ie=Math.floor(ie/7),ie>=4&&(le="month",ie=Math.floor(ie/4),ie>=12&&(le="year",ie=Math.floor(ie/12))))));else if(ie<4)return"just now";le+=ie>1?"s":"";let _e=`${ie} ${le} ago`;return"short"==pe&&(_e=`${ie}${le}`),_e}(le,ie)))}}return we.\u0275fac=function(ue){return new(ue||we)},we.\u0275pipe=oe.Yjl({name:"dateTimeAgo",type:we,pure:!0,standalone:!0}),we})()},512:(pt,Te,L)=>{"use strict";L.d(Te,{Z:()=>W});var a=L(5879);let W=(()=>{class te{set observe(ge){ge?(this.observer||this.createObserver(),this.start()):this.stop()}constructor(ge){this.el=ge,this.intersected=new a.vpe}createObserver(){this.observer=new IntersectionObserver(ge=>{ge.forEach(Ee=>{Ee.isIntersecting&&this.intersected.emit()})},{rootMargin:"0px",threshold:.05})}start(){this.observer.observe(this.el.nativeElement)}stop(){this.observer&&this.observer.unobserve(this.el.nativeElement)}}return te.\u0275fac=function(ge){return new(ge||te)(a.Y36(a.SBq))},te.\u0275dir=a.lG2({type:te,selectors:[["","appIntersectionObserver",""]],inputs:{observe:"observe"},outputs:{intersected:"intersected"},standalone:!0}),te})()},7903:(pt,Te,L)=>{"use strict";L.d(Te,{L:()=>ue});var a=L(6814),W=L(4190),te=L(5879);function oe(ie,le){}function ge(ie,le){if(1&ie&&(te.TgZ(0,"a",2),te.YNc(1,oe,0,0,"ng-template",3),te.qZA()),2&ie){const _e=te.oxw();te.Q6J("routerLink",_e.custRouterLink),te.xp6(1),te.Q6J("ngTemplateOutlet",_e.template)}}function Ee(ie,le){}function we(ie,le){if(1&ie&&(te.TgZ(0,"a",4),te.YNc(1,Ee,0,0,"ng-template",3),te.qZA()),2&ie){const _e=te.oxw();te.Q6J("href",_e.href,te.LSH),te.xp6(1),te.Q6J("ngTemplateOutlet",_e.template)}}let pe=(()=>{class ie{}return ie.\u0275fac=function(_e){return new(_e||ie)},ie.\u0275cmp=te.Xpm({type:ie,selectors:[["app-urlify"]],standalone:!0,features:[te.jDz],decls:3,vars:2,consts:[[3,"routerLink",4,"ngIf","ngIfElse"],["a",""],[3,"routerLink"],[3,"ngTemplateOutlet"],[3,"href"]],template:function(_e,Ve){if(1&_e&&(te.YNc(0,ge,2,2,"a",0),te.YNc(1,we,2,2,"ng-template",null,1,te.W1O)),2&_e){const Fe=te.MAs(2);te.Q6J("ngIf",Ve.custRouterLink)("ngIfElse",Fe)}},dependencies:[a.ez,a.O5,a.tP,W.rH],styles:["a[_ngcontent-%COMP%]{text-decoration:unset}"]}),ie})(),ue=(()=>{class ie{constructor(_e,Ve){this.templateRef=_e,this.viewContainerRef=Ve}set urlify(_e){this._compRef||this.createComp(),this._compRef.instance.template=this.templateRef,"string"==typeof _e?this._compRef.instance.href=_e:this._compRef.instance.custRouterLink=_e}createComp(){this._compRef=this.viewContainerRef.createComponent(pe)}}return ie.\u0275fac=function(_e){return new(_e||ie)(te.Y36(te.Rgc),te.Y36(te.s_b))},ie.\u0275dir=te.lG2({type:ie,selectors:[["","urlify",""]],inputs:{urlify:"urlify"},standalone:!0}),ie})()},3893:(pt,Te,L)=>{"use strict";L.d(Te,{F:()=>we});var a=L(6814),W=L(7903),te=L(5879);function oe(pe,ue){if(1&pe&&te._UZ(0,"img",8),2&pe){const ie=te.oxw();te.Q6J("hidden",ie.textOnly)("src",(null==ie.taxon.default_photo?null:ie.taxon.default_photo.url)||"assets/default.png",te.LSH)}}function ge(pe,ue){if(1&pe&&(te.ynx(0),te._uU(1),te.ALo(2,"titlecase"),te.BQk()),2&pe){const ie=te.oxw();te.xp6(1),te.hij("",te.lcZ(2,1,ie.taxon.rank)," ")}}const Ee=function(pe){return["/taxon",pe]};let we=(()=>{class pe{}return pe.\u0275fac=function(ie){return new(ie||pe)},pe.\u0275cmp=te.Xpm({type:pe,selectors:[["app-taxon"]],inputs:{taxon:"taxon",textOnly:"textOnly"},standalone:!0,features:[te.jDz],decls:14,vars:10,consts:[[1,"taxon-container"],["class","taxon-img",3,"hidden","src",4,"urlify"],[1,"taxon-taxon"],[1,"taxon-name"],[4,"ngIf"],[1,"p5","taxon-common"],[1,"p7","taxon-match"],[1,"p7","taxon-active"],[1,"taxon-img",3,"hidden","src"]],template:function(ie,le){1&ie&&(te.TgZ(0,"div",0),te.YNc(1,oe,1,2,"img",1),te.TgZ(2,"div",2)(3,"h6",3),te.YNc(4,ge,3,3,"ng-container",4),te.TgZ(5,"em"),te._uU(6),te.qZA()(),te.TgZ(7,"p",5),te._uU(8),te.qZA(),te.TgZ(9,"p",6),te._uU(10),te.qZA(),te.TgZ(11,"p",7)(12,"em"),te._uU(13),te.qZA()()()()),2&ie&&(te.xp6(1),te.Q6J("urlify",te.VKq(8,Ee,le.taxon.id)),te.xp6(1),te.ekj("not-active",!le.taxon.is_active),te.xp6(2),te.Q6J("ngIf",le.taxon.rank_level>10),te.xp6(2),te.Oqu(le.taxon.name),te.xp6(2),te.Oqu(le.taxon.preferred_common_name),te.xp6(2),te.Oqu(le.taxon.matched_term),te.xp6(3),te.Oqu(le.taxon.is_active?"":"Inactive taxon"))},dependencies:[a.ez,a.O5,a.rS,W.L],styles:[".taxon-container[_ngcontent-%COMP%]{display:flex;padding:.3rem 0}.taxon-img[_ngcontent-%COMP%]{width:1.8rem;height:1.8rem;align-self:center;object-fit:cover}.taxon-taxon[_ngcontent-%COMP%]{margin-left:.3rem!important;justify-content:center;display:flex;flex-direction:column}.taxon-name[_ngcontent-%COMP%]{margin-top:0!important}p[_ngcontent-%COMP%]{line-height:.8rem!important;margin-top:0!important}.not-active[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{text-decoration:line-through}.taxon-active[_ngcontent-%COMP%]{text-decoration:unset!important;color:var(--clr-color-danger-700)!important}"]}),pe})()},6763:(pt,Te,L)=>{"use strict";var a=L(5879),W=L(4190),te=L(4893),oe=L(9482);const Ee=["home",(0,oe.h)({outline:'<path d="M33.71,17.29l-15-15a1,1,0,0,0-1.41,0l-15,15a1,1,0,0,0,1.41,1.41L18,4.41,32.29,18.71a1,1,0,0,0,1.41-1.41Z"/><path d="M28,32h-5V22H13V32H8V18L6,20V32a2,2,0,0,0,2,2h7V24h6V34h7a2,2,0,0,0,2-2V19.76l-2-2Z"/>',solid:'<path d="M33,19a1,1,0,0,1-.71-.29L18,4.41,3.71,18.71a1,1,0,0,1-1.41-1.41l15-15a1,1,0,0,1,1.41,0l15,15A1,1,0,0,1,33,19Z"/><path d="M18,7.79,6,19.83V32a2,2,0,0,0,2,2h7V24h6V34h7a2,2,0,0,0,2-2V19.76Z"/>'})],pe=["cog",(0,oe.h)({outline:'<path d="M18.1,11c-3.9,0-7,3.1-7,7s3.1,7,7,7c3.9,0,7-3.1,7-7S22,11,18.1,11z M18.1,23c-2.8,0-5-2.2-5-5s2.2-5,5-5c2.8,0,5,2.2,5,5S20.9,23,18.1,23z"/><path d="M32.8,14.7L30,13.8l-0.6-1.5l1.4-2.6c0.3-0.6,0.2-1.4-0.3-1.9l-2.4-2.4c-0.5-0.5-1.3-0.6-1.9-0.3l-2.6,1.4l-1.5-0.6l-0.9-2.8C21,2.5,20.4,2,19.7,2h-3.4c-0.7,0-1.3,0.5-1.4,1.2L14,6c-0.6,0.1-1.1,0.3-1.6,0.6L9.8,5.2C9.2,4.9,8.4,5,7.9,5.5L5.5,7.9C5,8.4,4.9,9.2,5.2,9.8l1.3,2.5c-0.2,0.5-0.4,1.1-0.6,1.6l-2.8,0.9C2.5,15,2,15.6,2,16.3v3.4c0,0.7,0.5,1.3,1.2,1.5L6,22.1l0.6,1.5l-1.4,2.6c-0.3,0.6-0.2,1.4,0.3,1.9l2.4,2.4c0.5,0.5,1.3,0.6,1.9,0.3l2.6-1.4l1.5,0.6l0.9,2.9c0.2,0.6,0.8,1.1,1.5,1.1h3.4c0.7,0,1.3-0.5,1.5-1.1l0.9-2.9l1.5-0.6l2.6,1.4c0.6,0.3,1.4,0.2,1.9-0.3l2.4-2.4c0.5-0.5,0.6-1.3,0.3-1.9l-1.4-2.6l0.6-1.5l2.9-0.9c0.6-0.2,1.1-0.8,1.1-1.5v-3.4C34,15.6,33.5,14.9,32.8,14.7z M32,19.4l-3.6,1.1L28.3,21c-0.3,0.7-0.6,1.4-0.9,2.1l-0.3,0.5l1.8,3.3l-2,2l-3.3-1.8l-0.5,0.3c-0.7,0.4-1.4,0.7-2.1,0.9l-0.5,0.1L19.4,32h-2.8l-1.1-3.6L15,28.3c-0.7-0.3-1.4-0.6-2.1-0.9l-0.5-0.3l-3.3,1.8l-2-2l1.8-3.3l-0.3-0.5c-0.4-0.7-0.7-1.4-0.9-2.1l-0.1-0.5L4,19.4v-2.8l3.4-1l0.2-0.5c0.2-0.8,0.5-1.5,0.9-2.2l0.3-0.5L7.1,9.1l2-2l3.2,1.8l0.5-0.3c0.7-0.4,1.4-0.7,2.2-0.9l0.5-0.2L16.6,4h2.8l1.1,3.5L21,7.7c0.7,0.2,1.4,0.5,2.1,0.9l0.5,0.3l3.3-1.8l2,2l-1.8,3.3l0.3,0.5c0.4,0.7,0.7,1.4,0.9,2.1l0.1,0.5l3.6,1.1V19.4z"/>',outlineAlerted:'<path d="M33.7,15.4h-5.3v0.1l3.6,1.1v2.8l-3.6,1.1L28.3,21c-0.3,0.7-0.6,1.4-0.9,2.1l-0.3,0.5l1.8,3.3l-2,2l-3.3-1.8l-0.5,0.3c-0.7,0.4-1.4,0.7-2.1,0.9l-0.5,0.1L19.4,32h-2.8l-1.1-3.6L15,28.3c-0.7-0.3-1.4-0.6-2.1-0.9l-0.5-0.3l-3.3,1.8l-2-2l1.8-3.3l-0.3-0.5c-0.4-0.7-0.7-1.4-0.9-2.1l-0.1-0.5L4,19.4v-2.8l3.4-1l0.2-0.5c0.2-0.8,0.5-1.5,0.9-2.2l0.3-0.5L7.1,9.1l2-2l3.2,1.8l0.5-0.3c0.7-0.4,1.4-0.7,2.2-0.9l0.5-0.2L16.6,4h2.8l1.1,3.4l1.4-2.3l-0.6-2C21,2.4,20.4,2,19.7,2h-3.4c-0.7,0-1.3,0.5-1.4,1.2L14,6c-0.6,0.1-1.1,0.3-1.6,0.6L9.8,5.2C9.2,4.9,8.4,5,7.9,5.5L5.5,7.9C5,8.4,4.9,9.2,5.2,9.8l1.3,2.5c-0.2,0.5-0.4,1.1-0.6,1.6l-2.8,0.9C2.5,15,2,15.6,2,16.3v3.4c0,0.7,0.5,1.3,1.2,1.5L6,22.1l0.6,1.5l-1.4,2.6c-0.3,0.6-0.2,1.4,0.3,1.9l2.4,2.4c0.5,0.5,1.3,0.6,1.9,0.3l2.6-1.4l1.5,0.6l0.9,2.9c0.2,0.6,0.8,1.1,1.5,1.1h3.4c0.7,0,1.3-0.5,1.5-1.1l0.9-2.9l1.5-0.6l2.6,1.4c0.6,0.3,1.4,0.2,1.9-0.3l2.4-2.4c0.5-0.5,0.6-1.3,0.3-1.9l-1.4-2.6l0.6-1.5l2.9-0.9c0.6-0.2,1.1-0.8,1.1-1.5v-3.4C34,16,33.9,15.7,33.7,15.4z"/><path d="M18.1,23c-2.8,0-5-2.2-5-5s2.2-5,5-5c0.2,0,0.5,0,0.7,0.1c-0.2-0.6-0.3-1.3-0.2-2h-0.5c-3.9,0-7,3.1-7,7c0,3.9,3.1,7,7,7c3.9,0,7-3.1,7-7c0-0.9-0.2-1.8-0.5-2.6h-2.2c0.5,0.8,0.7,1.6,0.7,2.5C23.1,20.8,20.9,23,18.1,23z"/>',outlineBadged:'<path d="M11.1,18c0,3.9,3.1,7,7,7c3.9,0,7-3.1,7-7s-3.1-7-7-7C14.2,11,11.1,14.1,11.1,18z M23.1,18c0,2.8-2.2,5-5,5c-2.8,0-5-2.2-5-5s2.2-5,5-5C20.9,13,23.1,15.2,23.1,18z"/><path d="M32.8,14.7L30,13.8l-0.1-0.3c-0.8,0-1.6-0.2-2.4-0.4c0.3,0.6,0.6,1.3,0.8,1.9l0.1,0.5l3.6,1.1v2.8l-3.6,1.1L28.3,21c-0.3,0.7-0.6,1.4-0.9,2.1l-0.3,0.5l1.8,3.3l-2,2l-3.3-1.8l-0.5,0.3c-0.7,0.4-1.4,0.7-2.1,0.9l-0.5,0.1L19.4,32h-2.8l-1.1-3.6L15,28.3c-0.7-0.3-1.4-0.6-2.1-0.9l-0.5-0.3l-3.3,1.8l-2-2l1.8-3.3l-0.3-0.5c-0.4-0.7-0.7-1.4-0.9-2.1l-0.1-0.5L4,19.4v-2.8l3.4-1l0.2-0.5c0.2-0.8,0.5-1.5,0.9-2.2l0.3-0.5L7.1,9.1l2-2l3.2,1.8l0.5-0.3c0.7-0.4,1.4-0.7,2.2-0.9l0.5-0.2L16.6,4h2.8l1.1,3.5L21,7.7c0.7,0.2,1.3,0.5,1.9,0.8c-0.3-0.8-0.4-1.6-0.4-2.5l-0.4-0.2l-0.9-2.8C21,2.5,20.4,2,19.7,2h-3.4c-0.7,0-1.3,0.5-1.4,1.2L14,6c-0.6,0.1-1.1,0.3-1.6,0.6L9.8,5.2C9.2,4.9,8.4,5,7.9,5.5L5.5,7.9C5,8.4,4.9,9.2,5.2,9.8l1.3,2.5c-0.2,0.5-0.4,1.1-0.6,1.6l-2.8,0.9C2.5,15,2,15.6,2,16.3v3.4c0,0.7,0.5,1.3,1.2,1.5L6,22.1l0.6,1.5l-1.4,2.6c-0.3,0.6-0.2,1.4,0.3,1.9l2.4,2.4c0.5,0.5,1.3,0.6,1.9,0.3l2.6-1.4l1.5,0.6l0.9,2.9c0.2,0.6,0.8,1.1,1.5,1.1h3.4c0.7,0,1.3-0.5,1.5-1.1l0.9-2.9l1.5-0.6l2.6,1.4c0.6,0.3,1.4,0.2,1.9-0.3l2.4-2.4c0.5-0.5,0.6-1.3,0.3-1.9l-1.4-2.6l0.6-1.5l2.9-0.9c0.6-0.2,1.1-0.8,1.1-1.5v-3.4C34,15.6,33.5,14.9,32.8,14.7z"/>',solid:'<path d="M32.57,15.72l-3.35-1a11.65,11.65,0,0,0-.95-2.33l1.64-3.07a.61.61,0,0,0-.11-.72L27.41,6.2a.61.61,0,0,0-.72-.11L23.64,7.72a11.62,11.62,0,0,0-2.36-1l-1-3.31A.61.61,0,0,0,19.69,3H16.31a.61.61,0,0,0-.58.43l-1,3.3a11.63,11.63,0,0,0-2.38,1l-3-1.62a.61.61,0,0,0-.72.11L6.2,8.59a.61.61,0,0,0-.11.72l1.62,3a11.63,11.63,0,0,0-1,2.37l-3.31,1a.61.61,0,0,0-.43.58v3.38a.61.61,0,0,0,.43.58l3.33,1a11.62,11.62,0,0,0,1,2.33L6.09,26.69a.61.61,0,0,0,.11.72L8.59,29.8a.61.61,0,0,0,.72.11l3.09-1.65a11.65,11.65,0,0,0,2.3.94l1,3.37a.61.61,0,0,0,.58.43h3.38a.61.61,0,0,0,.58-.43l1-3.38a11.63,11.63,0,0,0,2.28-.94l3.11,1.66a.61.61,0,0,0,.72-.11l2.39-2.39a.61.61,0,0,0,.11-.72l-1.66-3.1a11.63,11.63,0,0,0,.95-2.29l3.37-1a.61.61,0,0,0,.43-.58V16.31A.61.61,0,0,0,32.57,15.72ZM18,23.5A5.5,5.5,0,1,1,23.5,18,5.5,5.5,0,0,1,18,23.5Z"/>',solidAlerted:'<path d="M32.57,15.72,31.5,15.4H22.85A5.5,5.5,0,1,1,18,12.5a5.53,5.53,0,0,1,.65,0A3.68,3.68,0,0,1,19,9.89l2.09-3.62-.86-2.83A.61.61,0,0,0,19.69,3H16.31a.61.61,0,0,0-.58.43l-1,3.3a11.63,11.63,0,0,0-2.38,1l-3-1.62a.61.61,0,0,0-.72.11L6.2,8.59a.61.61,0,0,0-.11.72l1.62,3a11.63,11.63,0,0,0-1,2.37l-3.31,1a.61.61,0,0,0-.43.58v3.38a.61.61,0,0,0,.43.58l3.33,1a11.62,11.62,0,0,0,1,2.33L6.09,26.69a.61.61,0,0,0,.11.72L8.59,29.8a.61.61,0,0,0,.72.11l3.09-1.65a11.65,11.65,0,0,0,2.3.94l1,3.37a.61.61,0,0,0,.58.43h3.38a.61.61,0,0,0,.58-.43l1-3.38a11.63,11.63,0,0,0,2.28-.94l3.11,1.66a.61.61,0,0,0,.72-.11l2.39-2.39a.61.61,0,0,0,.11-.72l-1.66-3.1a11.63,11.63,0,0,0,.95-2.29l3.37-1a.61.61,0,0,0,.43-.58V16.31A.61.61,0,0,0,32.57,15.72Z"/>',solidBadged:'<path d="M32.57,15.72l-3.35-1a12.12,12.12,0,0,0-.47-1.32,7.49,7.49,0,0,1-6.14-6.16,11.82,11.82,0,0,0-1.33-.48l-1-3.31A.61.61,0,0,0,19.69,3H16.31a.61.61,0,0,0-.58.43l-1,3.3a11.63,11.63,0,0,0-2.38,1l-3-1.62a.61.61,0,0,0-.72.11L6.2,8.59a.61.61,0,0,0-.11.72l1.62,3a11.63,11.63,0,0,0-1,2.37l-3.31,1a.61.61,0,0,0-.43.58v3.38a.61.61,0,0,0,.43.58l3.33,1a11.62,11.62,0,0,0,1,2.33L6.09,26.69a.61.61,0,0,0,.11.72L8.59,29.8a.61.61,0,0,0,.72.11l3.09-1.65a11.65,11.65,0,0,0,2.3.94l1,3.37a.61.61,0,0,0,.58.43h3.38a.61.61,0,0,0,.58-.43l1-3.38a11.63,11.63,0,0,0,2.28-.94l3.11,1.66a.61.61,0,0,0,.72-.11l2.39-2.39a.61.61,0,0,0,.11-.72l-1.66-3.1a11.63,11.63,0,0,0,.95-2.29l3.37-1a.61.61,0,0,0,.43-.58V16.31A.61.61,0,0,0,32.57,15.72ZM18,23.5A5.5,5.5,0,1,1,23.5,18,5.5,5.5,0,0,1,18,23.5Z"/>'})],ie=["key",(0,oe.h)({outline:'<rect x="6.33" y="10.71" width="9.71" height="2.57" rx="1" ry="1" transform="translate(-5.21 11.43) rotate(-45)"/><path d="M23.35,16.8l.63-.63A5,5,0,0,0,24,9.1L18.71,3.84a5,5,0,0,0-7.07,0L3.09,12.39a5,5,0,0,0,0,7.07l5.26,5.26a5,5,0,0,0,7.07,0l.4-.4L18,26.48h3.44v3h3.69v1.63L28,34h6V27.45ZM32,32H28.86l-1.77-1.76v-2.8H23.41v-3H18.8l-3-3L14,23.31a3,3,0,0,1-4.24,0L4.5,18a3,3,0,0,1,0-4.24l8.56-8.56a3,3,0,0,1,4.24,0l5.26,5.26a3,3,0,0,1,0,4.24l-2,2L32,28.28Z"/>',outlineAlerted:'<rect x="6.33" y="10.71" width="9.71" height="2.57" rx="1" ry="1" transform="translate(-5.21 11.43) rotate(-45)"/><path d="M23.35,16.8l.63-.63a5,5,0,0,0,.63-.77H22.23l-.29,0L20.52,16.8,32,28.28V32H28.86l-1.77-1.76v-2.8H23.41v-3H18.8l-3-3L14,23.31a3,3,0,0,1-4.24,0L4.5,18a3,3,0,0,1,0-4.24l8.56-8.56a3,3,0,0,1,4.24,0L20.1,8.06l1-1.79L18.71,3.84a5,5,0,0,0-7.07,0L3.09,12.39a5,5,0,0,0,0,7.07l5.26,5.26a5,5,0,0,0,7.07,0l.4-.4L18,26.48h3.44v3h3.69v1.63L28,34h6V27.45Z"/>',outlineBadged:'<rect x="6.33" y="10.71" width="9.71" height="2.57" rx="1" ry="1" transform="translate(-5.21 11.43) rotate(-45)"/><path d="M23.35,16.8l.63-.63A5,5,0,0,0,24,9.1L18.71,3.84a5,5,0,0,0-7.07,0L3.09,12.39a5,5,0,0,0,0,7.07l5.26,5.26a5,5,0,0,0,7.07,0l.4-.4L18,26.48h3.44v3h3.69v1.63L28,34h6V27.45ZM32,32H28.86l-1.77-1.76v-2.8H23.41v-3H18.8l-3-3L14,23.31a3,3,0,0,1-4.24,0L4.5,18a3,3,0,0,1,0-4.24l8.56-8.56a3,3,0,0,1,4.24,0l5.26,5.26a3,3,0,0,1,0,4.24l-2,2L32,28.28Z"/>',solid:'<path d="M23.38,16.77l.6-.6A5,5,0,0,0,24,9.1L18.71,3.84a5,5,0,0,0-7.07,0L3.09,12.39a5,5,0,0,0,0,7.07l5.26,5.26a5,5,0,0,0,7.07,0l.45-.45,2.1,2.2h3.44v3h3.69v1.63L28,34h6V27.45Zm-8.56-6.59L9.37,15.64a1,1,0,0,1-1.41,0l-.4-.4a1,1,0,0,1,0-1.41L13,8.36a1,1,0,0,1,1.41,0l.4.4A1,1,0,0,1,14.82,10.18ZM32,32H28.86l-1.77-1.76v-2.8H23.41v-3H18.8l-1.52-1.61L22,18.18,32,28.28Z"/>',solidAlerted:'<path d="M23.38,16.77l.6-.6a5,5,0,0,0,.63-.77H22.23A3.68,3.68,0,0,1,19,9.89l2.09-3.62L18.71,3.84a5,5,0,0,0-7.07,0L3.09,12.39a5,5,0,0,0,0,7.07l5.26,5.26a5,5,0,0,0,7.07,0l.45-.45,2.1,2.2h3.44v3h3.69v1.63L28,34h6V27.45Zm-8.56-6.59L9.37,15.64a1,1,0,0,1-1.41,0l-.4-.4a1,1,0,0,1,0-1.41L13,8.36a1,1,0,0,1,1.41,0l.4.4A1,1,0,0,1,14.82,10.18ZM32,32H28.86l-1.77-1.76v-2.8H23.41v-3H18.8l-1.52-1.61L22,18.18,32,28.28Z"/>',solidBadged:'<path d="M23.38,16.77l.6-.6A5,5,0,0,0,24,9.1L18.71,3.84a5,5,0,0,0-7.07,0L3.09,12.39a5,5,0,0,0,0,7.07l5.26,5.26a5,5,0,0,0,7.07,0l.45-.45,2.1,2.2h3.44v3h3.69v1.63L28,34h6V27.45Zm-8.56-6.59L9.37,15.64a1,1,0,0,1-1.41,0l-.4-.4a1,1,0,0,1,0-1.41L13,8.36a1,1,0,0,1,1.41,0l.4.4A1,1,0,0,1,14.82,10.18ZM32,32H28.86l-1.77-1.76v-2.8H23.41v-3H18.8l-1.52-1.61L22,18.18,32,28.28Z"/>'})],_e=["search",(0,oe.h)({outline:'<path d="M16.33,5.05A10.95,10.95,0,1,1,5.39,16,11,11,0,0,1,16.33,5.05m0-2.05a13,13,0,1,0,13,13,13,13,0,0,0-13-13Z"/><path d="M35,33.29l-7.37-7.42-1.42,1.41,7.37,7.42A1,1,0,1,0,35,33.29Z"/>'})],Fe=["briefcase",(0,oe.h)({outline:'<path d="M32,28a0,0,0,0,1,0,0H4V21.32a7.1,7.1,0,0,1-2-1.43V28a2,2,0,0,0,2,2H32a2,2,0,0,0,2-2V19.89a6.74,6.74,0,0,1-2,1.42Z"/><path d="M25,22.4a1,1,0,0,0,1-1V15.94H24V18H14v2H24v1.4A1,1,0,0,0,25,22.4Z"/><path d="M33,6H24V4.38A2.42,2.42,0,0,0,21.55,2h-7.1A2.42,2.42,0,0,0,12,4.38V6H3A1,1,0,0,0,2,7v8a5,5,0,0,0,5,5h3v1.4a1,1,0,0,0,2,0V15.94H10V18H7a3,3,0,0,1-3-3V8H32v7a3,3,0,0,1-3,3H28v2h1a5,5,0,0,0,5-5V7A1,1,0,0,0,33,6ZM22,6H14V4.43A.45.45,0,0,1,14.45,4h7.11a.43.43,0,0,1,.44.42Z"/>',solid:'<path d="M30,18A4.06,4.06,0,0,0,34,14V6H24V4.43A2.44,2.44,0,0,0,21.55,2h-7.1A2.44,2.44,0,0,0,12,4.43V6H2v8A4.06,4.06,0,0,0,6.05,18h4V15.92h2v5.7a1,1,0,1,1-2,0V20.06H6.06A6.06,6.06,0,0,1,2,18.49v9.45a2,2,0,0,0,2,2H32a2,2,0,0,0,2-2V18.49a6,6,0,0,1-4.06,1.57H28V18ZM14,4.43A.45.45,0,0,1,14.45,4h7.1a.45.45,0,0,1,.45.43V6H14ZM26,21.62a1,1,0,1,1-2,0V20.06H14V18H24V15.92h2Z"/>'})],se=["image-gallery",(0,oe.h)({outline:'<path d="M32.12,10H3.88A1.88,1.88,0,0,0,2,11.88V30.12A1.88,1.88,0,0,0,3.88,32H32.12A1.88,1.88,0,0,0,34,30.12V11.88A1.88,1.88,0,0,0,32.12,10ZM32,30H4V12H32Z"/><path d="M8.56,19.45a3,3,0,1,0-3-3A3,3,0,0,0,8.56,19.45Zm0-4.6A1.6,1.6,0,1,1,7,16.45,1.6,1.6,0,0,1,8.56,14.85Z"/><path d="M7.9,28l6-6,3.18,3.18L14.26,28h2l7.46-7.46L30,26.77v-2L24.2,19a.71.71,0,0,0-1,0l-5.16,5.16L14.37,20.5a.71.71,0,0,0-1,0L5.92,28Z"/><path d="M30.14,3h0a1,1,0,0,0-1-1h-22a1,1,0,0,0-1,1h0V4h24Z"/><path d="M32.12,7V7a1,1,0,0,0-1-1h-26a1,1,0,0,0-1,1h0V8h28Z"/>',solid:'<path d="M30.14,3h0a1,1,0,0,0-1-1h-22a1,1,0,0,0-1,1h0V4h24Z"/><path d="M32.12,7V7a1,1,0,0,0-1-1h-26a1,1,0,0,0-1,1h0V8h28Z"/><path d="M32.12,10H3.88A1.88,1.88,0,0,0,2,11.88V30.12A1.88,1.88,0,0,0,3.88,32H32.12A1.88,1.88,0,0,0,34,30.12V11.88A1.88,1.88,0,0,0,32.12,10ZM8.56,13.45a3,3,0,1,1-3,3A3,3,0,0,1,8.56,13.45ZM30,28h-24l7.46-7.47a.71.71,0,0,1,1,0l3.68,3.68L23.21,19a.71.71,0,0,1,1,0L30,24.79Z"/>'})],et=["palmTree",(0,oe.h)({outline:'<path d="M28.13 34.14C26.53 34.14 25.68 33.46 25 32.92C24.43 32.47 24.02 32.14 23.12 32.14C22.22 32.14 21.83 32.45 21.24 32.92C20.56 33.46 19.72 34.14 18.11 34.14C16.5 34.14 15.67 33.46 14.99 32.92C14.4 32.45 14.02 32.14 13.12 32.14C12.22 32.14 11.83 32.45 11.24 32.92C10.56 33.46 9.72 34.14 8.12 34.14C6.52 34.14 5.67 33.46 5 32.92C4.41 32.45 4.03 32.14 3.13 32.14C2.58 32.14 2.13 31.69 2.13 31.14C2.13 30.59 2.58 30.14 3.13 30.14C4.73 30.14 5.57 30.82 6.25 31.36C6.84 31.83 7.23 32.14 8.12 32.14C9.01 32.14 9.41 31.83 9.99 31.36C10.67 30.82 11.51 30.14 13.11 30.14C14.71 30.14 15.55 30.82 16.23 31.36C16.82 31.83 17.2 32.14 18.1 32.14C19 32.14 19.39 31.83 19.98 31.36C20.66 30.82 21.5 30.14 23.1 30.14C24.7 30.14 25.55 30.82 26.23 31.36C26.8 31.81 27.21 32.14 28.11 32.14C29.01 32.14 29.42 31.81 29.99 31.36C30.67 30.82 31.51 30.14 33.12 30.14C33.67 30.14 34.12 30.59 34.12 31.14C34.12 31.69 33.67 32.14 33.12 32.14C32.22 32.14 31.81 32.47 31.24 32.92C30.56 33.46 29.72 34.14 28.11 34.14H28.13Z"/><path d="M17.08 30C16.82 30 16.57 29.9 16.37 29.71C15.98 29.32 15.98 28.69 16.37 28.3C20.94 23.72 28.07 22.74 33.7 25.92C34.18 26.19 34.35 26.8 34.08 27.28C33.81 27.76 33.2 27.93 32.72 27.66C27.87 24.92 21.72 25.77 17.78 29.71C17.58 29.91 17.33 30 17.07 30H17.08Z"/><path d="M20.13 14.58C20.01 14.58 19.88 14.56 19.75 14.51C19.24 14.3 18.99 13.72 19.2 13.21C20.33 10.41 23.02 8.59998 26.04 8.59998C29.06 8.59998 31.75 10.41 32.88 13.21C33 13.52 32.97 13.87 32.78 14.14C32.59 14.42 32.28 14.58 31.95 14.58H26.21C25.66 14.58 25.21 14.13 25.21 13.58C25.21 13.03 25.66 12.58 26.21 12.58H30.22C29.22 11.34 27.7 10.59 26.04 10.59C23.84 10.59 21.88 11.91 21.05 13.95C20.89 14.34 20.52 14.58 20.12 14.58H20.13Z"/><path d="M20.65 13.22C20.59 13.18 20.52 13.16 20.45 13.14C20.45 13.14 20.46 13.13 20.47 13.13C20.15 13.1 19.82 13.05 19.51 12.97C19.61 13.04 19.71 13.1 19.82 13.14C19.72 13.17 19.63 13.22 19.54 13.28C19.21 13.52 19.07 13.94 19.17 14.33C19.18 14.39 20.55 19.92 19.25 26.42C19.91 25.98 20.67 25.67 21.45 25.45C21.96 22.1 21.85 19.09 21.63 16.98C22.73 18.53 23.9 21.07 24.1 24.94C24.76 24.86 25.43 24.81 26.1 24.81C25.65 16.34 20.87 13.35 20.66 13.22H20.65Z"/><path d="M9.18005 19.08C8.98005 19.08 8.78005 19.02 8.61005 18.9C8.34005 18.71 8.18005 18.4 8.18005 18.06C8.24005 15.04 10.0901 12.38 12.9101 11.3C15.7301 10.22 18.8801 10.95 20.9501 13.15C21.3301 13.55 21.3101 14.19 20.9001 14.56C20.5001 14.94 19.8601 14.92 19.4901 14.51C17.9901 12.9 15.6801 12.37 13.6301 13.16C12.0801 13.75 10.9301 15 10.4401 16.51L14.3701 15C14.8801 14.8 15.4601 15.06 15.6601 15.58C15.8601 16.1 15.6001 16.67 15.0801 16.87L9.53005 19C9.41005 19.04 9.29005 19.07 9.17005 19.07L9.18005 19.08Z"/><path d="M19.8 14.08C19.68 14.08 19.56 14.06 19.44 14.01C18.92 13.81 18.66 13.24 18.86 12.72C19.64 10.66 19.11 8.35998 17.5 6.85998C16.29 5.72998 14.67 5.23998 13.09 5.46998L15.78 7.96998C16.18 8.34998 16.21 8.97998 15.83 9.37998C15.45 9.78998 14.82 9.80998 14.42 9.42998L10.46 5.74998C10.22 5.51998 10.1 5.18998 10.15 4.85998C10.2 4.52998 10.41 4.24998 10.71 4.10998C13.45 2.82998 16.65 3.32998 18.86 5.38998C21.07 7.44998 21.81 10.6 20.73 13.42C20.58 13.82 20.2 14.06 19.8 14.06V14.08Z"/>',solid:'<path d="M28.13 34.14C26.53 34.14 25.68 33.46 25 32.92C24.43 32.47 24.02 32.14 23.12 32.14C22.22 32.14 21.83 32.45 21.24 32.92C20.56 33.46 19.72 34.14 18.11 34.14C16.5 34.14 15.67 33.46 14.99 32.92C14.4 32.45 14.02 32.14 13.12 32.14C12.22 32.14 11.83 32.45 11.24 32.92C10.56 33.46 9.72 34.14 8.12 34.14C6.52 34.14 5.67 33.46 5 32.92C4.41 32.45 4.03 32.14 3.13 32.14C2.58 32.14 2.13 31.69 2.13 31.14C2.13 30.59 2.58 30.14 3.13 30.14C4.73 30.14 5.57 30.82 6.25 31.36C6.84 31.83 7.23 32.14 8.12 32.14C9.01 32.14 9.41 31.83 9.99 31.36C10.67 30.82 11.51 30.14 13.11 30.14C14.71 30.14 15.55 30.82 16.23 31.36C16.82 31.83 17.2 32.14 18.1 32.14C19 32.14 19.39 31.83 19.98 31.36C20.66 30.82 21.5 30.14 23.1 30.14C24.7 30.14 25.55 30.82 26.23 31.36C26.8 31.81 27.21 32.14 28.11 32.14C29.01 32.14 29.42 31.81 29.99 31.36C30.67 30.82 31.51 30.14 33.12 30.14C33.67 30.14 34.12 30.59 34.12 31.14C34.12 31.69 33.67 32.14 33.12 32.14C32.22 32.14 31.81 32.47 31.24 32.92C30.56 33.46 29.72 34.14 28.11 34.14H28.13Z"/><path d="M17.08 30C16.82 30 16.57 29.9 16.37 29.71C15.98 29.32 15.98 28.69 16.37 28.3C20.94 23.72 28.07 22.74 33.7 25.92C34.18 26.19 34.35 26.8 34.08 27.28C33.81 27.76 33.2 27.93 32.72 27.66C27.87 24.92 21.72 25.77 17.78 29.71C17.58 29.91 17.33 30 17.07 30H17.08Z"/><path d="M20.13 14.58C20.01 14.58 19.88 14.56 19.75 14.51C19.24 14.3 18.99 13.72 19.2 13.21C20.33 10.41 23.02 8.59998 26.04 8.59998C29.06 8.59998 31.75 10.41 32.88 13.21C33 13.52 32.97 13.87 32.78 14.14C32.59 14.42 32.28 14.58 31.95 14.58H26.21C25.66 14.58 25.21 14.13 25.21 13.58C25.21 13.03 25.66 12.58 26.21 12.58H30.22C29.22 11.34 27.7 10.59 26.04 10.59C23.84 10.59 21.88 11.91 21.05 13.95C20.89 14.34 20.52 14.58 20.12 14.58H20.13Z"/><path d="M24.09 24.94C24.75 24.86 25.42 24.81 26.09 24.81C25.64 16.34 20.86 13.35 20.65 13.22C20.59 13.18 20.52 13.16 20.45 13.14C20.45 13.14 20.46 13.13 20.47 13.13C20.15 13.1 19.82 13.05 19.51 12.97C19.61 13.04 19.71 13.1 19.82 13.14C19.72 13.17 19.63 13.22 19.54 13.28C19.21 13.52 19.07 13.94 19.17 14.33C19.18 14.39 20.55 19.92 19.25 26.42C19.91 25.98 20.67 25.67 21.45 25.45"/><path d="M9.18005 19.08C8.98005 19.08 8.78005 19.02 8.61005 18.9C8.34005 18.71 8.18005 18.4 8.18005 18.06C8.24005 15.04 10.0901 12.38 12.9101 11.3C15.7301 10.22 18.8801 10.95 20.9501 13.15C21.3301 13.55 21.3101 14.19 20.9001 14.56C20.5001 14.94 19.8601 14.92 19.4901 14.51C17.9901 12.9 15.6801 12.37 13.6301 13.16C12.0801 13.75 10.9301 15 10.4401 16.51L14.3701 15C14.8901 14.8 15.4601 15.06 15.6601 15.58C15.8601 16.1 15.6001 16.67 15.0801 16.87L9.53005 19C9.41005 19.04 9.29005 19.07 9.17005 19.07L9.18005 19.08Z"/><path d="M19.8 14.08C19.68 14.08 19.56 14.06 19.44 14.01C18.92 13.81 18.66 13.24 18.86 12.72C19.64 10.66 19.11 8.35998 17.5 6.85998C16.29 5.72998 14.67 5.23998 13.09 5.46998L15.78 7.96998C16.18 8.34998 16.21 8.97998 15.83 9.37998C15.45 9.78998 14.82 9.80998 14.42 9.42998L10.46 5.74998C10.22 5.51998 10.1 5.18998 10.15 4.85998C10.2 4.52998 10.41 4.24998 10.71 4.10998C13.45 2.82998 16.65 3.32998 18.86 5.38998C21.07 7.44998 21.81 10.6 20.73 13.42C20.58 13.82 20.2 14.06 19.8 14.06V14.08Z"/>'})];var Ae=L(406),Je=L(945),ce=L(2181),ye=L(6814),ke=L(5861),Le=L(160),nt=L(8645),it=L(3019),It=L(1687),qe=L(7921),St=L(4664),pn=L(7328),Cn=L(3020);let Ke=(()=>{class m{constructor(){this.inatServe=(0,a.f3M)(Le.E),this.authServe=(0,a.f3M)(Je.Z),this.checked$=new nt.x,this.lastCheck=localStorage.getItem("lastnotifcheck")?parseInt(localStorage.getItem("lastnotifcheck")??"0"):Date.now()-864e5,this.notification$=(0,it.T)((0,It.F)(3e5),this.checked$,this.authServe.expired$).pipe((0,qe.O)(-1),(0,ce.h)(d=>!this.authServe.isExpired),(0,St.w)(d=>void 0===d||!0===d?this.foo():this.getUpdates(this.lastCheck)),function Ai(m,l,d){let g,C=!1;return m&&"object"==typeof m?({bufferSize:g=1/0,windowTime:l=1/0,refCount:C=!1,scheduler:d}=m):g=m??1/0,(0,Cn.B)({connector:()=>new pn.t(g,l,d),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:C})}())}foo(){return(0,ke.Z)(function*(){return 0})()}getUpdates(d){var g=this;return(0,ke.Z)(function*(){let C=new Date(d).toString(),S=0;try{S+=(yield g.inatServe.getObservationsUpdates({created_after:C,observations_by:"following"})).total_results}catch{return 0}try{S+=(yield g.inatServe.getObservationsUpdates({created_after:C,observations_by:"owner"})).total_results}catch{return 0}return S})()}setLastCheck(){this.checked$.next(),this.lastCheck=Date.now(),localStorage.setItem("lastnotifcheck",this.lastCheck.toString())}}return m.\u0275fac=function(d){return new(d||m)},m.\u0275prov=a.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"}),m})();const rt=["contentArea"],ot=function(){return["home"]},yt=function(){return["search"]},Tt=function(){return["following"]},tt=function(){return["projects"]},ht=function(){return["authorize"]};let Ge=(()=>{class m{constructor(d,g,C){this.router=d,this.location=g,this.changeRef=C,this.title="natureGram",this.scrollVal=[],this.restoredScroll=0,this.authServ=(0,a.f3M)(Je.Z),this.notification=(0,a.f3M)(Ke),this.collapsed=!1,this.router.events.pipe((0,ce.h)(E=>E instanceof W.OD)).subscribe(this.onNavigationStart.bind(this)),this.notification.notification$.subscribe(E=>{console.log(`notifications: ${E}`)});let S=this.location.prepareExternalUrl("/assets/");fetch(`${S}binoculars-outline.svg`).then(E=>{E.text().then(T=>{te.Q.addIcons(["binoculars",T])})}),te.Q.addIcons(et,Ee,pe,ie,_e,Fe,se)}onNavigationStart(d){this.scrollVal.push(this.contentArea.nativeElement.scrollTop),"popstate"==d.navigationTrigger&&(this.restoredScroll=this.scrollVal[d.restoredState?.navigationId??0])}ngAfterViewInit(){this.collapsed=window.innerWidth<900,this.changeRef.detectChanges()}ngAfterViewChecked(){this.restoredScroll&&(this.contentArea.nativeElement.scrollTo({top:this.restoredScroll}),this.restoredScroll=0)}onResize(d){this.collapsed=d.target.innerWidth<900}}return m.\u0275fac=function(d){return new(d||m)(a.Y36(W.F0),a.Y36(ye.Ye),a.Y36(a.sBO))},m.\u0275cmp=a.Xpm({type:m,selectors:[["app-root"]],viewQuery:function(d,g){if(1&d&&a.Gf(rt,5),2&d){let C;a.iGM(C=a.CRH())&&(g.contentArea=C.first)}},hostBindings:function(d,g){1&d&&a.NdJ("resize",function(S){return g.onResize(S)},!1,a.Jf7)},standalone:!0,features:[a.jDz],decls:39,vars:33,consts:[[1,"content-container"],[3,"clrVerticalNavCollapsible","clrVerticalNavCollapsed","clrVerticalNavCollapsedChange"],["clrVerticalNavLink","","routerLinkActive","active",3,"routerLink"],["clrVerticalNavIcon","","shape","home"],["clrVerticalNavLink","","disabled","",3,"routerLink"],["clrVerticalNavIcon","","shape","search"],["clrVerticalNavIcon","","shape","image-gallery"],["clrVerticalNavIcon","","shape","briefcase"],["clrVerticalNavIcon","","shape","key"],[1,"content-area"],["contentArea",""],[1,"mobile-footer"],["routerLinkActive","",1,"btn","btn-link","btn-icon",3,"routerLink"],["rlah","routerLinkActive"],["shape","home","size","md"],["rlas","routerLinkActive"],["shape","search","size","md"],["rlaf","routerLinkActive"],["shape","image-gallery","size","md"],["rlap","routerLinkActive"],["shape","briefcase","size","md"],["rlaa","routerLinkActive"],["shape","key","size","md"]],template:function(d,g){if(1&d&&(a.TgZ(0,"clr-main-container")(1,"div",0)(2,"clr-vertical-nav",1),a.NdJ("clrVerticalNavCollapsedChange",function(S){return g.collapsed=S}),a.TgZ(3,"a",2),a._UZ(4,"cds-icon",3),a._uU(5," Home "),a.qZA(),a.TgZ(6,"a",4),a._UZ(7,"cds-icon",5),a._uU(8," Search "),a.qZA(),a.TgZ(9,"a",2),a._UZ(10,"cds-icon",6),a._uU(11," Following "),a.qZA(),a.TgZ(12,"a",2),a._UZ(13,"cds-icon",7),a._uU(14," Projects "),a.qZA(),a.TgZ(15,"a",2),a._UZ(16,"cds-icon",8),a.ALo(17,"async"),a._uU(18," Authorize "),a.qZA()(),a.TgZ(19,"div",9,10),a._UZ(21,"router-outlet"),a.qZA()(),a.TgZ(22,"div",11)(23,"button",12,13),a._UZ(25,"cds-icon",14),a.qZA(),a.TgZ(26,"button",12,15),a._UZ(28,"cds-icon",16),a.qZA(),a.TgZ(29,"button",12,17),a._UZ(31,"cds-icon",18),a.qZA(),a.TgZ(32,"button",12,19),a._UZ(34,"cds-icon",20),a.qZA(),a.TgZ(35,"button",12,21),a._UZ(37,"cds-icon",22),a.ALo(38,"async"),a.qZA()()()),2&d){const C=a.MAs(24),S=a.MAs(27),E=a.MAs(30),T=a.MAs(33),M=a.MAs(36);a.xp6(2),a.Q6J("clrVerticalNavCollapsible",!0)("clrVerticalNavCollapsed",g.collapsed),a.xp6(1),a.Q6J("routerLink",a.DdM(23,ot)),a.xp6(3),a.Q6J("routerLink",a.DdM(24,yt)),a.xp6(3),a.Q6J("routerLink",a.DdM(25,Tt)),a.xp6(3),a.Q6J("routerLink",a.DdM(26,tt)),a.xp6(3),a.Q6J("routerLink",a.DdM(27,ht)),a.xp6(1),a.uIk("badge",a.lcZ(17,19,g.authServ.expired$)?"warning":null),a.xp6(7),a.Q6J("routerLink",a.DdM(28,ot)),a.xp6(2),a.uIk("solid",C.isActive),a.xp6(1),a.Q6J("routerLink",a.DdM(29,yt)),a.xp6(2),a.uIk("solid",S.isActive),a.xp6(1),a.Q6J("routerLink",a.DdM(30,Tt)),a.xp6(2),a.uIk("solid",E.isActive),a.xp6(1),a.Q6J("routerLink",a.DdM(31,tt)),a.xp6(2),a.uIk("solid",T.isActive),a.xp6(1),a.Q6J("routerLink",a.DdM(32,ht)),a.xp6(2),a.uIk("badge",a.lcZ(38,21,g.authServ.expired$)?"warning":null)("solid",M.isActive)}},dependencies:[W.Bz,W.lC,W.rH,W.Od,Ae.K6A,Ae.nkF,Ae.QoI,Ae.zuD,Ae.fzC,Ae.zYX,Ae.ogR,ye.ez,ye.Ov],styles:[".branding[_ngcontent-%COMP%]{max-width:-moz-fit-content!important;max-width:fit-content!important}.brand[_ngcontent-%COMP%]{height:2rem!important;width:8rem!important}.brand[_ngcontent-%COMP%] > svg[_ngcontent-%COMP%]{height:2rem;width:8rem}.content-area[_ngcontent-%COMP%]{padding:0!important}.main-container[_ngcontent-%COMP%]{max-height:100dvh!important}@media screen and (max-width: 768px){.mobile-footer[_ngcontent-%COMP%]{display:inline-block!important}clr-vertical-nav[_ngcontent-%COMP%]{display:none}}.custom-header[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;padding:.2rem .5rem;background-color:#fafafa}.header-actions[_ngcontent-%COMP%]{align-self:center}clr-dropdown[_ngcontent-%COMP%] > .btn[_ngcontent-%COMP%]{padding:0;margin:0}clr-dropdown[_ngcontent-%COMP%] > .btn[_ngcontent-%COMP%] > cds-icon[_ngcontent-%COMP%]{position:relative!important;right:unset}.mobile-footer[_ngcontent-%COMP%]{display:none}.mobile-footer[_ngcontent-%COMP%] > .btn[_ngcontent-%COMP%]{width:20%}.clr-vertical-nav[_ngcontent-%COMP%]{background-color:#fff;width:8rem;box-shadow:.05rem .1rem .05rem var(--clr-card-box-shadow-color);margin-right:.1rem}.nav-dropdown[_ngcontent-%COMP%]{display:grid}.nav-dropdown-btn[_ngcontent-%COMP%]{color:#fff;align-self:center}[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}"]}),m})();var kt=L(6593),Pe=L(8469),Qe=L(3259);const jt=["fullscreenTemplate"];function Lt(m,l){if(1&m&&(a.TgZ(0,"div",15),a._uU(1),a.qZA()),2&m){const d=a.oxw().index,g=a.oxw();a.xp6(1),a.AsE("",d+1,"/",g.photos.length,"")}}const Fn=function(m){return{"width.%":m}};function ln(m,l){if(1&m){const d=a.EpF();a.TgZ(0,"li",9),a.YNc(1,Lt,2,2,"div",10),a.TgZ(2,"img",11,12),a.NdJ("click",function(){const S=a.CHM(d).index,E=a.oxw();return a.KtG(E.openfullscreen(S))}),a.qZA(),a.TgZ(4,"div",13,14),a.NdJ("click",function(){a.CHM(d);const C=a.MAs(5);return a.KtG(C.classList.toggle("display"))}),a._uU(6),a.qZA()()}if(2&m){const d=l.$implicit,g=a.oxw();a.Q6J("ngStyle",a.VKq(6,Fn,100/g.photos.length)),a.xp6(1),a.Q6J("ngIf",g.photos.length>1),a.xp6(1),a.Q6J("src",d.url,a.LSH)("width",d.original_dimensions.width)("height",d.original_dimensions.height),a.xp6(4),a.Oqu(d.attribution)}}function Di(m,l){}let pi=(()=>{class m{constructor(){this.disableFullScreen=!1,this.index=0}openfullscreen(d){var g=this;return(0,ke.Z)(function*(){if(g.fullscreenTemplate&&!g.disableFullScreen){g.fullscreenTemplate.clear();const{FullscreenCarouselComponent:C}=yield L.e(141).then(L.bind(L,2141));let S=g.fullscreenTemplate.createComponent(C);S.instance.photos=g.photos,S.instance.index=d,S.instance.close.subscribe(()=>{g.fullscreenTemplate.clear()})}})()}}return m.\u0275fac=function(d){return new(d||m)},m.\u0275cmp=a.Xpm({type:m,selectors:[["app-carousel"]],viewQuery:function(d,g){if(1&d&&a.Gf(jt,5,a.s_b),2&d){let C;a.iGM(C=a.CRH())&&(g.fullscreenTemplate=C.first)}},inputs:{photos:"photos",disableFullScreen:"disableFullScreen"},standalone:!0,features:[a.jDz],decls:10,vars:6,consts:[[1,"carousel-container"],["carousel",""],["id","carousel",3,"ngStyle"],["class","slide",3,"ngStyle",4,"ngFor","ngForOf"],["type","button","aria-label","left",1,"btn","btn-icon","btn-primary","left",3,"hidden","click"],["shape","angle","direction","left"],["type","button","aria-label","right",1,"btn","btn-icon","btn-primary","right",3,"hidden","click"],["shape","angle","direction","right"],["fullscreenTemplate",""],[1,"slide",3,"ngStyle"],["class","index",4,"ngIf"],["loading","lazy",3,"src","width","height","click"],["img",""],[1,"attribution","p7",3,"click"],["att",""],[1,"index"]],template:function(d,g){if(1&d){const C=a.EpF();a.TgZ(0,"div",0,1)(2,"ul",2),a.YNc(3,ln,7,8,"li",3),a.qZA()(),a.TgZ(4,"button",4),a.NdJ("click",function(){a.CHM(C);const E=a.MAs(1);return a.KtG(E.scrollTo({left:E.scrollLeft-E.offsetWidth}))}),a._UZ(5,"cds-icon",5),a.qZA(),a.TgZ(6,"button",6),a.NdJ("click",function(){a.CHM(C);const E=a.MAs(1);return a.KtG(E.scrollTo({left:E.scrollLeft+E.offsetWidth}))}),a._UZ(7,"cds-icon",7),a.qZA(),a.YNc(8,Di,0,0,"ng-template",null,8,a.W1O)}2&d&&(a.xp6(2),a.Q6J("ngStyle",a.VKq(4,Fn,100*g.photos.length)),a.xp6(1),a.Q6J("ngForOf",g.photos),a.xp6(1),a.Q6J("hidden",1==g.photos.length),a.xp6(2),a.Q6J("hidden",1==g.photos.length))},dependencies:[ye.ez,ye.sg,ye.O5,ye.PC,Ae.K6A,Ae.nkF],styles:[".index[_ngcontent-%COMP%]{position:absolute;z-index:1;background-color:#00000080;color:#fff;border-radius:20%;padding-left:.25rem;padding-right:.25rem;top:0;right:0;margin:.5rem;line-height:1rem}.attribution[_ngcontent-%COMP%], .p7[_ngcontent-%COMP%]{position:absolute;z-index:1;text-align:center;background-color:#00000080;color:#fff!important;bottom:0;left:0;padding:.25rem;margin:.2rem!important;border-radius:.1rem;width:1.15rem;height:auto;overflow:hidden;text-overflow:clip;white-space:nowrap;opacity:.5}.display[_ngcontent-%COMP%]{width:-moz-fit-content!important;width:fit-content!important;opacity:1!important;white-space:pre-wrap;text-align:left}.btn[_ngcontent-%COMP%]{position:absolute;z-index:1;top:50%;transform:translateY(-50%);opacity:.1;margin:0!important;border-radius:50%;width:2rem;height:2rem}.left[_ngcontent-%COMP%]{left:0;transform:translate(-50%)}.right[_ngcontent-%COMP%]{right:0;transform:translate(50%)}.btn[_ngcontent-%COMP%]:hover{opacity:1}img[_ngcontent-%COMP%]{height:inherit;object-fit:cover;width:100%}.contain[_ngcontent-%COMP%]{object-fit:contain!important}.carousel-container[_ngcontent-%COMP%]{height:inherit;overflow-x:scroll;width:100%;padding:0;scroll-snap-type:x mandatory;scroll-behavior:smooth;margin:auto!important;scrollbar-width:none}.slide[_ngcontent-%COMP%]{scroll-snap-align:start}li[_ngcontent-%COMP%]{list-style-position:initial!important;position:relative;list-style:none;height:inherit}#carousel[_ngcontent-%COMP%]{display:flex;-webkit-overflow-scrolling:touch;height:inherit}@media screen and (max-width: 768px){.btn[_ngcontent-%COMP%]{display:none!important}}@media screen and (min-width: 768px){img[_ngcontent-%COMP%]{object-fit:contain!important}}[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}[_nghost-%COMP%]{height:inherit}"]}),m})();te.Q.addIcons(Qe.i);const Li=["star",(0,oe.h)({outline:'<path d="M27.19,34a2.22,2.22,0,0,1-1.24-.38l-7.46-5a.22.22,0,0,0-.25,0l-7.46,5A2.22,2.22,0,0,1,7.4,31.21l2.45-8.64a.23.23,0,0,0-.08-.24L2.71,16.78a2.22,2.22,0,0,1,1.29-4l9-.34a.23.23,0,0,0,.2-.15l3.1-8.43a2.22,2.22,0,0,1,4.17,0l3.1,8.43a.23.23,0,0,0,.2.15l9,.34a2.22,2.22,0,0,1,1.29,4L27,22.33a.22.22,0,0,0-.08.24l2.45,8.64A2.23,2.23,0,0,1,27.19,34Zm-8.82-7.42A2.21,2.21,0,0,1,19.6,27l7.46,5a.22.22,0,0,0,.34-.25l-2.45-8.64a2.21,2.21,0,0,1,.77-2.35l7.06-5.55a.22.22,0,0,0-.13-.4l-9-.34a2.22,2.22,0,0,1-2-1.46l-3.1-8.43a.22.22,0,0,0-.42,0L15.06,13a2.22,2.22,0,0,1-2,1.46l-9,.34a.22.22,0,0,0-.13.4L11,20.76a2.22,2.22,0,0,1,.77,2.35L9.33,31.75a.21.21,0,0,0,.08.24.2.2,0,0,0,.26,0l7.46-5A2.22,2.22,0,0,1,18.36,26.62Z"/>',solid:'<path d="M34,16.78a2.22,2.22,0,0,0-1.29-4l-9-.34a.23.23,0,0,1-.2-.15L20.4,3.89a2.22,2.22,0,0,0-4.17,0l-3.1,8.43a.23.23,0,0,1-.2.15l-9,.34a2.22,2.22,0,0,0-1.29,4l7.06,5.55a.23.23,0,0,1,.08.24L7.35,31.21a2.22,2.22,0,0,0,3.38,2.45l7.46-5a.22.22,0,0,1,.25,0l7.46,5a2.2,2.2,0,0,0,2.55,0,2.2,2.2,0,0,0,.83-2.4l-2.45-8.64a.22.22,0,0,1,.08-.24Z"/>'})],Kr=["bookmark",(0,oe.h)({outline:'<path d="M26,34a2,2,0,0,1-1.41-.58L18,26.82l-6.54,6.52A2,2,0,0,1,8,31.93V4a2,2,0,0,1,2-2H26a2,2,0,0,1,2,2V32a2,2,0,0,1-2,2Zm0-2h0V4H10V31.93L18,24Z"/>',solid:'<path d="M26,2H10A2,2,0,0,0,8,4V31.93a2,2,0,0,0,3.42,1.41l6.54-6.52,6.63,6.6A2,2,0,0,0,28,32V4A2,2,0,0,0,26,2Z"/>'})],gi=["chat-bubble",(0,oe.h)({outline:'<path d="M18,2.5c-8.82,0-16,6.28-16,14s7.18,14,16,14a18,18,0,0,0,4.88-.68l5.53,3.52a1,1,0,0,0,1.54-.84l0-6.73a13,13,0,0,0,4-9.27C34,8.78,26.82,2.5,18,2.5ZM28.29,24.61a1,1,0,0,0-.32.73l0,5.34-4.38-2.79a1,1,0,0,0-.83-.11A16,16,0,0,1,18,28.5c-7.72,0-14-5.38-14-12s6.28-12,14-12,14,5.38,14,12A11.08,11.08,0,0,1,28.29,24.61Z"/><path d="M25,15.5H11a1,1,0,0,0,0,2H25a1,1,0,0,0,0-2Z"/><path d="M21.75,20.5h-7.5a1,1,0,0,0,0,2h7.5a1,1,0,0,0,0-2Z"/><path d="M11.28,12.5H24.72a1,1,0,0,0,0-2H11.28a1,1,0,0,0,0,2Z"/>',outlineBadged:'<path d="M33.38,12.69a7.43,7.43,0,0,1-1.89.66A10.35,10.35,0,0,1,32,16.5a11.08,11.08,0,0,1-3.71,8.11,1,1,0,0,0-.32.73l0,5.34-4.38-2.79a1,1,0,0,0-.83-.11A16,16,0,0,1,18,28.5c-7.72,0-14-5.38-14-12s6.28-12,14-12a16,16,0,0,1,4.55.66A7.44,7.44,0,0,1,23,3.22a18,18,0,0,0-5-.72c-8.82,0-16,6.28-16,14s7.18,14,16,14a18,18,0,0,0,4.88-.68l5.53,3.52a1,1,0,0,0,1.54-.84l0-6.73a13,13,0,0,0,4-9.27A12.32,12.32,0,0,0,33.38,12.69Z"/><path d="M11,15.5a1,1,0,0,0,0,2H25a1,1,0,0,0,0-2Z"/><path d="M14.25,20.5a1,1,0,0,0,0,2h7.5a1,1,0,0,0,0-2Z"/><path d="M10.28,11.5a1,1,0,0,0,1,1H24.72a1,1,0,0,0,.83-.47A7.53,7.53,0,0,1,24,10.5H11.28A1,1,0,0,0,10.28,11.5Z"/>',solid:'<path d="M18,2.5c-8.82,0-16,6.28-16,14s7.18,14,16,14a18,18,0,0,0,4.88-.68l5.53,3.52a1,1,0,0,0,1.54-.84l0-6.73a13,13,0,0,0,4-9.27C34,8.78,26.82,2.5,18,2.5Zm8,14a1,1,0,0,1-1,1H11a1,1,0,0,1,0-2H25A1,1,0,0,1,26,16.5Zm-3.25,5a1,1,0,0,1-1,1h-7.5a1,1,0,0,1,0-2h7.5A1,1,0,0,1,22.75,21.5Zm-12.47-10a1,1,0,0,1,1-1H24.72a1,1,0,0,1,0,2H11.28A1,1,0,0,1,10.28,11.5Z"/>',solidBadged:'<path d="M30,13.25a7.46,7.46,0,0,1-4.35-1.4,1,1,0,0,1-.93.65H11.28a1,1,0,0,1,0-2H24.2A7.46,7.46,0,0,1,23,3.2a18,18,0,0,0-5-.7c-8.82,0-16,6.28-16,14s7.18,14,16,14a18,18,0,0,0,4.88-.68l5.53,3.52a1,1,0,0,0,1.54-.84l0-6.73a13,13,0,0,0,4-9.27,12.34,12.34,0,0,0-.68-4A7.46,7.46,0,0,1,30,13.25ZM21.75,22.5h-7.5a1,1,0,0,1,0-2h7.5a1,1,0,0,1,0,2Zm3.25-5H11a1,1,0,0,1,0-2H25a1,1,0,0,1,0,2Z"/>'})],fr=["info-standard",(0,oe.h)({outline:'<circle cx="17.97" cy="10.45" r="1.4"/><path d="M21,25H19V14.1H16a1,1,0,0,0,0,2h1V25H15a1,1,0,0,0,0,2h6a1,1,0,0,0,0-2Z"/><path d="M18,34A16,16,0,1,1,34,18,16,16,0,0,1,18,34ZM18,4A14,14,0,1,0,32,18,14,14,0,0,0,18,4Z"/>',solid:'<path d="M18,2.1a16,16,0,1,0,16,16A16,16,0,0,0,18,2.1Zm-.1,5.28a2,2,0,1,1-2,2A2,2,0,0,1,17.9,7.38Zm3.6,21.25h-7a1.4,1.4,0,1,1,0-2.8h2.1v-9.2H15a1.4,1.4,0,1,1,0-2.8h4.4v12h2.1a1.4,1.4,0,1,1,0,2.8Z"/>'})];var Oi=L(1179);const zt=["map-marker",(0,oe.h)({outline:'<path d="M18,6.72a5.73,5.73,0,1,0,5.73,5.73A5.73,5.73,0,0,0,18,6.72Zm0,9.46a3.73,3.73,0,1,1,3.73-3.73A3.73,3.73,0,0,1,18,16.17Z"/><path d="M18,2A11.79,11.79,0,0,0,6.22,13.73c0,4.67,2.62,8.58,4.54,11.43l.35.52a99.61,99.61,0,0,0,6.14,8l.76.89.76-.89a99.82,99.82,0,0,0,6.14-8l.35-.53c1.91-2.85,4.53-6.75,4.53-11.42A11.79,11.79,0,0,0,18,2ZM23.59,24l-.36.53c-1.72,2.58-4,5.47-5.23,6.9-1.18-1.43-3.51-4.32-5.23-6.9L12.42,24c-1.77-2.64-4.2-6.25-4.2-10.31a9.78,9.78,0,1,1,19.56,0C27.78,17.79,25.36,21.4,23.59,24Z"/>',outlineBadged:'<path d="M18,6.72a5.73,5.73,0,1,0,5.73,5.73A5.73,5.73,0,0,0,18,6.72Zm0,9.46a3.73,3.73,0,1,1,3.73-3.73A3.73,3.73,0,0,1,18,16.17Z"/><path d="M29.77,13.49a7.49,7.49,0,0,1-2-.33c0,.19,0,.38,0,.57,0,4.06-2.42,7.67-4.19,10.31l-.36.53c-1.72,2.58-4,5.47-5.23,6.9-1.18-1.43-3.51-4.32-5.23-6.9L12.42,24c-1.77-2.64-4.2-6.25-4.2-10.31A9.77,9.77,0,0,1,22.56,5.09a7.45,7.45,0,0,1,.52-2A11.75,11.75,0,0,0,6.22,13.73c0,4.67,2.62,8.58,4.54,11.43l.35.52a99.61,99.61,0,0,0,6.14,8l.76.89.76-.89a99.82,99.82,0,0,0,6.14-8l.35-.53c1.91-2.85,4.53-6.75,4.53-11.42C29.78,13.65,29.77,13.57,29.77,13.49Z"/>',solid:'<path d="M18,2A11.79,11.79,0,0,0,6.22,13.73c0,4.67,2.62,8.58,4.54,11.43l.35.52a99.61,99.61,0,0,0,6.14,8l.76.89.76-.89a99.82,99.82,0,0,0,6.14-8l.35-.53c1.91-2.85,4.53-6.75,4.53-11.42A11.79,11.79,0,0,0,18,2Zm0,17a6.56,6.56,0,1,1,6.56-6.56A6.56,6.56,0,0,1,18,19Z"/><circle cx="18" cy="12.44" r="3.73"/>',solidBadged:'<path d="M29.77,13.49A7.47,7.47,0,0,1,24.38,11a6.58,6.58,0,1,1-1.61-3,7.42,7.42,0,0,1,.31-4.84A11.75,11.75,0,0,0,6.22,13.73c0,4.67,2.62,8.58,4.54,11.43l.35.52a99.61,99.61,0,0,0,6.14,8l.76.89.76-.89a99.82,99.82,0,0,0,6.14-8l.35-.53c1.91-2.85,4.53-6.75,4.53-11.42C29.78,13.65,29.77,13.57,29.77,13.49Z"/><circle cx="18" cy="12.44" r="3.73"/>'})];var st=L(5392),un=L(7903);const mi=["thumbs-up",(0,oe.h)({outline:'<path d="M24,26c-2.92,1.82-7.3,4-9.37,4h-6a16.68,16.68,0,0,1-3.31-6.08A26.71,26.71,0,0,1,4,16h9V6a2.05,2.05,0,0,1,1.26-1.69c.77,2,2.62,6.57,4.23,8.72A11.39,11.39,0,0,0,24,16.91V14.78a9.13,9.13,0,0,1-3.91-3c-1.88-2.51-4.29-9.11-4.31-9.17A1,1,0,0,0,14.59,2C13.25,2.38,11,3.6,11,6v8H3a1,1,0,0,0-1,1,29,29,0,0,0,1.4,9.62c1.89,5.4,4.1,7.14,4.2,7.22a1,1,0,0,0,.61.21h6.42c2.43,0,6.55-2,9.37-3.63Z"/><path d="M34,31H27a1,1,0,0,1-1-1V14a1,1,0,0,1,1-1h7Zm-6-2h4V15H28Z"/>',solid:'<path d="M19.63,12.12C17.51,9.28,14.88,2,14.88,2S12,2.83,12,5.25V15H2.23a29.46,29.46,0,0,0,1.44,9.74C5.61,30.27,7.8,32,7.8,32h6.86C16.9,32,21,30.06,24,28.31V15.51A10.84,10.84,0,0,1,19.63,12.12Z"/><path d="M27,13a1,1,0,0,0-1,1V30a1,1,0,0,0,1,1h7V13Z"/>'})],zi=["thumbs-down",(0,oe.h)({outline:'<path d="M12,10c2.92-1.82,7.3-4,9.37-4h6a16.68,16.68,0,0,1,3.31,6.08A26.71,26.71,0,0,1,32,20H23V30a2.05,2.05,0,0,1-1.26,1.69c-.77-2-2.62-6.57-4.23-8.72A11.39,11.39,0,0,0,12,19.09v2.13a9.13,9.13,0,0,1,3.91,3c1.88,2.51,4.29,9.11,4.31,9.17a1,1,0,0,0,1.19.63C22.75,33.62,25,32.4,25,30V22h8a1,1,0,0,0,1-1,29,29,0,0,0-1.4-9.62c-1.89-5.4-4.1-7.14-4.2-7.22A1,1,0,0,0,27.79,4H21.37C18.94,4,14.83,6,12,7.63Z"/><path d="M2,5H9a1,1,0,0,1,1,1V22a1,1,0,0,1-1,1H2ZM8,7H4V21H8Z"/>',solid:'<path d="M16.37,23.84c2.12,2.84,4.76,10.07,4.76,10.07S24,33.13,24,30.71V21h9.77a29.46,29.46,0,0,0-1.44-9.74C30.39,5.68,28.2,4,28.2,4H21.35C19.1,4,15,5.9,12,7.65v12.8A10.84,10.84,0,0,1,16.37,23.84Z"/><path d="M9,23a1,1,0,0,0,1-1V6A1,1,0,0,0,9,5H2V23Z"/>'})];function mo(m,l){if(1&m){const d=a.EpF();a.TgZ(0,"div",1)(1,"div",2),a._uU(2),a.qZA(),a.TgZ(3,"div",3)(4,"button",4,5),a.NdJ("click",function(){const S=a.CHM(d).$implicit,E=a.MAs(5),T=a.oxw();return a.KtG(T.agree(S,E))}),a._UZ(6,"cds-icon",6),a.qZA(),a.TgZ(7,"div",7),a._uU(8),a.qZA()(),a.TgZ(9,"div",3)(10,"button",4,8),a.NdJ("click",function(){const S=a.CHM(d).$implicit,E=a.MAs(11),T=a.oxw();return a.KtG(T.disagree(S,E))}),a._UZ(12,"cds-icon",9),a.qZA(),a.TgZ(13,"div",7),a._uU(14),a.qZA()()()}if(2&m){const d=l.$implicit,g=a.oxw();a.xp6(2),a.Oqu("verbose"==g.label?d.label:d.metric),a.xp6(4),a.uIk("solid","agree"==d.voted),a.xp6(2),a.Oqu(d.agree),a.xp6(4),a.uIk("solid","disagree"==d.voted),a.xp6(2),a.Oqu(d.disagree)}}let Yn=(()=>{class m{constructor(){this.metricDict={wild:{metric:"wild",agree:0,disagree:0,label:"Organism is wild",voted:void 0},evidence:{metric:"evidence",agree:0,disagree:0,label:"Evidence of organism",voted:void 0},recent:{metric:"recent",agree:0,disagree:0,label:"Recent evidence of an organism",voted:void 0},location:{metric:"location",agree:0,disagree:0,label:"Location is accurate",voted:void 0},date:{metric:"date",agree:0,disagree:0,label:"Date is accurate",voted:void 0}},this.auth=(0,a.f3M)(Je.Z),this.inat=(0,a.f3M)(Le.E),this.metrics=[],this.qualityMetric=[],this.metric=["wild","evidence"],this.label="verbose",te.Q.addIcons(mi,zi)}ngOnInit(){this.metric.forEach(d=>{this.metrics.push(this.metricDict[d])}),this.qualityMetric.forEach(d=>{let g=this.metrics.findIndex(C=>C.metric==d.metric);g>=0&&(d.agree?this.metrics[g].agree++:this.metrics[g].disagree++,this.auth.me?.id==d.user_id&&(this.metrics[g].voted=d.agree?"agree":"disagree"))})}agree(d,g){g.loadingStateChange(Ae.xp5.LOADING);let C=d.voted?"DELETE":"POST";this.inat.quality(this.uuid,d.metric,!0,C).then(S=>{S&&("POST"==C?(d.voted="agree",d.agree++,this.qualityMetric.push({id:0,user_id:this.auth.me?.id??0,agree:!0,metric:d.metric})):(d.voted=void 0,d.agree--,this.qualityMetric.pop()))}).finally(()=>{g.loadingStateChange(Ae.xp5.DEFAULT)})}disagree(d,g){g.loadingStateChange(Ae.xp5.LOADING);let C=d.voted?"DELETE":"POST";this.inat.quality(this.uuid,d.metric,!1,C).then(S=>{S&&("POST"==C?(d.voted="disagree",d.disagree++,this.qualityMetric.push({id:0,user_id:this.auth.me?.id??0,agree:!1,metric:d.metric})):(d.voted=void 0,d.disagree--,this.qualityMetric.pop()))}).finally(()=>{g.loadingStateChange(Ae.xp5.DEFAULT)})}}return m.\u0275fac=function(d){return new(d||m)},m.\u0275cmp=a.Xpm({type:m,selectors:[["app-quality-metric"]],inputs:{qualityMetric:"qualityMetric",uuid:"uuid",metric:"metric",label:"label"},standalone:!0,features:[a.jDz],decls:1,vars:1,consts:[["class","metric",4,"ngFor","ngForOf"],[1,"metric"],[1,"p5"],[1,"action-container"],["clrLoading","",1,"btn","btn-icon","btn-link",3,"click"],["a",""],["shape","thumbs-up"],[1,"p4"],["d",""],["shape","thumbs-down"]],template:function(d,g){1&d&&a.YNc(0,mo,15,5,"div",0),2&d&&a.Q6J("ngForOf",g.metrics)},dependencies:[ye.ez,ye.sg,Ae.K6A,Ae.nkF,Ae.cCV,Ae.MPb],styles:[".metric[_ngcontent-%COMP%]{display:inline-flex;align-items:center;border-radius:.3rem;padding:0 .2rem;margin:.1rem .2rem .1rem 0;border:solid thin var(--clr-color-action-600)}.metric[_ngcontent-%COMP%]:last-of-type{margin-right:0!important}.metric[_ngcontent-%COMP%] > .p5[_ngcontent-%COMP%]{margin:0 .1rem 0 0;line-height:.8rem}.action-container[_ngcontent-%COMP%]{display:flex;align-items:center;padding-left:.2rem}.action-container[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin:0}.action-container[_ngcontent-%COMP%] > .btn[_ngcontent-%COMP%]{padding:0;height:1rem;width:-moz-fit-content!important;width:fit-content!important;line-height:1rem}.action-container[_ngcontent-%COMP%] > .p4[_ngcontent-%COMP%]{width:.8rem;text-align:center}"]}),m})();const cs=["fullscreenTemplate"],ut=["cPhotos"];function dn(m,l){if(1&m&&(a.TgZ(0,"div",7),a._uU(1),a.qZA()),2&m){const d=a.oxw().$implicit;a.xp6(1),a.Oqu(d.attribution)}}function ws(m,l){if(1&m&&(a.TgZ(0,"div",8),a._uU(1),a.qZA()),2&m){const d=a.oxw(2);a.xp6(1),a.hij("+",d.photos.length-3,"")}}function _o(m,l){if(1&m){const d=a.EpF();a.TgZ(0,"div",3),a.NdJ("click",function(){const S=a.CHM(d).index,E=a.oxw();return a.KtG(E.openPhoto(S))}),a._UZ(1,"img",4),a.YNc(2,dn,2,1,"div",5),a.YNc(3,ws,2,1,"div",6),a.qZA()}if(2&m){const d=l.$implicit,g=l.last,C=l.index,S=l.first,E=a.oxw();a.ekj("first",S)("second",1==C)("tall",d.original_dimensions.width/d.original_dimensions.height<.8)("wide",d.original_dimensions.width/d.original_dimensions.height>1.4)("square",.8<=d.original_dimensions.width/d.original_dimensions.height&&d.original_dimensions.width/d.original_dimensions.height<=1.4),a.xp6(1),a.Q6J("src",d.url,a.LSH),a.uIk("width",d.original_dimensions.width)("height",d.original_dimensions.height),a.xp6(1),a.Q6J("ngIf",S),a.xp6(1),a.Q6J("ngIf",g&&E.photos.length>3)}}function Go(m,l){}let pr=(()=>{class m{constructor(){this.fullscreen=!1,this.index=0}ngOnInit(){}openPhoto(d){this.fullscreen=!0,this.index=d,this.openfullscreen()}openfullscreen(){var d=this;return(0,ke.Z)(function*(){if(d.fullscreenTemplate){d.fullscreenTemplate.clear();const{FullscreenCarouselComponent:g}=yield L.e(141).then(L.bind(L,2141));let C=d.fullscreenTemplate.createComponent(g);C.instance.photos=d.photos,C.instance.index=d.index,C.instance.close.subscribe(()=>{d.fullscreenTemplate.clear()})}})()}}return m.\u0275fac=function(d){return new(d||m)},m.\u0275cmp=a.Xpm({type:m,selectors:[["app-album"]],viewQuery:function(d,g){if(1&d&&(a.Gf(cs,5,a.s_b),a.Gf(ut,5)),2&d){let C;a.iGM(C=a.CRH())&&(g.fullscreenTemplate=C.first),a.iGM(C=a.CRH())&&(g.carouselPhotos=C)}},inputs:{photos:"photos"},standalone:!0,features:[a.jDz],decls:5,vars:11,consts:[[1,"grid-container"],["class","grid-item",3,"first","second","tall","wide","square","click",4,"ngFor","ngForOf"],["fullscreenTemplate",""],[1,"grid-item",3,"click"],["loading","lazy",1,"pointer-on-hover",3,"src"],["class","attribution",4,"ngIf"],["class","index",4,"ngIf"],[1,"attribution"],[1,"index"]],template:function(d,g){1&d&&(a.TgZ(0,"div",0),a.YNc(1,_o,4,15,"div",1),a.ALo(2,"slice"),a.qZA(),a.YNc(3,Go,0,0,"ng-template",null,2,a.W1O)),2&d&&(a.ekj("solo",1==g.photos.length)("duo",2==g.photos.length)("trio",g.photos.length>=3),a.xp6(1),a.Q6J("ngForOf",a.Dn7(2,7,g.photos,0,3)))},dependencies:[ye.ez,ye.sg,ye.O5,ye.OU,Ae.K6A],styles:[".index[_ngcontent-%COMP%]{position:absolute;top:0;right:0;margin:.5rem;z-index:1;background-color:#00000080;color:#fff;padding:0 .25rem;border-radius:.3rem;line-height:1rem;font-size:small;display:block}.attribution[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;margin:.5rem;background-color:#00000080;color:#fff;line-height:1rem;font-size:smaller;display:block;padding:0 .25rem;border-radius:.3rem;opacity:.5;width:1.2rem;overflow:clip;white-space:nowrap}.attribution[_ngcontent-%COMP%]:hover{opacity:1;width:-moz-fit-content;width:fit-content}.grid-item[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{object-fit:cover;height:100%;width:100%;max-height:inherit;max-width:100%}.grid-item[_ngcontent-%COMP%]{position:relative}.grid-container[_ngcontent-%COMP%]{width:inherit;gap:.3rem;display:grid}.solo[_ngcontent-%COMP%]{grid-template-columns:1fr}.solo[_ngcontent-%COMP%] > .grid-item[_ngcontent-%COMP%]{max-height:500px}.solo[_ngcontent-%COMP%] > .tall[_ngcontent-%COMP%]{margin:auto;height:500px}.duo[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr}.duo[_ngcontent-%COMP%] > .grid-item[_ngcontent-%COMP%]{max-height:500px}.duo[_ngcontent-%COMP%]:has(.wide.first) > .grid-item[_ngcontent-%COMP%]{grid-column:auto/span 2;max-height:250px}.trio[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr 1fr}.trio[_ngcontent-%COMP%]:has(.wide.first), .trio[_ngcontent-%COMP%]:has(.square.first){grid-auto-rows:minmax(100px,250px)}.trio[_ngcontent-%COMP%]:has(.tall.first) > .grid-item[_ngcontent-%COMP%]{max-height:500px}.trio[_ngcontent-%COMP%] > .wide.first[_ngcontent-%COMP%], .trio[_ngcontent-%COMP%] > .square.first[_ngcontent-%COMP%]{grid-column:auto/ span 2;grid-row:auto/ span 2}"]}),m})();const Qr=["temp"];function Ll(m,l){if(1&m&&a._UZ(0,"img",42),2&m){const d=a.oxw(2);a.Q6J("src",d.observation.user.icon_url||"assets/default.png",a.LSH)}}function tr(m,l){if(1&m&&(a.TgZ(0,"h6"),a._uU(1),a.TgZ(2,"span",18),a._uU(3),a.ALo(4,"async"),a.ALo(5,"dateTimeAgo"),a.qZA()()),2&m){const d=a.oxw(2);a.xp6(1),a.hij("",d.observation.user.login," "),a.xp6(2),a.Oqu(a.lcZ(4,2,a.lcZ(5,4,d.observation.created_at)))}}function Jr(m,l){if(1&m&&(a.TgZ(0,"p",18),a._uU(1),a.qZA()),2&m){const d=a.oxw(2);a.xp6(1),a.hij(" ",d.observation.place_guess,"")}}function Xn(m,l){if(1&m&&(a.TgZ(0,"h6"),a._uU(1),a.ALo(2,"titlecase"),a.TgZ(3,"em"),a._uU(4),a.qZA()()),2&m){const d=a.oxw(3);a.xp6(1),a.hij(" ",a.lcZ(2,2,d.observation.taxon.rank_level>10?d.observation.taxon.rank:"")," "),a.xp6(3),a.Oqu(d.observation.taxon.name)}}const Er=function(m){return["/taxon",m]};function Dn(m,l){if(1&m&&(a.TgZ(0,"div",43),a.YNc(1,Xn,5,4,"h6",17),a._uU(2,"\xa0 "),a.TgZ(3,"p",18),a._uU(4),a.qZA()()),2&m){const d=a.oxw(2);a.xp6(1),a.Q6J("urlify",a.VKq(2,Er,d.observation.taxon.id)),a.xp6(3),a.Oqu(d.observation.taxon.preferred_common_name)}}function vo(m,l){1&m&&(a.TgZ(0,"div",43)(1,"h6"),a._uU(2,"Unidentified"),a.qZA()())}function at(m,l){if(1&m&&(a.TgZ(0,"label",45),a._uU(1),a.qZA()),2&m){const d=a.oxw(3);a.ekj("btn-success","research grade"==d.observation.quality_grade),a.xp6(1),a.hij(" ",d.observation.quality_grade," ")}}const Re=function(m){return["/observation",m]};function De(m,l){if(1&m&&(a.ynx(0),a.YNc(1,at,2,3,"label",44),a.BQk()),2&m){const d=a.oxw(2);a.xp6(1),a.Q6J("urlify",a.VKq(1,Re,d.observation.uuid))}}function Ze(m,l){1&m&&(a.TgZ(0,"button",46),a._UZ(1,"cds-icon",47),a.qZA())}function mt(m,l){if(1&m&&(a.TgZ(0,"strong"),a._uU(1),a.qZA()),2&m){const d=a.oxw(3);a.xp6(1),a.hij(" ",d.observation.user.login,"")}}function At(m,l){if(1&m&&(a.TgZ(0,"label",49),a._uU(1),a.qZA()),2&m){const d=l.$implicit;a.xp6(1),a.hij(" #",d,"")}}const Pt=function(m){return["/naturalist",m]};function yn(m,l){if(1&m&&(a.TgZ(0,"div")(1,"span",41),a.YNc(2,mt,2,1,"strong",17),a.qZA(),a.YNc(3,At,2,1,"label",48),a.qZA()),2&m){const d=a.oxw(2);a.xp6(2),a.Q6J("urlify",a.VKq(2,Pt,d.observation.user.login)),a.xp6(1),a.Q6J("ngForOf",d.observation.tags)}}function En(m,l){if(1&m&&(a.TgZ(0,"strong"),a._uU(1),a.qZA()),2&m){const d=a.oxw(3);a.xp6(1),a.hij(" ",d.currentIdentification.user.login,"")}}function on(m,l){if(1&m&&(a.TgZ(0,"div")(1,"span",41),a.YNc(2,En,2,1,"strong",17),a.TgZ(3,"em"),a._uU(4),a.qZA()()()),2&m){const d=a.oxw(2);a.xp6(2),a.Q6J("urlify",a.VKq(2,Pt,d.currentIdentification.user.login)),a.xp6(2),a.hij(" ",d.currentIdentification.taxon.name,"")}}function nr(m,l){if(1&m&&(a.TgZ(0,"strong"),a._uU(1),a.qZA()),2&m){const d=a.oxw(3);a.xp6(1),a.hij(" ",d.comment.user.login," ")}}function gr(m,l){if(1&m&&(a.TgZ(0,"div")(1,"span",41),a.YNc(2,nr,2,1,"strong",17),a._UZ(3,"span",50),a.qZA()()),2&m){const d=a.oxw(2);a.xp6(2),a.Q6J("urlify",a.VKq(2,Pt,d.comment.user.login)),a.xp6(1),a.Q6J("innerHtml",d.comment.body,a.oJD)}}function mr(m,l){if(1&m){const d=a.EpF();a.ynx(0),a.TgZ(1,"div",51),a.NdJ("click",function(){a.CHM(d);const C=a.oxw(2);return a.KtG(C.comments())}),a._UZ(2,"img",52),a.TgZ(3,"p",53),a._uU(4,"Add a comment or suggest an ID"),a.qZA()(),a.BQk()}if(2&m){const d=a.oxw(2);a.xp6(2),a.Q6J("src",(null==d.authService.me?null:d.authService.me.icon)||"assets/default.png",a.LSH)}}const Zs=function(){return["wild"]};function _r(m,l){if(1&m){const d=a.EpF();a.TgZ(0,"div",20)(1,"div",21)(2,"div",22),a.YNc(3,Ll,1,1,"img",14),a.TgZ(4,"div",23),a.YNc(5,tr,6,6,"h6",17),a.YNc(6,Jr,2,1,"p",24),a.qZA()(),a._UZ(7,"p",25),a.TgZ(8,"div",26),a.YNc(9,Dn,5,4,"div",27),a.YNc(10,vo,3,0,"ng-template",null,28,a.W1O),a.YNc(12,De,2,3,"ng-container",29),a.qZA()(),a._UZ(13,"app-carousel",30)(14,"app-album",31),a.TgZ(15,"div",32)(16,"div",33)(17,"button",34),a.NdJ("click",function(){a.CHM(d);const C=a.oxw();return a.KtG(C.fave())}),a.ALo(18,"async"),a._UZ(19,"cds-icon",35),a.qZA(),a.TgZ(20,"button",36),a.NdJ("click",function(){a.CHM(d);const C=a.oxw();return a.KtG(C.comments())}),a._UZ(21,"cds-icon",37),a.qZA(),a.YNc(22,Ze,2,0,"button",38),a._UZ(23,"span",39)(24,"app-quality-metric",40),a.qZA(),a.TgZ(25,"p",41),a._uU(26),a.qZA(),a.YNc(27,yn,4,4,"div",29),a.YNc(28,on,5,4,"div",29),a.YNc(29,gr,4,4,"div",29),a.YNc(30,mr,5,1,"ng-container",29),a.qZA()()}if(2&m){const d=a.MAs(11),g=a.oxw();a.xp6(3),a.Q6J("urlify",a.VKq(24,Pt,g.observation.user.login)),a.xp6(2),a.Q6J("urlify",a.VKq(26,Pt,g.observation.user.login)),a.xp6(1),a.Q6J("ngIf",g.observation.place_guess),a.xp6(1),a.Q6J("innerHTML",g.observation.description,a.oJD),a.xp6(2),a.Q6J("ngIf",g.observation.taxon)("ngIfElse",d),a.xp6(3),a.Q6J("ngIf",g.observation.quality_grade),a.xp6(1),a.Q6J("photos",g.observation.photos),a.xp6(1),a.Q6J("photos",g.observation.photos),a.xp6(3),a.Q6J("disabled",!!a.lcZ(18,22,g.authService.expired$))("clrLoading",g.faveBtnState),a.xp6(2),a.uIk("solid",g.isFaved),a.xp6(1),a.Q6J("clrLoading",g.commentBtnState),a.xp6(2),a.Q6J("urlify",a.VKq(28,Re,g.observation.uuid)),a.xp6(2),a.Q6J("uuid",g.observation.uuid)("metric",a.DdM(30,Zs))("qualityMetric",g.observation.quality_metrics),a.xp6(2),a.Oqu(g.faveText()),a.xp6(1),a.Q6J("ngIf",g.observation.tags.length),a.xp6(1),a.Q6J("ngIf",g.currentIdentification),a.xp6(1),a.Q6J("ngIf",g.comment),a.xp6(1),a.Q6J("ngIf",g.authorized)}}function Ds(m,l){if(1&m&&a._UZ(0,"img",42),2&m){const d=a.oxw();a.Q6J("src",d.observation.user.icon||"assets/default.png",a.LSH)}}function us(m,l){if(1&m&&(a.TgZ(0,"h6"),a._uU(1),a.qZA()),2&m){const d=a.oxw();a.xp6(1),a.Oqu(d.observation.user.login)}}function pa(m,l){}let Ka=(()=>{class m{constructor(){this.isFaved=!1,this.isBookmarked=!1,this.inatService=(0,a.f3M)(Le.E),this.authService=(0,a.f3M)(Je.Z),this.authorized=!1,this.faveBtnState=Ae.xp5.DEFAULT,this.commentBtnState=Ae.xp5.DEFAULT,this.isCommentsOpen=!1}ngOnInit(){this.isFaved=!!this.observation.faves.filter(g=>g.user_id==this.authService.me?.id).length,this.authorized=!this.authService.isExpired;let d=this.observation.identifications.filter(g=>("leading"==g.category||"improving"==g.category)&&g.current).sort((g,C)=>Date.parse(C.created_at)-Date.parse(g.created_at));d.length&&(this.currentIdentification=d[0]),this.observation.quality_grade="research"==this.observation.quality_grade?"RG":"",this.observation.comments?.length&&(this.comment=this.observation.comments.sort((g,C)=>Date.parse(C.created_at)-Date.parse(g.created_at))[0])}faveText(){let d="";return this.observation.faves.length&&(d=`Faved by ${this.observation.faves[0].user?.login}`,2==this.observation.faves.length?d=`${d} and ${this.observation.faves[1].user?.login}`:this.observation.faves.length>2&&(d=`${d} and ${this.observation.faves_count-1} others`)),d}fave(){this.authorized&&(this.faveBtnState=Ae.xp5.LOADING,this.inatService.fave(this.observation.uuid,!this.isFaved).then(()=>{if(this.isFaved){let d=this.observation.faves.findIndex(g=>g.user_id==this.authService.me?.id);d>=0&&(this.observation.faves?.splice(d,1),this.observation.faves_count--)}else this.observation.faves.push({id:0,user_id:this.authService.me?.id||0,user:{id:0,login:this.authService.me?.login}}),this.observation.faves_count++;this.isFaved=!this.isFaved}).catch(d=>{console.log(d)}).finally(()=>{this.faveBtnState=Ae.xp5.DEFAULT}))}comments(){var d=this;return(0,ke.Z)(function*(){if(d.isCommentsOpen=!0,!d.temp.first.get(0)){const{CommentsComponent:g}=yield Promise.resolve().then(L.bind(L,2275));let C=d.temp.first.createComponent(g);C.instance.auto=window.innerWidth<=768,C.instance.uuid=d.observation.uuid,C.instance.comments=d.observation.comments,C.instance.identifications=d.observation.identifications}})()}bookmark(){this.isBookmarked=!this.isBookmarked}}return m.\u0275fac=function(d){return new(d||m)},m.\u0275cmp=a.Xpm({type:m,selectors:[["app-gram"]],viewQuery:function(d,g){if(1&d&&a.Gf(Qr,5,a.s_b),2&d){let C;a.iGM(C=a.CRH())&&(g.temp=C)}},inputs:{observation:"observation"},standalone:!0,features:[a.jDz],decls:29,vars:16,consts:[["class","card",4,"ngIf"],[1,"modal",3,"hidden"],["role","dialog","aria-hidden","true",1,"modal-dialog","modal-xl","fadeDown","in"],[1,"modal-content"],[1,"modal-header"],["aria-label","Close","type","button",1,"close",3,"click"],["shape","close"],[1,"modal-obs-meta-sm"],[1,"modal-body"],[1,"modal-carousel"],[3,"photos","disableFullScreen"],[1,"modal-activity"],[1,"clr-row","clr-align-items-center","modal-obs-meta-lg"],[1,"clr-col-auto"],["class","user_icon",3,"src",4,"urlify"],[1,"clr-col"],[1,"card-text"],[4,"urlify"],[1,"p7"],["temp",""],[1,"card"],[1,"card-block"],[1,"gram-header"],[1,"gram-meta"],["class","p7",4,"ngIf"],[1,"card-text","p5",3,"innerHTML"],[1,"taxon-grade"],["class","taxon",4,"ngIf","ngIfElse"],["unknown",""],[4,"ngIf"],[1,"card-img","carousel",3,"photos"],[1,"card-img","album",3,"photos"],[1,"card-block","bottom-block"],[1,"card-actions","clr-row"],["type","button","aria-label","fave",1,"btn","btn-icon","btn-link",3,"disabled","clrLoading","click"],["shape","star","size","md"],["type","button",1,"btn","btn-icon","btn-link",3,"clrLoading","click"],["shape","chat-bubble","size","md"],["type","button","class","btn btn-icon btn-link",4,"urlify"],[1,"margin-auto"],["label","compact",3,"uuid","metric","qualityMetric"],[1,"card-text","p5"],[1,"user_icon",3,"src"],[1,"taxon"],["class","m-0 taxon-grade-label",3,"btn-success",4,"urlify"],[1,"m-0","taxon-grade-label"],["type","button",1,"btn","btn-icon","btn-link"],["shape","binoculars","size","md"],["class","p5",4,"ngFor","ngForOf"],[1,"p5"],[3,"innerHtml"],[1,"clr-row","clr-align-items-center","add-comment",3,"click"],[1,"user_icon","user_icon-sm",3,"src"],[1,"p5","card-text"]],template:function(d,g){1&d&&(a.YNc(0,_r,31,31,"div",0),a.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"button",5),a.NdJ("click",function(){return g.isCommentsOpen=!1}),a._UZ(6,"cds-icon",6),a.qZA(),a.TgZ(7,"div",7)(8,"h6"),a._uU(9,"Activity"),a.qZA()()(),a.TgZ(10,"div",8)(11,"div",9),a._UZ(12,"app-carousel",10),a.qZA(),a.TgZ(13,"div",11)(14,"div",12)(15,"div",13),a.YNc(16,Ds,1,1,"img",14),a.qZA(),a.TgZ(17,"div",15)(18,"div",16),a.YNc(19,us,2,1,"h6",17),a.TgZ(20,"p",18),a._uU(21),a.TgZ(22,"span"),a._UZ(23,"br"),a._uU(24),a.ALo(25,"async"),a.ALo(26,"dateTimeAgo"),a.qZA()()()()(),a.YNc(27,pa,0,0,"ng-template",null,19,a.W1O),a.qZA()()()()()),2&d&&(a.Q6J("ngIf",g.observation),a.xp6(1),a.Q6J("hidden",!g.isCommentsOpen),a.xp6(11),a.Q6J("photos",g.observation.photos)("disableFullScreen",!0),a.xp6(4),a.Q6J("urlify",a.VKq(12,Pt,g.observation.user.login)),a.xp6(3),a.Q6J("urlify",a.VKq(14,Pt,g.observation.user.login)),a.xp6(2),a.hij("",g.observation.place_guess," "),a.xp6(3),a.Oqu(a.lcZ(25,8,a.lcZ(26,10,g.observation.time_observed_at))))},dependencies:[ye.ez,ye.sg,ye.O5,ye.Ov,ye.rS,Pe.i,pi,Ae.K6A,Ae.nkF,Ae.VLi,Ae.cCV,Ae.MPb,Ae.MgK,un.L,Yn,pr],styles:[".card[_ngcontent-%COMP%]{width:100%;max-width:768px;box-shadow:unset;border-style:unset;margin-bottom:.5rem;padding:.3rem 0;line-height:1px}@media screen and (min-width: 769px){.card[_ngcontent-%COMP%]{border-style:solid;box-shadow:.05rem .1rem .05rem var(--clr-card-box-shadow-color);border-radius:.3rem;background-color:#fff;margin-bottom:1rem}}.user_icon[_ngcontent-%COMP%]{border-radius:50%;width:1.8rem;height:1.8rem;object-fit:cover}.user_icon-sm[_ngcontent-%COMP%]{width:1.2rem;height:1.2rem;margin-right:.5rem}.card-text[_ngcontent-%COMP%]{margin:.15rem 0!important}.card-text[_ngcontent-%COMP%] > .p7[_ngcontent-%COMP%]{margin:0}.p7[_ngcontent-%COMP%]{margin:0}h6[_ngcontent-%COMP%]{margin:0;line-height:1rem}.clr-col-auto[_ngcontent-%COMP%]{padding:0}.card-img[_ngcontent-%COMP%]{position:relative;width:100%;display:inline-block;height:450px;flex:none}.clr-row[_ngcontent-%COMP%]{margin-left:0!important;margin-right:0!important}.bottom-block[_ngcontent-%COMP%]{padding-top:0}.card-block[_ngcontent-%COMP%]{padding:0 .6rem!important;border:none!important}.gram-header[_ngcontent-%COMP%]{display:flex;align-items:center}.gram-meta[_ngcontent-%COMP%]{padding:0 .3rem}.gram-meta[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin-top:0}.card-actions[_ngcontent-%COMP%] > .btn[_ngcontent-%COMP%]{width:26px!important}.card-actions[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{align-self:center}a[_ngcontent-%COMP%]{text-decoration:unset}.p5[_ngcontent-%COMP%]{line-height:.8rem!important}.margin-auto[_ngcontent-%COMP%]{margin:auto}.bookmark[_ngcontent-%COMP%]{margin:0 0 0 .6rem!important}.agree[_ngcontent-%COMP%]{padding:0!important;margin-left:.3rem}.add-comment[_ngcontent-%COMP%]{margin:.3rem 0}.modal-content[_ngcontent-%COMP%]{max-height:95dvh;padding:.6rem}@media screen and (min-width: 768px){.album[_ngcontent-%COMP%]{display:block;height:auto!important}.carousel[_ngcontent-%COMP%]{display:none}}@media screen and (max-width: 768px){.album[_ngcontent-%COMP%]{display:none}.carousel[_ngcontent-%COMP%]{display:block}.card[_ngcontent-%COMP%]{width:100%!important}.modal[_ngcontent-%COMP%]{top:unset;padding:0!important;justify-content:end}.modal-img[_ngcontent-%COMP%]{display:none}.modal-carousel[_ngcontent-%COMP%]{display:none!important}.card-img[_ngcontent-%COMP%]{height:100vw}.modal-obs-meta-lg[_ngcontent-%COMP%]{display:none;flex:initial}.modal-obs-meta-sm[_ngcontent-%COMP%]{display:inline-block!important}.modal-body[_ngcontent-%COMP%]{max-height:75dvh;height:auto!important}.modal-activity[_ngcontent-%COMP%]{flex:auto!important;width:100%!important;min-width:unset!important;max-height:75dvh;height:auto!important}}.modal-dialog[_ngcontent-%COMP%]{width:65rem}.modal-obs-meta-sm[_ngcontent-%COMP%]{display:none}.modal-header[_ngcontent-%COMP%]{padding:0!important}.activity-container[_ngcontent-%COMP%]{border:solid}.modal-body[_ngcontent-%COMP%]{display:flex;width:100%;height:85dvh;gap:.6rem}.modal-activity[_ngcontent-%COMP%]{width:20rem;flex:none;height:inherit;display:flex;flex-direction:column}.modal-carousel[_ngcontent-%COMP%]{border:solid;border-width:thin;border-color:var(--clr-card-border-color);flex:auto;height:100%;position:relative;width:100%;display:inline-block}.taxon-grade[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;max-width:100%;padding:.3rem 0}.taxon-grade-label[_ngcontent-%COMP%]{border-radius:50%;font-size:var(--clr-label-font-size);background-color:var(--clr-label-success-bg-color);color:var(--clr-label-success-font-color);padding:.25rem}.taxon[_ngcontent-%COMP%]{flex:auto;display:flex;align-items:center;flex-wrap:wrap}.taxon[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > h6[_ngcontent-%COMP%]{margin-right:.2rem}.taxon[_ngcontent-%COMP%] > h6[_ngcontent-%COMP%], .p7[_ngcontent-%COMP%]{margin-top:0!important}"]}),m})();te.Q.addIcons(Li,Kr,gi,fr,Oi.M,zt,st.c);var Es=L(5619);let Vr=(()=>{class m{constructor(){this.baseOptions=[{name:"endemic",checked:!1,label:"Endemic",value:!0},{name:"native",checked:!1,label:"Native",value:!0},{name:"threatened",checked:!1,label:"Threatened",value:!0},{name:"captive",checked:!1,label:"Captive/Cultivated",value:!0},{name:"introduced",checked:!1,label:"Introduced",value:!0},{name:"out_of_range",checked:!1,label:"Out of Range",value:!0}],this.taxa=[];let d=localStorage.getItem("taxa");d&&(this.taxa=JSON.parse(d)??[]),this.places=[],d=localStorage.getItem("places"),d&&(this.places=JSON.parse(d)),this.options=[];let g=localStorage.getItem("options");g&&(this.options=JSON.parse(g)),this._behaviorSubject=new Es.X(null),this.signal=this._behaviorSubject.asObservable()}updateTaxa(d){this.taxa=d,localStorage.setItem("taxa",JSON.stringify(d))}updatePlace(d){this.places=d,localStorage.setItem("places",JSON.stringify(d))}updateOptions(d){this.options=d,localStorage.setItem("options",JSON.stringify(this.options))}getOptions(){return this.options.map(d=>[d,"true"])}getTaxaID(){return this.taxa?.filter(d=>d.active).map(d=>d.taxon?.id||0)??[]}getPlaceID(){return this.places?.filter(d=>d.active).map(d=>d.place?.id||0)??[]}getPreferences(){let d=[["taxon_id",this.getTaxaID().join(",")],["place_id",this.getPlaceID().join(",")]];return d.push(...this.getOptions()),d}}return m.\u0275fac=function(d){return new(d||m)},m.\u0275prov=a.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"}),m})(),Vl=(()=>{class m{constructor(){this.calls=0,this.inatService=(0,a.f3M)(Le.E),this.prefservice=(0,a.f3M)(Vr),this.filterChips=[{label:"New",options:["Today","Past week","Past month","Past year","All time"]},{label:"Recently Updated"},{label:"Popular",options:["Today","Past week","Past month","Past year","All time"]},{label:"Random",options:["Today","Past week","Past month","Past year","All time"]}],this.busy=new Es.X(!1),this.observations=[],this.observationsSubject=new Es.X([]),this.loading$=this.busy.asObservable(),this.observations$=this.observationsSubject.asObservable();let d=localStorage.getItem("selectedFilter");if(d){let g=JSON.parse(d),C=this.filterChips.findIndex(S=>S.label==g.label);C>=0&&(this.filterChips[C].selected=!0,g.option&&(this.filterChips[C].option=g.option))}else this.filterChips[0].option="Today",this.filterChips[0].selected=!0;this.params={order_by:"created_at",created_d2:new Date,per_page:10,page:1},this.chipGroup=[],this.genChips(),this.chipGroup.forEach(g=>{g&&this.updateParams(g)}),this.prefservice.signal.pipe(function Gs(m){return(0,ce.h)((l,d)=>m<=d)}(1)).subscribe(()=>{this.refresh(),this.loadObservations()})}genChips(){this.chipGroup.length=0,this.chipGroup.push({chips:this.filterChips,key:"default"}),this.chipGroup.push({chips:[{label:"Unidentified",value:"false"}],key:"identified",multiSelect:!0,contraKey:"taxon_id"});let d=[];this.prefservice.taxa.forEach(S=>{d.push({label:S.taxon?.name??"",value:S.taxon?.id.toString(),selected:S.active})}),d.length&&this.chipGroup.push({chips:d,multiSelect:!0,key:"taxon_id"});let g=[];this.prefservice.places.forEach(S=>{g.push({label:S.place?.display_name??"",value:S.place?.id.toString(),selected:S.active})}),g.length&&this.chipGroup.push({chips:g,multiSelect:!0,key:"place_id"});let C=[];this.prefservice.baseOptions.forEach(S=>{this.prefservice.options.includes(S.name)&&C.push({label:S.label,option:S.name,value:S.value.toString(),selected:!0})}),C.length&&this.chipGroup.push({chips:C,multiSelect:!0,key:"options"})}updateParams(d){if("default"==d.key){let g=d.chips.filter(C=>C.selected).pop();switch(g.label){case"New":this.params.order_by="created_at",delete this.params.popular;break;case"Popular":this.params.order_by="votes",this.params.popular=!0;break;case"Recently Updated":this.params.order_by="updated_at",delete this.params.popular;break;case"Random":this.params.order_by="random",delete this.params.popular}if(g.option){let C=Date.now();switch(this.params.created_d2=new Date,g.option){case"Today":this.params.created_d1=new Date(C-864e5);break;case"Past week":this.params.created_d1=new Date(C-6048e5);break;case"Past month":this.params.created_d1=new Date(C-2592e6);break;case"Past year":this.params.created_d1=new Date(C-31536e6);break;case"All time":delete this.params.created_d1}}else delete this.params.created_d1}else if("options"==d.key)d.chips.forEach(g=>{g.selected?this.params[g.option??""]=g.value:delete this.params[g.option??""]});else if(d.multiSelect){let g=d.chips.filter(C=>C.selected&&!C.type).map(C=>C.value);if(g.length){if(this.params[d.key]=g,d.contraKey){delete this.params[d.contraKey];let C=this.chipGroup.findIndex(S=>S.key==d.contraKey);C>=0&&this.chipGroup[C].chips.forEach(S=>{S.selected=!1})}}else if(delete this.params[d.key],d.contraKey){let C=this.chipGroup.find(S=>S.key==d.contraKey);C&&this.updateParams(C)}}}extraParams(d){let g=[];if(this.params.page)return g=Object.keys(this.params).map(C=>[C,this.params[C].toString()]),d||(this.params.page+=1),this.calls++,g}getCurrentParams(){return this.extraParams(!0)}refresh(){this.observations.length=0,this.observationsSubject.next([]),this.genChips(),this.params={order_by:"created_at",created_d2:new Date,per_page:10,page:1},this.chipGroup.forEach(d=>{this.updateParams(d)})}reload(){return this.observations=[],this.observationsSubject.next([]),this.params.page=1,this.loadObservations()}loadObservations(){var d=this;return(0,ke.Z)(function*(){d.busy.next(!0);let g=d.extraParams();if(!g)return d.busy.next(!1),!1;let C=[];try{C=yield d.inatService.getObservations(g)}catch(S){return console.log(S),d.busy.next(!1),d.observationsSubject.next(d.observations),!1}if(!C.length)return d.busy.next(!1),!1;{let S=C.filter(E=>-1==d.observations.findIndex(T=>T.id==E.id));if(!S.length)return yield d.loadObservations();if(d.observations.push(...S),d.observationsSubject.next(d.observations),C.length<5)return d.busy.next(!1),!1}return d.busy.next(!1),!0})()}getObservations(){return this.observations}saveDefaultFilter(){let d=this.filterChips.filter(g=>g.selected).map(g=>({label:g.label,option:g.option})).pop();d&&localStorage.setItem("selectedFilter",JSON.stringify(d))}}return m.\u0275fac=function(d){return new(d||m)},m.\u0275prov=a.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"}),m})();var ga=L(8295);const Qa=["bell",(0,oe.h)({outline:'<path d="M32.51,27.83A14.4,14.4,0,0,1,30,24.9a12.63,12.63,0,0,1-1.35-4.81V15.15A10.81,10.81,0,0,0,19.21,4.4V3.11a1.33,1.33,0,1,0-2.67,0V4.42A10.81,10.81,0,0,0,7.21,15.15v4.94A12.63,12.63,0,0,1,5.86,24.9a14.4,14.4,0,0,1-2.47,2.93,1,1,0,0,0-.34.75v1.36a1,1,0,0,0,1,1h27.8a1,1,0,0,0,1-1V28.58A1,1,0,0,0,32.51,27.83ZM5.13,28.94a16.17,16.17,0,0,0,2.44-3,14.24,14.24,0,0,0,1.65-5.85V15.15a8.74,8.74,0,1,1,17.47,0v4.94a14.24,14.24,0,0,0,1.65,5.85,16.17,16.17,0,0,0,2.44,3Z"/><path d="M18,34.28A2.67,2.67,0,0,0,20.58,32H15.32A2.67,2.67,0,0,0,18,34.28Z"/>',outlineBadged:'<path d="M18,34.28A2.67,2.67,0,0,0,20.58,32H15.32A2.67,2.67,0,0,0,18,34.28Z"/><path d="M32.51,27.83A14.4,14.4,0,0,1,30,24.9a12.63,12.63,0,0,1-1.35-4.81V15.15a10.92,10.92,0,0,0-.16-1.79,7.44,7.44,0,0,1-2.24-.84,8.89,8.89,0,0,1,.4,2.64v4.94a14.24,14.24,0,0,0,1.65,5.85,16.17,16.17,0,0,0,2.44,3H5.13a16.17,16.17,0,0,0,2.44-3,14.24,14.24,0,0,0,1.65-5.85V15.15A8.8,8.8,0,0,1,18,6.31a8.61,8.61,0,0,1,4.76,1.44A7.49,7.49,0,0,1,22.5,6c0-.21,0-.42,0-.63a10.58,10.58,0,0,0-3.32-1V3.11a1.33,1.33,0,1,0-2.67,0V4.42A10.81,10.81,0,0,0,7.21,15.15v4.94A12.63,12.63,0,0,1,5.86,24.9a14.4,14.4,0,0,1-2.47,2.93,1,1,0,0,0-.34.75v1.36a1,1,0,0,0,1,1h27.8a1,1,0,0,0,1-1V28.58A1,1,0,0,0,32.51,27.83Z"/>',solid:'<path d="M32.85,28.13l-.34-.3A14.37,14.37,0,0,1,30,24.9a12.63,12.63,0,0,1-1.35-4.81V15.15A10.81,10.81,0,0,0,19.21,4.4V3.11a1.33,1.33,0,1,0-2.67,0V4.42A10.81,10.81,0,0,0,7.21,15.15v4.94A12.63,12.63,0,0,1,5.86,24.9a14.4,14.4,0,0,1-2.47,2.93l-.34.3v2.82H32.85Z"/><path d="M15.32,32a2.65,2.65,0,0,0,5.25,0Z"/>',solidBadged:'<path d="M18,34.28A2.67,2.67,0,0,0,20.58,32H15.32A2.67,2.67,0,0,0,18,34.28Z"/><path d="M32.85,28.13l-.34-.3A14.37,14.37,0,0,1,30,24.9a12.63,12.63,0,0,1-1.35-4.81V15.15a10.92,10.92,0,0,0-.16-1.79A7.5,7.5,0,0,1,22.5,6c0-.21,0-.42,0-.63a10.57,10.57,0,0,0-3.32-1V3.11a1.33,1.33,0,1,0-2.67,0V4.42A10.81,10.81,0,0,0,7.21,15.15v4.94A12.63,12.63,0,0,1,5.86,24.9a14.4,14.4,0,0,1-2.47,2.93l-.34.3v2.82H32.85Z"/>'})];var Ja=L(3697);function ma(m,l){if(1&m){const d=a.EpF();a.TgZ(0,"button",5),a.NdJ("click",function(){a.CHM(d);const C=a.oxw();return a.KtG(C.secondaryaction())}),a._UZ(1,"cds-icon",6),a.qZA()}if(2&m){const d=a.oxw();a.xp6(1),a.uIk("shape",d.secondaryShape[0])("badge",d.badge)}}let zn=(()=>{class m{constructor(d){this.location=d,this.onAction=new a.vpe,this.onSecondaryAction=new a.vpe}ngOnInit(){if(this.shape){if("logo"==this.shape){let d=this.location.prepareExternalUrl("/assets/icon.svg");fetch(d).then(g=>{g.text().then(C=>{te.Q.addIcons(["logo",C])})})}}else this.shape="arrow",te.Q.addIcons(Ja.V);this.secondaryShape&&te.Q.addIcons(this.secondaryShape)}back(){this.location.back()}action(){"arrow"==this.shape?this.back():this.onAction.emit(!0)}secondaryaction(){this.onSecondaryAction.emit(!0)}}return m.\u0275fac=function(d){return new(d||m)(a.Y36(ye.Ye))},m.\u0275cmp=a.Xpm({type:m,selectors:[["app-header"]],inputs:{title:"title",shape:"shape",secondaryShape:"secondaryShape",badge:"badge"},outputs:{onAction:"onAction",onSecondaryAction:"onSecondaryAction"},standalone:!0,features:[a.jDz],decls:6,vars:4,consts:[[1,"app-header"],[1,"btn","btn-icon","btn-link",3,"click"],["size","lg"],[1,"title"],["class","btn btn-icon btn-link secondary-btn",3,"click",4,"ngIf"],[1,"btn","btn-icon","btn-link","secondary-btn",3,"click"],["size","md"]],template:function(d,g){1&d&&(a.TgZ(0,"div",0)(1,"button",1),a.NdJ("click",function(){return g.action()}),a._UZ(2,"cds-icon",2),a.qZA(),a.TgZ(3,"h4",3),a._uU(4),a.qZA(),a.YNc(5,ma,2,2,"button",4),a.qZA()),2&d&&(a.xp6(2),a.uIk("shape",g.shape)("direction","arrow"==g.shape?"left":""),a.xp6(2),a.Oqu(g.title),a.xp6(1),a.Q6J("ngIf",g.secondaryShape))},dependencies:[ye.ez,ye.O5,Ae.K6A,Ae.nkF],styles:[".app-header[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;padding:.2rem;background-color:#fff}.app-header[_ngcontent-%COMP%] > .btn[_ngcontent-%COMP%]{padding:0;margin:0 .2rem}.title[_ngcontent-%COMP%]{margin-top:0;flex:auto}"]}),m})();function Yo(m,l){if(1&m){const d=a.EpF();a.TgZ(0,"div",9),a.NdJ("click",function(){const S=a.CHM(d).$implicit,E=a.oxw(3).$implicit,T=a.oxw();return a.KtG(T.selectChip(E,S))}),a._uU(1),a.qZA()}if(2&m){const d=l.$implicit;a.xp6(1),a.Oqu(d)}}function Ys(m,l){if(1&m&&(a.TgZ(0,"clr-dropdown-menu"),a.YNc(1,Yo,2,1,"div",8),a.qZA()),2&m){const d=a.oxw(2).$implicit;a.xp6(1),a.Q6J("ngForOf",d.options)}}function Bl(m,l){if(1&m&&(a.TgZ(0,"clr-dropdown",4)(1,"span",5),a._uU(2),a._UZ(3,"cds-icon",6),a.qZA(),a.YNc(4,Ys,2,1,"clr-dropdown-menu",7),a.qZA()),2&m){const d=a.oxw().$implicit;a.xp6(1),a.ekj("label-selected",d.selected),a.xp6(1),a.AsE(" ",d.label,"",d.selected?":"+d.option:""," ")}}function Ws(m,l){if(1&m){const d=a.EpF();a.TgZ(0,"span",10),a.NdJ("click",function(){a.CHM(d);const C=a.oxw().$implicit,S=a.oxw();return a.KtG(S.selectChip(C))}),a._uU(1),a.qZA()}if(2&m){const d=a.oxw().$implicit;a.ekj("label-selected",d.selected),a.xp6(1),a.hij("",d.label," ")}}function Xa(m,l){if(1&m&&(a.TgZ(0,"span",1),a.YNc(1,Bl,5,4,"clr-dropdown",2),a.YNc(2,Ws,2,3,"ng-template",null,3,a.W1O),a.qZA()),2&m){const d=l.$implicit,g=a.MAs(3);a.xp6(1),a.Q6J("ngIf",d.options)("ngIfElse",g)}}let el=(()=>{class m{set selected(d){if(d){this.multiSelect||this.chips.forEach(C=>C.selected=!1);let g=this.chips.find(C=>C.label.toLocaleLowerCase()==d.toLocaleLowerCase());g&&(g.selected=!0)}}constructor(){this.multiSelect=!1,this.chipSelect=new a.vpe}ngOnInit(){this.multiSelect||(this.last=this.chips.find(d=>d.selected))}selectChip(d,g){!this.multiSelect&&this.last&&(this.last.selected=!1),d.options&&(d.option=g),d.selected=!(this.multiSelect&&!g&&d.selected),this.chipSelect.emit(d),this.last=d}}return m.\u0275fac=function(d){return new(d||m)},m.\u0275cmp=a.Xpm({type:m,selectors:[["app-chips"]],inputs:{chips:"chips",multiSelect:"multiSelect",selected:"selected"},outputs:{chipSelect:"chipSelect"},standalone:!0,features:[a.jDz],decls:1,vars:1,consts:[["class","chip",4,"ngFor","ngForOf"],[1,"chip"],["clrPosition","bottom-right",4,"ngIf","ngIfElse"],["simple",""],["clrPosition","bottom-right"],["clrDropdownTrigger","",1,"label","pointer-on-hover"],["shape","angle","size","sm","direction","down"],[4,"clrIfOpen"],["class","p7 chip-option","clrDropdownItem","",3,"click",4,"ngFor","ngForOf"],["clrDropdownItem","",1,"p7","chip-option",3,"click"],[1,"label","pointer-on-hover",3,"click"]],template:function(d,g){1&d&&a.YNc(0,Xa,4,2,"span",0),2&d&&a.Q6J("ngForOf",g.chips)},dependencies:[ye.ez,ye.sg,ye.O5,Ae.K6A,Ae.nkF,Ae.nqY,Ae.f_W,Ae.zwp,Ae.ZUS,Ae.lU3],styles:[".chips-container[_ngcontent-%COMP%]{display:flex;padding:.3rem}.chips-container[_ngcontent-%COMP%] > .btn[_ngcontent-%COMP%]{margin:0!important;align-self:center}.chips[_ngcontent-%COMP%]{display:flex;flex-direction:row}.label[_ngcontent-%COMP%]{align-self:center;border-radius:.3rem;border:none;background-color:var(--clr-color-action-50);padding:0 .6rem!important;margin:0 .3rem .05rem 0!important;height:1.2rem!important}.label[_ngcontent-%COMP%]:hover{font-weight:500}.label[_ngcontent-%COMP%]:not(.label-selected):hover{background-color:var(--clr-color-action-100)}.label-selected[_ngcontent-%COMP%]:hover{background-color:var(--clr-color-action-700)}.label-selected[_ngcontent-%COMP%]{background-color:var(--clr-color-action-600);color:#fff!important}clr-dropdown[_ngcontent-%COMP%] > .label[_ngcontent-%COMP%] > cds-icon[_ngcontent-%COMP%]{position:relative!important;right:unset}.btn-pref[_ngcontent-%COMP%]{text-transform:unset;margin:0}.position-static[_ngcontent-%COMP%]{position:static!important}.display-none[_ngcontent-%COMP%]{display:none}.chip-option[_ngcontent-%COMP%]{margin:.1rem!important}[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}[_nghost-%COMP%]{display:inline}"]}),m})();var xs=L(512);function yu(m,l){1&m&&(a.TgZ(0,"span"),a._uU(1,"| "),a.qZA())}function Cu(m,l){if(1&m){const d=a.EpF();a.TgZ(0,"span")(1,"app-chips",12),a.NdJ("chipSelect",function(){const S=a.CHM(d).$implicit,E=a.oxw();return a.KtG(E.selectChip(S))}),a.qZA(),a.YNc(2,yu,2,0,"span",9),a.qZA()}if(2&m){const d=l.$implicit,g=l.last;a.xp6(1),a.Q6J("chips",d.chips)("multiSelect",d.multiSelect),a.xp6(1),a.Q6J("ngIf",!g)}}function Hl(m,l){if(1&m){const d=a.EpF();a.TgZ(0,"app-gram",13),a.NdJ("intersected",function(){a.CHM(d);const C=a.oxw();return a.KtG(C.intersected())}),a.qZA()}if(2&m){const g=l.last;a.Q6J("observation",l.$implicit)("observe",g)}}function Ts(m,l){1&m&&a._UZ(0,"div")}function _a(m,l){if(1&m&&(a.ynx(0),a.TgZ(1,"p",14),a._uU(2),a.ALo(3,"async"),a.qZA(),a.YNc(4,Ts,1,0,"div",9),a.ALo(5,"async"),a.BQk()),2&m){const d=a.oxw();let g,C;a.xp6(2),a.Oqu(null!=(g=a.lcZ(3,2,d.observations))&&g.length?"Oh hi! You scrolled through all observations!":"No observations"),a.xp6(2),a.Q6J("ngIf",!(null!=(C=a.lcZ(5,4,d.observations))&&C.length))}}const Tc=function(){return["preference"]};let bu=(()=>{class m{constructor(d,g){this.router=d,this.view=g,this.homeService=(0,a.f3M)(Vl),this.notificationService=(0,a.f3M)(Ke),te.Q.addIcons(ga.g),this.observations=this.homeService.observations$,this.loading=this.homeService.loading$,this.end=!1,this.bellIcon=Qa,this.notification$=this.notificationService.notification$,this.chipGroup=this.homeService.chipGroup}ngOnInit(){this.homeService.refresh(),this.moreObservations()}ngOnDestroy(){this.sub?.unsubscribe(),this.homeService.saveDefaultFilter()}trackByItems(d,g){return g.id}moreObservations(){this.end=!1,this.homeService.loadObservations().then(d=>{this.end=!d})}reload(){document.querySelector(".home")?.scrollIntoView(!0),this.end=!1,this.homeService.reload().then(d=>{this.end=!d})}selectChip(d){this.homeService.updateParams(d),this.homeService.reload().then(g=>{this.end=!g})}goToNotifications(){this.router.navigateByUrl("/notifications")}intersected(){this.moreObservations()}}return m.\u0275fac=function(d){return new(d||m)(a.Y36(W.F0),a.Y36(a.s_b))},m.\u0275cmp=a.Xpm({type:m,selectors:[["app-home"]],standalone:!0,features:[a.jDz],decls:17,vars:15,consts:[["title","iNatureGram","id","top","shape","logo",1,"sticky-top",3,"secondaryShape","badge","onAction","onSecondaryAction"],[1,"chips-filter-container"],[1,"filters"],["optscroll",""],[1,"btn","btn-sm","btn-pref",3,"routerLink"],["shape","filter-grid","size","md"],[4,"ngFor","ngForOf"],[1,"home"],["appIntersectionObserver","",3,"observation","observe","intersected",4,"ngFor","ngForOf","ngForTrackBy"],[4,"ngIf"],[1,"spinner-container"],[1,"spinner","spinner-md",3,"hidden"],[3,"chips","multiSelect","chipSelect"],["appIntersectionObserver","",3,"observation","observe","intersected"],[1,"end"]],template:function(d,g){1&d&&(a.TgZ(0,"app-header",0),a.NdJ("onAction",function(){return g.reload()})("onSecondaryAction",function(){return g.goToNotifications()}),a.ALo(1,"async"),a.qZA(),a.TgZ(2,"div",1)(3,"div",2,3)(5,"a",4),a._UZ(6,"cds-icon",5),a.qZA(),a._uU(7," | "),a.YNc(8,Cu,3,3,"span",6),a.qZA()(),a.TgZ(9,"div",7),a.YNc(10,Hl,1,2,"app-gram",8),a.ALo(11,"async"),a.YNc(12,_a,6,6,"ng-container",9),a.TgZ(13,"div",10)(14,"span",11),a.ALo(15,"async"),a._uU(16," Loading... "),a.qZA()()()),2&d&&(a.Q6J("secondaryShape",g.bellIcon)("badge",a.lcZ(1,8,g.notification$)?"warning":""),a.xp6(5),a.Q6J("routerLink",a.DdM(14,Tc)),a.xp6(3),a.Q6J("ngForOf",g.chipGroup),a.xp6(2),a.Q6J("ngForOf",a.lcZ(11,10,g.observations))("ngForTrackBy",g.trackByItems),a.xp6(2),a.Q6J("ngIf",g.end),a.xp6(2),a.Q6J("hidden",!a.lcZ(15,12,g.loading)))},dependencies:[ye.ez,ye.sg,ye.O5,ye.Ov,Ka,Ae.K6A,Ae.q0d,Ae.nkF,W.rH,zn,el,xs.Z],styles:[".progress[_ngcontent-%COMP%]{height:6px!important}.spinner-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-content:center;padding:1rem}.home[_ngcontent-%COMP%]{max-width:850px;width:100%}.end[_ngcontent-%COMP%]{text-align:center}.custom-header[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;padding:.2rem .5rem;background-color:#fafafa}.header-actions[_ngcontent-%COMP%]{align-self:center}clr-dropdown[_ngcontent-%COMP%] > .btn[_ngcontent-%COMP%]{padding:0;margin:0}clr-dropdown[_ngcontent-%COMP%] > .btn[_ngcontent-%COMP%] > cds-icon[_ngcontent-%COMP%]{position:relative!important;right:unset}.brand[_ngcontent-%COMP%]{height:2rem!important;width:8rem!important}.filters[_ngcontent-%COMP%]{display:block;width:100%;padding:.3rem;line-height:1.5rem}.btn-pref[_ngcontent-%COMP%]{min-width:1.5rem!important;padding:0!important;margin:0 .2rem 0 0!important;background-color:#e3f5fc!important;display:inline-block;border:none}.position-static[_ngcontent-%COMP%]{position:static!important}.display-none[_ngcontent-%COMP%]{display:none}[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.chips-filter-container[_ngcontent-%COMP%]{display:flex;align-items:center}"]}),m})(),yo=(()=>{class m{constructor(d){this.el=d}ngAfterViewInit(){let g=getComputedStyle(this.el.nativeElement).getPropertyValue("grid-template-columns").split(" ").at(0);this.el.nativeElement.style["grid-auto-rows"]=g}onResize(){this.ngAfterViewInit()}}return m.\u0275fac=function(d){return new(d||m)(a.Y36(a.SBq))},m.\u0275dir=a.lG2({type:m,selectors:[["","squareGrid",""]],hostBindings:function(d,g){1&d&&a.NdJ("resize",function(S){return g.onResize(S)},!1,a.Jf7)},standalone:!0}),m})();function Qd(m,l){if(1&m&&a._UZ(0,"img",8),2&m){const d=a.oxw().$implicit;a.Q6J("src",d.photos[0].url,a.LSH)("width",d.photos[0].original_dimensions.width)("height",d.photos[0].original_dimensions.height)}}function tl(m,l){if(1&m&&(a.TgZ(0,"span"),a._UZ(1,"br"),a._uU(2),a.qZA()),2&m){const d=a.oxw(2).$implicit;a.xp6(2),a.Oqu(d.taxon.preferred_common_name)}}function Ul(m,l){if(1&m&&(a.TgZ(0,"div",9)(1,"em"),a._uU(2),a.qZA(),a.YNc(3,tl,3,1,"span",10),a.qZA()),2&m){const d=a.oxw().$implicit;a.xp6(2),a.Oqu(d.taxon.name),a.xp6(1),a.Q6J("ngIf",d.taxon.preferred_common_name)}}function Jd(m,l){1&m&&(a.TgZ(0,"div",9),a._uU(1,"Unidentified"),a.qZA())}const _n=function(m){return["/observation",m]};function ir(m,l){if(1&m&&(a.TgZ(0,"div",4),a.YNc(1,Qd,1,3,"img",5),a.YNc(2,Ul,4,2,"div",6),a.YNc(3,Jd,2,0,"ng-template",null,7,a.W1O),a.qZA()),2&m){const d=l.$implicit,g=a.MAs(4),C=a.oxw();a.ekj("tall",d.photos[0].original_dimensions.width/d.photos[0].original_dimensions.height<.7&&C.styled)("wide",d.photos[0].original_dimensions.width/d.photos[0].original_dimensions.height>1.4&&C.styled)("square",d.photos[0].original_dimensions.width==d.photos[0].original_dimensions.height&&C.styled)("popular",d.faves_count>0&&C.styled),a.xp6(1),a.Q6J("urlify",a.VKq(11,_n,d.uuid)),a.xp6(1),a.Q6J("ngIf",d.taxon)("ngIfElse",g)}}let Zi=(()=>{class m{constructor(){this.inat=(0,a.f3M)(Le.E),this.max=18,this.observations=[],this.retrieveOnScroll=!1,this.loadingObs=!1,this.observe=!1,this._init=!1,this.styled=!1}set query(d){this.params={page:1},Object.keys(d).forEach(g=>{this.params[g]=d[g]}),this._init&&(this.observe=!1,this.observations=[],this.retrieveObs())}ngOnInit(){this._init=!0,this.retrieveOnScroll?(delete this.params.per_page,this.params.page=1):this.params.per_page=this.max,this.observations=[],this.retrieveObs()}intersected(){this.observe=!1,this.retrieveObs()}retrieveObs(){let d=[];Object.keys(this.params).forEach(g=>{this.params[g]&&d.push([g,this.params[g].toString()])}),this.loadingObs=!0,this.inat.getObservations(d).then(g=>{this.observations.push(...g),this.retrieveOnScroll&&g.length&&(this.params.page++,this.observe=!0)}).finally(()=>{this.loadingObs=!1})}}return m.\u0275fac=function(d){return new(d||m)},m.\u0275cmp=a.Xpm({type:m,selectors:[["app-observation-grid"]],inputs:{max:"max",styled:"styled",retrieveOnScroll:"retrieveOnScroll",query:"query"},standalone:!0,features:[a.jDz],decls:5,vars:3,consts:[["squareGrid","",1,"grid-container"],["class","grid-item",3,"tall","wide","square","popular",4,"ngFor","ngForOf"],["appIntersectionObserver","",1,"spinner-container",3,"observe","intersected"],[1,"spinner","spinner-md",3,"hidden"],[1,"grid-item"],["loading","lazy","class","obs-img",3,"src","width","height",4,"urlify"],["class","taxon hover-label",4,"ngIf","ngIfElse"],["unidentified",""],["loading","lazy",1,"obs-img",3,"src","width","height"],[1,"taxon","hover-label"],[4,"ngIf"]],template:function(d,g){1&d&&(a.TgZ(0,"div",0),a.YNc(1,ir,5,13,"div",1),a.qZA(),a.TgZ(2,"div",2),a.NdJ("intersected",function(){return g.intersected()}),a.TgZ(3,"span",3),a._uU(4," Loading... "),a.qZA()()),2&d&&(a.xp6(1),a.Q6J("ngForOf",g.observations),a.xp6(1),a.Q6J("observe",g.observe),a.xp6(1),a.Q6J("hidden",!g.loadingObs))},dependencies:[ye.ez,ye.sg,ye.O5,yo,un.L,xs.Z,Ae.K6A],styles:[".grid-container[_ngcontent-%COMP%]{display:grid;gap:.2rem;grid-template-columns:repeat(auto-fill,minmax(min(7rem,24dvw),1fr));grid-auto-flow:dense}.obs-img[_ngcontent-%COMP%]{height:100%;width:100%;object-fit:cover;max-height:100%}.grid-item[_ngcontent-%COMP%]{position:relative}@media screen and (min-width:768px){.grid-item.square[_ngcontent-%COMP%]{grid-column:auto/span 2;grid-row:auto/span 2}.grid-item.tall[_ngcontent-%COMP%]{grid-row:auto/ span 2}.grid-item.wide[_ngcontent-%COMP%]{grid-column:auto/ span 2}.grid-item.popular[_ngcontent-%COMP%]:not(.tall):not(.wide){grid-column:auto / span 3;grid-row:auto /span 3}.grid-item.popular.tall[_ngcontent-%COMP%]{grid-column:auto / span 2;grid-row:auto /span 3}.grid-item.popular.wide[_ngcontent-%COMP%]{grid-column:auto / span 3;grid-row:auto /span 2}}@media screen and (max-width:768px){.grid-item.popular[_ngcontent-%COMP%]:not(.tall):not(.wide){grid-column:auto / span 2;grid-row:auto /span 2}.grid-item.popular.tall[_ngcontent-%COMP%]{grid-row:auto/ span 2}.grid-item.popular.wide[_ngcontent-%COMP%]{grid-column:auto/ span 2}}.attribution[_ngcontent-%COMP%]{bottom:0;left:0;text-align:start}.taxon[_ngcontent-%COMP%]{top:0;right:0;text-align:end}.grid-item[_ngcontent-%COMP%]:hover   .hover-label[_ngcontent-%COMP%]{visibility:visible}.grid-item[_ngcontent-%COMP%]:hover   .obs-img[_ngcontent-%COMP%]{filter:brightness(80%)}.hover-label[_ngcontent-%COMP%]{visibility:hidden;background-color:var(--bg-black-semi-transparent);color:#fff;position:absolute;z-index:5;line-height:.6rem;margin:.2rem;padding:.1rem;font-size:x-small}.spinner-container[_ngcontent-%COMP%]{display:flex;padding:.5rem}.spinner-container[_ngcontent-%COMP%] > .spinner[_ngcontent-%COMP%]{margin:auto}"]}),m})(),$s=(()=>{class m{constructor(){this.inaturalistService=(0,a.f3M)(Le.E)}getTaxonomy(d,g){var C=this;return(0,ke.Z)(function*(){let S=[];Object.keys(d).forEach(M=>{d[M]&&S.push([M,d[M].toString()])});let E=yield C.inaturalistService.getObservationsTaxonomy(S),T=C.buildTaxonTree(E);return(void 0===g||g)&&C.simplifyTaxonTree(T),T})()}buildTaxonTree(d){let g={id:0,name:"All",count:0,descendant:[],descendant_obs_count:0},C=[];return d.results.forEach(S=>{S.descendant=[],C[S.id]&&S.descendant.push(...C[S.id].descendant??[]),C[S.id]=S,S.parent_id?(C[S.parent_id]||(C[S.parent_id]={descendant:[],descendant_obs_count:0,id:0,name:"temp",count:0}),C[S.parent_id].descendant?.push(S)):(S.direct_obs_count??0)<d.count_without_taxon?(g.descendant?.push(S),g.descendant_obs_count=S.descendant_obs_count??0,g.descendant?.push({id:-1,name:"Unidentified",count:d.count_without_taxon-(S.direct_obs_count??0),descendant_obs_count:d.count_without_taxon-(S.direct_obs_count??0),descendant:[]}),g.descendant_obs_count=d.count_without_taxon-(S.direct_obs_count??0)+S.descendant_obs_count):g=S}),g}simplifyTaxonTree(d){d.descendant?.forEach((g,C)=>{if(0==g.direct_obs_count&&1==g.descendant?.length&&d.descendant){let S=g.descendant.at(0);for(;1==S.descendant?.length;)S=S.descendant.at(0);d.descendant[C]=S}}),d.descendant?.forEach(g=>{this.simplifyTaxonTree(g)})}}return m.\u0275fac=function(d){return new(d||m)},m.\u0275prov=a.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"}),m})();const qs=["refresh",(0,oe.h)({outline:'<path d="M22.4,11.65a1.09,1.09,0,0,0,1.09,1.09H34.43V1.81a1.09,1.09,0,1,0-2.19,0V8.95a16.41,16.41,0,1,0,1.47,15.86,1.12,1.12,0,0,0-2.05-.9,14.18,14.18,0,1,1-1.05-13.36H23.5A1.09,1.09,0,0,0,22.4,11.65Z"/>'})];let Ks=(()=>{class m{constructor(){this.numWords=[{div:1e3,word:" thousand",short:"K"},{div:1e6,word:" million",short:"M"},{div:1e9,word:" billion",short:"B"}]}transform(d,g){if(void 0===d)return"";g||(g="short");let C="";if(d<1e3)C=d.toString();else{let S=-1,E=0;for(S=0;S<3&&(E=Math.floor(d/this.numWords[S].div),!(E<1e3));S++);C=`${E}${"long"==g?this.numWords[S].word:this.numWords[S].short}`}return C}}return m.\u0275fac=function(d){return new(d||m)},m.\u0275pipe=a.Yjl({name:"intWord",type:m,pure:!0,standalone:!0}),m})();function Co(m,l){if(1&m&&(a.ynx(0),a._uU(1),a.ALo(2,"titlecase"),a.BQk()),2&m){const d=a.oxw(2).$implicit;a.xp6(1),a.hij(" ",a.lcZ(2,1,d.rank),"\xa0")}}function jl(m,l){if(1&m&&(a.ynx(0),a._uU(1),a.ALo(2,"titlecase"),a.BQk()),2&m){const d=a.oxw().$implicit;a.xp6(1),a.hij(" ",a.lcZ(2,1,d.rank),"\xa0")}}function bo(m,l){if(1&m){const d=a.EpF();a.TgZ(0,"span",12),a.NdJ("click",function(){const S=a.CHM(d).$implicit,E=a.oxw(3).index,T=a.oxw();return a.KtG(T.selectTaxon(S,E))}),a.YNc(1,jl,3,3,"ng-container",7),a.TgZ(2,"em"),a._uU(3),a.qZA(),a._uU(4),a.ALo(5,"intWord"),a.qZA()}if(2&m){const d=l.$implicit;a.xp6(1),a.Q6J("ngIf",100!=d.rank_level&&10!=d.rank_level&&5!=d.rank_level),a.xp6(2),a.Oqu(d.name),a.xp6(1),a.hij(" (",a.lcZ(5,3,d.descendant_obs_count),")")}}function vi(m,l){if(1&m&&(a.TgZ(0,"clr-dropdown-menu",10),a.YNc(1,bo,6,5,"span",11),a.qZA()),2&m){const d=a.oxw(2).$implicit;a.xp6(1),a.Q6J("ngForOf",d.descendant)}}function Nt(m,l){if(1&m&&(a.TgZ(0,"clr-dropdown")(1,"span",6),a.YNc(2,Co,3,3,"ng-container",7),a._uU(3),a.ALo(4,"titlecase"),a.ALo(5,"intWord"),a._UZ(6,"cds-icon",8),a.qZA(),a.YNc(7,vi,2,1,"clr-dropdown-menu",9),a.qZA()),2&m){const d=a.oxw(),g=d.$implicit,C=d.last;a.xp6(2),a.Q6J("ngIf",100!=g.rank_level&&10!=g.rank_level&&5!=g.rank_level),a.xp6(1),a.AsE(" ",a.lcZ(4,4,g.name),"\xa0(",a.lcZ(5,6,g.descendant_obs_count),") "),a.xp6(3),a.uIk("direction",C?"down":"right")}}function hn(m,l){if(1&m&&(a.ynx(0),a._uU(1),a.ALo(2,"titlecase"),a.BQk()),2&m){const d=a.oxw(2).$implicit;a.xp6(1),a.hij(" ",a.lcZ(2,1,d.rank),"\xa0")}}function $n(m,l){if(1&m&&(a.TgZ(0,"span",13),a.YNc(1,hn,3,3,"ng-container",7),a.TgZ(2,"em"),a._uU(3),a.qZA(),a._uU(4),a.ALo(5,"intWord"),a.qZA()),2&m){const d=a.oxw().$implicit;a.xp6(1),a.Q6J("ngIf",100!=d.rank_level&&10!=d.rank_level&&5!=d.rank_level),a.xp6(2),a.Oqu(d.name),a.xp6(1),a.hij(" (",a.lcZ(5,3,d.descendant_obs_count),")")}}function xr(m,l){if(1&m&&(a.TgZ(0,"span"),a.YNc(1,Nt,8,8,"clr-dropdown",4),a.YNc(2,$n,6,5,"ng-template",null,5,a.W1O),a.qZA()),2&m){const d=l.$implicit,g=a.MAs(3);a.xp6(1),a.Q6J("ngIf",null==d.descendant?null:d.descendant.length)("ngIfElse",g)}}let Is=(()=>{class m{set params(d){this._params=d,this.qTaxonomy().then(()=>{this._tailId&&this.chainTaxonomy(this.taxonomy,this._tailId)})}set tailId(d){this._tailId=d,this.taxonomy.length&&(d?this.chainTaxonomy(this.taxonomy,d):0===d&&(this.taxonomy.length=1))}constructor(d){this.router=d,this.inatTools=(0,a.f3M)($s),this.tailChange=new a.vpe,this.btnState=Ae.xp5.DEFAULT,this.taxonomy=[],te.Q.addIcons(qs)}qTaxonomy(){var d=this;return(0,ke.Z)(function*(){d.btnState=Ae.xp5.LOADING;let g=yield d.inatTools.getTaxonomy(d._params);d.taxonomy=[g],d.btnState=Ae.xp5.DEFAULT})()}chainTaxonomy(d,g){let C=d.findIndex(E=>E.id==g);if(C>=0)return d.splice(C+1),!0;let S=d[d.length-1];if(S.id==g)return!0;if(S.descendant){for(let E=0;E<S.descendant.length;E++){if(d.push(S.descendant[E]),this.chainTaxonomy(d,g))return!0;d.pop()}return!1}return!1}selectTaxon(d,g){this.taxonomy.length-1>g&&this.taxonomy.splice(g+1),this.taxonomy.push(d),this.tailChange.emit(d);let C={},S=this.router.lastSuccessfulNavigation?.extractedUrl.queryParams??{};Object.keys(S).forEach(E=>{C[E]=S[E]}),d.id>0?(C.taxon_id=d.id,delete C.identified):-1==d.id&&(C.identified=!1,delete C.taxon_id),this.router.navigate([],{queryParams:C})}resetTaxonomy(){this.taxonomy.length=1;let d=this.router.lastSuccessfulNavigation?.extractedUrl.queryParams??{},g={};Object.keys(d).forEach(C=>{g[C]=d[C]}),delete g.identified,delete g.taxon_id,this.router.navigate([],{queryParams:g}),this.tailChange.emit(this.taxonomy[0])}}return m.\u0275fac=function(d){return new(d||m)(a.Y36(W.F0))},m.\u0275cmp=a.Xpm({type:m,selectors:[["app-taxonomy"]],inputs:{params:"params",tailId:"tailId"},outputs:{tailChange:"tailChange"},standalone:!0,features:[a.jDz],decls:4,vars:3,consts:[[1,"taxonomy"],[1,"btn","btn-icon","btn-link","btn-sm",3,"clrLoading","disabled","click"],["shape","refresh","size","sm"],[4,"ngFor","ngForOf"],[4,"ngIf","ngIfElse"],["end",""],["clrDropdownTrigger","","clrDropdownTrigger","",1,"p5","taxon-item"],[4,"ngIf"],["shape","angle","size","sm"],["clrPosition","bottom-left",4,"clrIfOpen"],["clrPosition","bottom-left"],["class","p5","clrDropdownItem","",3,"click",4,"ngFor","ngForOf"],["clrDropdownItem","",1,"p5",3,"click"],[1,"p5","taxon-item"]],template:function(d,g){1&d&&(a.TgZ(0,"div",0)(1,"button",1),a.NdJ("click",function(){return g.resetTaxonomy()}),a._UZ(2,"cds-icon",2),a.qZA(),a.YNc(3,xr,4,2,"span",3),a.qZA()),2&d&&(a.xp6(1),a.Q6J("clrLoading",g.btnState)("disabled",1==g.taxonomy.length),a.xp6(2),a.Q6J("ngForOf",g.taxonomy))},dependencies:[ye.ez,ye.sg,ye.O5,ye.rS,Ae.K6A,Ae.nkF,Ae.cCV,Ae.nqY,Ae.MPb,Ae.f_W,Ae.zwp,Ae.ZUS,Ae.lU3,Ks],styles:["clr-dropdown-menu[_ngcontent-%COMP%]{max-height:15rem;overflow-y:scroll}clr-dropdown-menu[_ngcontent-%COMP%] > .dropdown-item[_ngcontent-%COMP%]{flex:none}clr-dropdown[_ngcontent-%COMP%] > .taxon-item[_ngcontent-%COMP%] > cds-icon[_ngcontent-%COMP%]{position:relative!important;right:unset}clr-dropdown-menu[_ngcontent-%COMP%] > .p5[_ngcontent-%COMP%]{margin-top:0!important}.taxonomy[_ngcontent-%COMP%]{padding:.3rem}.taxonomy[_ngcontent-%COMP%] > .btn[_ngcontent-%COMP%]{padding:0;margin:0 .3rem 0 0}.taxon-item[_ngcontent-%COMP%]{margin-top:0!important;margin-right:.2rem;padding:.1rem .3rem!important;background-color:var(--clr-color-action-50);border-radius:.2rem;white-space:nowrap}[_ngcontent-%COMP%]::-webkit-scrollbar{width:.2rem}"]}),m})();function Vi(m,l){if(1&m&&(a.ynx(0),a.TgZ(1,"h2"),a._uU(2),a.qZA(),a.BQk()),2&m){const d=a.oxw();a.xp6(2),a.Oqu(d.user.name)}}function Ms(m,l){if(1&m&&(a.ynx(0),a.TgZ(1,"div",6),a._uU(2),a.ALo(3,"intWord"),a.qZA(),a.BQk()),2&m){const d=a.oxw();a.xp6(2),a.hij("",a.lcZ(3,1,d.user.observations_count)," Observations")}}function ri(m,l){if(1&m&&(a.ynx(0),a._UZ(1,"p",14),a.BQk()),2&m){const d=a.oxw();let g;a.xp6(1),a.Q6J("innerHTML",null==d.user.description||null==(g=d.user.description.replaceAll("\r\n\r\n","<br>"))?null:g.replaceAll("\r\n","<br>"),a.oJD)}}function Wo(m,l){1&m&&a._UZ(0,"clr-progress-bar",15)}const Tr=function(m){return{user_login:m}};let gn=(()=>{class m{constructor(d,g){this.router=d,this.activatedRoute=g,this.route=(0,a.f3M)(W.gz),this.inaturalistService=(0,a.f3M)(Le.E),this.user_login="",this.user=void 0,this.user_login=this.route.snapshot.params.user_login,this.following=!1,this.obsQuery={user_login:this.user_login},this.tailId=0}ngOnInit(){this.inaturalistService.getUserByLogin(this.user_login).then(d=>{this.user=d}),this.inaturalistService.getRelationships(this.user_login).then(d=>{d.length&&d[0].following&&(this.following=!0,this.relationshipID=d[0].id)}).catch(d=>{console.log(d)}),this.sub=this.activatedRoute.queryParams.subscribe(d=>{this.obsQuery={user_login:this.user_login},Object.keys(d).forEach(g=>{this.obsQuery[g]=d[g]}),this.tailId=this.obsQuery.taxon_id?Number(this.obsQuery.taxon_id):"false"===this.obsQuery.identified?-1:0})}ngOnDestroy(){this.sub.unsubscribe()}follow(d){d.loadingStateChange(Ae.xp5.LOADING),this.following?this.inaturalistService.relationships(this.relationshipID).then(()=>{this.following=!1,this.relationshipID=void 0}).finally(()=>{d.loadingStateChange(Ae.xp5.DEFAULT)}):this.inaturalistService.relationships({friend_id:this.user?.id,following:!0,trust:!1}).then(g=>{this.following=!0,this.relationshipID=g[0].id}).finally(()=>{d.loadingStateChange(Ae.xp5.DEFAULT)})}}return m.\u0275fac=function(d){return new(d||m)(a.Y36(W.F0),a.Y36(W.gz))},m.\u0275cmp=a.Xpm({type:m,selectors:[["app-user"]],standalone:!0,features:[a.jDz],decls:21,vars:17,consts:[[1,"sticky-top",3,"title"],[1,"user","padding"],[1,"user-icon",3,"src"],[1,"flex-wrap"],[1,"user-info"],[4,"ngIf","ngIfElse"],[1,"p5"],["clrLoading","",1,"btn","btn-primary","btn-sm","m-0",3,"click"],["b",""],[1,"user-description","padding"],[1,"observations"],[3,"params","tailId"],[3,"query","retrieveOnScroll","styled"],["loading",""],[1,"p5",3,"innerHTML"],["clrLoop",""]],template:function(d,g){if(1&d){const C=a.EpF();a._UZ(0,"app-header",0),a.TgZ(1,"div",1),a._UZ(2,"img",2),a.TgZ(3,"div",3)(4,"div",4),a.YNc(5,Vi,3,1,"ng-container",5),a.TgZ(6,"div",6),a._uU(7),a.qZA(),a.YNc(8,Ms,4,3,"ng-container",5),a.qZA(),a.TgZ(9,"button",7,8),a.NdJ("click",function(){a.CHM(C);const E=a.MAs(10);return a.KtG(g.follow(E))}),a._uU(11),a.qZA()()(),a.TgZ(12,"div",9),a.YNc(13,ri,2,1,"ng-container",5),a.qZA(),a.TgZ(14,"div",10)(15,"h5"),a._uU(16,"Observations"),a.qZA(),a._UZ(17,"app-taxonomy",11)(18,"app-observation-grid",12),a.qZA(),a.YNc(19,Wo,1,0,"ng-template",null,13,a.W1O)}if(2&d){const C=a.MAs(20);a.Q6J("title","@"+g.user_login),a.xp6(2),a.Q6J("src",(null==g.user?null:g.user.icon_url)||"assets/default.png",a.LSH),a.xp6(3),a.Q6J("ngIf",g.user)("ngIfElse",C),a.xp6(2),a.hij("@",g.user_login,""),a.xp6(1),a.Q6J("ngIf",g.user)("ngIfElse",C),a.xp6(3),a.hij(" ",g.following?"Following":"Follow",""),a.xp6(2),a.Q6J("ngIf",g.user)("ngIfElse",C),a.xp6(4),a.Q6J("params",a.VKq(15,Tr,g.user_login))("tailId",g.tailId),a.xp6(1),a.Q6J("query",g.obsQuery)("retrieveOnScroll",!0)("styled",!0)}},dependencies:[ye.ez,ye.O5,Ae.K6A,Ae.cCV,Ae.MPb,Ae.B0r,zn,Zi,Is,Ks],styles:[".card-img[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{height:33vw!important;object-fit:cover;border-radius:0%!important}.padding[_ngcontent-%COMP%]{padding:.3rem .6rem}.user[_ngcontent-%COMP%]{display:flex;max-width:var(--max-width);margin:auto}.user[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{align-self:center}.user-info[_ngcontent-%COMP%]{flex:auto;padding-right:.3rem}.user-info[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin-top:0}.user-icon[_ngcontent-%COMP%]{border-radius:50%;width:6rem;height:6rem;object-fit:cover;margin-right:.6rem;flex:none}@media screen and (max-width:768px){.user-icon[_ngcontent-%COMP%]{width:4rem;height:4rem}}.m-0[_ngcontent-%COMP%]{margin:0}h4[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{margin:0!important}.user-description[_ngcontent-%COMP%]{height:min-content;width:100%;max-width:var(--max-width);margin:auto}.user-description[_ngcontent-%COMP%] > .p5[_ngcontent-%COMP%]{margin-top:0!important;overflow-wrap:break-word}.user-header[_ngcontent-%COMP%]{position:absolute}.grid-container[_ngcontent-%COMP%]{display:grid;gap:.2rem;grid-template-columns:repeat(auto-fill,minmax(min(7rem,24dvw),1fr));grid-auto-flow:dense}.observations[_ngcontent-%COMP%]{width:100%;max-width:var(--max-width);margin:auto}.observations[_ngcontent-%COMP%] > h5[_ngcontent-%COMP%]{padding:0 .3rem}@media screen and (min-width: 768px){.observations[_ngcontent-%COMP%] > .grid-container[_ngcontent-%COMP%]{padding:0 .3rem}}.spinner-container[_ngcontent-%COMP%]{display:flex;padding:.5rem}.spinner-container[_ngcontent-%COMP%] > .spinner[_ngcontent-%COMP%]{margin:auto}.flex-wrap[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;flex:auto;align-items:center}"]}),m})();var As=L(2409);const Xr=["bug",(0,oe.h)({outline:'<circle cx="23.56" cy="17.74" r="1.95"/><circle cx="22.42" cy="25.88" r="1.58"/><circle cx="12.86" cy="17.74" r="1.95"/><circle cx="13.99" cy="25.88" r="1.58"/><path d="M30.83,20H29a19.29,19.29,0,0,0-1.18-5.73l1.46-.79a1,1,0,0,0-.95-1.76l-3,1.64A17.65,17.65,0,0,1,27,20.72C27,27,23.8,31.23,18.8,31.62V15H17.2V31.62C12.22,31.21,9,27,9,20.72a17.74,17.74,0,0,1,1.73-7.34L7.7,11.72a1,1,0,0,0-.95,1.76l1.5.8A19.38,19.38,0,0,0,7.07,20H5.17a1,1,0,0,0,0,2H7.1a14.62,14.62,0,0,0,1.66,6.17L6.87,29.49A1,1,0,1,0,8,31.12l1.84-1.29A10.38,10.38,0,0,0,18,33.66a10.38,10.38,0,0,0,8.14-3.81L28,31.12a1,1,0,1,0,1.15-1.64l-1.86-1.3A14.61,14.61,0,0,0,28.94,22h1.89a1,1,0,0,0,0-2Z"/><path d="M11.51,5.36a1.67,1.67,0,0,0,1.07-.51A3.21,3.21,0,0,1,13.76,6a16.38,16.38,0,0,0-2.65,2.89,2,2,0,0,0,1.61,3.19H23.32A2,2,0,0,0,25.1,11a2,2,0,0,0-.17-2.1A16.34,16.34,0,0,0,22.25,6a3.21,3.21,0,0,1,1.17-1.11A1.68,1.68,0,1,0,23,3.27,4.77,4.77,0,0,0,21,5a5.81,5.81,0,0,0-2.93-1,5.83,5.83,0,0,0-3,1A4.77,4.77,0,0,0,13,3.27a1.68,1.68,0,1,0-1.49,2.09ZM18,6.07c1.45,0,3.53,1.57,5.31,4h0l-10.6,0C14.49,7.63,16.56,6.07,18,6.07Z"/>',solid:'<path d="M30.83,20H29a19.29,19.29,0,0,0-1.18-5.73l1.46-.79a1,1,0,0,0-.95-1.76l-3,1.28H10.78L7.7,11.72a1,1,0,0,0-.95,1.76l1.5.8A19.38,19.38,0,0,0,7.07,20H5.17a1,1,0,0,0,0,2H7.1a14.62,14.62,0,0,0,1.66,6.17L6.87,29.49A1,1,0,1,0,8,31.12l1.84-1.29A10.29,10.29,0,0,0,17,33.6V15h2V33.6a10.29,10.29,0,0,0,7.16-3.75L28,31.12a1,1,0,1,0,1.15-1.64l-1.86-1.3A14.61,14.61,0,0,0,28.94,22h1.89a1,1,0,0,0,0-2ZM10.91,17.74a1.95,1.95,0,1,1,1.95,1.95A1.95,1.95,0,0,1,10.91,17.74ZM14,27.46a1.58,1.58,0,1,1,1.58-1.58A1.58,1.58,0,0,1,14,27.46Zm8.43,0A1.58,1.58,0,1,1,24,25.88,1.58,1.58,0,0,1,22.42,27.46Zm1.13-7.77a1.95,1.95,0,1,1,1.95-1.95A1.95,1.95,0,0,1,23.56,19.69Z"/><path d="M11.23,5.26a1.67,1.67,0,0,0,.54-.32,5.9,5.9,0,0,1,.89.58,7.44,7.44,0,0,1,.95.94A18.48,18.48,0,0,0,10.79,9.7c-.4.57.09,1.28.86,1.28H24.44c.77,0,1.26-.71.86-1.28a18.38,18.38,0,0,0-2.88-3.28,7.28,7.28,0,0,1,.91-.9,5.9,5.9,0,0,1,.89-.58,1.69,1.69,0,1,0-.56-1.51,7.49,7.49,0,0,0-1.32.83,9.06,9.06,0,0,0-1.19,1.18A5.85,5.85,0,0,0,18,4.3a5.91,5.91,0,0,0-3.17,1.19,9.2,9.2,0,0,0-1.22-1.21,7.49,7.49,0,0,0-1.32-.83,1.68,1.68,0,1,0-1.11,1.83Z"/>'})];var Yt=L(95);function es(m,l){if(1&m&&(a.ynx(0),a.TgZ(1,"h1",5),a._uU(2),a.qZA(),a.BQk()),2&m){const d=a.oxw();a.xp6(2),a.hij("Hello ",d.me.login,"")}}function So(m,l){if(1&m&&(a.ynx(0),a.TgZ(1,"p"),a._uU(2,"Your api token will enable the app to send "),a.TgZ(3,"em"),a._uU(4,"fave, comment"),a.qZA(),a._uU(5," and "),a.TgZ(6,"em"),a._uU(7,"identify"),a.qZA(),a._uU(8," requests to iNaturalist via the publicly available "),a.TgZ(9,"a",6),a._uU(10,"API"),a.qZA(),a._uU(11,". All requests are only sent upon your direct action on the app (tapping the fave button, adding a comment, etc.). The API token expires after 24 hours of it being requested from iNaturalist."),a.qZA(),a.TgZ(12,"p"),a._uU(13,"Get your token "),a.TgZ(14,"a",7),a._uU(15," here"),a.qZA()(),a.TgZ(16,"form",8)(17,"clr-textarea-container")(18,"label",9),a._uU(19,"API Token"),a.qZA(),a.TgZ(20,"textarea",10),a._uU(21,"                "),a.qZA(),a.TgZ(22,"clr-control-error"),a._uU(23,"Invalid token"),a.qZA()()(),a.BQk()),2&m){const d=a.oxw();a.xp6(16),a.Q6J("formGroup",d.authForm)}}let ts=(()=>{class m{constructor(){this.authService=(0,a.f3M)(Je.Z),this.inatService=(0,a.f3M)(Le.E),this.authForm=new Yt.cw({token:new Yt.NI("")}),this.authBtnState=Ae.xp5.DEFAULT,this.authForm.controls.token.setValue(this.authService.token),this.me=this.authService.me,te.Q.addIcons(As.D,Xr,_e)}auth(){console.log(this.authService.isExpired),this.authBtnState=Ae.xp5.LOADING,this.authService.isExpired?this.authService.auth(this.authForm.value.token).then(d=>{d?this.me=this.authService.me:(this.authForm.controls.token.setErrors({invalid:!0}),this.authBtnState=Ae.xp5.ERROR)}).finally(()=>{this.authBtnState=Ae.xp5.DEFAULT}):(this.me=void 0,this.authForm.reset(),this.authService.logout(),this.authBtnState=Ae.xp5.DEFAULT)}}return m.\u0275fac=function(d){return new(d||m)},m.\u0275cmp=a.Xpm({type:m,selectors:[["app-authorization"]],standalone:!0,features:[a.jDz],decls:24,vars:4,consts:[[1,"container"],[4,"ngIf"],["type","button",1,"btn","btn-primary","auth-button",3,"clrLoading","click"],["href","https://www.inaturalist.org/people/bearbeer/"],["href","https://github.com/jmevangelist/nature-gram"],[1,"greeting"],["href","https://api.inaturalist.org/v2/"],["href","https://www.inaturalist.org/users/api_token","target","_blank"],["clrForm","","clrLayout","vertical",3,"formGroup"],["for","token",1,"clr-required-mark"],["clrTextarea","","id","token","name","token","formControlName","token","required","",1,"textarea"]],template:function(d,g){1&d&&(a.TgZ(0,"div",0),a.YNc(1,es,3,1,"ng-container",1),a.YNc(2,So,24,1,"ng-container",1),a.TgZ(3,"button",2),a.NdJ("click",function(){return g.auth()}),a._uU(4),a.qZA(),a.TgZ(5,"h5"),a._uU(6,"About natureGram"),a.qZA(),a.TgZ(7,"p")(8,"strong"),a._uU(9,"natureGram"),a.qZA(),a._uU(10," is iNaturalist revisualized as a generic social media site. "),a.TgZ(11,"strong"),a._uU(12,"natureGram"),a.qZA(),a._uU(13," is purely a client side application, your information is only stored locally on your device."),a.qZA(),a.TgZ(14,"p"),a._uU(15,"Made by Joan Evangelista"),a._UZ(16,"br"),a._uU(17," @bearbeer on "),a.TgZ(18,"a",3),a._uU(19,"iNaturalist"),a.qZA(),a._uU(20," and Discord"),a.qZA(),a.TgZ(21,"p")(22,"a",4),a._uU(23,"Source Code"),a.qZA()()()),2&d&&(a.xp6(1),a.Q6J("ngIf",g.me),a.xp6(1),a.Q6J("ngIf",g.authService.isExpired),a.xp6(1),a.Q6J("clrLoading",g.authBtnState),a.xp6(1),a.Oqu(g.authService.isExpired?"Authorize":"Logout"))},dependencies:[ye.ez,ye.O5,Ae.K6A,Ae.cCV,Ae.MPb,Ae.MgK,Ae.VqA,Ae.YAP,Ae.mIp,Ae.XE5,Ae.LAP,Yt.UX,Yt._Y,Yt.Fj,Yt.JJ,Yt.JL,Yt.Q7,Yt.sg,Yt.u],styles:[".container[_ngcontent-%COMP%]{max-width:768px;width:100%;padding:.5rem}.clr-control-container[_ngcontent-%COMP%]{width:100%!important}.textarea[_ngcontent-%COMP%]{width:100%!important;height:4rem}.json[_ngcontent-%COMP%]{-webkit-line-clamp:5;-webkit-box-orient:vertical;overflow:scroll;white-space:pre-wrap;display:none}.auth-button[_ngcontent-%COMP%]{margin-top:.5rem}.p7[_ngcontent-%COMP%]{margin:0!important}"]}),m})();var ns=L(7715),va=L(3620),Br=L(3893);function Os(m,l){if(1&m){const d=a.EpF();a.TgZ(0,"li",18)(1,"div",19),a.NdJ("click",function(){const S=a.CHM(d).$implicit,E=a.oxw();return a.KtG(E.selectTaxon(S))}),a._UZ(2,"app-taxon",20),a.qZA()()}if(2&m){const d=l.$implicit;a.Q6J("value",d.matched_term),a.xp6(2),a.Q6J("taxon",d)}}function qo(m,l){if(1&m){const d=a.EpF();a.TgZ(0,"span",21)(1,"input",22),a.NdJ("change",function(){const S=a.CHM(d).$implicit;return a.KtG(S.active=!S.active)}),a.qZA(),a._uU(2),a.ALo(3,"titlecase"),a.TgZ(4,"em"),a._uU(5),a.qZA(),a.TgZ(6,"cds-icon",23),a.NdJ("click",function(){const S=a.CHM(d).$implicit,E=a.oxw();return a.KtG(E.removeTaxa(S.taxon))}),a.qZA()()}if(2&m){const d=l.$implicit;a.ekj("inactive",!d.active)("label-info",d.active),a.xp6(1),a.Q6J("checked",d.active),a.xp6(1),a.hij(" ","species"==(null==d.taxon?null:d.taxon.rank)?"":a.lcZ(3,7,null==d.taxon?null:d.taxon.rank)," "),a.xp6(3),a.Oqu(null==d.taxon?null:d.taxon.name)}}function nl(m,l){if(1&m){const d=a.EpF();a.TgZ(0,"li")(1,"div",19),a.NdJ("click",function(){const S=a.CHM(d).$implicit,E=a.oxw();return a.KtG(E.selectPlace(S))}),a.TgZ(2,"div",24)(3,"p",25),a._uU(4),a._UZ(5,"br"),a.qZA()()()()}if(2&m){const d=l.$implicit;a.xp6(4),a.Oqu(d.display_name)}}function Pn(m,l){if(1&m){const d=a.EpF();a.TgZ(0,"span",21)(1,"input",22),a.NdJ("change",function(){const S=a.CHM(d).$implicit;return a.KtG(S.active=!S.active)}),a.qZA(),a._uU(2),a.TgZ(3,"cds-icon",23),a.NdJ("click",function(){const S=a.CHM(d).$implicit,E=a.oxw();return a.KtG(E.removePlace(S.place))}),a.qZA()()}if(2&m){const d=l.$implicit;a.ekj("inactive",!d.active)("label-info",d.active),a.xp6(1),a.Q6J("checked",d.active),a.xp6(1),a.hij(" ",null==d.place?null:d.place.display_name," ")}}function Gf(m,l){if(1&m&&(a.TgZ(0,"div",26),a._UZ(1,"input",27),a.TgZ(2,"label"),a._uU(3),a.qZA()()),2&m){const d=l.index,g=a.oxw();a.xp6(1),a.Q6J("formControlName",d)("value",g.options[d].name)("checked",g.options[d].checked),a.xp6(2),a.Oqu(g.options[d].label)}}const zl=function(m){return{visibility:m}};let Xd=(()=>{class m{constructor(){this.sub=[],this.prefService=(0,a.f3M)(Vr),this.inatService=(0,a.f3M)(Le.E),this.taxa=this.prefService.taxa,this.places=this.prefService.places,this.selectedOptions=this.prefService.options,this.optionsFormArray=new Yt.Oe([]),this.prefForm=new Yt.cw({taxon:new Yt.NI(""),place:new Yt.NI(""),options:this.optionsFormArray}),this.options=this.prefService.baseOptions.filter(d=>!0),this.options.forEach((d,g)=>{this.selectedOptions.includes(d.name)?(this.options[g].checked=!0,this.optionsFormArray.push(new Yt.NI(!0))):this.optionsFormArray.push(new Yt.NI(!1))}),this.taxa_search=[],this.place_search=[],this.isSearchingTaxa=!1,this.isSearchingPlace=!1,this.sub.push((0,ns.D)(this.prefForm.controls.taxon.valueChanges).pipe((0,va.b)(300)).subscribe(this.searchTaxa.bind(this))),this.sub.push((0,ns.D)(this.prefForm.controls.place.valueChanges).pipe((0,va.b)(300)).subscribe(this.searchPlaces.bind(this)))}removeTaxa(d){if(d){let g=this.taxa.findIndex(C=>C.taxon?.id==d.id);this.taxa.splice(g,1)}}searchTaxa(d){d?(this.isSearchingTaxa=!0,this.inatService.taxaAutoComplete(d).then(g=>{this.taxa_search=g,0==g.length&&this.prefForm.controls.taxon.setErrors({invalid:"No matching taxon"})}).catch(g=>{this.taxa_search=[],this.prefForm.controls.taxon.setErrors({invalid:g})}).finally(()=>{this.isSearchingTaxa=!1})):this.taxa_search=[]}searchPlaces(d){d?(this.isSearchingPlace=!0,this.inatService.searchPlaces(d).then(g=>{this.place_search=g,0==g.length&&this.prefForm.controls.place.setErrors({invalid:"No matching place"})}).catch(g=>{this.place_search=[],this.prefForm.controls.place.setErrors({invalid:g})}).finally(()=>{this.isSearchingPlace=!1})):this.place_search=[]}selectTaxon(d){let g={active:!1,taxon:d};0===this.taxa.filter(C=>C.taxon?.id===g?.taxon?.id).length&&this.taxa.push(g),this.taxa_search=[],this.prefForm.controls.taxon.reset()}selectPlace(d){let g={active:!1,place:d};0===this.places.filter(C=>C.place?.id===g?.place?.id).length&&this.places.push(g),this.place_search=[],this.prefForm.controls.place.reset()}removePlace(d){if(d){let g=this.places.findIndex(C=>C.place?.id==d.id);this.places.splice(g,1)}}onSubmit(){this.taxa_search.length>0&&this.selectTaxon(this.taxa_search[0]),this.place_search.length>0&&this.selectPlace(this.place_search[0])}ngOnDestroy(){this.sub.forEach(d=>{d.unsubscribe()}),this.prefService.updateTaxa(this.taxa),this.prefService.updatePlace(this.places),this.optionsFormArray.value.forEach((d,g)=>{if(d&&!this.selectedOptions.includes(this.options[g].name))this.selectedOptions.push(this.options[g].name);else if(!d){let C=this.selectedOptions.findIndex(S=>S==this.options[g].name);C>=0&&this.selectedOptions.splice(C,1)}}),this.prefService.updateOptions(this.selectedOptions),this.prefService._behaviorSubject.next(null)}}return m.\u0275fac=function(d){return new(d||m)},m.\u0275cmp=a.Xpm({type:m,selectors:[["app-preference"]],standalone:!0,features:[a.jDz],decls:29,vars:14,consts:[["title","Preferences"],[1,"preference-container"],[3,"formGroup","submit"],[1,"search-container"],["for","taxon"],["placeholder","Taxon name or commmon name","name","taxon","formControlName","taxon"],["clrLoop","",3,"ngStyle"],[1,"search-list"],[3,"value",4,"ngFor","ngForOf"],[1,"p7","search-error"],[1,"slist-container"],["class","label",3,"inactive","label-info",4,"ngFor","ngForOf"],[1,"p5"],["for","place"],["placeholder","Place","name","place","formControlName","place"],[4,"ngFor","ngForOf"],["formArrayName","options",1,"options-container"],["class","checkbox-container",4,"ngFor","ngForOf"],[3,"value"],[1,"card","clickable",3,"click"],[3,"taxon"],[1,"label"],["type","checkbox",3,"checked","change"],["shape","close",3,"click"],[1,"card-block"],[1,"p7"],[1,"checkbox-container"],["type","checkbox","name","options",1,"checkbox",3,"formControlName","value","checked"]],template:function(d,g){1&d&&(a._UZ(0,"app-header",0),a.TgZ(1,"div",1)(2,"form",2),a.NdJ("submit",function(){return g.onSubmit()}),a.TgZ(3,"div",3)(4,"label",4),a._uU(5,"Taxa"),a.qZA(),a._UZ(6,"input",5)(7,"clr-progress-bar",6),a.TgZ(8,"ul",7),a.YNc(9,Os,3,2,"li",8),a.qZA(),a.TgZ(10,"p",9),a._uU(11),a.qZA()(),a.TgZ(12,"div",10),a.YNc(13,qo,7,9,"span",11),a.TgZ(14,"p",12),a._uU(15,"Ticked taxon will be included in the filter by default"),a.qZA()(),a.TgZ(16,"div",3)(17,"label",13),a._uU(18,"Places"),a.qZA(),a._UZ(19,"input",14)(20,"clr-progress-bar",6),a.TgZ(21,"ul",7),a.YNc(22,nl,6,1,"li",15),a.qZA(),a.TgZ(23,"p",9),a._uU(24),a.qZA()(),a.TgZ(25,"div",10),a.YNc(26,Pn,4,6,"span",11),a.qZA(),a.TgZ(27,"div",16),a.YNc(28,Gf,4,4,"div",17),a.qZA()()()),2&d&&(a.xp6(2),a.Q6J("formGroup",g.prefForm),a.xp6(5),a.Q6J("ngStyle",a.VKq(10,zl,g.isSearchingTaxa?"visible":"hidden")),a.xp6(2),a.Q6J("ngForOf",g.taxa_search),a.xp6(2),a.Oqu(g.prefForm.controls.taxon.getError("invalid")),a.xp6(2),a.Q6J("ngForOf",g.taxa),a.xp6(7),a.Q6J("ngStyle",a.VKq(12,zl,g.isSearchingPlace?"visible":"hidden")),a.xp6(2),a.Q6J("ngForOf",g.place_search),a.xp6(2),a.Oqu(g.prefForm.controls.place.getError("invalid")),a.xp6(2),a.Q6J("ngForOf",g.places),a.xp6(2),a.Q6J("ngForOf",g.optionsFormArray.controls))},dependencies:[ye.ez,ye.sg,ye.PC,ye.rS,Yt.UX,Yt._Y,Yt.Fj,Yt.Wl,Yt.JJ,Yt.JL,Yt.sg,Yt.u,Yt.CE,Ae.K6A,Ae.nkF,Ae.MgK,Ae.B0r,Br.F,zn],styles:[".search-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;max-width:500px;margin:1rem 0}.search-list[_ngcontent-%COMP%]{list-style:none;max-height:15rem;overflow-y:scroll}.card[_ngcontent-%COMP%]{box-shadow:none!important;margin:0;padding:0 .5rem}.card-block[_ngcontent-%COMP%] > .p7[_ngcontent-%COMP%]{margin:0}.search-error[_ngcontent-%COMP%]{margin:0!important;color:#db2100!important}.search-container[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{border:none;border-radius:.2rem;background-color:#e8e8e8}.radio-container[_ngcontent-%COMP%]{display:grid}.preference-container[_ngcontent-%COMP%]{width:100%;max-width:768px;padding:1rem}.progress[_ngcontent-%COMP%]{height:.1rem}.checkbox-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap-reverse}.checkbox-container[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{margin-right:.5rem}.options-container[_ngcontent-%COMP%]{margin:1rem 0}.inactive[_ngcontent-%COMP%]{opacity:.5}.label[_ngcontent-%COMP%]{margin:.2rem;padding-top:.3rem;padding-bottom:.3rem}.label[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{margin:.2rem}.label[_ngcontent-%COMP%]:hover{font-weight:bolder}"]}),m})(),Hr=(()=>{class m{}return m.\u0275fac=function(d){return new(d||m)},m.\u0275cmp=a.Xpm({type:m,selectors:[["app-bookmark"]],standalone:!0,features:[a.jDz],decls:2,vars:0,template:function(d,g){1&d&&(a.TgZ(0,"p"),a._uU(1,"bookmark works!"),a.qZA())},dependencies:[ye.ez]}),m})();const Ko=function(m){return["../observation",m]};function Rs(m,l){if(1&m&&(a.TgZ(0,"div",3)(1,"a",4)(2,"strong"),a._uU(3),a.qZA(),a._uU(4),a.TgZ(5,"em"),a._uU(6),a.qZA(),a.TgZ(7,"span",5),a._uU(8),a.ALo(9,"async"),a.ALo(10,"dateTimeAgo"),a.qZA()()()),2&m){const d=l.$implicit;a.xp6(1),a.Q6J("routerLink",a.VKq(9,Ko,d.resource_uuid)),a.xp6(2),a.Oqu((null==d.comment||null==d.comment.user?null:d.comment.user.login)||(null==d.identification||null==d.identification.user?null:d.identification.user.login)),a.xp6(1),a.hij(" ",d.comment?"commented ":"suggested an ID: "," "),a.xp6(2),a.hij("",(null==d.comment?null:d.comment.body)||(null==d.identification||null==d.identification.taxon?null:d.identification.taxon.name)," "),a.xp6(2),a.Oqu(a.lcZ(9,5,a.lcZ(10,7,d.created_at)))}}function rr(m,l){1&m&&(a.TgZ(0,"div",6)(1,"span",7),a._uU(2," Loading... "),a.qZA()())}function yi(m,l){1&m&&(a.TgZ(0,"div",6)(1,"span"),a._uU(2,"Missing/expired token"),a.qZA()())}let Zl=(()=>{class m{constructor(){this.inatServe=(0,a.f3M)(Le.E),this.notificationService=(0,a.f3M)(Ke),this.notifications=[],this.loading=!0}ngOnInit(){Promise.all([this.inatServe.getObservationsUpdates({observations_by:"following"}),this.inatServe.getObservationsUpdates({observations_by:"owner"})]).then(d=>{d.forEach(g=>{this.notifications.push(...g.results)}),this.notifications.sort((g,C)=>Date.parse(C.created_at)-Date.parse(g.created_at)),this.notificationService.setLastCheck()}).catch(d=>{this.errorText=d}).finally(()=>{this.loading=!1})}}return m.\u0275fac=function(d){return new(d||m)},m.\u0275cmp=a.Xpm({type:m,selectors:[["app-notification"]],standalone:!0,features:[a.jDz],decls:4,vars:3,consts:[["title","Notifications",1,"sticky-top"],["class","notification p5",4,"ngFor","ngForOf"],["class","container",4,"ngIf"],[1,"notification","p5"],[3,"routerLink"],[1,"p7"],[1,"container"],[1,"spinner","spinner-md"]],template:function(d,g){1&d&&(a._UZ(0,"app-header",0),a.YNc(1,Rs,11,11,"div",1),a.YNc(2,rr,3,0,"div",2),a.YNc(3,yi,3,0,"div",2)),2&d&&(a.xp6(1),a.Q6J("ngForOf",g.notifications),a.xp6(1),a.Q6J("ngIf",g.loading),a.xp6(1),a.Q6J("ngIf",g.errorText))},dependencies:[ye.ez,ye.sg,ye.O5,ye.Ov,zn,Pe.i,W.rH,Ae.K6A],styles:[".notification[_ngcontent-%COMP%]{padding:.3rem;margin:.6rem .3rem 0!important;border:solid .01rem var(--clr-card-border-color);line-height:.8rem!important;white-space:break-spaces;overflow-wrap:break-word}.notification[_ngcontent-%COMP%]:hover{border-color:var(--clr-card-clickable-border-color);cursor:pointer}.container[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex:auto}.container[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{margin:auto;align-self:center}[_nghost-%COMP%]{width:100%;max-width:768px;display:flex;flex-direction:column;height:100%}a[_ngcontent-%COMP%]{text-decoration:unset}"]}),m})();var sr=L(2275);const or=class Ir{constructor(l){this.type=l,this.target=null}preventDefault(){this.defaultPrevented=!0}stopPropagation(){this.propagationStopped=!0}},Do=class il{constructor(){this.disposed=!1}dispose(){this.disposed||(this.disposed=!0,this.disposeInternal())}disposeInternal(){}};function Qo(m,l){return m>l?1:m<l?-1:0}function Yl(m,l,d){if(m[0]<=l)return 0;const g=m.length;if(l<=m[g-1])return g-1;if("function"==typeof d){for(let C=1;C<g;++C){const S=m[C];if(S===l)return C;if(S<l)return d(l,m[C-1],S)>0?C-1:C}return g-1}if(d>0){for(let C=1;C<g;++C)if(m[C]<l)return C-1;return g-1}if(d<0){for(let C=1;C<g;++C)if(m[C]<=l)return C;return g-1}for(let C=1;C<g;++C){if(m[C]==l)return C;if(m[C]<l)return m[C-1]-l<l-m[C]?C-1:C}return g-1}function rl(m,l,d){for(;l<d;){const g=m[l];m[l]=m[d],m[d]=g,++l,--d}}function Jo(m,l){const d=Array.isArray(l)?l:[l],g=d.length;for(let C=0;C<g;C++)m[m.length]=d[C]}function Qs(m,l){const d=m.length;if(d!==l.length)return!1;for(let g=0;g<d;g++)if(m[g]!==l[g])return!1;return!0}function Wl(){return!0}function sl(){return!1}function Ca(){}function Xo(m){for(const l in m)delete m[l]}function Js(m){let l;for(l in m)return!1;return!l}const $l=class Su extends Do{constructor(l){super(),this.eventTarget_=l,this.pendingRemovals_=null,this.dispatching_=null,this.listeners_=null}addEventListener(l,d){if(!l||!d)return;const g=this.listeners_||(this.listeners_={}),C=g[l]||(g[l]=[]);C.includes(d)||C.push(d)}dispatchEvent(l){const d="string"==typeof l,g=d?l:l.type,C=this.listeners_&&this.listeners_[g];if(!C)return;const S=d?new or(l):l;S.target||(S.target=this.eventTarget_||this);const E=this.dispatching_||(this.dispatching_={}),T=this.pendingRemovals_||(this.pendingRemovals_={});let M;g in E||(E[g]=0,T[g]=0),++E[g];for(let N=0,z=C.length;N<z;++N)if(M="handleEvent"in C[N]?C[N].handleEvent(S):C[N].call(this,S),!1===M||S.propagationStopped){M=!1;break}if(0==--E[g]){let N=T[g];for(delete T[g];N--;)this.removeEventListener(g,Ca);delete E[g]}return M}disposeInternal(){this.listeners_&&Xo(this.listeners_)}getListeners(l){return this.listeners_&&this.listeners_[l]||void 0}hasListener(l){return!!this.listeners_&&(l?l in this.listeners_:Object.keys(this.listeners_).length>0)}removeEventListener(l,d){const g=this.listeners_&&this.listeners_[l];if(g){const C=g.indexOf(d);-1!==C&&(this.pendingRemovals_&&l in this.pendingRemovals_?(g[C]=Ca,++this.pendingRemovals_[l]):(g.splice(C,1),0===g.length&&delete this.listeners_[l]))}}};function nn(m,l,d,g,C){if(g&&g!==m&&(d=d.bind(g)),C){const E=d;d=function(){m.removeEventListener(l,d),E.apply(this,arguments)}}const S={target:m,type:l,listener:d};return m.addEventListener(l,d),S}function Ic(m,l,d,g){return nn(m,l,d,g,!0)}function Y(m){m&&m.target&&(m.target.removeEventListener(m.type,m.listener),Xo(m))}const re=class G extends $l{constructor(){super(),this.on=this.onInternal,this.once=this.onceInternal,this.un=this.unInternal,this.revision_=0}changed(){++this.revision_,this.dispatchEvent("change")}getRevision(){return this.revision_}onInternal(l,d){if(Array.isArray(l)){const g=l.length,C=new Array(g);for(let S=0;S<g;++S)C[S]=nn(this,l[S],d);return C}return nn(this,l,d)}onceInternal(l,d){let g;if(Array.isArray(l)){const C=l.length;g=new Array(C);for(let S=0;S<C;++S)g[S]=Ic(this,l[S],d)}else g=Ic(this,l,d);return d.ol_key=g,g}unInternal(l,d){const g=d.ol_key;if(g)!function U(m){if(Array.isArray(m))for(let l=0,d=m.length;l<d;++l)Y(m[l]);else Y(m)}(g);else if(Array.isArray(l))for(let C=0,S=l.length;C<S;++C)this.removeEventListener(l[C],d);else this.removeEventListener(l,d)}};function je(){throw new Error("Unimplemented abstract method.")}let Vt=0;function Wt(m){return m.ol_uid||(m.ol_uid=String(++Vt))}class Ur extends or{constructor(l,d,g){super(l),this.key=d,this.oldValue=g}}const In=class Xs extends re{constructor(l){super(),Wt(this),this.values_=null,void 0!==l&&this.setProperties(l)}get(l){let d;return this.values_&&this.values_.hasOwnProperty(l)&&(d=this.values_[l]),d}getKeys(){return this.values_&&Object.keys(this.values_)||[]}getProperties(){return this.values_&&Object.assign({},this.values_)||{}}hasProperties(){return!!this.values_}notify(l,d){let g;g=`change:${l}`,this.hasListener(g)&&this.dispatchEvent(new Ur(g,l,d)),g="propertychange",this.hasListener(g)&&this.dispatchEvent(new Ur(g,l,d))}addChangeListener(l,d){this.addEventListener(`change:${l}`,d)}removeChangeListener(l,d){this.removeEventListener(`change:${l}`,d)}set(l,d,g){const C=this.values_||(this.values_={});if(g)C[l]=d;else{const S=C[l];C[l]=d,S!==d&&this.notify(l,S)}}setProperties(l,d){for(const g in l)this.set(g,l[g],d)}applyProperties(l){l.values_&&Object.assign(this.values_||(this.values_={}),l.values_)}unset(l,d){if(this.values_&&l in this.values_){const g=this.values_[l];delete this.values_[l],Js(this.values_)&&(this.values_=null),d||this.notify(l,g)}}},ea={1:"The view center is not defined",2:"The view resolution is not defined",3:"The view rotation is not defined",4:"`image` and `src` cannot be provided at the same time",5:"`imgSize` must be set when `image` is provided",7:"`format` must be set when `url` is set",8:"Unknown `serverType` configured",9:"`url` must be configured or set using `#setUrl()`",10:"The default `geometryFunction` can only handle `Point` geometries",11:"`options.featureTypes` must be an Array",12:"`options.geometryName` must also be provided when `options.bbox` is set",13:"Invalid corner",14:"Invalid color",15:"Tried to get a value for a key that does not exist in the cache",16:"Tried to set a value for a key that is used already",17:"`resolutions` must be sorted in descending order",18:"Either `origin` or `origins` must be configured, never both",19:"Number of `tileSizes` and `resolutions` must be equal",20:"Number of `origins` and `resolutions` must be equal",22:"Either `tileSize` or `tileSizes` must be configured, never both",24:"Invalid extent or geometry provided as `geometry`",25:"Cannot fit empty extent provided as `geometry`",26:"Features must have an id set",27:"Features must have an id set",28:'`renderMode` must be `"hybrid"` or `"vector"`',30:"The passed `feature` was already added to the source",31:"Tried to enqueue an `element` that was already added to the queue",32:"Transformation matrix cannot be inverted",33:"Invalid units",34:"Invalid geometry layout",36:"Unknown SRS type",37:"Unknown geometry type found",38:"`styleMapValue` has an unknown type",39:"Unknown geometry type",40:"Expected `feature` to have a geometry",41:"Expected an `ol/style/Style` or an array of `ol/style/Style.js`",42:"Question unknown, the answer is 42",43:"Expected `layers` to be an array or a `Collection`",47:"Expected `controls` to be an array or an `ol/Collection`",48:"Expected `interactions` to be an array or an `ol/Collection`",49:"Expected `overlays` to be an array or an `ol/Collection`",50:"`options.featureTypes` should be an Array",51:"Either `url` or `tileJSON` options must be provided",52:"Unknown `serverType` configured",53:"Unknown `tierSizeCalculation` configured",55:"The {-y} placeholder requires a tile grid with extent",56:"mapBrowserEvent must originate from a pointer event",57:"At least 2 conditions are required",59:"Invalid command found in the PBF",60:"Missing or invalid `size`",61:"Cannot determine IIIF Image API version from provided image information JSON",62:"A `WebGLArrayBuffer` must either be of type `ELEMENT_ARRAY_BUFFER` or `ARRAY_BUFFER`",64:"Layer opacity must be a number",66:"`forEachFeatureAtCoordinate` cannot be used on a WebGL layer if the hit detection logic has not been enabled. This is done by providing adequate shaders using the `hitVertexShader` and `hitFragmentShader` properties of `WebGLPointsLayerRenderer`",67:"A layer can only be added to the map once. Use either `layer.setMap()` or `map.addLayer()`, not both",68:"A VectorTile source can only be rendered if it has a projection compatible with the view projection",69:"`width` or `height` cannot be provided together with `scale`"};class bi extends Error{constructor(l){const d=ea[l];super(d),this.code=l,this.name="AssertionError",this.message=d}}const Eo=bi;class ta extends or{constructor(l,d,g){super(l),this.element=d,this.index=g}}const xo=class ol extends In{constructor(l,d){if(super(),this.unique_=!!(d=d||{}).unique,this.array_=l||[],this.unique_)for(let g=0,C=this.array_.length;g<C;++g)this.assertUnique_(this.array_[g],g);this.updateLength_()}clear(){for(;this.getLength()>0;)this.pop()}extend(l){for(let d=0,g=l.length;d<g;++d)this.push(l[d]);return this}forEach(l){const d=this.array_;for(let g=0,C=d.length;g<C;++g)l(d[g],g,d)}getArray(){return this.array_}item(l){return this.array_[l]}getLength(){return this.get("length")}insertAt(l,d){if(l<0||l>this.getLength())throw new Error("Index out of bounds: "+l);this.unique_&&this.assertUnique_(d),this.array_.splice(l,0,d),this.updateLength_(),this.dispatchEvent(new ta("add",d,l))}pop(){return this.removeAt(this.getLength()-1)}push(l){this.unique_&&this.assertUnique_(l);const d=this.getLength();return this.insertAt(d,l),this.getLength()}remove(l){const d=this.array_;for(let g=0,C=d.length;g<C;++g)if(d[g]===l)return this.removeAt(g)}removeAt(l){if(l<0||l>=this.getLength())return;const d=this.array_[l];return this.array_.splice(l,1),this.updateLength_(),this.dispatchEvent(new ta("remove",d,l)),d}setAt(l,d){if(l>=this.getLength())return void this.insertAt(l,d);if(l<0)throw new Error("Index out of bounds: "+l);this.unique_&&this.assertUnique_(d,l);const C=this.array_[l];this.array_[l]=d,this.dispatchEvent(new ta("remove",C,l)),this.dispatchEvent(new ta("add",d,l))}updateLength_(){this.set("length",this.array_.length)}assertUnique_(l,d){for(let g=0,C=this.array_.length;g<C;++g)if(this.array_[g]===l&&g!==d)throw new Eo(58)}},Sa=typeof navigator<"u"&&typeof navigator.userAgent<"u"?navigator.userAgent.toLowerCase():"",eh=Sa.includes("firefox"),wu=(Sa.includes("safari")&&!Sa.includes("chrom")&&(Sa.includes("version/15.4")||/cpu (os|iphone os) 15_4 like mac os x/.test(Sa)),Sa.includes("webkit")&&!Sa.includes("edge")),tm=Sa.includes("macintosh"),nm=typeof devicePixelRatio<"u"?devicePixelRatio:1,Wf=typeof WorkerGlobalScope<"u"&&typeof OffscreenCanvas<"u"&&self instanceof WorkerGlobalScope,$f=typeof Image<"u"&&Image.prototype.decode,Mc=function(){let m=!1;try{const l=Object.defineProperty({},"passive",{get:function(){m=!0}});window.addEventListener("_",null,l),window.removeEventListener("_",null,l)}catch{}return m}();function kn(m,l){if(!m)throw new Eo(l)}function Bi(m,l){const d=l[0],g=l[1];return l[0]=m[0]*d+m[2]*g+m[4],l[1]=m[1]*d+m[3]*g+m[5],l}function hs(m,l,d,g,C,S,E,T){const M=Math.sin(S),N=Math.cos(S);return m[0]=g*N,m[1]=C*M,m[2]=-g*M,m[3]=C*N,m[4]=E*g*N-T*g*M+l,m[5]=E*C*M+T*C*N+d,m}function eo(m,l){const d=function B(m){return m[0]*m[3]-m[1]*m[2]}(l);kn(0!==d,32);const g=l[0],C=l[1],S=l[2],E=l[3],T=l[4],M=l[5];return m[0]=E/d,m[1]=-C/d,m[2]=-S/d,m[3]=g/d,m[4]=(S*M-E*T)/d,m[5]=-(g*M-C*T)/d,m}let K;function j(m){const l="matrix("+m.join(", ")+")";if(Wf)return l;const d=K||(K=document.createElement("div"));return d.style.transform=l,d.style.transform}new Array(6);const ee={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16};function Se(m){const l=[1/0,1/0,-1/0,-1/0];for(let d=0,g=m.length;d<g;++d)Io(l,m[d]);return l}function lt(m,l,d){return d?(d[0]=m[0]-l,d[1]=m[1]-l,d[2]=m[2]+l,d[3]=m[3]+l,d):[m[0]-l,m[1]-l,m[2]+l,m[3]+l]}function Gt(m,l){return l?(l[0]=m[0],l[1]=m[1],l[2]=m[2],l[3]=m[3],l):m.slice()}function qn(m,l,d){let g,C;return g=l<m[0]?m[0]-l:m[2]<l?l-m[2]:0,C=d<m[1]?m[1]-d:m[3]<d?d-m[3]:0,g*g+C*C}function cn(m,l){return bn(m,l[0],l[1])}function Mn(m,l){return m[0]<=l[0]&&l[2]<=m[2]&&m[1]<=l[1]&&l[3]<=m[3]}function bn(m,l,d){return m[0]<=l&&l<=m[2]&&m[1]<=d&&d<=m[3]}function wi(m,l){const E=l[0],T=l[1];let M=ee.UNKNOWN;return E<m[0]?M|=ee.LEFT:E>m[2]&&(M|=ee.RIGHT),T<m[1]?M|=ee.BELOW:T>m[3]&&(M|=ee.ABOVE),M===ee.UNKNOWN&&(M=ee.INTERSECTING),M}function ei(m,l,d,g,C){return C?(C[0]=m,C[1]=l,C[2]=d,C[3]=g,C):[m,l,d,g]}function si(m){return ei(1/0,1/0,-1/0,-1/0,m)}function fs(m,l){return m[0]==l[0]&&m[2]==l[2]&&m[1]==l[1]&&m[3]==l[3]}function Io(m,l){l[0]<m[0]&&(m[0]=l[0]),l[0]>m[2]&&(m[2]=l[0]),l[1]<m[1]&&(m[1]=l[1]),l[1]>m[3]&&(m[3]=l[1])}function Tu(m,l,d,g,C){for(;d<g;d+=C)Jl(m,l[d],l[d+1]);return m}function Jl(m,l,d){m[0]=Math.min(m[0],l),m[1]=Math.min(m[1],d),m[2]=Math.max(m[2],l),m[3]=Math.max(m[3],d)}function Mo(m,l){let d;return d=l(Nn(m)),!!(d||(d=l(Rc(m)),d)||(d=l(to(m)),d)||(d=l(Gi(m)),d))&&d}function _t(m){let l=0;return ms(m)||(l=oi(m)*gs(m)),l}function Nn(m){return[m[0],m[1]]}function Rc(m){return[m[2],m[1]]}function Pc(m){return[(m[0]+m[2])/2,(m[1]+m[3])/2]}function ar(m,l){let d;return"bottom-left"===l?d=Nn(m):"bottom-right"===l?d=Rc(m):"top-left"===l?d=Gi(m):"top-right"===l?d=to(m):kn(!1,13),d}function ks(m,l,d,g,C){const[S,E,T,M,N,z,J,X]=ps(m,l,d,g);return ei(Math.min(S,T,N,J),Math.min(E,M,z,X),Math.max(S,T,N,J),Math.max(E,M,z,X),C)}function ps(m,l,d,g){const C=l*g[0]/2,S=l*g[1]/2,E=Math.cos(d),T=Math.sin(d),M=C*E,N=C*T,z=S*E,J=S*T,X=m[0],fe=m[1];return[X-M+J,fe-N-z,X-M-J,fe-N+z,X+M-J,fe+N+z,X+M+J,fe+N-z,X-M+J,fe-N-z]}function gs(m){return m[3]-m[1]}function cl(m,l,d){const g=d||[1/0,1/0,-1/0,-1/0];return vr(m,l)?(g[0]=m[0]>l[0]?m[0]:l[0],g[1]=m[1]>l[1]?m[1]:l[1],g[2]=m[2]<l[2]?m[2]:l[2],g[3]=m[3]<l[3]?m[3]:l[3]):si(g),g}function Gi(m){return[m[0],m[3]]}function to(m){return[m[2],m[3]]}function oi(m){return m[2]-m[0]}function vr(m,l){return m[0]<=l[2]&&m[2]>=l[0]&&m[1]<=l[3]&&m[3]>=l[1]}function ms(m){return m[2]<m[0]||m[3]<m[1]}function sh(m,l){const d=l.getExtent(),g=Pc(m);if(l.canWrapX()&&(g[0]<d[0]||g[0]>=d[2])){const C=oi(d),E=Math.floor((g[0]-d[0])/C)*C;m[0]-=E,m[2]-=E}return m}function Yi(m,l,d){return Math.min(Math.max(m,l),d)}function Qf(m,l,d,g,C,S){const E=C-d,T=S-g;if(0!==E||0!==T){const M=((m-d)*E+(l-g)*T)/(E*E+T*T);M>1?(d=C,g=S):M>0&&(d+=E*M,g+=T*M)}return Xl(m,l,d,g)}function Xl(m,l,d,g){const C=d-m,S=g-l;return C*C+S*S}function oh(m){return m*Math.PI/180}function ec(m,l){const d=m%l;return d*l<0?d+l:d}function no(m,l,d){return m+d*(l-m)}function ah(m,l){const d=Math.pow(10,l);return Math.round(m*d)/d}function P(m,l){return Math.floor(ah(m,l))}function F(m,l){return Math.ceil(ah(m,l))}const O=/^#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})$/i,H=/^([a-z]*)$|^hsla?\(.*\)$/i;function q(m){return"string"==typeof m?m:Jt(m)}const he=function(){const l={};let d=0;return function(g){let C;if(l.hasOwnProperty(g))C=l[g];else{if(d>=1024){let S=0;for(const E in l)3&S++||(delete l[E],--d)}C=function bt(m){let l,d,g,C,S;if(H.exec(m)&&(m=function ae(m){const l=document.createElement("div");if(l.style.color=m,""!==l.style.color){document.body.appendChild(l);const d=getComputedStyle(l).color;return document.body.removeChild(l),d}return""}(m)),O.exec(m)){const E=m.length-1;let T;T=E<=4?1:2;const M=4===E||8===E;l=parseInt(m.substr(1+0*T,T),16),d=parseInt(m.substr(1+1*T,T),16),g=parseInt(m.substr(1+2*T,T),16),C=M?parseInt(m.substr(1+3*T,T),16):255,1==T&&(l=(l<<4)+l,d=(d<<4)+d,g=(g<<4)+g,M&&(C=(C<<4)+C)),S=[l,d,g,C/255]}else m.startsWith("rgba(")?(S=m.slice(5,-1).split(",").map(Number),$t(S)):m.startsWith("rgb(")?(S=m.slice(4,-1).split(",").map(Number),S.push(1),$t(S)):kn(!1,14);return S}(g),l[g]=C,++d}return C}}();function Be(m){return Array.isArray(m)?m:he(m)}function $t(m){return m[0]=Yi(m[0]+.5|0,0,255),m[1]=Yi(m[1]+.5|0,0,255),m[2]=Yi(m[2]+.5|0,0,255),m[3]=Yi(m[3],0,1),m}function Jt(m){let l=m[0];l!=(0|l)&&(l=l+.5|0);let d=m[1];d!=(0|d)&&(d=d+.5|0);let g=m[2];return g!=(0|g)&&(g=g+.5|0),"rgba("+l+","+d+","+g+","+(void 0===m[3]?1:Math.round(100*m[3])/100)+")"}function Mu(m,l,d){return l+":"+m+":"+(d?q(d):"null")}const Ao=new class Wi{constructor(){this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32}clear(){this.cache_={},this.cacheSize_=0}canExpireCache(){return this.cacheSize_>this.maxCacheSize_}expire(){if(this.canExpireCache()){let l=0;for(const d in this.cache_)!(3&l++)&&!this.cache_[d].hasListener()&&(delete this.cache_[d],--this.cacheSize_)}}get(l,d,g){const C=Mu(l,d,g);return C in this.cache_?this.cache_[C]:null}set(l,d,g,C){const S=Mu(l,d,g);this.cache_[S]=C,++this.cacheSize_}setSize(l){this.maxCacheSize_=l,this.expire()}},tc=class Da extends In{constructor(l){super(),this.background_=l.background;const d=Object.assign({},l);"object"==typeof l.properties&&(delete d.properties,Object.assign(d,l.properties)),d.opacity=void 0!==l.opacity?l.opacity:1,kn("number"==typeof d.opacity,64),d.visible=void 0===l.visible||l.visible,d.zIndex=l.zIndex,d.maxResolution=void 0!==l.maxResolution?l.maxResolution:1/0,d.minResolution=void 0!==l.minResolution?l.minResolution:0,d.minZoom=void 0!==l.minZoom?l.minZoom:-1/0,d.maxZoom=void 0!==l.maxZoom?l.maxZoom:1/0,this.className_=void 0!==d.className?d.className:"ol-layer",delete d.className,this.setProperties(d),this.state_=null}getBackground(){return this.background_}getClassName(){return this.className_}getLayerState(l){const d=this.state_||{layer:this,managed:void 0===l||l},g=this.getZIndex();return d.opacity=Yi(Math.round(100*this.getOpacity())/100,0,1),d.visible=this.getVisible(),d.extent=this.getExtent(),d.zIndex=void 0!==g||d.managed?g:1/0,d.maxResolution=this.getMaxResolution(),d.minResolution=Math.max(this.getMinResolution(),0),d.minZoom=this.getMinZoom(),d.maxZoom=this.getMaxZoom(),this.state_=d,d}getLayersArray(l){return je()}getLayerStatesArray(l){return je()}getExtent(){return this.get("extent")}getMaxResolution(){return this.get("maxResolution")}getMinResolution(){return this.get("minResolution")}getMinZoom(){return this.get("minZoom")}getMaxZoom(){return this.get("maxZoom")}getOpacity(){return this.get("opacity")}getSourceState(){return je()}getVisible(){return this.get("visible")}getZIndex(){return this.get("zIndex")}setBackground(l){this.background_=l,this.changed()}setExtent(l){this.set("extent",l)}setMaxResolution(l){this.set("maxResolution",l)}setMinResolution(l){this.set("minResolution",l)}setMaxZoom(l){this.set("maxZoom",l)}setMinZoom(l){this.set("minZoom",l)}setOpacity(l){kn("number"==typeof l,64),this.set("opacity",l)}setVisible(l){this.set("visible",l)}setZIndex(l){this.set("zIndex",l)}disposeInternal(){this.state_&&(this.state_.layer=null,this.state_=null),super.disposeInternal()}},Zr={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"},lh=42,ch=256,xa={radians:6370997/(2*Math.PI),degrees:2*Math.PI*6370997/360,ft:.3048,m:1,"us-ft":1200/3937},am=class Tv{constructor(l){this.code_=l.code,this.units_=l.units,this.extent_=void 0!==l.extent?l.extent:null,this.worldExtent_=void 0!==l.worldExtent?l.worldExtent:null,this.axisOrientation_=void 0!==l.axisOrientation?l.axisOrientation:"enu",this.global_=void 0!==l.global&&l.global,this.canWrapX_=!(!this.global_||!this.extent_),this.getPointResolutionFunc_=l.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=l.metersPerUnit}canWrapX(){return this.canWrapX_}getCode(){return this.code_}getExtent(){return this.extent_}getUnits(){return this.units_}getMetersPerUnit(){return this.metersPerUnit_||xa[this.units_]}getWorldExtent(){return this.worldExtent_}getAxisOrientation(){return this.axisOrientation_}isGlobal(){return this.global_}setGlobal(l){this.global_=l,this.canWrapX_=!(!l||!this.extent_)}getDefaultTileGrid(){return this.defaultTileGrid_}setDefaultTileGrid(l){this.defaultTileGrid_=l}setExtent(l){this.extent_=l,this.canWrapX_=!(!this.global_||!l)}setWorldExtent(l){this.worldExtent_=l}setGetPointResolution(l){this.getPointResolutionFunc_=l}getPointResolutionFunc(){return this.getPointResolutionFunc_}},uh=6378137,Au=Math.PI*uh,Iv=[-Au,-Au,Au,Au],dh=[-180,-85,180,85],hh=uh*Math.log(Math.tan(Math.PI/2));class Ta extends am{constructor(l){super({code:l,units:"m",extent:Iv,global:!0,worldExtent:dh,getPointResolution:function(d,g){return d/Math.cosh(g[1]/uh)}})}}const kc=[new Ta("EPSG:3857"),new Ta("EPSG:102100"),new Ta("EPSG:102113"),new Ta("EPSG:900913"),new Ta("http://www.opengis.net/def/crs/EPSG/0/3857"),new Ta("http://www.opengis.net/gml/srs/epsg.xml#3857")];function ep(m,l,d){const g=m.length;d=d>1?d:2,void 0===l&&(l=d>2?m.slice():new Array(g));for(let C=0;C<g;C+=d){l[C]=Au*m[C]/180;let S=uh*Math.log(Math.tan(Math.PI*(+m[C+1]+90)/360));S>hh?S=hh:S<-hh&&(S=-hh),l[C+1]=S}return l}function Mv(m,l,d){const g=m.length;d=d>1?d:2,void 0===l&&(l=d>2?m.slice():new Array(g));for(let C=0;C<g;C+=d)l[C]=180*m[C]/Au,l[C+1]=360*Math.atan(Math.exp(m[C+1]/uh))/Math.PI-90;return l}const Ou=[-180,-90,180,90],Ov=6378137*Math.PI/180;class lr extends am{constructor(l,d){super({code:l,units:"degrees",extent:Ou,axisOrientation:d,global:!0,metersPerUnit:Ov,worldExtent:Ou})}}const lm=[new lr("CRS:84"),new lr("EPSG:4326","neu"),new lr("urn:ogc:def:crs:OGC:1.3:CRS84"),new lr("urn:ogc:def:crs:OGC:2:84"),new lr("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new lr("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new lr("http://www.opengis.net/def/crs/EPSG/0/4326","neu")];let nc={},Gr={};function Ru(m,l,d){const g=m.getCode(),C=l.getCode();g in Gr||(Gr[g]={}),Gr[g][C]=d}function Pu(m,l){let d=!0;for(let g=m.length-1;g>=0;--g)if(m[g]!=l[g]){d=!1;break}return d}function Ia(m,l){const d=Math.cos(l),g=Math.sin(l),S=m[1]*d+m[0]*g;return m[0]=m[0]*d-m[1]*g,m[1]=S,m}function Fc(m,l){if(l.canWrapX()){const d=oi(l.getExtent()),g=function Nc(m,l,d){const g=l.getExtent();let C=0;return l.canWrapX()&&(m[0]<g[0]||m[0]>g[2])&&(d=d||oi(g),C=Math.floor((m[0]-g[0])/d)),C}(m,l,d);g&&(m[0]-=g*d)}return m}const dl=6371008.8;function ph(m,l,d){d=d||dl;const g=oh(m[1]),C=oh(l[1]),S=(C-g)/2,E=oh(l[0]-m[0])/2,T=Math.sin(S)*Math.sin(S)+Math.sin(E)*Math.sin(E)*Math.cos(g)*Math.cos(C);return 2*d*Math.atan2(Math.sqrt(T),Math.sqrt(1-T))}const dm={info:1,warn:2,error:3,none:4};let Bv=dm.info;function N1(...m){Bv>dm.warn||console.warn(...m)}let Hv=!0;function ip(m){Hv=!(void 0===m||m)}function Ri(m,l){if(void 0!==l)for(let d=0,g=m.length;d<g;++d)l[d]=m[d];else l=m.slice();return l}function hm(m,l){if(void 0!==l&&m!==l){for(let d=0,g=m.length;d<g;++d)l[d]=m[d];m=l}return m}function Fu(m){(function Pv(m,l){nc[m]=l})(m.getCode(),m),Ru(m,m,Ri)}function di(m){return"string"==typeof m?function O1(m){return nc[m]||nc[m.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null}(m):m||null}function Nu(m,l,d,g){let C;const S=(m=di(m)).getPointResolutionFunc();if(S){if(C=S(l,d),g&&g!==m.getUnits()){const E=m.getMetersPerUnit();E&&(C=C*E/xa[g])}}else{const E=m.getUnits();if("degrees"==E&&!g||"degrees"==g)C=l;else{const T=Ma(m,di("EPSG:4326"));if(T===hm&&"degrees"!==E)C=l*m.getMetersPerUnit();else{let N=[d[0]-l/2,d[1],d[0]+l/2,d[1],d[0],d[1]-l/2,d[0],d[1]+l/2];N=T(N,N,2),C=(ph(N.slice(0,2),N.slice(2,4))+ph(N.slice(4,6),N.slice(6,8)))/2}const M=g?xa[g]:m.getMetersPerUnit();void 0!==M&&(C/=M)}}return C}function rp(m){(function Ti(m){m.forEach(Fu)})(m),m.forEach(function(l){m.forEach(function(d){l!==d&&Ru(l,d,Ri)})})}function sp(m,l){return m?"string"==typeof m?di(m):m:di(l)}function hl(m,l){if(m===l)return!0;const d=m.getUnits()===l.getUnits();return(m.getCode()===l.getCode()||Ma(m,l)===Ri)&&d}function Ma(m,l){let C=function Fv(m,l){let d;return m in Gr&&l in Gr[m]&&(d=Gr[m][l]),d}(m.getCode(),l.getCode());return C||(C=hm),C}function Lu(m,l){return Ma(di(m),di(l))}function Vu(m,l,d){return Lu(l,d)(m,void 0,m.length)}let Ar=null;function pm(){return Ar}function Lc(m,l){return m}function na(m,l){return Hv&&!Pu(m,[0,0])&&m[0]>=-180&&m[0]<=180&&m[1]>=-90&&m[1]<=90&&(Hv=!1,N1("Call useGeographic() from ol/proj once to work with [longitude, latitude] coordinates.")),m}function rc(m,l){return m}function Oo(m,l){return m}function sc(m,l,d){return function(g,C,S,E,T){if(!g)return;if(!C&&!l)return g;const M=l?0:S[0]*C,N=l?0:S[1]*C,z=T?T[0]:0,J=T?T[1]:0;let X=m[0]+M/2+z,fe=m[2]-M/2+z,ve=m[1]+N/2+J,be=m[3]-N/2+J;X>fe&&(X=(fe+X)/2,fe=X),ve>be&&(ve=(be+ve)/2,be=ve);let Me=Yi(g[0],X,fe),Ne=Yi(g[1],ve,be);if(E&&d&&C){const We=30*C;Me+=-We*Math.log(1+Math.max(0,X-g[0])/We)+We*Math.log(1+Math.max(0,g[0]-fe)/We),Ne+=-We*Math.log(1+Math.max(0,ve-g[1])/We)+We*Math.log(1+Math.max(0,g[1]-be)/We)}return[Me,Ne]}}function Aa(m){return m}function vh(m,l,d,g){const C=oi(l)/d[0],S=gs(l)/d[1];return g?Math.min(m,Math.max(C,S)):Math.min(m,Math.min(C,S))}function mm(m,l,d){let g=Math.min(m,l);return g*=Math.log(1+50*Math.max(0,m/l-1))/50+1,d&&(g=Math.max(g,d),g/=Math.log(1+50*Math.max(0,d/m-1))/50+1),Yi(g,d/2,2*l)}function Uu(m,l,d,g,C){return d=void 0===d||d,function(S,E,T,M){if(void 0!==S){const N=g?vh(m,g,T,C):m;return d&&M?mm(S,N,l):Yi(S,l,N)}}}function _m(m){if(void 0!==m)return 0}function cp(m){if(void 0!==m)return m}function ym(m){return Math.pow(m,3)}function Vc(m){return 1-ym(1-m)}function pl(m){return 3*m*m-2*m*m*m}function yh(m){return m}function oc(m,l,d,g,C,S){S=S||[];let E=0;for(let T=l;T<d;T+=g){const M=m[T],N=m[T+1];S[E++]=C[0]*M+C[2]*N+C[4],S[E++]=C[1]*M+C[3]*N+C[5]}return S&&S.length!=E&&(S.length=E),S}function dp(m,l,d,g,C,S,E){E=E||[];const T=Math.cos(C),M=Math.sin(C),N=S[0],z=S[1];let J=0;for(let X=l;X<d;X+=g){const fe=m[X]-N,ve=m[X+1]-z;E[J++]=N+fe*T-ve*M,E[J++]=z+fe*M+ve*T;for(let be=X+2;be<X+g;++be)E[J++]=m[be]}return E&&E.length!=J&&(E.length=J),E}!function lp(){rp(kc),rp(lm),function mh(m,l,d,g){m.forEach(function(C){l.forEach(function(S){Ru(C,S,d),Ru(S,C,g)})})}(lm,kc,ep,Mv)}();const ju=[1,0,0,1,0,0],$v=class Cr extends In{constructor(){super(),this.extent_=[1/0,1/0,-1/0,-1/0],this.extentRevision_=-1,this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=0,this.simplifyTransformedInternal=function Xg(m){let d,g,C,l=!1;return function(){const S=Array.prototype.slice.call(arguments);return(!l||this!==C||!Qs(S,g))&&(l=!0,C=this,g=S,d=m.apply(this,arguments)),d}}(function(l,d,g){if(!g)return this.getSimplifiedGeometry(d);const C=this.clone();return C.applyTransform(g),C.getSimplifiedGeometry(d)})}simplifyTransformed(l,d){return this.simplifyTransformedInternal(this.getRevision(),l,d)}clone(){return je()}closestPointXY(l,d,g,C){return je()}containsXY(l,d){const g=this.getClosestPoint([l,d]);return g[0]===l&&g[1]===d}getClosestPoint(l,d){return this.closestPointXY(l[0],l[1],d=d||[NaN,NaN],1/0),d}intersectsCoordinate(l){return this.containsXY(l[0],l[1])}computeExtent(l){return je()}getExtent(l){if(this.extentRevision_!=this.getRevision()){const d=this.computeExtent(this.extent_);(isNaN(d[0])||isNaN(d[1]))&&si(d),this.extentRevision_=this.getRevision()}return function rm(m,l){return l?(l[0]=m[0],l[1]=m[1],l[2]=m[2],l[3]=m[3],l):m}(this.extent_,l)}rotate(l,d){je()}scale(l,d,g){je()}simplify(l){return this.getSimplifiedGeometry(l*l)}getSimplifiedGeometry(l){return je()}getType(){return je()}applyTransform(l){je()}intersectsExtent(l){return je()}translate(l,d){je()}transform(l,d){const g=di(l),C="tile-pixels"==g.getUnits()?function(S,E,T){const M=g.getExtent(),N=g.getWorldExtent(),z=gs(N)/gs(M);return hs(ju,N[0],N[3],z,-z,0,0,0),oc(S,0,S.length,T,ju,E),Lu(g,d)(S,E,T)}:Lu(g,d);return this.applyTransform(C),this}};function Ch(m){let l;return"XY"==m?l=2:"XYZ"==m||"XYM"==m?l=3:"XYZM"==m&&(l=4),l}const Cm=class gl extends $v{constructor(){super(),this.layout="XY",this.stride=2,this.flatCoordinates=null}computeExtent(l){return function Ps(m,l,d,g,C){return Tu(si(C),m,l,d,g)}(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,l)}getCoordinates(){return je()}getFirstCoordinate(){return this.flatCoordinates.slice(0,this.stride)}getFlatCoordinates(){return this.flatCoordinates}getLastCoordinate(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)}getLayout(){return this.layout}getSimplifiedGeometry(l){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),l<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&l<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;const d=this.getSimplifiedGeometryInternal(l);return d.getFlatCoordinates().length<this.flatCoordinates.length?d:(this.simplifiedGeometryMaxMinSquaredTolerance=l,this)}getSimplifiedGeometryInternal(l){return this}getStride(){return this.stride}setFlatCoordinates(l,d){this.stride=Ch(l),this.layout=l,this.flatCoordinates=d}setCoordinates(l,d){je()}setLayout(l,d,g){let C;if(l)C=Ch(l);else{for(let S=0;S<g;++S){if(0===d.length)return this.layout="XY",void(this.stride=2);d=d[0]}C=d.length,l=function L1(m){let l;return 2==m?l="XY":3==m?l="XYZ":4==m&&(l="XYZM"),l}(C)}this.layout=l,this.stride=C}applyTransform(l){this.flatCoordinates&&(l(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())}rotate(l,d){const g=this.getFlatCoordinates();if(g){const C=this.getStride();dp(g,0,g.length,C,l,d,g),this.changed()}}scale(l,d,g){void 0===d&&(d=l),g||(g=Pc(this.getExtent()));const C=this.getFlatCoordinates();if(C){const S=this.getStride();(function Yv(m,l,d,g,C,S,E,T){T=T||[];const M=E[0],N=E[1];let z=0;for(let J=l;J<d;J+=g){const fe=m[J+1]-N;T[z++]=M+C*(m[J]-M),T[z++]=N+S*fe;for(let ve=J+2;ve<J+g;++ve)T[z++]=m[ve]}T&&T.length!=z&&(T.length=z)})(C,0,C.length,S,l,d,g,C),this.changed()}}translate(l,d){const g=this.getFlatCoordinates();if(g){const C=this.getStride();(function Wv(m,l,d,g,C,S,E){E=E||[];let T=0;for(let M=l;M<d;M+=g){E[T++]=m[M]+C,E[T++]=m[M+1]+S;for(let N=M+2;N<M+g;++N)E[T++]=m[N]}E&&E.length!=T&&(E.length=T)})(g,0,g.length,C,l,d,g),this.changed()}}};function zu(m,l,d,g,C,S,E){const T=m[l],M=m[l+1],N=m[d]-T,z=m[d+1]-M;let J;if(0===N&&0===z)J=l;else{const X=((C-T)*N+(S-M)*z)/(N*N+z*z);if(X>1)J=d;else{if(X>0){for(let fe=0;fe<g;++fe)E[fe]=no(m[l+fe],m[d+fe],X);return void(E.length=g)}J=l}}for(let X=0;X<g;++X)E[X]=m[J+X];E.length=g}function bh(m,l,d,g,C){let S=m[l],E=m[l+1];for(l+=g;l<d;l+=g){const T=m[l],M=m[l+1],N=Xl(S,E,T,M);N>C&&(C=N),S=T,E=M}return C}function bm(m,l,d,g,C,S,E,T,M,N,z){if(l==d)return N;let J,X;if(0===C){if(X=Xl(E,T,m[l],m[l+1]),X<N){for(J=0;J<g;++J)M[J]=m[l+J];return M.length=g,X}return N}z=z||[NaN,NaN];let fe=l+g;for(;fe<d;)if(zu(m,fe-g,fe,g,E,T,z),X=Xl(E,T,z[0],z[1]),X<N){for(N=X,J=0;J<g;++J)M[J]=z[J];M.length=g,fe+=g}else fe+=g*Math.max((Math.sqrt(X)-Math.sqrt(N))/C|0,1);if(S&&(zu(m,d-g,l,g,E,T,z),X=Xl(E,T,z[0],z[1]),X<N)){for(N=X,J=0;J<g;++J)M[J]=z[J];M.length=g}return N}function hp(m,l,d,g){for(let C=0,S=d.length;C<S;++C){const E=d[C];for(let T=0;T<g;++T)m[l++]=E[T]}return l}function Hc(m,l){return l*Math.round(m/l)}function Kv(m,l,d,g,C,S,E){if(l==d)return E;let N,z,T=Hc(m[l],C),M=Hc(m[l+1],C);l+=g,S[E++]=T,S[E++]=M;do{if(N=Hc(m[l],C),z=Hc(m[l+1],C),(l+=g)==d)return S[E++]=N,S[E++]=z,E}while(N==T&&z==M);for(;l<d;){const J=Hc(m[l],C),X=Hc(m[l+1],C);if(l+=g,J==N&&X==z)continue;const fe=N-T,ve=z-M,be=J-T,Me=X-M;fe*Me==ve*be&&(fe<0&&be<fe||fe==be||fe>0&&be>fe)&&(ve<0&&Me<ve||ve==Me||ve>0&&Me>ve)?(N=J,z=X):(S[E++]=N,S[E++]=z,T=N,M=z,N=J,z=X)}return S[E++]=N,S[E++]=z,E}function Uc(m,l,d,g,C){C=void 0!==C?C:[];let S=0;for(let E=l;E<d;E+=g)C[S++]=m.slice(E,E+g);return C.length=S,C}function gp(m,l,d,g,C){C=void 0!==C?C:[];let S=0;for(let E=0,T=d.length;E<T;++E){const M=d[E];C[S++]=Uc(m,l,M,g,C[S]),l=M}return C.length=S,C}function B1(m,l,d,g,C){C=void 0!==C?C:[];let S=0;for(let E=0,T=d.length;E<T;++E){const M=d[E];C[S++]=1===M.length&&M[0]===l?[]:gp(m,l,M,g,C[S]),l=M[M.length-1]}return C.length=S,C}function Qv(m,l,d,g){let C=0,S=m[d-g],E=m[d-g+1];for(;l<d;l+=g){const T=m[l],M=m[l+1];C+=E*T-S*M,S=T,E=M}return C/2}class xm extends Cm{constructor(l,d){super(),this.maxDelta_=-1,this.maxDeltaRevision_=-1,void 0===d||Array.isArray(l[0])?this.setCoordinates(l,d):this.setFlatCoordinates(d,l)}clone(){return new xm(this.flatCoordinates.slice(),this.layout)}closestPointXY(l,d,g,C){return C<qn(this.getExtent(),l,d)?C:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(bh(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),bm(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,l,d,g,C))}getArea(){return Qv(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinates(){return Uc(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getSimplifiedGeometryInternal(l){const d=[];return d.length=function Dm(m,l,d,g,C,S,E){const T=(d-l)/g;if(T<3){for(;l<d;l+=g)S[E++]=m[l],S[E++]=m[l+1];return E}const M=new Array(T);M[0]=1,M[T-1]=1;const N=[l,d-g];let z=0;for(;N.length>0;){const J=N.pop(),X=N.pop();let fe=0;const ve=m[X],be=m[X+1],Me=m[J],Ne=m[J+1];for(let We=X+g;We<J;We+=g){const gt=Qf(m[We],m[We+1],ve,be,Me,Ne);gt>fe&&(z=We,fe=gt)}fe>C&&(M[(z-l)/g]=1,X+g<z&&N.push(X,z),z+g<J&&N.push(z,J))}for(let J=0;J<T;++J)M[J]&&(S[E++]=m[l+J*g],S[E++]=m[l+J*g+1]);return E}(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,l,d,0),new xm(d,"XY")}getType(){return"LinearRing"}intersectsExtent(l){return!1}setCoordinates(l,d){this.setLayout(d,l,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=hp(this.flatCoordinates,0,l,this.stride),this.changed()}}const Fs=xm;class mp extends Cm{constructor(l,d){super(),this.setCoordinates(l,d)}clone(){const l=new mp(this.flatCoordinates.slice(),this.layout);return l.applyProperties(this),l}closestPointXY(l,d,g,C){const S=this.flatCoordinates,E=Xl(l,d,S[0],S[1]);if(E<C){const T=this.stride;for(let M=0;M<T;++M)g[M]=S[M];return g.length=T,E}return C}getCoordinates(){return this.flatCoordinates?this.flatCoordinates.slice():[]}computeExtent(l){return function Qt(m,l){const d=m[0],g=m[1];return ei(d,g,d,g,l)}(this.flatCoordinates,l)}getType(){return"Point"}intersectsExtent(l){return bn(l,this.flatCoordinates[0],this.flatCoordinates[1])}setCoordinates(l,d){this.setLayout(d,l,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=function V1(m,l,d,g){for(let C=0,S=d.length;C<S;++C)m[l++]=d[C];return l}(this.flatCoordinates,0,l),this.changed()}}const Xv=mp;function ia(m,l,d,g,C){return!Mo(C,function(E){return!$i(m,l,d,g,E[0],E[1])})}function $i(m,l,d,g,C,S){let E=0,T=m[d-g],M=m[d-g+1];for(;l<d;l+=g){const N=m[l],z=m[l+1];M<=S?z>S&&(N-T)*(S-M)-(C-T)*(z-M)>0&&E++:z<=S&&(N-T)*(S-M)-(C-T)*(z-M)<0&&E--,T=N,M=z}return 0!==E}function jc(m,l,d,g,C,S){if(0===d.length||!$i(m,l,d[0],g,C,S))return!1;for(let E=1,T=d.length;E<T;++E)if($i(m,d[E-1],d[E],g,C,S))return!1;return!0}function t0(m,l,d,g,C){const S=Tu([1/0,1/0,-1/0,-1/0],m,l,d,g);return!!vr(C,S)&&(!!(Mn(C,S)||S[0]>=C[0]&&S[2]<=C[2]||S[1]>=C[1]&&S[3]<=C[3])||function H1(m,l,d,g,C){let S;for(l+=g;l<d;l+=g)if(S=C(m.slice(l-g,l),m.slice(l,l+g)),S)return S;return!1}(m,l,d,g,function(E,T){return function qf(m,l,d){let g=!1;const C=wi(m,l),S=wi(m,d);if(C===ee.INTERSECTING||S===ee.INTERSECTING)g=!0;else{const E=m[0],T=m[1],M=m[2],N=m[3],X=d[0],fe=d[1],ve=(fe-l[1])/(X-l[0]);let be,Me;S&ee.ABOVE&&!(C&ee.ABOVE)&&(be=X-(fe-N)/ve,g=be>=E&&be<=M),!g&&S&ee.RIGHT&&!(C&ee.RIGHT)&&(Me=fe-(X-M)*ve,g=Me>=T&&Me<=N),!g&&S&ee.BELOW&&!(C&ee.BELOW)&&(be=X-(fe-T)/ve,g=be>=E&&be<=M),!g&&S&ee.LEFT&&!(C&ee.LEFT)&&(Me=fe-(X-E)*ve,g=Me>=T&&Me<=N)}return g}(C,E,T)}))}function U1(m,l,d,g,C){return!!(t0(m,l,d,g,C)||$i(m,l,d,g,C[0],C[1])||$i(m,l,d,g,C[0],C[3])||$i(m,l,d,g,C[2],C[1])||$i(m,l,d,g,C[2],C[3]))}function LS(m,l,d,g){for(;l<d-g;){for(let C=0;C<g;++C){const S=m[l+C];m[l+C]=m[d-g+C],m[d-g+C]=S}l+=g,d-=g}}function _p(m,l,d,g){let C=0,S=m[d-g],E=m[d-g+1];for(;l<d;l+=g){const T=m[l],M=m[l+1];C+=(T-S)*(M+E),S=T,E=M}return 0===C?void 0:C>0}function zc(m,l,d,g,C){C=void 0!==C&&C;for(let S=0,E=d.length;S<E;++S){const T=d[S],M=_p(m,l,T,g);(0===S?C&&M||!C&&!M:C&&!M||!C&&M)&&LS(m,l,T,g),l=T}return l}class Zc extends Cm{constructor(l,d,g){super(),this.ends_=[],this.flatInteriorPointRevision_=-1,this.flatInteriorPoint_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,void 0!==d&&g?(this.setFlatCoordinates(d,l),this.ends_=g):this.setCoordinates(l,d)}appendLinearRing(l){this.flatCoordinates?Jo(this.flatCoordinates,l.getFlatCoordinates()):this.flatCoordinates=l.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){const l=new Zc(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return l.applyProperties(this),l}closestPointXY(l,d,g,C){return C<qn(this.getExtent(),l,d)?C:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(function qv(m,l,d,g,C){for(let S=0,E=d.length;S<E;++S){const T=d[S];C=bh(m,l,T,g,C),l=T}return C}(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),function Zu(m,l,d,g,C,S,E,T,M,N,z){z=z||[NaN,NaN];for(let J=0,X=d.length;J<X;++J){const fe=d[J];N=bm(m,l,fe,g,C,S,E,T,M,N,z),l=fe}return N}(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,l,d,g,C))}containsXY(l,d){return jc(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,l,d)}getArea(){return function Em(m,l,d,g){let C=0;for(let S=0,E=d.length;S<E;++S){const T=d[S];C+=Qv(m,l,T,g),l=T}return C}(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)}getCoordinates(l){let d;return void 0!==l?(d=this.getOrientedFlatCoordinates().slice(),zc(d,0,this.ends_,this.stride,l)):d=this.flatCoordinates,gp(d,0,this.ends_,this.stride)}getEnds(){return this.ends_}getFlatInteriorPoint(){if(this.flatInteriorPointRevision_!=this.getRevision()){const l=Pc(this.getExtent());this.flatInteriorPoint_=function Po(m,l,d,g,C,S,E){let T,M,N,z,J,X,fe;const ve=C[S+1],be=[];for(let We=0,Ye=d.length;We<Ye;++We){const Xe=d[We];for(z=m[Xe-g],X=m[Xe-g+1],T=l;T<Xe;T+=g)J=m[T],fe=m[T+1],(ve<=X&&fe<=ve||X<=ve&&ve<=fe)&&(N=(ve-X)/(fe-X)*(J-z)+z,be.push(N)),z=J,X=fe}let Me=NaN,Ne=-1/0;for(be.sort(Qo),z=be[0],T=1,M=be.length;T<M;++T){J=be[T];const We=Math.abs(J-z);We>Ne&&(N=(z+J)/2,jc(m,l,d,g,N,ve)&&(Me=N,Ne=We)),z=J}return isNaN(Me)&&(Me=C[S]),E?(E.push(Me,ve,Ne),E):[Me,ve,Ne]}(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,l,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_}getInteriorPoint(){return new Xv(this.getFlatInteriorPoint(),"XYM")}getLinearRingCount(){return this.ends_.length}getLinearRing(l){return l<0||this.ends_.length<=l?null:new Fs(this.flatCoordinates.slice(0===l?0:this.ends_[l-1],this.ends_[l]),this.layout)}getLinearRings(){const l=this.layout,d=this.flatCoordinates,g=this.ends_,C=[];let S=0;for(let E=0,T=g.length;E<T;++E){const M=g[E],N=new Fs(d.slice(S,M),l);C.push(N),S=M}return C}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){const l=this.flatCoordinates;!function Tm(m,l,d,g,C){C=void 0!==C&&C;for(let S=0,E=d.length;S<E;++S){const T=d[S],M=_p(m,l,T,g);if(0===S){if(C&&M||!C&&!M)return!1}else if(C&&!M||!C&&M)return!1;l=T}return!0}(l,0,this.ends_,this.stride)?(this.orientedFlatCoordinates_=l.slice(),this.orientedFlatCoordinates_.length=zc(this.orientedFlatCoordinates_,0,this.ends_,this.stride)):this.orientedFlatCoordinates_=l,this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(l){const d=[],g=[];return d.length=function cr(m,l,d,g,C,S,E,T){for(let M=0,N=d.length;M<N;++M){const z=d[M];E=Kv(m,l,z,g,C,S,E),T.push(E),l=z}return E}(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(l),d,0,g),new Zc(d,"XY",g)}getType(){return"Polygon"}intersectsExtent(l){return function n0(m,l,d,g,C){if(!U1(m,l,d[0],g,C))return!1;if(1===d.length)return!0;for(let S=1,E=d.length;S<E;++S)if(ia(m,d[S-1],d[S],g,C)&&!t0(m,d[S-1],d[S],g,C))return!1;return!0}(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,l)}setCoordinates(l,d){this.setLayout(d,l,2),this.flatCoordinates||(this.flatCoordinates=[]);const g=function fp(m,l,d,g,C){C=C||[];let S=0;for(let E=0,T=d.length;E<T;++E){const M=hp(m,l,d[E],g);C[S++]=M,l=M}return C.length=S,C}(this.flatCoordinates,0,l,this.stride,this.ends_);this.flatCoordinates.length=0===g.length?0:g[g.length-1],this.changed()}}const j1=Zc;function Gu(m){const l=m[0],d=m[1],g=m[2],C=m[3],S=[l,d,l,C,g,C,g,d,l,d];return new Zc(S,"XY",[S.length])}function Mm(m,l){setTimeout(function(){m(l)},0)}function o0(m,l,d,g,C){const S=Math.cos(-C);let E=Math.sin(-C),T=m[0]*S-m[1]*E,M=m[1]*S+m[0]*E;return T+=(l[0]/2-d[0])*g,M+=(d[1]-l[1]/2)*g,E=-E,[T*S-M*E,M*S+T*E]}const Oa=class Im extends In{constructor(l){super(),l=Object.assign({},l),this.hints_=[0,0],this.animations_=[],this.projection_=sp(l.projection,"EPSG:3857"),this.viewportSize_=[100,100],this.targetCenter_=null,this.nextCenter_=null,this.cancelAnchor_=void 0,l.projection&&ip(),l.center&&(l.center=na(l.center)),l.extent&&(l.extent=Oo(l.extent)),this.applyOptions_(l)}applyOptions_(l){const d=Object.assign({},l);for(const T in Zr)delete d[T];this.setProperties(d,!0);const g=function BS(m){let l,d,g,E=void 0!==m.minZoom?m.minZoom:0,T=void 0!==m.maxZoom?m.maxZoom:28;const M=void 0!==m.zoomFactor?m.zoomFactor:2,N=void 0!==m.multiWorld&&m.multiWorld,z=void 0===m.smoothResolutionConstraint||m.smoothResolutionConstraint,J=void 0!==m.showFullExtent&&m.showFullExtent,X=sp(m.projection,"EPSG:3857"),fe=X.getExtent();let ve=m.constrainOnlyCenter,be=m.extent;if(!N&&!be&&X.isGlobal()&&(ve=!1,be=fe),void 0!==m.resolutions){const Me=m.resolutions;d=Me[E],g=void 0!==Me[T]?Me[T]:Me[Me.length-1],l=m.constrainResolution?function Ro(m,l,d,g){return l=void 0===l||l,function(C,S,E,T){if(void 0!==C){const M=m[0],N=m[m.length-1],z=d?vh(M,d,E,g):M;if(T)return l?mm(C,z,N):Yi(C,N,z);const J=Math.min(z,C),X=Math.floor(Yl(m,J,S));return m[X]>z&&X<m.length-1?m[X+1]:m[X]}}}(Me,z,!ve&&be,J):Uu(d,g,z,!ve&&be,J)}else{const Ne=(fe?Math.max(oi(fe),gs(fe)):360*xa.degrees/X.getMetersPerUnit())/ch/Math.pow(2,0),We=Ne/Math.pow(2,28);d=m.maxResolution,void 0!==d?E=0:d=Ne/Math.pow(M,E),g=m.minResolution,void 0===g&&(g=void 0!==m.maxZoom?void 0!==m.maxResolution?d/Math.pow(M,T):Ne/Math.pow(M,T):We),T=E+Math.floor(Math.log(d/g)/Math.log(M)),g=d/Math.pow(M,T-E),l=m.constrainResolution?function fl(m,l,d,g,C,S){return g=void 0===g||g,d=void 0!==d?d:0,function(E,T,M,N){if(void 0!==E){const z=C?vh(l,C,M,S):l;if(N)return g?mm(E,z,d):Yi(E,d,z);const J=1e-9,X=Math.ceil(Math.log(l/z)/Math.log(m)-J),fe=-T*(.5-J)+.5,ve=Math.min(z,E),be=Math.floor(Math.log(l/ve)/Math.log(m)+fe),Me=Math.max(X,be);return Yi(l/Math.pow(m,Me),d,z)}}}(M,d,g,z,!ve&&be,J):Uu(d,g,z,!ve&&be,J)}return{constraint:l,maxResolution:d,minResolution:g,minZoom:E,zoomFactor:M}}(l);this.maxResolution_=g.maxResolution,this.minResolution_=g.minResolution,this.zoomFactor_=g.zoomFactor,this.resolutions_=l.resolutions,this.padding_=l.padding,this.minZoom_=g.minZoom;const C=function s0(m){if(void 0!==m.extent)return sc(m.extent,m.constrainOnlyCenter,void 0===m.smoothExtentConstraint||m.smoothExtentConstraint);const l=sp(m.projection,"EPSG:3857");if(!0!==m.multiWorld&&l.isGlobal()){const d=l.getExtent().slice();return d[0]=-1/0,d[2]=1/0,sc(d,!1,!1)}return Aa}(l),S=g.constraint,E=function Z1(m){if(void 0===m.enableRotation||m.enableRotation){const d=m.constrainRotation;return void 0===d||!0===d?function up(m){return m=m||oh(5),function(l,d){return d?l:void 0!==l?Math.abs(l)<=m?0:l:void 0}}():!1===d?cp:"number"==typeof d?function vm(m){const l=2*Math.PI/m;return function(d,g){return g?d:void 0!==d?d=Math.floor(d/l+.5)*l:void 0}}(d):cp}return _m}(l);this.constraints_={center:C,resolution:S,rotation:E},this.setRotation(void 0!==l.rotation?l.rotation:0),this.setCenterInternal(void 0!==l.center?l.center:null),void 0!==l.resolution?this.setResolution(l.resolution):void 0!==l.zoom&&this.setZoom(l.zoom)}get padding(){return this.padding_}set padding(l){let d=this.padding_;this.padding_=l;const g=this.getCenterInternal();if(g){const C=l||[0,0,0,0];d=d||[0,0,0,0];const S=this.getResolution();this.setCenterInternal([g[0]+S/2*(C[3]-d[3]+d[1]-C[1]),g[1]-S/2*(C[0]-d[0]+d[2]-C[2])])}}getUpdatedOptions_(l){const d=this.getProperties();return void 0!==d.resolution?d.resolution=this.getResolution():d.zoom=this.getZoom(),d.center=this.getCenterInternal(),d.rotation=this.getRotation(),Object.assign({},d,l)}animate(l){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);const d=new Array(arguments.length);for(let g=0;g<d.length;++g){let C=arguments[g];C.center&&(C=Object.assign({},C),C.center=na(C.center,this.getProjection())),C.anchor&&(C=Object.assign({},C),C.anchor=na(C.anchor,this.getProjection())),d[g]=C}this.animateInternal.apply(this,d)}animateInternal(l){let g,d=arguments.length;d>1&&"function"==typeof arguments[d-1]&&(g=arguments[d-1],--d);let C=0;for(;C<d&&!this.isDef();++C){const z=arguments[C];z.center&&this.setCenterInternal(z.center),void 0!==z.zoom?this.setZoom(z.zoom):z.resolution&&this.setResolution(z.resolution),void 0!==z.rotation&&this.setRotation(z.rotation)}if(C===d)return void(g&&Mm(g,!0));let S=Date.now(),E=this.targetCenter_.slice(),T=this.targetResolution_,M=this.targetRotation_;const N=[];for(;C<d;++C){const z=arguments[C],J={start:S,complete:!1,anchor:z.anchor,duration:void 0!==z.duration?z.duration:1e3,easing:z.easing||pl,callback:g};if(z.center&&(J.sourceCenter=E,J.targetCenter=z.center.slice(),E=J.targetCenter),void 0!==z.zoom?(J.sourceResolution=T,J.targetResolution=this.getResolutionForZoom(z.zoom),T=J.targetResolution):z.resolution&&(J.sourceResolution=T,J.targetResolution=z.resolution,T=J.targetResolution),void 0!==z.rotation){J.sourceRotation=M;const X=ec(z.rotation-M+Math.PI,2*Math.PI)-Math.PI;J.targetRotation=M+X,M=J.targetRotation}(m=J).sourceCenter&&m.targetCenter&&!Pu(m.sourceCenter,m.targetCenter)||m.sourceResolution!==m.targetResolution||m.sourceRotation!==m.targetRotation?S+=J.duration:J.complete=!0,N.push(J)}var m;this.animations_.push(N),this.setHint(0,1),this.updateAnimations_()}getAnimating(){return this.hints_[0]>0}getInteracting(){return this.hints_[1]>0}cancelAnimations(){let l;this.setHint(0,-this.hints_[0]);for(let d=0,g=this.animations_.length;d<g;++d){const C=this.animations_[d];if(C[0].callback&&Mm(C[0].callback,!1),!l)for(let S=0,E=C.length;S<E;++S){const T=C[S];if(!T.complete){l=T.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=l,this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN}updateAnimations_(){if(void 0!==this.updateAnimationKey_&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),!this.getAnimating())return;const l=Date.now();let d=!1;for(let g=this.animations_.length-1;g>=0;--g){const C=this.animations_[g];let S=!0;for(let E=0,T=C.length;E<T;++E){const M=C[E];if(M.complete)continue;let z=M.duration>0?(l-M.start)/M.duration:1;z>=1?(M.complete=!0,z=1):S=!1;const J=M.easing(z);if(M.sourceCenter){const X=M.sourceCenter[0],fe=M.sourceCenter[1],ve=M.targetCenter[0],be=M.targetCenter[1];this.nextCenter_=M.targetCenter,this.targetCenter_=[X+J*(ve-X),fe+J*(be-fe)]}if(M.sourceResolution&&M.targetResolution){const X=1===J?M.targetResolution:M.sourceResolution+J*(M.targetResolution-M.sourceResolution);if(M.anchor){const fe=this.getViewportSize_(this.getRotation()),ve=this.constraints_.resolution(X,0,fe,!0);this.targetCenter_=this.calculateCenterZoom(ve,M.anchor)}this.nextResolution_=M.targetResolution,this.targetResolution_=X,this.applyTargetState_(!0)}if(void 0!==M.sourceRotation&&void 0!==M.targetRotation){const X=1===J?ec(M.targetRotation+Math.PI,2*Math.PI)-Math.PI:M.sourceRotation+J*(M.targetRotation-M.sourceRotation);if(M.anchor){const fe=this.constraints_.rotation(X,!0);this.targetCenter_=this.calculateCenterRotate(fe,M.anchor)}this.nextRotation_=M.targetRotation,this.targetRotation_=X}if(this.applyTargetState_(!0),d=!0,!M.complete)break}if(S){this.animations_[g]=null,this.setHint(0,-1),this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN;const E=C[0].callback;E&&Mm(E,!0)}}this.animations_=this.animations_.filter(Boolean),d&&void 0===this.updateAnimationKey_&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}calculateCenterRotate(l,d){let g;const C=this.getCenterInternal();return void 0!==C&&(g=[C[0]-d[0],C[1]-d[1]],Ia(g,l-this.getRotation()),function cm(m,l){m[0]+=+l[0],m[1]+=+l[1]}(g,d)),g}calculateCenterZoom(l,d){let g;const C=this.getCenterInternal(),S=this.getResolution();return void 0!==C&&void 0!==S&&(g=[d[0]-l*(d[0]-C[0])/S,d[1]-l*(d[1]-C[1])/S]),g}getViewportSize_(l){const d=this.viewportSize_;if(l){const g=d[0],C=d[1];return[Math.abs(g*Math.cos(l))+Math.abs(C*Math.sin(l)),Math.abs(g*Math.sin(l))+Math.abs(C*Math.cos(l))]}return d}setViewportSize(l){this.viewportSize_=Array.isArray(l)?l.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)}getCenter(){const l=this.getCenterInternal();return l&&Lc(l,this.getProjection())}getCenterInternal(){return this.get(Zr.CENTER)}getConstraints(){return this.constraints_}getConstrainResolution(){return this.get("constrainResolution")}getHints(l){return void 0!==l?(l[0]=this.hints_[0],l[1]=this.hints_[1],l):this.hints_.slice()}calculateExtent(l){return rc(this.calculateExtentInternal(l),this.getProjection())}calculateExtentInternal(l){l=l||this.getViewportSizeMinusPadding_();const d=this.getCenterInternal();kn(d,1);const g=this.getResolution();kn(void 0!==g,2);const C=this.getRotation();return kn(void 0!==C,3),ks(d,g,C,l)}getMaxResolution(){return this.maxResolution_}getMinResolution(){return this.minResolution_}getMaxZoom(){return this.getZoomForResolution(this.minResolution_)}setMaxZoom(l){this.applyOptions_(this.getUpdatedOptions_({maxZoom:l}))}getMinZoom(){return this.getZoomForResolution(this.maxResolution_)}setMinZoom(l){this.applyOptions_(this.getUpdatedOptions_({minZoom:l}))}setConstrainResolution(l){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:l}))}getProjection(){return this.projection_}getResolution(){return this.get(Zr.RESOLUTION)}getResolutions(){return this.resolutions_}getResolutionForExtent(l,d){return this.getResolutionForExtentInternal(Oo(l,this.getProjection()),d)}getResolutionForExtentInternal(l,d){d=d||this.getViewportSizeMinusPadding_();const g=oi(l)/d[0],C=gs(l)/d[1];return Math.max(g,C)}getResolutionForValueFunction(l){l=l||2;const d=this.getConstrainedResolution(this.maxResolution_),C=Math.log(d/this.minResolution_)/Math.log(l);return function(S){return d/Math.pow(l,S*C)}}getRotation(){return this.get(Zr.ROTATION)}getValueForResolutionFunction(l){const d=Math.log(l||2),g=this.getConstrainedResolution(this.maxResolution_),S=Math.log(g/this.minResolution_)/d;return function(E){return Math.log(g/E)/d/S}}getViewportSizeMinusPadding_(l){let d=this.getViewportSize_(l);const g=this.padding_;return g&&(d=[d[0]-g[1]-g[3],d[1]-g[0]-g[2]]),d}getState(){const l=this.getProjection(),d=this.getResolution(),g=this.getRotation();let C=this.getCenterInternal();const S=this.padding_;if(S){const E=this.getViewportSizeMinusPadding_();C=o0(C,this.getViewportSize_(),[E[0]/2+S[3],E[1]/2+S[0]],d,g)}return{center:C.slice(0),projection:void 0!==l?l:null,resolution:d,nextCenter:this.nextCenter_,nextResolution:this.nextResolution_,nextRotation:this.nextRotation_,rotation:g,zoom:this.getZoom()}}getViewStateAndExtent(){return{viewState:this.getState(),extent:this.calculateExtent()}}getZoom(){let l;const d=this.getResolution();return void 0!==d&&(l=this.getZoomForResolution(d)),l}getZoomForResolution(l){let g,C,d=this.minZoom_||0;if(this.resolutions_){const S=Yl(this.resolutions_,l,1);d=S,g=this.resolutions_[S],C=S==this.resolutions_.length-1?2:g/this.resolutions_[S+1]}else g=this.maxResolution_,C=this.zoomFactor_;return d+Math.log(g/l)/Math.log(C)}getResolutionForZoom(l){if(this.resolutions_){if(this.resolutions_.length<=1)return 0;const d=Yi(Math.floor(l),0,this.resolutions_.length-2);return this.resolutions_[d]/Math.pow(this.resolutions_[d]/this.resolutions_[d+1],Yi(l-d,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,l-this.minZoom_)}fit(l,d){let g;if(kn(Array.isArray(l)||"function"==typeof l.getSimplifiedGeometry,24),Array.isArray(l))kn(!ms(l),25),g=Gu(Oo(l,this.getProjection()));else if("Circle"===l.getType()){const C=Oo(l.getExtent(),this.getProjection());g=Gu(C),g.rotate(this.getRotation(),Pc(C))}else{const C=pm();g=C?l.clone().transform(C,this.getProjection()):l}this.fitInternal(g,d)}rotatedExtentForGeometry(l){const d=this.getRotation(),g=Math.cos(d),C=Math.sin(-d),S=l.getFlatCoordinates(),E=l.getStride();let T=1/0,M=1/0,N=-1/0,z=-1/0;for(let J=0,X=S.length;J<X;J+=E){const fe=S[J]*g-S[J+1]*C,ve=S[J]*C+S[J+1]*g;T=Math.min(T,fe),M=Math.min(M,ve),N=Math.max(N,fe),z=Math.max(z,ve)}return[T,M,N,z]}fitInternal(l,d){let g=(d=d||{}).size;g||(g=this.getViewportSizeMinusPadding_());const C=void 0!==d.padding?d.padding:[0,0,0,0],S=void 0!==d.nearest&&d.nearest;let E;E=void 0!==d.minResolution?d.minResolution:void 0!==d.maxZoom?this.getResolutionForZoom(d.maxZoom):0;const T=this.rotatedExtentForGeometry(l);let M=this.getResolutionForExtentInternal(T,[g[0]-C[1]-C[3],g[1]-C[0]-C[2]]);M=isNaN(M)?E:Math.max(M,E),M=this.getConstrainedResolution(M,S?0:1);const N=this.getRotation(),z=Math.sin(N),J=Math.cos(N),X=Pc(T);X[0]+=(C[1]-C[3])/2*M,X[1]+=(C[0]-C[2])/2*M;const be=this.getConstrainedCenter([X[0]*J-X[1]*z,X[1]*J+X[0]*z],M),Me=d.callback?d.callback:Ca;void 0!==d.duration?this.animateInternal({resolution:M,center:be,duration:d.duration,easing:d.easing},Me):(this.targetResolution_=M,this.targetCenter_=be,this.applyTargetState_(!1,!0),Mm(Me,!0))}centerOn(l,d,g){this.centerOnInternal(na(l,this.getProjection()),d,g)}centerOnInternal(l,d,g){this.setCenterInternal(o0(l,d,g,this.getResolution(),this.getRotation()))}calculateCenterShift(l,d,g,C){let S;const E=this.padding_;if(E&&l){const T=this.getViewportSizeMinusPadding_(-g),M=o0(l,C,[T[0]/2+E[3],T[1]/2+E[0]],d,g);S=[l[0]-M[0],l[1]-M[1]]}return S}isDef(){return!!this.getCenterInternal()&&void 0!==this.getResolution()}adjustCenter(l){const d=Lc(this.targetCenter_,this.getProjection());this.setCenter([d[0]+l[0],d[1]+l[1]])}adjustCenterInternal(l){const d=this.targetCenter_;this.setCenterInternal([d[0]+l[0],d[1]+l[1]])}adjustResolution(l,d){d=d&&na(d,this.getProjection()),this.adjustResolutionInternal(l,d)}adjustResolutionInternal(l,d){const g=this.getAnimating()||this.getInteracting(),C=this.getViewportSize_(this.getRotation()),S=this.constraints_.resolution(this.targetResolution_*l,0,C,g);d&&(this.targetCenter_=this.calculateCenterZoom(S,d)),this.targetResolution_*=l,this.applyTargetState_()}adjustZoom(l,d){this.adjustResolution(Math.pow(this.zoomFactor_,-l),d)}adjustRotation(l,d){d&&(d=na(d,this.getProjection())),this.adjustRotationInternal(l,d)}adjustRotationInternal(l,d){const g=this.getAnimating()||this.getInteracting(),C=this.constraints_.rotation(this.targetRotation_+l,g);d&&(this.targetCenter_=this.calculateCenterRotate(C,d)),this.targetRotation_+=l,this.applyTargetState_()}setCenter(l){this.setCenterInternal(l&&na(l,this.getProjection()))}setCenterInternal(l){this.targetCenter_=l,this.applyTargetState_()}setHint(l,d){return this.hints_[l]+=d,this.changed(),this.hints_[l]}setResolution(l){this.targetResolution_=l,this.applyTargetState_()}setRotation(l){this.targetRotation_=l,this.applyTargetState_()}setZoom(l){this.setResolution(this.getResolutionForZoom(l))}applyTargetState_(l,d){const g=this.getAnimating()||this.getInteracting()||d,C=this.constraints_.rotation(this.targetRotation_,g),S=this.getViewportSize_(C),E=this.constraints_.resolution(this.targetResolution_,0,S,g),T=this.constraints_.center(this.targetCenter_,E,S,g,this.calculateCenterShift(this.targetCenter_,E,C,S));this.get(Zr.ROTATION)!==C&&this.set(Zr.ROTATION,C),this.get(Zr.RESOLUTION)!==E&&(this.set(Zr.RESOLUTION,E),this.set("zoom",this.getZoom(),!0)),(!T||!this.get(Zr.CENTER)||!Pu(this.get(Zr.CENTER),T))&&this.set(Zr.CENTER,T),this.getAnimating()&&!l&&this.cancelAnimations(),this.cancelAnchor_=void 0}resolveConstraints(l,d,g){l=void 0!==l?l:200;const C=d||0,S=this.constraints_.rotation(this.targetRotation_),E=this.getViewportSize_(S),T=this.constraints_.resolution(this.targetResolution_,C,E),M=this.constraints_.center(this.targetCenter_,T,E,!1,this.calculateCenterShift(this.targetCenter_,T,S,E));if(0===l&&!this.cancelAnchor_)return this.targetResolution_=T,this.targetRotation_=S,this.targetCenter_=M,void this.applyTargetState_();g=g||(0===l?this.cancelAnchor_:void 0),this.cancelAnchor_=void 0,(this.getResolution()!==T||this.getRotation()!==S||!this.getCenterInternal()||!Pu(this.getCenterInternal(),M))&&(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:S,center:M,resolution:T,duration:l,easing:Vc,anchor:g}))}beginInteraction(){this.resolveConstraints(0),this.setHint(1,1)}endInteraction(l,d,g){g=g&&na(g,this.getProjection()),this.endInteractionInternal(l,d,g)}endInteractionInternal(l,d,g){this.getInteracting()&&(this.setHint(1,-1),this.resolveConstraints(l,d,g))}getConstrainedCenter(l,d){const g=this.getViewportSize_(this.getRotation());return this.constraints_.center(l,d||this.getResolution(),g)}getConstrainedZoom(l,d){const g=this.getResolutionForZoom(l);return this.getZoomForResolution(this.getConstrainedResolution(g,d))}getConstrainedResolution(l,d){d=d||0;const g=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(l,d,g)}};function Am(m,l){if(!m.visible)return!1;const d=l.resolution;if(d<m.minResolution||d>=m.maxResolution)return!1;const g=l.zoom;return g>m.minZoom&&g<=m.maxZoom}const Gc=class a0 extends tc{constructor(l){const d=Object.assign({},l);delete d.source,super(d),this.mapPrecomposeKey_=null,this.mapRenderKey_=null,this.sourceChangeKey_=null,this.renderer_=null,this.sourceReady_=!1,this.rendered=!1,l.render&&(this.render=l.render),l.map&&this.setMap(l.map),this.addChangeListener("source",this.handleSourcePropertyChange_),this.setSource(l.source?l.source:null)}getLayersArray(l){return(l=l||[]).push(this),l}getLayerStatesArray(l){return(l=l||[]).push(this.getLayerState()),l}getSource(){return this.get("source")||null}getRenderSource(){return this.getSource()}getSourceState(){const l=this.getSource();return l?l.getState():"undefined"}handleSourceChange_(){this.changed(),!this.sourceReady_&&"ready"===this.getSource().getState()&&(this.sourceReady_=!0,this.dispatchEvent("sourceready"))}handleSourcePropertyChange_(){this.sourceChangeKey_&&(Y(this.sourceChangeKey_),this.sourceChangeKey_=null),this.sourceReady_=!1;const l=this.getSource();l&&(this.sourceChangeKey_=nn(l,"change",this.handleSourceChange_,this),"ready"===l.getState()&&(this.sourceReady_=!0,setTimeout(()=>{this.dispatchEvent("sourceready")},0))),this.changed()}getFeatures(l){return this.renderer_?this.renderer_.getFeatures(l):Promise.resolve([])}getData(l){return this.renderer_&&this.rendered?this.renderer_.getData(l):null}isVisible(l){let d;const g=this.getMapInternal();let C;!l&&g&&(l=g.getView()),d=l instanceof Oa?{viewState:l.getState(),extent:l.calculateExtent()}:l,!d.layerStatesArray&&g&&(d.layerStatesArray=g.getLayerGroup().getLayerStatesArray()),C=d.layerStatesArray?d.layerStatesArray.find(E=>E.layer===this):this.getLayerState();const S=this.getExtent();return Am(C,d.viewState)&&(!S||vr(S,d.extent))}getAttributions(l){if(!this.isVisible(l))return[];let d;const g=this.getSource();if(g&&(d=g.getAttributions()),!d)return[];let S=d(l instanceof Oa?l.getViewStateAndExtent():l);return Array.isArray(S)||(S=[S]),S}render(l,d){const g=this.getRenderer();return g.prepareFrame(l)?(this.rendered=!0,g.renderFrame(l,d)):null}unrender(){this.rendered=!1}setMapInternal(l){l||this.unrender(),this.set("map",l)}getMapInternal(){return this.get("map")}setMap(l){this.mapPrecomposeKey_&&(Y(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),l||this.changed(),this.mapRenderKey_&&(Y(this.mapRenderKey_),this.mapRenderKey_=null),l&&(this.mapPrecomposeKey_=nn(l,"precompose",function(d){const C=d.frameState.layerStatesArray,S=this.getLayerState(!1);kn(!C.some(function(E){return E.layer===S.layer}),67),C.push(S)},this),this.mapRenderKey_=nn(this,"change",l.render,l),this.changed())}setSource(l){this.set("source",l)}getRenderer(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_}hasRenderer(){return!!this.renderer_}createRenderer(){return null}disposeInternal(){this.renderer_&&(this.renderer_.dispose(),delete this.renderer_),this.setSource(null),super.disposeInternal()}};function HS(m,l){Ao.expire()}const l0=class Y1 extends Do{constructor(l){super(),this.map_=l}dispatchRenderEvent(l,d){je()}calculateMatrices2D(l){const d=l.viewState,g=l.coordinateToPixelTransform,C=l.pixelToCoordinateTransform;hs(g,l.size[0]/2,l.size[1]/2,1/d.resolution,-1/d.resolution,-d.rotation,-d.center[0],-d.center[1]),eo(C,g)}forEachFeatureAtCoordinate(l,d,g,C,S,E,T,M){let N;const z=d.viewState;function J(Xe,gt,Mt,Rt){return S.call(E,gt,Xe?Mt:null,Rt)}const X=z.projection,fe=Fc(l.slice(),X),ve=[[0,0]];if(X.canWrapX()&&C){const gt=oi(X.getExtent());ve.push([-gt,0],[gt,0])}const be=d.layerStatesArray,Me=be.length,Ne=[],We=[];for(let Xe=0;Xe<ve.length;Xe++)for(let gt=Me-1;gt>=0;--gt){const Mt=be[gt],Rt=Mt.layer;if(Rt.hasRenderer()&&Am(Mt,z)&&T.call(M,Rt)){const Ot=Rt.getRenderer(),qt=Rt.getSource();if(Ot&&qt){const rn=qt.getWrapX()?fe:l,Bn=J.bind(null,Mt.managed);We[0]=rn[0]+ve[Xe][0],We[1]=rn[1]+ve[Xe][1],N=Ot.forEachFeatureAtCoordinate(We,d,g,Bn,Ne)}if(N)return N}}if(0===Ne.length)return;const Ye=1/Ne.length;return Ne.forEach((Xe,gt)=>Xe.distanceSq+=gt*Ye),Ne.sort((Xe,gt)=>Xe.distanceSq-gt.distanceSq),Ne.some(Xe=>N=Xe.callback(Xe.feature,Xe.layer,Xe.geometry)),N}hasFeatureAtCoordinate(l,d,g,C,S,E){return void 0!==this.forEachFeatureAtCoordinate(l,d,g,C,Wl,this,S,E)}getMap(){return this.map_}renderFrame(l){je()}scheduleExpireIconCache(l){Ao.canExpireCache()&&l.postRenderFunctions.push(HS)}},Yc=class W1 extends or{constructor(l,d,g,C){super(l),this.inversePixelTransform=d,this.frameState=g,this.context=C}},yp="ol-hidden",Om="ol-unselectable",Sh="ol-control",$1="ol-collapsed",q1=new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))","?\\s*([-,\\\"\\'\\sa-z]+?)\\s*$"].join(""),"i"),c0=["style","variant","weight","size","lineHeight","family"],u0=function(m){const l=m.match(q1);if(!l)return null;const d={lineHeight:"normal",size:"1.2em",style:"normal",weight:"normal",variant:"normal"};for(let g=0,C=c0.length;g<C;++g){const S=l[g+1];void 0!==S&&(d[c0[g]]=S)}return d.families=d.family.split(/,\s?/),d};function Yr(m,l,d,g){let C;return C=d&&d.length?d.shift():Wf?new OffscreenCanvas(m||300,l||300):document.createElement("canvas"),m&&(C.width=m),l&&(C.height=l),C.getContext("2d",g)}function Yu(m){const l=m.canvas;l.width=1,l.height=1,m.clearRect(0,0,1,1)}function Cp(m,l){const d=l.parentNode;d&&d.replaceChild(m,l)}function bp(m){return m&&m.parentNode?m.parentNode.removeChild(m):null}const Sp="10px sans-serif",ro="#000",wh="round",Dh=[],Wu="round",$u="#000",qu="center",yl="middle",Cl=[0,0,0,0],br=new In;let h0,Ku=null;const km={},Fm=function(){const l="32px ",d=["monospace","serif"],g=d.length,C="wmytzilWMYTZIL@#/&?$%10\uf013";let S,E;function T(N,z,J){let X=!0;for(let fe=0;fe<g;++fe){const ve=d[fe];if(E=Wc(N+" "+z+" "+l+ve,C),J!=ve){const be=Wc(N+" "+z+" "+l+J+","+ve,C);X=X&&be!=E}}return!!X}function M(){let N=!0;const z=br.getKeys();for(let J=0,X=z.length;J<X;++J){const fe=z[J];br.get(fe)<100&&(T.apply(this,fe.split("\n"))?(Xo(km),Ku=null,h0=void 0,br.set(fe,100)):(br.set(fe,br.get(fe)+1,!0),N=!1))}N&&(clearInterval(S),S=void 0)}return function(N){const z=u0(N);if(!z)return;const J=z.families;for(let X=0,fe=J.length;X<fe;++X){const ve=J[X],be=z.style+"\n"+z.weight+"\n"+ve;void 0===br.get(be)&&(br.set(be,100,!0),T(z.style,z.weight,ve)||(br.set(be,0,!0),void 0===S&&(S=setInterval(M,32))))}}}(),K1=function(){let m;return function(l){let d=km[l];if(null==d){if(Wf){const g=u0(l),C=Qu(l,"\u017dg");d=(isNaN(Number(g.lineHeight))?1.2:Number(g.lineHeight))*(C.actualBoundingBoxAscent+C.actualBoundingBoxDescent)}else m||(m=document.createElement("div"),m.innerHTML="M",m.style.minHeight="0",m.style.maxHeight="none",m.style.height="auto",m.style.padding="0",m.style.border="none",m.style.position="absolute",m.style.display="block",m.style.left="-99999px"),m.style.font=l,document.body.appendChild(m),d=m.offsetHeight,document.body.removeChild(m);km[l]=d}return d}}();function Qu(m,l){return Ku||(Ku=Yr(1,1)),m!=h0&&(Ku.font=m,h0=Ku.font),Ku.measureText(l)}function Wc(m,l){return Qu(m,l).width}function wp(m,l,d){if(l in d)return d[l];const g=l.split("\n").reduce((C,S)=>Math.max(C,Wc(m,S)),0);return d[l]=g,g}const m0=class Nm extends l0{constructor(l){super(l),this.fontChangeListenerKey_=nn(br,"propertychange",l.redrawText.bind(l)),this.element_=document.createElement("div");const d=this.element_.style;d.position="absolute",d.width="100%",d.height="100%",d.zIndex="0",this.element_.className=Om+" ol-layers";const g=l.getViewport();g.insertBefore(this.element_,g.firstChild||null),this.children_=[],this.renderedVisible_=!0}dispatchRenderEvent(l,d){const g=this.getMap();if(g.hasListener(l)){const C=new Yc(l,void 0,d);g.dispatchEvent(C)}}disposeInternal(){Y(this.fontChangeListenerKey_),this.element_.parentNode.removeChild(this.element_),super.disposeInternal()}renderFrame(l){if(!l)return void(this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1));this.calculateMatrices2D(l),this.dispatchRenderEvent("precompose",l);const d=l.layerStatesArray.sort(function(E,T){return E.zIndex-T.zIndex}),g=l.viewState;this.children_.length=0;const C=[];let S=null;for(let E=0,T=d.length;E<T;++E){const M=d[E];l.layerIndex=E;const N=M.layer,z=N.getSourceState();if(!Am(M,g)||"ready"!=z&&"undefined"!=z){N.unrender();continue}const J=N.render(l,S);J&&(J!==S&&(this.children_.push(J),S=J),"getDeclutter"in N&&C.push(N))}for(let E=C.length-1;E>=0;--E)C[E].renderDeclutter(l);(function d0(m,l){const d=m.childNodes;for(let g=0;;++g){const C=d[g],S=l[g];if(!C&&!S)break;if(C!==S){if(!C){m.appendChild(S);continue}if(!S){m.removeChild(C),--g;continue}m.insertBefore(S,C)}}})(this.element_,this.children_),this.dispatchRenderEvent("postcompose",l),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(l)}};class $c extends or{constructor(l,d){super(l),this.layer=d}}class v0 extends tc{constructor(l){l=l||{};const d=Object.assign({},l);delete d.layers;let g=l.layers;super(d),this.layersListenerKeys_=[],this.listenerKeys_={},this.addChangeListener("layers",this.handleLayersChanged_),g?Array.isArray(g)?g=new xo(g.slice(),{unique:!0}):kn("function"==typeof g.getArray,43):g=new xo(void 0,{unique:!0}),this.setLayers(g)}handleLayerChange_(){this.changed()}handleLayersChanged_(){this.layersListenerKeys_.forEach(Y),this.layersListenerKeys_.length=0;const l=this.getLayers();this.layersListenerKeys_.push(nn(l,"add",this.handleLayersAdd_,this),nn(l,"remove",this.handleLayersRemove_,this));for(const g in this.listenerKeys_)this.listenerKeys_[g].forEach(Y);Xo(this.listenerKeys_);const d=l.getArray();for(let g=0,C=d.length;g<C;g++){const S=d[g];this.registerLayerListeners_(S),this.dispatchEvent(new $c("addlayer",S))}this.changed()}registerLayerListeners_(l){const d=[nn(l,"propertychange",this.handleLayerChange_,this),nn(l,"change",this.handleLayerChange_,this)];l instanceof v0&&d.push(nn(l,"addlayer",this.handleLayerGroupAdd_,this),nn(l,"removelayer",this.handleLayerGroupRemove_,this)),this.listenerKeys_[Wt(l)]=d}handleLayerGroupAdd_(l){this.dispatchEvent(new $c("addlayer",l.layer))}handleLayerGroupRemove_(l){this.dispatchEvent(new $c("removelayer",l.layer))}handleLayersAdd_(l){const d=l.element;this.registerLayerListeners_(d),this.dispatchEvent(new $c("addlayer",d)),this.changed()}handleLayersRemove_(l){const d=l.element,g=Wt(d);this.listenerKeys_[g].forEach(Y),delete this.listenerKeys_[g],this.dispatchEvent(new $c("removelayer",d)),this.changed()}getLayers(){return this.get("layers")}setLayers(l){const d=this.getLayers();if(d){const g=d.getArray();for(let C=0,S=g.length;C<S;++C)this.dispatchEvent(new $c("removelayer",g[C]))}this.set("layers",l)}getLayersArray(l){return l=void 0!==l?l:[],this.getLayers().forEach(function(d){d.getLayersArray(l)}),l}getLayerStatesArray(l){const d=void 0!==l?l:[],g=d.length;this.getLayers().forEach(function(E){E.getLayerStatesArray(d)});const C=this.getLayerState();let S=C.zIndex;!l&&void 0===C.zIndex&&(S=0);for(let E=g,T=d.length;E<T;E++){const M=d[E];M.opacity*=C.opacity,M.visible=M.visible&&C.visible,M.maxResolution=Math.min(M.maxResolution,C.maxResolution),M.minResolution=Math.max(M.minResolution,C.minResolution),M.minZoom=Math.max(M.minZoom,C.minZoom),M.maxZoom=Math.min(M.maxZoom,C.maxZoom),void 0!==C.extent&&(M.extent=void 0!==M.extent?cl(M.extent,C.extent):C.extent),void 0===M.zIndex&&(M.zIndex=S)}return d}getSourceState(){return"ready"}}const ra=v0,ac=class Dp extends or{constructor(l,d,g){super(l),this.map=d,this.frameState=void 0!==g?g:null}},qc=class jS extends ac{constructor(l,d,g,C,S,E){super(l,d,S),this.originalEvent=g,this.pixel_=null,this.coordinate_=null,this.dragging=void 0!==C&&C,this.activePointers=E}get pixel(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_}set pixel(l){this.pixel_=l}get coordinate(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_}set coordinate(l){this.coordinate_=l}preventDefault(){super.preventDefault(),"preventDefault"in this.originalEvent&&this.originalEvent.preventDefault()}stopPropagation(){super.stopPropagation(),"stopPropagation"in this.originalEvent&&this.originalEvent.stopPropagation()}},Hi={SINGLECLICK:"singleclick",CLICK:"click",DBLCLICK:"dblclick",POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},X1=class zS extends $l{constructor(l,d){super(l),this.map_=l,this.emulateClicks_=!1,this.dragging_=!1,this.dragListenerKeys_=[],this.moveTolerance_=void 0===d?1:d,this.down_=null;const g=this.map_.getViewport();this.activePointers_=[],this.trackedTouches_={},this.element_=g,this.pointerdownListenerKey_=nn(g,"pointerdown",this.handlePointerDown_,this),this.relayedListenerKey_=nn(g,"pointermove",this.relayMoveEvent_,this),this.boundHandleTouchMove_=this.handleTouchMove_.bind(this),this.element_.addEventListener("touchmove",this.boundHandleTouchMove_,!!Mc&&{passive:!1})}emulateClick_(l){let d=new qc(Hi.CLICK,this.map_,l);this.dispatchEvent(d),void 0!==this.clickTimeoutId_?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,d=new qc(Hi.DBLCLICK,this.map_,l),this.dispatchEvent(d)):this.clickTimeoutId_=setTimeout(()=>{this.clickTimeoutId_=void 0;const g=new qc(Hi.SINGLECLICK,this.map_,l);this.dispatchEvent(g)},250)}updateActivePointers_(l){const d=l,g=d.pointerId;if(d.type==Hi.POINTERUP||d.type==Hi.POINTERCANCEL){delete this.trackedTouches_[g];for(const C in this.trackedTouches_)if(this.trackedTouches_[C].target!==d.target){delete this.trackedTouches_[C];break}}else(d.type==Hi.POINTERDOWN||d.type==Hi.POINTERMOVE)&&(this.trackedTouches_[g]=d);this.activePointers_=Object.values(this.trackedTouches_)}handlePointerUp_(l){this.updateActivePointers_(l);const d=new qc(Hi.POINTERUP,this.map_,l,void 0,void 0,this.activePointers_);this.dispatchEvent(d),this.emulateClicks_&&!d.defaultPrevented&&!this.dragging_&&this.isMouseActionButton_(l)&&this.emulateClick_(this.down_),0===this.activePointers_.length&&(this.dragListenerKeys_.forEach(Y),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)}isMouseActionButton_(l){return 0===l.button}handlePointerDown_(l){this.emulateClicks_=0===this.activePointers_.length,this.updateActivePointers_(l);const d=new qc(Hi.POINTERDOWN,this.map_,l,void 0,void 0,this.activePointers_);if(this.dispatchEvent(d),this.down_=new PointerEvent(l.type,l),Object.defineProperty(this.down_,"target",{writable:!1,value:l.target}),0===this.dragListenerKeys_.length){const g=this.map_.getOwnerDocument();this.dragListenerKeys_.push(nn(g,Hi.POINTERMOVE,this.handlePointerMove_,this),nn(g,Hi.POINTERUP,this.handlePointerUp_,this),nn(this.element_,Hi.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==g&&this.dragListenerKeys_.push(nn(this.element_.getRootNode(),Hi.POINTERUP,this.handlePointerUp_,this))}}handlePointerMove_(l){if(this.isMoving_(l)){this.updateActivePointers_(l),this.dragging_=!0;const d=new qc(Hi.POINTERDRAG,this.map_,l,this.dragging_,void 0,this.activePointers_);this.dispatchEvent(d)}}relayMoveEvent_(l){this.originalPointerMoveEvent_=l;const d=!(!this.down_||!this.isMoving_(l));this.dispatchEvent(new qc(Hi.POINTERMOVE,this.map_,l,d))}handleTouchMove_(l){const d=this.originalPointerMoveEvent_;(!d||d.defaultPrevented)&&("boolean"!=typeof l.cancelable||!0===l.cancelable)&&l.preventDefault()}isMoving_(l){return this.dragging_||Math.abs(l.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(l.clientY-this.down_.clientY)>this.moveTolerance_}disposeInternal(){this.relayedListenerKey_&&(Y(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener("touchmove",this.boundHandleTouchMove_),this.pointerdownListenerKey_&&(Y(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(Y),this.dragListenerKeys_.length=0,this.element_=null,super.disposeInternal()}},Ep=1/0,ko=class ZS{constructor(l,d){this.priorityFunction_=l,this.keyFunction_=d,this.elements_=[],this.priorities_=[],this.queuedElements_={}}clear(){this.elements_.length=0,this.priorities_.length=0,Xo(this.queuedElements_)}dequeue(){const l=this.elements_,d=this.priorities_,g=l[0];1==l.length?(l.length=0,d.length=0):(l[0]=l.pop(),d[0]=d.pop(),this.siftUp_(0));const C=this.keyFunction_(g);return delete this.queuedElements_[C],g}enqueue(l){kn(!(this.keyFunction_(l)in this.queuedElements_),31);const d=this.priorityFunction_(l);return d!=Ep&&(this.elements_.push(l),this.priorities_.push(d),this.queuedElements_[this.keyFunction_(l)]=!0,this.siftDown_(0,this.elements_.length-1),!0)}getCount(){return this.elements_.length}getLeftChildIndex_(l){return 2*l+1}getRightChildIndex_(l){return 2*l+2}getParentIndex_(l){return l-1>>1}heapify_(){let l;for(l=(this.elements_.length>>1)-1;l>=0;l--)this.siftUp_(l)}isEmpty(){return 0===this.elements_.length}isKeyQueued(l){return l in this.queuedElements_}isQueued(l){return this.isKeyQueued(this.keyFunction_(l))}siftUp_(l){const d=this.elements_,g=this.priorities_,C=d.length,S=d[l],E=g[l],T=l;for(;l<C>>1;){const M=this.getLeftChildIndex_(l),N=this.getRightChildIndex_(l),z=N<C&&g[N]<g[M]?N:M;d[l]=d[z],g[l]=g[z],l=z}d[l]=S,g[l]=E,this.siftDown_(T,l)}siftDown_(l,d){const g=this.elements_,C=this.priorities_,S=g[d],E=C[d];for(;d>l;){const T=this.getParentIndex_(d);if(!(C[T]>E))break;g[d]=g[T],C[d]=C[T],d=T}g[d]=S,C[d]=E}reprioritize(){const l=this.priorityFunction_,d=this.elements_,g=this.priorities_;let C=0;const S=d.length;let E,T,M;for(T=0;T<S;++T)E=d[T],M=l(E),M==Ep?delete this.queuedElements_[this.keyFunction_(E)]:(g[C]=M,d[C++]=E);d.length=C,g.length=C,this.heapify_()}},y0=class xp extends ko{constructor(l,d){super(function(g){return l.apply(null,g)},function(g){return g[0].getKey()}),this.boundHandleTileChange_=this.handleTileChange.bind(this),this.tileChangeCallback_=d,this.tilesLoading_=0,this.tilesLoadingKeys_={}}enqueue(l){const d=super.enqueue(l);return d&&l[0].addEventListener("change",this.boundHandleTileChange_),d}getTilesLoading(){return this.tilesLoading_}handleTileChange(l){const d=l.target,g=d.getState();if(2===g||3===g||4===g){3!==g&&d.removeEventListener("change",this.boundHandleTileChange_);const C=d.getKey();C in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[C],--this.tilesLoading_),this.tileChangeCallback_()}}loadMoreTiles(l,d){let C,S,E,g=0;for(;this.tilesLoading_<l&&g<d&&this.getCount()>0;)S=this.dequeue()[0],E=S.getKey(),C=S.getState(),0===C&&!(E in this.tilesLoadingKeys_)&&(this.tilesLoadingKeys_[E]=!0,++this.tilesLoading_,++g,S.load())}},nC=class tC extends In{constructor(l){super();const d=l.element;d&&!l.target&&!d.style.pointerEvents&&(d.style.pointerEvents="auto"),this.element=d||null,this.target_=null,this.map_=null,this.listenerKeys=[],l.render&&(this.render=l.render),l.target&&this.setTarget(l.target)}disposeInternal(){bp(this.element),super.disposeInternal()}getMap(){return this.map_}setMap(l){this.map_&&bp(this.element);for(let d=0,g=this.listenerKeys.length;d<g;++d)Y(this.listenerKeys[d]);this.listenerKeys.length=0,this.map_=l,l&&((this.target_?this.target_:l.getOverlayContainerStopEvent()).appendChild(this.element),this.render!==Ca&&this.listenerKeys.push(nn(l,"postrender",this.render,this)),l.render())}render(l){}setTarget(l){this.target_="string"==typeof l?document.getElementById(l):l}},YS=class GS extends nC{constructor(l){l=l||{},super({element:document.createElement("div"),render:l.render,target:l.target}),this.ulElement_=document.createElement("ul"),this.collapsed_=void 0===l.collapsed||l.collapsed,this.userCollapsed_=this.collapsed_,this.overrideCollapsible_=void 0!==l.collapsible,this.collapsible_=void 0===l.collapsible||l.collapsible,this.collapsible_||(this.collapsed_=!1);const d=void 0!==l.className?l.className:"ol-attribution",g=void 0!==l.tipLabel?l.tipLabel:"Attributions",C=void 0!==l.expandClassName?l.expandClassName:d+"-expand",S=void 0!==l.collapseLabel?l.collapseLabel:"\u203a",E=void 0!==l.collapseClassName?l.collapseClassName:d+"-collapse";"string"==typeof S?(this.collapseLabel_=document.createElement("span"),this.collapseLabel_.textContent=S,this.collapseLabel_.className=E):this.collapseLabel_=S;const T=void 0!==l.label?l.label:"i";"string"==typeof T?(this.label_=document.createElement("span"),this.label_.textContent=T,this.label_.className=C):this.label_=T;const M=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_;this.toggleButton_=document.createElement("button"),this.toggleButton_.setAttribute("type","button"),this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_)),this.toggleButton_.title=g,this.toggleButton_.appendChild(M),this.toggleButton_.addEventListener("click",this.handleClick_.bind(this),!1);const z=this.element;z.className=d+" "+Om+" "+Sh+(this.collapsed_&&this.collapsible_?" "+$1:"")+(this.collapsible_?"":" ol-uncollapsible"),z.appendChild(this.toggleButton_),z.appendChild(this.ulElement_),this.renderedAttributions_=[],this.renderedVisible_=!0}collectSourceAttributions_(l){const d=Array.from(new Set(this.getMap().getAllLayers().flatMap(C=>C.getAttributions(l)))),g=!this.getMap().getAllLayers().some(C=>C.getSource()&&!1===C.getSource().getAttributionsCollapsible());return this.overrideCollapsible_||this.setCollapsible(g),d}updateElement_(l){if(!l)return void(this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1));const d=this.collectSourceAttributions_(l),g=d.length>0;if(this.renderedVisible_!=g&&(this.element.style.display=g?"":"none",this.renderedVisible_=g),!Qs(d,this.renderedAttributions_)){!function Pm(m){for(;m.lastChild;)m.removeChild(m.lastChild)}(this.ulElement_);for(let C=0,S=d.length;C<S;++C){const E=document.createElement("li");E.innerHTML=d[C],this.ulElement_.appendChild(E)}this.renderedAttributions_=d}}handleClick_(l){l.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_}handleToggle_(){this.element.classList.toggle($1),this.collapsed_?Cp(this.collapseLabel_,this.label_):Cp(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_,this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_))}getCollapsible(){return this.collapsible_}setCollapsible(l){this.collapsible_!==l&&(this.collapsible_=l,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())}setCollapsed(l){this.userCollapsed_=l,this.collapsible_&&this.collapsed_!==l&&this.handleToggle_()}getCollapsed(){return this.collapsed_}render(l){this.updateElement_(l.frameState)}},Vm=class Lm extends nC{constructor(l){l=l||{},super({element:document.createElement("div"),render:l.render,target:l.target});const d=void 0!==l.className?l.className:"ol-rotate",g=void 0!==l.label?l.label:"\u21e7",C=void 0!==l.compassClassName?l.compassClassName:"ol-compass";this.label_=null,"string"==typeof g?(this.label_=document.createElement("span"),this.label_.className=C,this.label_.textContent=g):(this.label_=g,this.label_.classList.add(C));const S=l.tipLabel?l.tipLabel:"Reset rotation",E=document.createElement("button");E.className=d+"-reset",E.setAttribute("type","button"),E.title=S,E.appendChild(this.label_),E.addEventListener("click",this.handleClick_.bind(this),!1);const M=this.element;M.className=d+" "+Om+" "+Sh,M.appendChild(E),this.callResetNorth_=l.resetNorth?l.resetNorth:void 0,this.duration_=void 0!==l.duration?l.duration:250,this.autoHide_=void 0===l.autoHide||l.autoHide,this.rotation_=void 0,this.autoHide_&&this.element.classList.add(yp)}handleClick_(l){l.preventDefault(),void 0!==this.callResetNorth_?this.callResetNorth_():this.resetNorth_()}resetNorth_(){const d=this.getMap().getView();if(!d)return;const g=d.getRotation();void 0!==g&&(this.duration_>0&&g%(2*Math.PI)!=0?d.animate({rotation:0,duration:this.duration_,easing:Vc}):d.setRotation(0))}render(l){const d=l.frameState;if(!d)return;const g=d.viewState.rotation;if(g!=this.rotation_){const C="rotate("+g+"rad)";if(this.autoHide_){const S=this.element.classList.contains(yp);S||0!==g?S&&0!==g&&this.element.classList.remove(yp):this.element.classList.add(yp)}this.label_.style.transform=C}this.rotation_=g}},Pa=class WS extends nC{constructor(l){l=l||{},super({element:document.createElement("div"),target:l.target});const d=void 0!==l.className?l.className:"ol-zoom",g=void 0!==l.delta?l.delta:1,C=void 0!==l.zoomInClassName?l.zoomInClassName:d+"-in",S=void 0!==l.zoomOutClassName?l.zoomOutClassName:d+"-out",E=void 0!==l.zoomInLabel?l.zoomInLabel:"+",T=void 0!==l.zoomOutLabel?l.zoomOutLabel:"\u2013",M=void 0!==l.zoomInTipLabel?l.zoomInTipLabel:"Zoom in",N=void 0!==l.zoomOutTipLabel?l.zoomOutTipLabel:"Zoom out",z=document.createElement("button");z.className=C,z.setAttribute("type","button"),z.title=M,z.appendChild("string"==typeof E?document.createTextNode(E):E),z.addEventListener("click",this.handleClick_.bind(this,g),!1);const J=document.createElement("button");J.className=S,J.setAttribute("type","button"),J.title=N,J.appendChild("string"==typeof T?document.createTextNode(T):T),J.addEventListener("click",this.handleClick_.bind(this,-g),!1);const fe=this.element;fe.className=d+" "+Om+" "+Sh,fe.appendChild(z),fe.appendChild(J),this.duration_=void 0!==l.duration?l.duration:250}handleClick_(l,d){d.preventDefault(),this.zoomByDelta_(l)}zoomByDelta_(l){const g=this.getMap().getView();if(!g)return;const C=g.getZoom();if(void 0!==C){const S=g.getConstrainedZoom(C+l);this.duration_>0?(g.getAnimating()&&g.cancelAnimations(),g.animate({zoom:S,duration:this.duration_,easing:Vc})):g.setZoom(S)}}};function Bm(m,l,d,g){const C=m.getZoom();if(void 0===C)return;const S=m.getConstrainedZoom(C+l),E=m.getResolutionForZoom(S);m.getAnimating()&&m.cancelAnimations(),m.animate({resolution:E,anchor:d,duration:void 0!==g?g:250,easing:Vc})}const Ju=class iC extends In{constructor(l){super(),l&&l.handleEvent&&(this.handleEvent=l.handleEvent),this.map_=null,this.setActive(!0)}getActive(){return this.get("active")}getMap(){return this.map_}handleEvent(l){return!0}setActive(l){this.set("active",l)}setMap(l){this.map_=l}},sC=class ka extends Ju{constructor(l){super(),this.delta_=(l=l||{}).delta?l.delta:1,this.duration_=void 0!==l.duration?l.duration:250}handleEvent(l){let d=!1;if(l.type==Hi.DBLCLICK){const g=l.originalEvent,S=l.coordinate,E=g.shiftKey?-this.delta_:this.delta_;Bm(l.map.getView(),E,S,this.duration_),g.preventDefault(),d=!0}return!d}};function an(m){const l=m.length;let d=0,g=0;for(let C=0;C<l;C++)d+=m[C].clientX,g+=m[C].clientY;return{clientX:d/l,clientY:g/l}}const Pi=class Tp extends Ju{constructor(l){super(l=l||{}),l.handleDownEvent&&(this.handleDownEvent=l.handleDownEvent),l.handleDragEvent&&(this.handleDragEvent=l.handleDragEvent),l.handleMoveEvent&&(this.handleMoveEvent=l.handleMoveEvent),l.handleUpEvent&&(this.handleUpEvent=l.handleUpEvent),l.stopDown&&(this.stopDown=l.stopDown),this.handlingDownUpSequence=!1,this.targetPointers=[]}getPointerCount(){return this.targetPointers.length}handleDownEvent(l){return!1}handleDragEvent(l){}handleEvent(l){if(!l.originalEvent)return!0;let d=!1;if(this.updateTrackedPointers_(l),this.handlingDownUpSequence){if(l.type==Hi.POINTERDRAG)this.handleDragEvent(l),l.originalEvent.preventDefault();else if(l.type==Hi.POINTERUP){const g=this.handleUpEvent(l);this.handlingDownUpSequence=g&&this.targetPointers.length>0}}else if(l.type==Hi.POINTERDOWN){const g=this.handleDownEvent(l);this.handlingDownUpSequence=g,d=this.stopDown(g)}else l.type==Hi.POINTERMOVE&&this.handleMoveEvent(l);return!d}handleMoveEvent(l){}handleUpEvent(l){return!1}stopDown(l){return l}updateTrackedPointers_(l){l.activePointers&&(this.targetPointers=l.activePointers)}};function Ip(m){const l=arguments;return function(d){let g=!0;for(let C=0,S=l.length;C<S&&(g=g&&l[C](d),g);++C);return g}}const Hm=function(m){const l=m.originalEvent;return l.altKey&&!(l.metaKey||l.ctrlKey)&&l.shiftKey},jm=function(m){return!m.map.getTargetElement().hasAttribute("tabindex")||function(m){const l=m.map.getTargetElement(),d=m.map.getOwnerDocument().activeElement;return l.contains(d)}(m)},oC=Wl,C0=function(m){const l=m.originalEvent;return 0==l.button&&!(wu&&tm&&l.ctrlKey)},Wn=function(m){const l=m.originalEvent;return!l.altKey&&!(l.metaKey||l.ctrlKey)&&!l.shiftKey},b0=function(m){const l=m.originalEvent;return!l.altKey&&!(l.metaKey||l.ctrlKey)&&l.shiftKey},zm=function(m){const l=m.originalEvent,d=l.target.tagName;return"INPUT"!==d&&"SELECT"!==d&&"TEXTAREA"!==d&&!l.target.isContentEditable},Op=function(m){const l=m.originalEvent;return kn(void 0!==l,56),"mouse"==l.pointerType},w0=function(m){const l=m.originalEvent;return kn(void 0!==l,56),l.isPrimary&&0===l.button},Zm=class D0 extends Pi{constructor(l){super({stopDown:sl}),this.kinetic_=(l=l||{}).kinetic,this.lastCentroid=null,this.panning_=!1;const d=l.condition?l.condition:Ip(Wn,w0);this.condition_=l.onFocusOnly?Ip(jm,d):d,this.noKinetic_=!1}handleDragEvent(l){const d=l.map;this.panning_||(this.panning_=!0,d.getView().beginInteraction());const g=this.targetPointers,C=d.getEventPixel(an(g));if(g.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(C[0],C[1]),this.lastCentroid){const S=[this.lastCentroid[0]-C[0],C[1]-this.lastCentroid[1]],T=l.map.getView();(function PS(m,l){m[0]*=l,m[1]*=l})(S,T.getResolution()),Ia(S,T.getRotation()),T.adjustCenterInternal(S)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=C,this.lastPointersCount_=g.length,l.originalEvent.preventDefault()}handleUpEvent(l){const d=l.map,g=d.getView();if(0===this.targetPointers.length){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){const C=this.kinetic_.getDistance(),S=this.kinetic_.getAngle(),E=g.getCenterInternal(),T=d.getPixelFromCoordinateInternal(E),M=d.getCoordinateFromPixelInternal([T[0]-C*Math.cos(S),T[1]-C*Math.sin(S)]);g.animateInternal({center:g.getConstrainedCenter(M),duration:500,easing:Vc})}return this.panning_&&(this.panning_=!1,g.endInteraction()),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0}handleDownEvent(l){if(this.targetPointers.length>0&&this.condition_(l)){const g=l.map.getView();return this.lastCentroid=null,g.getAnimating()&&g.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1}},Gm=class QS extends Pi{constructor(l){l=l||{},super({stopDown:sl}),this.condition_=l.condition?l.condition:Hm,this.lastAngle_=void 0,this.duration_=void 0!==l.duration?l.duration:250}handleDragEvent(l){if(!Op(l))return;const d=l.map,g=d.getView();if(g.getConstraints().rotation===_m)return;const C=d.getSize(),S=l.pixel,E=Math.atan2(C[1]/2-S[1],S[0]-C[0]/2);void 0!==this.lastAngle_&&g.adjustRotationInternal(-(E-this.lastAngle_)),this.lastAngle_=E}handleUpEvent(l){return!Op(l)||(l.map.getView().endInteraction(this.duration_),!1)}handleDownEvent(l){return!!(Op(l)&&C0(l)&&this.condition_(l))&&(l.map.getView().beginInteraction(),this.lastAngle_=void 0,!0)}},Ym=class lC extends Do{constructor(l){super(),this.geometry_=null,this.element_=document.createElement("div"),this.element_.style.position="absolute",this.element_.style.pointerEvents="auto",this.element_.className="ol-box "+l,this.map_=null,this.startPixel_=null,this.endPixel_=null}disposeInternal(){this.setMap(null)}render_(){const l=this.startPixel_,d=this.endPixel_,g="px",C=this.element_.style;C.left=Math.min(l[0],d[0])+g,C.top=Math.min(l[1],d[1])+g,C.width=Math.abs(d[0]-l[0])+g,C.height=Math.abs(d[1]-l[1])+g}setMap(l){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);const d=this.element_.style;d.left="inherit",d.top="inherit",d.width="inherit",d.height="inherit"}this.map_=l,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)}setPixels(l,d){this.startPixel_=l,this.endPixel_=d,this.createOrUpdateGeometry(),this.render_()}createOrUpdateGeometry(){const l=this.startPixel_,d=this.endPixel_,C=[l,[l[0],d[1]],d,[d[0],l[1]]].map(this.map_.getCoordinateFromPixelInternal,this.map_);C[4]=C[0].slice(),this.geometry_?this.geometry_.setCoordinates([C]):this.geometry_=new j1([C])}getGeometry(){return this.geometry_}};class Rp extends or{constructor(l,d,g){super(l),this.coordinate=d,this.mapBrowserEvent=g}}const JS=class Xu extends Pi{constructor(l){super(),this.box_=new Ym((l=l||{}).className||"ol-dragbox"),this.minArea_=void 0!==l.minArea?l.minArea:64,l.onBoxEnd&&(this.onBoxEnd=l.onBoxEnd),this.startPixel_=null,this.condition_=l.condition?l.condition:C0,this.boxEndCondition_=l.boxEndCondition?l.boxEndCondition:this.defaultBoxEndCondition}defaultBoxEndCondition(l,d,g){const C=g[0]-d[0],S=g[1]-d[1];return C*C+S*S>=this.minArea_}getGeometry(){return this.box_.getGeometry()}handleDragEvent(l){this.box_.setPixels(this.startPixel_,l.pixel),this.dispatchEvent(new Rp("boxdrag",l.coordinate,l))}handleUpEvent(l){this.box_.setMap(null);const d=this.boxEndCondition_(l,this.startPixel_,l.pixel);return d&&this.onBoxEnd(l),this.dispatchEvent(new Rp(d?"boxend":"boxcancel",l.coordinate,l)),!1}handleDownEvent(l){return!!this.condition_(l)&&(this.startPixel_=l.pixel,this.box_.setMap(l.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new Rp("boxstart",l.coordinate,l)),!0)}onBoxEnd(l){}},Wm=class E0 extends JS{constructor(l){super({condition:(l=l||{}).condition?l.condition:b0,className:l.className||"ol-dragzoom",minArea:l.minArea}),this.duration_=void 0!==l.duration?l.duration:200,this.out_=void 0!==l.out&&l.out}onBoxEnd(l){const g=this.getMap().getView();let C=this.getGeometry();if(this.out_){const S=g.rotatedExtentForGeometry(C),E=g.getResolutionForExtentInternal(S),T=g.getResolution()/E;C=C.clone(),C.scale(T*T)}g.fitInternal(C,{duration:this.duration_,easing:Vc})}},$m=class x0 extends Ju{constructor(l){super(),l=l||{},this.defaultCondition_=function(d){return Wn(d)&&zm(d)},this.condition_=void 0!==l.condition?l.condition:this.defaultCondition_,this.duration_=void 0!==l.duration?l.duration:100,this.pixelDelta_=void 0!==l.pixelDelta?l.pixelDelta:128}handleEvent(l){let d=!1;if("keydown"==l.type){const g=l.originalEvent,C=g.key;if(this.condition_(l)&&("ArrowDown"==C||"ArrowLeft"==C||"ArrowRight"==C||"ArrowUp"==C)){const E=l.map.getView(),T=E.getResolution()*this.pixelDelta_;let M=0,N=0;"ArrowDown"==C?N=-T:"ArrowLeft"==C?M=-T:"ArrowRight"==C?M=T:N=T;const z=[M,N];Ia(z,E.getRotation()),function rC(m,l,d){const g=m.getCenterInternal();g&&m.animateInternal({duration:void 0!==d?d:250,easing:yh,center:m.getConstrainedCenter([g[0]+l[0],g[1]+l[1]])})}(E,z,this.duration_),g.preventDefault(),d=!0}}return!d}},qm=class td extends Ju{constructor(l){super(),this.condition_=(l=l||{}).condition?l.condition:zm,this.delta_=l.delta?l.delta:1,this.duration_=void 0!==l.duration?l.duration:100}handleEvent(l){let d=!1;if("keydown"==l.type||"keypress"==l.type){const g=l.originalEvent,C=g.key;if(this.condition_(l)&&("+"===C||"-"===C)){const E="+"===C?this.delta_:-this.delta_;Bm(l.map.getView(),E,void 0,this.duration_),g.preventDefault(),d=!0}}return!d}},uC=class XS extends Ju{constructor(l){super(l=l||{}),this.totalDelta_=0,this.lastDelta_=0,this.maxDelta_=void 0!==l.maxDelta?l.maxDelta:1,this.duration_=void 0!==l.duration?l.duration:250,this.timeout_=void 0!==l.timeout?l.timeout:80,this.useAnchor_=void 0===l.useAnchor||l.useAnchor,this.constrainResolution_=void 0!==l.constrainResolution&&l.constrainResolution;const d=l.condition?l.condition:oC;this.condition_=l.onFocusOnly?Ip(jm,d):d,this.lastAnchor_=null,this.startTime_=void 0,this.mode_=void 0,this.trackpadEventGap_=400,this.deltaPerZoom_=300}endInteraction_(){this.trackpadTimeoutId_=void 0;const l=this.getMap();l&&l.getView().endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_)}handleEvent(l){if(!this.condition_(l)||"wheel"!==l.type)return!0;const g=l.map,C=l.originalEvent;let S;if(C.preventDefault(),this.useAnchor_&&(this.lastAnchor_=l.coordinate),"wheel"==l.type&&(S=C.deltaY,eh&&C.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(S/=nm),C.deltaMode===WheelEvent.DOM_DELTA_LINE&&(S*=40)),0===S)return!1;this.lastDelta_=S;const E=Date.now();void 0===this.startTime_&&(this.startTime_=E),(!this.mode_||E-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(S)<4?"trackpad":"wheel");const T=g.getView();if("trackpad"===this.mode_&&!T.getConstrainResolution()&&!this.constrainResolution_)return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(T.getAnimating()&&T.cancelAnimations(),T.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),T.adjustZoom(-S/this.deltaPerZoom_,this.lastAnchor_),this.startTime_=E,!1;this.totalDelta_+=S;const M=Math.max(this.timeout_-(E-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,g),M),!1}handleWheelZoom_(l){const d=l.getView();d.getAnimating()&&d.cancelAnimations();let g=-Yi(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(d.getConstrainResolution()||this.constrainResolution_)&&(g=g?g>0?1:-1:0),Bm(d,g,this.lastAnchor_,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0}setMouseAnchor(l){this.useAnchor_=l,l||(this.lastAnchor_=null)}},ew=class Ih extends Pi{constructor(l){const d=l=l||{};d.stopDown||(d.stopDown=sl),super(d),this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.threshold_=void 0!==l.threshold?l.threshold:.3,this.duration_=void 0!==l.duration?l.duration:250}handleDragEvent(l){let d=0;const g=this.targetPointers[0],C=this.targetPointers[1],S=Math.atan2(C.clientY-g.clientY,C.clientX-g.clientX);if(void 0!==this.lastAngle_){const M=S-this.lastAngle_;this.rotationDelta_+=M,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),d=M}this.lastAngle_=S;const E=l.map,T=E.getView();T.getConstraints().rotation!==_m&&(this.anchor_=E.getCoordinateFromPixelInternal(E.getEventPixel(an(this.targetPointers))),this.rotating_&&(E.render(),T.adjustRotationInternal(d,this.anchor_)))}handleUpEvent(l){return!(this.targetPointers.length<2&&(l.map.getView().endInteraction(this.duration_),1))}handleDownEvent(l){if(this.targetPointers.length>=2){const d=l.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||d.getView().beginInteraction(),!0}return!1}},nw=class tw extends Pi{constructor(l){const d=l=l||{};d.stopDown||(d.stopDown=sl),super(d),this.anchor_=null,this.duration_=void 0!==l.duration?l.duration:400,this.lastDistance_=void 0,this.lastScaleDelta_=1}handleDragEvent(l){let d=1;const g=this.targetPointers[0],C=this.targetPointers[1],S=g.clientX-C.clientX,E=g.clientY-C.clientY,T=Math.sqrt(S*S+E*E);void 0!==this.lastDistance_&&(d=this.lastDistance_/T),this.lastDistance_=T;const M=l.map,N=M.getView();1!=d&&(this.lastScaleDelta_=d),this.anchor_=M.getCoordinateFromPixelInternal(M.getEventPixel(an(this.targetPointers))),M.render(),N.adjustResolutionInternal(d,this.anchor_)}handleUpEvent(l){return!(this.targetPointers.length<2)||(l.map.getView().endInteraction(this.duration_,this.lastScaleDelta_>1?1:-1),!1)}handleDownEvent(l){if(this.targetPointers.length>=2){const d=l.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||d.getView().beginInteraction(),!0}return!1}};function I0(m){return m[0]>0&&m[1]>0}function so(m,l){return Array.isArray(m)?m:(void 0===l?l=[m,m]:(l[0]=m,l[1]=m),l)}function rw(m){m instanceof Gc?m.setMapInternal(null):m instanceof ra&&m.getLayers().forEach(rw)}function dC(m,l){if(m instanceof Gc)m.setMapInternal(l);else if(m instanceof ra){const d=m.getLayers().getArray();for(let g=0,C=d.length;g<C;++g)dC(d[g],l)}}const TD=class sw extends In{constructor(l){super();const d=function ow(m){let l=null;void 0!==m.keyboardEventTarget&&(l="string"==typeof m.keyboardEventTarget?document.getElementById(m.keyboardEventTarget):m.keyboardEventTarget);const d={},g=m.layers&&"function"==typeof m.layers.getLayers?m.layers:new ra({layers:m.layers});let C,S,E;return d.layergroup=g,d.target=m.target,d.view=m.view instanceof Oa?m.view:new Oa,void 0!==m.controls&&(Array.isArray(m.controls)?C=new xo(m.controls.slice()):(kn("function"==typeof m.controls.getArray,47),C=m.controls)),void 0!==m.interactions&&(Array.isArray(m.interactions)?S=new xo(m.interactions.slice()):(kn("function"==typeof m.interactions.getArray,48),S=m.interactions)),void 0!==m.overlays?Array.isArray(m.overlays)?E=new xo(m.overlays.slice()):(kn("function"==typeof m.overlays.getArray,49),E=m.overlays):E=new xo,{controls:C,interactions:S,keyboardEventTarget:l,overlays:E,values:d}}(l=l||{});this.loaded_=!0,this.boundHandleBrowserEvent_=this.handleBrowserEvent.bind(this),this.maxTilesLoading_=void 0!==l.maxTilesLoading?l.maxTilesLoading:16,this.pixelRatio_=void 0!==l.pixelRatio?l.pixelRatio:nm,this.animationDelay_=this.animationDelay_.bind(this),this.coordinateToPixelTransform_=[1,0,0,1,0,0],this.pixelToCoordinateTransform_=[1,0,0,1,0,0],this.frameIndex_=0,this.frameState_=null,this.previousExtent_=null,this.viewPropertyListenerKey_=null,this.viewChangeListenerKey_=null,this.layerGroupPropertyListenerKeys_=null,this.viewport_=document.createElement("div"),this.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),this.viewport_.style.position="relative",this.viewport_.style.overflow="hidden",this.viewport_.style.width="100%",this.viewport_.style.height="100%",this.overlayContainer_=document.createElement("div"),this.overlayContainer_.style.position="absolute",this.overlayContainer_.style.zIndex="0",this.overlayContainer_.style.width="100%",this.overlayContainer_.style.height="100%",this.overlayContainer_.style.pointerEvents="none",this.overlayContainer_.className="ol-overlaycontainer",this.viewport_.appendChild(this.overlayContainer_),this.overlayContainerStopEvent_=document.createElement("div"),this.overlayContainerStopEvent_.style.position="absolute",this.overlayContainerStopEvent_.style.zIndex="0",this.overlayContainerStopEvent_.style.width="100%",this.overlayContainerStopEvent_.style.height="100%",this.overlayContainerStopEvent_.style.pointerEvents="none",this.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",this.viewport_.appendChild(this.overlayContainerStopEvent_),this.mapBrowserEventHandler_=null,this.moveTolerance_=l.moveTolerance,this.keyboardEventTarget_=d.keyboardEventTarget,this.targetChangeHandlerKeys_=null,this.targetElement_=null,this.resizeObserver_=new ResizeObserver(()=>this.updateSize()),this.controls=d.controls||function xh(m){m=m||{};const l=new xo;return(void 0===m.zoom||m.zoom)&&l.push(new Pa(m.zoomOptions)),(void 0===m.rotate||m.rotate)&&l.push(new Vm(m.rotateOptions)),(void 0===m.attribution||m.attribution)&&l.push(new YS(m.attributionOptions)),l}(),this.interactions=d.interactions||function T0(m){m=m||{};const l=new xo,d=new class Km{constructor(l,d,g){this.decay_=l,this.minVelocity_=d,this.delay_=g,this.points_=[],this.angle_=0,this.initialVelocity_=0}begin(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0}update(l,d){this.points_.push(l,d,Date.now())}end(){if(this.points_.length<6)return!1;const l=Date.now()-this.delay_,d=this.points_.length-3;if(this.points_[d+2]<l)return!1;let g=d-3;for(;g>0&&this.points_[g+2]>l;)g-=3;const C=this.points_[d+2]-this.points_[g+2];if(C<1e3/60)return!1;const S=this.points_[d]-this.points_[g],E=this.points_[d+1]-this.points_[g+1];return this.angle_=Math.atan2(E,S),this.initialVelocity_=Math.sqrt(S*S+E*E)/C,this.initialVelocity_>this.minVelocity_}getDistance(){return(this.minVelocity_-this.initialVelocity_)/this.decay_}getAngle(){return this.angle_}}(-.005,.05,100);return(void 0===m.altShiftDragRotate||m.altShiftDragRotate)&&l.push(new Gm),(void 0===m.doubleClickZoom||m.doubleClickZoom)&&l.push(new sC({delta:m.zoomDelta,duration:m.zoomDuration})),(void 0===m.dragPan||m.dragPan)&&l.push(new Zm({onFocusOnly:m.onFocusOnly,kinetic:d})),(void 0===m.pinchRotate||m.pinchRotate)&&l.push(new ew),(void 0===m.pinchZoom||m.pinchZoom)&&l.push(new nw({duration:m.zoomDuration})),(void 0===m.keyboard||m.keyboard)&&(l.push(new $m),l.push(new qm({delta:m.zoomDelta,duration:m.zoomDuration}))),(void 0===m.mouseWheelZoom||m.mouseWheelZoom)&&l.push(new uC({onFocusOnly:m.onFocusOnly,duration:m.zoomDuration})),(void 0===m.shiftDragZoom||m.shiftDragZoom)&&l.push(new Wm({duration:m.zoomDuration})),l}({onFocusOnly:!0}),this.overlays_=d.overlays,this.overlayIdIndex_={},this.renderer_=null,this.postRenderFunctions_=[],this.tileQueue_=new y0(this.getTilePriority.bind(this),this.handleTileChange_.bind(this)),this.addChangeListener("layergroup",this.handleLayerGroupChanged_),this.addChangeListener("view",this.handleViewChanged_),this.addChangeListener("size",this.handleSizeChanged_),this.addChangeListener("target",this.handleTargetChanged_),this.setProperties(d.values);const g=this;l.view&&!(l.view instanceof Oa)&&l.view.then(function(C){g.setView(new Oa(C))}),this.controls.addEventListener("add",C=>{C.element.setMap(this)}),this.controls.addEventListener("remove",C=>{C.element.setMap(null)}),this.interactions.addEventListener("add",C=>{C.element.setMap(this)}),this.interactions.addEventListener("remove",C=>{C.element.setMap(null)}),this.overlays_.addEventListener("add",C=>{this.addOverlayInternal_(C.element)}),this.overlays_.addEventListener("remove",C=>{const S=C.element.getId();void 0!==S&&delete this.overlayIdIndex_[S.toString()],C.element.setMap(null)}),this.controls.forEach(C=>{C.setMap(this)}),this.interactions.forEach(C=>{C.setMap(this)}),this.overlays_.forEach(this.addOverlayInternal_.bind(this))}addControl(l){this.getControls().push(l)}addInteraction(l){this.getInteractions().push(l)}addLayer(l){this.getLayerGroup().getLayers().push(l)}handleLayerAdd_(l){dC(l.layer,this)}addOverlay(l){this.getOverlays().push(l)}addOverlayInternal_(l){const d=l.getId();void 0!==d&&(this.overlayIdIndex_[d.toString()]=l),l.setMap(this)}disposeInternal(){this.controls.clear(),this.interactions.clear(),this.overlays_.clear(),this.resizeObserver_.disconnect(),this.setTarget(null),super.disposeInternal()}forEachFeatureAtPixel(l,d,g){if(!this.frameState_||!this.renderer_)return;const C=this.getCoordinateFromPixelInternal(l);return this.renderer_.forEachFeatureAtCoordinate(C,this.frameState_,void 0!==(g=void 0!==g?g:{}).hitTolerance?g.hitTolerance:0,!1!==g.checkWrapped,d,null,void 0!==g.layerFilter?g.layerFilter:Wl,null)}getFeaturesAtPixel(l,d){const g=[];return this.forEachFeatureAtPixel(l,function(C){g.push(C)},d),g}getAllLayers(){const l=[];return function d(g){g.forEach(function(C){C instanceof ra?d(C.getLayers()):l.push(C)})}(this.getLayers()),l}hasFeatureAtPixel(l,d){if(!this.frameState_||!this.renderer_)return!1;const g=this.getCoordinateFromPixelInternal(l);return this.renderer_.hasFeatureAtCoordinate(g,this.frameState_,void 0!==(d=void 0!==d?d:{}).hitTolerance?d.hitTolerance:0,!1!==d.checkWrapped,void 0!==d.layerFilter?d.layerFilter:Wl,null)}getEventCoordinate(l){return this.getCoordinateFromPixel(this.getEventPixel(l))}getEventCoordinateInternal(l){return this.getCoordinateFromPixelInternal(this.getEventPixel(l))}getEventPixel(l){const g=this.viewport_.getBoundingClientRect(),C=this.getSize(),T="changedTouches"in l?l.changedTouches[0]:l;return[(T.clientX-g.left)/(g.width/C[0]),(T.clientY-g.top)/(g.height/C[1])]}getTarget(){return this.get("target")}getTargetElement(){return this.targetElement_}getCoordinateFromPixel(l){return Lc(this.getCoordinateFromPixelInternal(l),this.getView().getProjection())}getCoordinateFromPixelInternal(l){const d=this.frameState_;return d?Bi(d.pixelToCoordinateTransform,l.slice()):null}getControls(){return this.controls}getOverlays(){return this.overlays_}getOverlayById(l){const d=this.overlayIdIndex_[l.toString()];return void 0!==d?d:null}getInteractions(){return this.interactions}getLayerGroup(){return this.get("layergroup")}setLayers(l){const d=this.getLayerGroup();if(l instanceof xo)return void d.setLayers(l);const g=d.getLayers();g.clear(),g.extend(l)}getLayers(){return this.getLayerGroup().getLayers()}getLoadingOrNotReady(){const l=this.getLayerGroup().getLayerStatesArray();for(let d=0,g=l.length;d<g;++d){const C=l[d];if(!C.visible)continue;const S=C.layer.getRenderer();if(S&&!S.ready)return!0;const E=C.layer.getSource();if(E&&E.loading)return!0}return!1}getPixelFromCoordinate(l){const d=na(l,this.getView().getProjection());return this.getPixelFromCoordinateInternal(d)}getPixelFromCoordinateInternal(l){const d=this.frameState_;return d?Bi(d.coordinateToPixelTransform,l.slice(0,2)):null}getRenderer(){return this.renderer_}getSize(){return this.get("size")}getView(){return this.get("view")}getViewport(){return this.viewport_}getOverlayContainer(){return this.overlayContainer_}getOverlayContainerStopEvent(){return this.overlayContainerStopEvent_}getOwnerDocument(){const l=this.getTargetElement();return l?l.ownerDocument:document}getTilePriority(l,d,g,C){return function eC(m,l,d,g,C){if(!m||!(d in m.wantedTiles)||!m.wantedTiles[d][l.getKey()])return Ep;const S=m.viewState.center,E=g[0]-S[0],T=g[1]-S[1];return 65536*Math.log(C)+Math.sqrt(E*E+T*T)/C}(this.frameState_,l,d,g,C)}handleBrowserEvent(l,d){const g=new qc(d=d||l.type,this,l);this.handleMapBrowserEvent(g)}handleMapBrowserEvent(l){if(!this.frameState_)return;const d=l.originalEvent,g=d.type;if("pointerdown"===g||"wheel"===g||"keydown"===g){const C=this.getOwnerDocument(),S=this.viewport_.getRootNode?this.viewport_.getRootNode():C,E=d.target;if(this.overlayContainerStopEvent_.contains(E)||!(S===C?C.documentElement:S).contains(E))return}if(l.frameState=this.frameState_,!1!==this.dispatchEvent(l)){const C=this.getInteractions().getArray().slice();for(let S=C.length-1;S>=0;S--){const E=C[S];if(E.getMap()===this&&E.getActive()&&this.getTargetElement()&&(!E.handleEvent(l)||l.propagationStopped))break}}}handlePostRender(){const l=this.frameState_,d=this.tileQueue_;if(!d.isEmpty()){let C=this.maxTilesLoading_,S=C;if(l){const E=l.viewHints;if(E[0]||E[1]){const T=Date.now()-l.time>8;C=T?0:8,S=T?0:2}}d.getTilesLoading()<C&&(d.reprioritize(),d.loadMoreTiles(C,S))}l&&this.renderer_&&!l.animate&&(!0===this.renderComplete_?(this.hasListener("rendercomplete")&&this.renderer_.dispatchRenderEvent("rendercomplete",l),!1===this.loaded_&&(this.loaded_=!0,this.dispatchEvent(new ac("loadend",this,l)))):!0===this.loaded_&&(this.loaded_=!1,this.dispatchEvent(new ac("loadstart",this,l))));const g=this.postRenderFunctions_;for(let C=0,S=g.length;C<S;++C)g[C](this,l);g.length=0}handleSizeChanged_(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()}handleTargetChanged_(){if(this.mapBrowserEventHandler_){for(let g=0,C=this.targetChangeHandlerKeys_.length;g<C;++g)Y(this.targetChangeHandlerKeys_[g]);this.targetChangeHandlerKeys_=null,this.viewport_.removeEventListener("contextmenu",this.boundHandleBrowserEvent_),this.viewport_.removeEventListener("wheel",this.boundHandleBrowserEvent_),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,bp(this.viewport_)}if(this.targetElement_){this.resizeObserver_.unobserve(this.targetElement_);const g=this.targetElement_.getRootNode();g instanceof ShadowRoot&&this.resizeObserver_.unobserve(g.host),this.setSize(void 0)}const l=this.getTarget(),d="string"==typeof l?document.getElementById(l):l;if(this.targetElement_=d,d){d.appendChild(this.viewport_),this.renderer_||(this.renderer_=new m0(this)),this.mapBrowserEventHandler_=new X1(this,this.moveTolerance_);for(const S in Hi)this.mapBrowserEventHandler_.addEventListener(Hi[S],this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener("contextmenu",this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener("wheel",this.boundHandleBrowserEvent_,!!Mc&&{passive:!1});const g=this.keyboardEventTarget_?this.keyboardEventTarget_:d;this.targetChangeHandlerKeys_=[nn(g,"keydown",this.handleBrowserEvent,this),nn(g,"keypress",this.handleBrowserEvent,this)];const C=d.getRootNode();C instanceof ShadowRoot&&this.resizeObserver_.observe(C.host),this.resizeObserver_.observe(d)}else this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);this.updateSize()}handleTileChange_(){this.render()}handleViewPropertyChanged_(){this.render()}handleViewChanged_(){this.viewPropertyListenerKey_&&(Y(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(Y(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);const l=this.getView();l&&(this.updateViewportSize_(),this.viewPropertyListenerKey_=nn(l,"propertychange",this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=nn(l,"change",this.handleViewPropertyChanged_,this),l.resolveConstraints(0)),this.render()}handleLayerGroupChanged_(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(Y),this.layerGroupPropertyListenerKeys_=null);const l=this.getLayerGroup();l&&(this.handleLayerAdd_(new $c("addlayer",l)),this.layerGroupPropertyListenerKeys_=[nn(l,"propertychange",this.render,this),nn(l,"change",this.render,this),nn(l,"addlayer",this.handleLayerAdd_,this),nn(l,"removelayer",this.handleLayerRemove_,this)]),this.render()}isRendered(){return!!this.frameState_}animationDelay_(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}renderSync(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()}redrawText(){const l=this.getLayerGroup().getLayerStatesArray();for(let d=0,g=l.length;d<g;++d){const C=l[d].layer;C.hasRenderer()&&C.getRenderer().handleFontsChanged()}}render(){this.renderer_&&void 0===this.animationDelayKey_&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))}removeControl(l){return this.getControls().remove(l)}removeInteraction(l){return this.getInteractions().remove(l)}removeLayer(l){return this.getLayerGroup().getLayers().remove(l)}handleLayerRemove_(l){rw(l.layer)}removeOverlay(l){return this.getOverlays().remove(l)}renderFrame_(l){const d=this.getSize(),g=this.getView(),C=this.frameState_;let S=null;if(void 0!==d&&I0(d)&&g&&g.isDef()){const E=g.getHints(this.frameState_?this.frameState_.viewHints:void 0),T=g.getState();if(S={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutterTree:null,extent:ks(T.center,T.resolution,T.rotation,d),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:d,tileQueue:this.tileQueue_,time:l,usedTiles:{},viewState:T,viewHints:E,wantedTiles:{},mapId:Wt(this),renderTargets:{}},T.nextCenter&&T.nextResolution){const M=isNaN(T.nextRotation)?T.rotation:T.nextRotation;S.nextExtent=ks(T.nextCenter,T.nextResolution,M,d)}}this.frameState_=S,this.renderer_.renderFrame(S),S&&(S.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,S.postRenderFunctions),C&&(!this.previousExtent_||!ms(this.previousExtent_)&&!fs(S.extent,this.previousExtent_))&&(this.dispatchEvent(new ac("movestart",this,C)),this.previousExtent_=si(this.previousExtent_)),this.previousExtent_&&!S.viewHints[0]&&!S.viewHints[1]&&!fs(S.extent,this.previousExtent_)&&(this.dispatchEvent(new ac("moveend",this,S)),Gt(S.extent,this.previousExtent_))),this.dispatchEvent(new ac("postrender",this,S)),this.renderComplete_=this.hasListener("loadstart")||this.hasListener("loadend")||this.hasListener("rendercomplete")?!this.tileQueue_.getTilesLoading()&&!this.tileQueue_.getCount()&&!this.getLoadingOrNotReady():void 0,this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout(()=>{this.postRenderTimeoutHandle_=void 0,this.handlePostRender()},0))}setLayerGroup(l){const d=this.getLayerGroup();d&&this.handleLayerRemove_(new $c("removelayer",d)),this.set("layergroup",l)}setSize(l){this.set("size",l)}setTarget(l){this.set("target",l)}setView(l){if(!l||l instanceof Oa)return void this.set("view",l);this.set("view",new Oa);const d=this;l.then(function(g){d.setView(new Oa(g))})}updateSize(){const l=this.getTargetElement();let d;if(l){const C=getComputedStyle(l),S=l.offsetWidth-parseFloat(C.borderLeftWidth)-parseFloat(C.paddingLeft)-parseFloat(C.paddingRight)-parseFloat(C.borderRightWidth),E=l.offsetHeight-parseFloat(C.borderTopWidth)-parseFloat(C.paddingTop)-parseFloat(C.paddingBottom)-parseFloat(C.borderBottomWidth);!isNaN(S)&&!isNaN(E)&&(d=[S,E],!I0(d)&&(l.offsetWidth||l.offsetHeight||l.getClientRects().length)&&N1("No map visible because the map container's width or height are 0."))}const g=this.getSize();d&&(!g||!Qs(d,g))&&(this.setSize(d),this.updateViewportSize_())}updateViewportSize_(){const l=this.getView();if(l){let d;const g=getComputedStyle(this.viewport_);g.width&&g.height&&(d=[parseInt(g.width,10),parseInt(g.height,10)]),l.setViewportSize(d)}}},aw=class Qm extends Gc{constructor(l){l=l||{};const d=Object.assign({},l);delete d.preload,delete d.useInterimTilesOnError,super(d),this.setPreload(void 0!==l.preload?l.preload:0),this.setUseInterimTilesOnError(void 0===l.useInterimTilesOnError||l.useInterimTilesOnError)}getPreload(){return this.get("preload")}setPreload(l){this.set("preload",l)}getUseInterimTilesOnError(){return this.get("useInterimTilesOnError")}setUseInterimTilesOnError(l){this.set("useInterimTilesOnError",l)}getData(l){return super.getData(l)}},Pp=class O0 extends re{constructor(l){super(),this.ready=!0,this.boundHandleImageChange_=this.handleImageChange_.bind(this),this.layer_=l,this.declutterExecutorGroup=null}getFeatures(l){return je()}getData(l){return null}prepareFrame(l){return je()}renderFrame(l,d){return je()}loadedTileCallback(l,d,g){l[d]||(l[d]={}),l[d][g.tileCoord.toString()]=g}createLoadedTileFinder(l,d,g){return(C,S)=>{const E=this.loadedTileCallback.bind(this,g,C);return l.forEachLoadedTile(d,C,S,E)}}forEachFeatureAtCoordinate(l,d,g,C,S){}getLayer(){return this.layer_}handleFontsChanged(){}handleImageChange_(l){2===l.target.getState()&&this.renderIfReadyAndVisible()}loadImage(l){let d=l.getState();return 2!=d&&3!=d&&l.addEventListener("change",this.boundHandleImageChange_),0==d&&(l.load(),d=l.getState()),2==d}renderIfReadyAndVisible(){const l=this.getLayer();l&&l.getVisible()&&"ready"===l.getSourceState()&&l.changed()}disposeInternal(){delete this.layer_,super.disposeInternal()}},Jm=[];let Kc=null;const nd=class kp extends Pp{constructor(l){super(l),this.container=null,this.tempTransform=[1,0,0,1,0,0],this.pixelTransform=[1,0,0,1,0,0],this.inversePixelTransform=[1,0,0,1,0,0],this.context=null,this.containerReused=!1,this.pixelContext_=null,this.frameState=null}getImageData(l,d,g){let C;Kc||function Mh(){Kc=Yr(1,1,void 0,{willReadFrequently:!0})}(),Kc.clearRect(0,0,1,1);try{Kc.drawImage(l,d,g,1,1,0,0,1,1),C=Kc.getImageData(0,0,1,1).data}catch{return Kc=null,null}return C}getBackground(l){let g=this.getLayer().getBackground();return"function"==typeof g&&(g=g(l.viewState.resolution)),g||void 0}useContainer(l,d,g){const C=this.getLayer().getClassName();let S,E;if(l&&l.className===C&&(!g||l&&l.style.backgroundColor&&Qs(Be(l.style.backgroundColor),Be(g)))){const T=l.firstElementChild;T instanceof HTMLCanvasElement&&(E=T.getContext("2d"))}if(E&&E.canvas.style.transform===d?(this.container=l,this.context=E,this.containerReused=!0):this.containerReused&&(this.container=null,this.context=null,this.containerReused=!1),!this.container){S=document.createElement("div"),S.className=C;let T=S.style;T.position="absolute",T.width="100%",T.height="100%",E=Yr();const M=E.canvas;S.appendChild(M),T=M.style,T.position="absolute",T.left="0",T.transformOrigin="top left",this.container=S,this.context=E}!this.containerReused&&g&&!this.container.style.backgroundColor&&(this.container.style.backgroundColor=g)}clipUnrotated(l,d,g){const C=Gi(g),S=to(g),E=Rc(g),T=Nn(g);Bi(d.coordinateToPixelTransform,C),Bi(d.coordinateToPixelTransform,S),Bi(d.coordinateToPixelTransform,E),Bi(d.coordinateToPixelTransform,T);const M=this.inversePixelTransform;Bi(M,C),Bi(M,S),Bi(M,E),Bi(M,T),l.save(),l.beginPath(),l.moveTo(Math.round(C[0]),Math.round(C[1])),l.lineTo(Math.round(S[0]),Math.round(S[1])),l.lineTo(Math.round(E[0]),Math.round(E[1])),l.lineTo(Math.round(T[0]),Math.round(T[1])),l.clip()}dispatchRenderEvent_(l,d,g){const C=this.getLayer();if(C.hasListener(l)){const S=new Yc(l,this.inversePixelTransform,g,d);C.dispatchEvent(S)}}preRender(l,d){this.frameState=d,this.dispatchRenderEvent_("prerender",l,d)}postRender(l,d){this.dispatchRenderEvent_("postrender",l,d)}getRenderTransform(l,d,g,C,S,E,T){const z=C/d;return hs(this.tempTransform,S/2,E/2,z,-z,-g,-l[0]+T,-l[1])}disposeInternal(){delete this.frameState,super.disposeInternal()}},Xm=class hC extends $l{constructor(l,d,g){super(),g=g||{},this.tileCoord=l,this.state=d,this.interimTile=null,this.key="",this.transition_=void 0===g.transition?250:g.transition,this.transitionStarts_={},this.interpolate=!!g.interpolate}changed(){this.dispatchEvent("change")}release(){3===this.state&&this.setState(4)}getKey(){return this.key+"/"+this.tileCoord}getInterimTile(){if(!this.interimTile)return this;let l=this.interimTile;do{if(2==l.getState())return this.transition_=0,l;l=l.interimTile}while(l);return this}refreshInterimChain(){if(!this.interimTile)return;let l=this.interimTile,d=this;do{if(2==l.getState()){l.interimTile=null;break}1==l.getState()?d=l:0==l.getState()?d.interimTile=l.interimTile:d=l,l=d.interimTile}while(l)}getTileCoord(){return this.tileCoord}getState(){return this.state}setState(l){if(3!==this.state&&this.state>l)throw new Error("Tile load sequence violation");this.state=l,this.changed()}load(){je()}getAlpha(l,d){if(!this.transition_)return 1;let g=this.transitionStarts_[l];if(g){if(-1===g)return 1}else g=d,this.transitionStarts_[l]=g;const C=d-g+1e3/60;return C>=this.transition_?1:ym(C/this.transition_)}inTransition(l){return!!this.transition_&&-1!==this.transitionStarts_[l]}endTransition(l){this.transition_&&(this.transitionStarts_[l]=-1)}};function fC(m,l,d){const g=m;let C=!0,S=!1,E=!1;const T=[Ic(g,"load",function(){E=!0,S||l()})];return g.src&&$f?(S=!0,g.decode().then(function(){C&&l()}).catch(function(M){C&&(E?l():d())})):T.push(Ic(g,"error",d)),function(){C=!1,T.forEach(Y)}}const mC=class P0 extends Xm{constructor(l,d,g,C,S,E){super(l,d,E),this.crossOrigin_=C,this.src_=g,this.key=g,this.image_=new Image,null!==C&&(this.image_.crossOrigin=C),this.unlisten_=null,this.tileLoadFunction_=S}getImage(){return this.image_}setImage(l){this.image_=l,this.state=2,this.unlistenImage_(),this.changed()}handleImageError_(){this.state=3,this.unlistenImage_(),this.image_=function gC(){const m=Yr(1,1);return m.fillStyle="rgba(0,0,0,0)",m.fillRect(0,0,1,1),m.canvas}(),this.changed()}handleImageLoad_(){const l=this.image_;this.state=l.naturalWidth&&l.naturalHeight?2:4,this.unlistenImage_(),this.changed()}load(){3==this.state&&(this.state=0,this.image_=new Image,null!==this.crossOrigin_&&(this.image_.crossOrigin=this.crossOrigin_)),0==this.state&&(this.state=1,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=fC(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))}unlistenImage_(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}};let vC;const Ah=[];function e_(m,l,d,g,C){m.beginPath(),m.moveTo(0,0),m.lineTo(l,d),m.lineTo(g,C),m.closePath(),m.save(),m.clip(),m.fillRect(0,0,Math.max(l,g)+1,Math.max(d,C)),m.restore()}function Fp(m,l){return Math.abs(m[4*l]-210)>2||Math.abs(m[4*l+3]-191.25)>2}function t_(m,l,d,g){const C=Vu(d,l,m);let S=Nu(l,g,d);const E=l.getMetersPerUnit();void 0!==E&&(S*=E);const T=m.getMetersPerUnit();void 0!==T&&(S/=T);const M=m.getExtent();if(!M||cn(M,C)){const N=Nu(m,S,C)/S;isFinite(N)&&N>0&&(S/=N)}return S}const Lp=class yC extends Xm{constructor(l,d,g,C,S,E,T,M,N,z,J,X){super(S,0,{interpolate:!!X}),this.renderEdges_=void 0!==J&&J,this.pixelRatio_=T,this.gutter_=M,this.canvas_=null,this.sourceTileGrid_=d,this.targetTileGrid_=C,this.wrappedTileCoord_=E||S,this.sourceTiles_=[],this.sourcesListenerKeys_=null,this.sourceZ_=0;const fe=C.getTileCoordExtent(this.wrappedTileCoord_),ve=this.targetTileGrid_.getExtent();let be=this.sourceTileGrid_.getExtent();const Me=ve?cl(fe,ve):fe;if(0===_t(Me))return void(this.state=4);const Ne=l.getExtent();Ne&&(be=be?cl(be,Ne):Ne);const We=C.getResolution(this.wrappedTileCoord_[0]),Ye=function n_(m,l,d,g){const C=Pc(d);let S=t_(m,l,C,g);return(!isFinite(S)||S<=0)&&Mo(d,function(E){return S=t_(m,l,E,g),isFinite(S)&&S>0}),S}(l,g,Me,We);if(!isFinite(Ye)||Ye<=0)return void(this.state=4);if(this.triangulation_=new class cw{constructor(l,d,g,C,S,E){this.sourceProj_=l,this.targetProj_=d;let T={};const M=Lu(this.targetProj_,this.sourceProj_);this.transformInv_=function(We){const Ye=We[0]+"/"+We[1];return T[Ye]||(T[Ye]=M(We)),T[Ye]},this.maxSourceExtent_=C,this.errorThresholdSquared_=S*S,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!C&&!!this.sourceProj_.getExtent()&&oi(C)>=oi(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?oi(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?oi(this.targetProj_.getExtent()):null;const N=Gi(g),z=to(g),J=Rc(g),X=Nn(g),fe=this.transformInv_(N),ve=this.transformInv_(z),be=this.transformInv_(J),Me=this.transformInv_(X),Ne=10+(E?Math.max(0,Math.ceil(Math.log2(_t(g)/(E*E*256*256)))):0);if(this.addQuad_(N,z,J,X,fe,ve,be,Me,Ne),this.wrapsXInSource_){let We=1/0;this.triangles_.forEach(function(Ye,Xe,gt){We=Math.min(We,Ye.source[0][0],Ye.source[1][0],Ye.source[2][0])}),this.triangles_.forEach(Ye=>{if(Math.max(Ye.source[0][0],Ye.source[1][0],Ye.source[2][0])-We>this.sourceWorldWidth_/2){const Xe=[[Ye.source[0][0],Ye.source[0][1]],[Ye.source[1][0],Ye.source[1][1]],[Ye.source[2][0],Ye.source[2][1]]];Xe[0][0]-We>this.sourceWorldWidth_/2&&(Xe[0][0]-=this.sourceWorldWidth_),Xe[1][0]-We>this.sourceWorldWidth_/2&&(Xe[1][0]-=this.sourceWorldWidth_),Xe[2][0]-We>this.sourceWorldWidth_/2&&(Xe[2][0]-=this.sourceWorldWidth_);const gt=Math.min(Xe[0][0],Xe[1][0],Xe[2][0]);Math.max(Xe[0][0],Xe[1][0],Xe[2][0])-gt<this.sourceWorldWidth_/2&&(Ye.source=Xe)}})}T={}}addTriangle_(l,d,g,C,S,E){this.triangles_.push({source:[C,S,E],target:[l,d,g]})}addQuad_(l,d,g,C,S,E,T,M,N){const z=Se([S,E,T,M]),J=this.sourceWorldWidth_?oi(z)/this.sourceWorldWidth_:null,X=this.sourceWorldWidth_,fe=this.sourceProj_.canWrapX()&&J>.5&&J<1;let ve=!1;if(N>0&&(this.targetProj_.isGlobal()&&this.targetWorldWidth_&&(ve=oi(Se([l,d,g,C]))/this.targetWorldWidth_>.25||ve),!fe&&this.sourceProj_.isGlobal()&&J&&(ve=J>.25||ve)),!ve&&this.maxSourceExtent_&&isFinite(z[0])&&isFinite(z[1])&&isFinite(z[2])&&isFinite(z[3])&&!vr(z,this.maxSourceExtent_))return;let be=0;if(!(ve||isFinite(S[0])&&isFinite(S[1])&&isFinite(E[0])&&isFinite(E[1])&&isFinite(T[0])&&isFinite(T[1])&&isFinite(M[0])&&isFinite(M[1])))if(N>0)ve=!0;else if(be=(isFinite(S[0])&&isFinite(S[1])?0:8)+(isFinite(E[0])&&isFinite(E[1])?0:4)+(isFinite(T[0])&&isFinite(T[1])?0:2)+(isFinite(M[0])&&isFinite(M[1])?0:1),1!=be&&2!=be&&4!=be&&8!=be)return;if(N>0){if(!ve){const Ne=this.transformInv_([(l[0]+g[0])/2,(l[1]+g[1])/2]);let We;We=fe?(ec(S[0],X)+ec(T[0],X))/2-ec(Ne[0],X):(S[0]+T[0])/2-Ne[0];const Ye=(S[1]+T[1])/2-Ne[1];ve=We*We+Ye*Ye>this.errorThresholdSquared_}if(ve){if(Math.abs(l[0]-g[0])<=Math.abs(l[1]-g[1])){const Me=[(d[0]+g[0])/2,(d[1]+g[1])/2],Ne=this.transformInv_(Me),We=[(C[0]+l[0])/2,(C[1]+l[1])/2],Ye=this.transformInv_(We);this.addQuad_(l,d,Me,We,S,E,Ne,Ye,N-1),this.addQuad_(We,Me,g,C,Ye,Ne,T,M,N-1)}else{const Me=[(l[0]+d[0])/2,(l[1]+d[1])/2],Ne=this.transformInv_(Me),We=[(g[0]+C[0])/2,(g[1]+C[1])/2],Ye=this.transformInv_(We);this.addQuad_(l,Me,We,C,S,Ne,Ye,M,N-1),this.addQuad_(Me,d,g,We,Ne,E,T,Ye,N-1)}return}}if(fe){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}11&be||this.addTriangle_(l,g,C,S,T,M),14&be||this.addTriangle_(l,g,d,S,T,E),be&&(13&be||this.addTriangle_(d,C,l,E,M,S),7&be||this.addTriangle_(d,C,g,E,M,T))}calculateSourceExtent(){const l=[1/0,1/0,-1/0,-1/0];return this.triangles_.forEach(function(d,g,C){const S=d.source;Io(l,S[0]),Io(l,S[1]),Io(l,S[2])}),l}getTriangles(){return this.triangles_}}(l,g,Me,be,Ye*(void 0!==z?z:.5),We),0===this.triangulation_.getTriangles().length)return void(this.state=4);this.sourceZ_=d.getZForResolution(Ye);let gt=this.triangulation_.calculateSourceExtent();if(be&&(l.canWrapX()?(gt[1]=Yi(gt[1],be[1],be[3]),gt[3]=Yi(gt[3],be[1],be[3])):gt=cl(gt,be)),_t(gt)){const Mt=d.getTileRangeForExtentAndZ(gt,this.sourceZ_);for(let Rt=Mt.minX;Rt<=Mt.maxX;Rt++)for(let Ot=Mt.minY;Ot<=Mt.maxY;Ot++){const qt=N(this.sourceZ_,Rt,Ot,T);qt&&this.sourceTiles_.push(qt)}0===this.sourceTiles_.length&&(this.state=4)}else this.state=4}getImage(){return this.canvas_}reproject_(){const l=[];if(this.sourceTiles_.forEach(d=>{d&&2==d.getState()&&l.push({extent:this.sourceTileGrid_.getTileCoordExtent(d.tileCoord),image:d.getImage()})}),this.sourceTiles_.length=0,0===l.length)this.state=3;else{const d=this.wrappedTileCoord_[0],g=this.targetTileGrid_.getTileSize(d),C="number"==typeof g?g:g[0],S="number"==typeof g?g:g[1],E=this.targetTileGrid_.getResolution(d),T=this.sourceTileGrid_.getResolution(this.sourceZ_),M=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=function Np(m,l,d,g,C,S,E,T,M,N,z,J){const X=Yr(Math.round(d*m),Math.round(d*l),Ah);if(J||(X.imageSmoothingEnabled=!1),0===M.length)return X.canvas;function fe(Xe){return Math.round(Xe*d)/d}X.scale(d,d),X.globalCompositeOperation="lighter";const ve=[1/0,1/0,-1/0,-1/0];M.forEach(function(Xe,gt,Mt){!function Sv(m,l){l[0]<m[0]&&(m[0]=l[0]),l[2]>m[2]&&(m[2]=l[2]),l[1]<m[1]&&(m[1]=l[1]),l[3]>m[3]&&(m[3]=l[3])}(ve,Xe.extent)});const be=oi(ve),Me=gs(ve),Ne=Yr(Math.round(d*be/g),Math.round(d*Me/g),Ah);J||(Ne.imageSmoothingEnabled=!1);const We=d/g;M.forEach(function(Xe,gt,Mt){const Rt=Xe.extent[0]-ve[0],Ot=-(Xe.extent[3]-ve[3]),qt=oi(Xe.extent),rn=gs(Xe.extent);Xe.image.width>0&&Xe.image.height>0&&Ne.drawImage(Xe.image,N,N,Xe.image.width-2*N,Xe.image.height-2*N,Rt*We,Ot*We,qt*We,rn*We)});const Ye=Gi(E);return T.getTriangles().forEach(function(Xe,gt,Mt){const Rt=Xe.source,Ot=Xe.target;let qt=Rt[0][0],rn=Rt[0][1],Bn=Rt[1][0],He=Rt[1][1],mn=Rt[2][0],fi=Rt[2][1];const wn=fe((Ot[0][0]-Ye[0])/S),ct=fe(-(Ot[0][1]-Ye[1])/S),dt=fe((Ot[1][0]-Ye[0])/S),Ct=fe(-(Ot[1][1]-Ye[1])/S),Ut=fe((Ot[2][0]-Ye[0])/S),vn=fe(-(Ot[2][1]-Ye[1])/S),ti=qt,Dt=rn;qt=0,rn=0,Bn-=ti,He-=Dt,mn-=ti,fi-=Dt;const sn=function Jf(m){const l=m.length;for(let g=0;g<l;g++){let C=g,S=Math.abs(m[g][g]);for(let T=g+1;T<l;T++){const M=Math.abs(m[T][g]);M>S&&(S=M,C=T)}if(0===S)return null;const E=m[C];m[C]=m[g],m[g]=E;for(let T=g+1;T<l;T++){const M=-m[T][g]/m[g][g];for(let N=g;N<l+1;N++)g==N?m[T][N]=0:m[T][N]+=M*m[g][N]}}const d=new Array(l);for(let g=l-1;g>=0;g--){d[g]=m[g][l]/m[g][g];for(let C=g-1;C>=0;C--)m[C][l]-=m[C][g]*d[g]}return d}([[Bn,He,0,0,dt-wn],[mn,fi,0,0,Ut-wn],[0,0,Bn,He,Ct-ct],[0,0,mn,fi,vn-ct]]);if(sn){if(X.save(),X.beginPath(),function dw(){if(void 0===vC){const m=Yr(6,6,Ah);m.globalCompositeOperation="lighter",m.fillStyle="rgba(210, 0, 0, 0.75)",e_(m,4,5,4,0),e_(m,4,5,0,5);const l=m.getImageData(0,0,3,3).data;vC=Fp(l,0)||Fp(l,4)||Fp(l,8),Yu(m),Ah.push(m.canvas)}return vC}()||!J){X.moveTo(dt,Ct);const Zn=4,go=wn-dt,li=ct-Ct;for(let xi=0;xi<Zn;xi++)X.lineTo(dt+fe((xi+1)*go/Zn),Ct+fe(xi*li/(Zn-1))),xi!=Zn-1&&X.lineTo(dt+fe((xi+1)*go/Zn),Ct+fe((xi+1)*li/(Zn-1)));X.lineTo(Ut,vn)}else X.moveTo(dt,Ct),X.lineTo(wn,ct),X.lineTo(Ut,vn);X.clip(),X.transform(sn[0],sn[2],sn[1],sn[3],wn,ct),X.translate(ve[0]-ti,ve[3]-Dt),X.scale(g/d,-g/d),X.drawImage(Ne.canvas,0,0),X.restore()}}),Yu(Ne),Ah.push(Ne.canvas),z&&(X.save(),X.globalCompositeOperation="source-over",X.strokeStyle="black",X.lineWidth=1,T.getTriangles().forEach(function(Xe,gt,Mt){const Rt=Xe.target,Ot=(Rt[0][0]-Ye[0])/S,qt=-(Rt[0][1]-Ye[1])/S,rn=(Rt[1][0]-Ye[0])/S,Bn=-(Rt[1][1]-Ye[1])/S,He=(Rt[2][0]-Ye[0])/S,mn=-(Rt[2][1]-Ye[1])/S;X.beginPath(),X.moveTo(rn,Bn),X.lineTo(Ot,qt),X.lineTo(He,mn),X.closePath(),X.stroke()}),X.restore()),X.canvas}(C,S,this.pixelRatio_,T,this.sourceTileGrid_.getExtent(),E,M,this.triangulation_,l,this.gutter_,this.renderEdges_,this.interpolate),this.state=2}this.changed()}load(){if(0==this.state){this.state=1,this.changed();let l=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(d=>{const g=d.getState();if(0==g||1==g){l++;const C=nn(d,"change",function(S){const E=d.getState();(2==E||3==E||4==E)&&(Y(C),l--,0===l&&(this.unlistenSources_(),this.reproject_()))},this);this.sourcesListenerKeys_.push(C)}}),0===l?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach(function(d,g,C){0==d.getState()&&d.load()})}}unlistenSources_(){this.sourcesListenerKeys_.forEach(Y),this.sourcesListenerKeys_=null}release(){this.canvas_&&(Yu(this.canvas_.getContext("2d")),Ah.push(this.canvas_),this.canvas_=null),super.release()}};class F0{constructor(l,d,g,C){this.minX=l,this.maxX=d,this.minY=g,this.maxY=C}contains(l){return this.containsXY(l[1],l[2])}containsTileRange(l){return this.minX<=l.minX&&l.maxX<=this.maxX&&this.minY<=l.minY&&l.maxY<=this.maxY}containsXY(l,d){return this.minX<=l&&l<=this.maxX&&this.minY<=d&&d<=this.maxY}equals(l){return this.minX==l.minX&&this.minY==l.minY&&this.maxX==l.maxX&&this.maxY==l.maxY}extend(l){l.minX<this.minX&&(this.minX=l.minX),l.maxX>this.maxX&&(this.maxX=l.maxX),l.minY<this.minY&&(this.minY=l.minY),l.maxY>this.maxY&&(this.maxY=l.maxY)}getHeight(){return this.maxY-this.minY+1}getSize(){return[this.getWidth(),this.getHeight()]}getWidth(){return this.maxX-this.minX+1}intersects(l){return this.minX<=l.maxX&&this.maxX>=l.minX&&this.minY<=l.maxY&&this.maxY>=l.minY}}function Qc(m,l,d,g,C){return void 0!==C?(C.minX=m,C.maxX=l,C.minY=d,C.maxY=g,C):new F0(m,l,d,g)}const CC=F0,Oh=class bC extends nd{constructor(l){super(l),this.extentChanged=!0,this.renderedExtent_=null,this.renderedProjection=null,this.renderedTiles=[],this.newTiles_=!1,this.tmpExtent=[1/0,1/0,-1/0,-1/0],this.tmpTileRange_=new CC(0,0,0,0)}isDrawableTile(l){const d=this.getLayer(),g=l.getState(),C=d.getUseInterimTilesOnError();return 2==g||4==g||3==g&&!C}getTile(l,d,g,C){const S=C.pixelRatio,E=C.viewState.projection,T=this.getLayer();let N=T.getSource().getTile(l,d,g,S,E);return 3==N.getState()&&T.getUseInterimTilesOnError()&&T.getPreload()>0&&(this.newTiles_=!0),this.isDrawableTile(N)||(N=N.getInterimTile()),N}getData(l){const d=this.frameState;if(!d)return null;const g=this.getLayer(),C=Bi(d.pixelToCoordinateTransform,l.slice()),S=g.getExtent();if(S&&!cn(S,C))return null;const E=d.pixelRatio,T=d.viewState.projection,M=d.viewState,N=g.getRenderSource(),z=N.getTileGridForProjection(M.projection),J=N.getTilePixelRatio(d.pixelRatio);for(let X=z.getZForResolution(M.resolution);X>=z.getMinZoom();--X){const fe=z.getTileCoordForCoordAndZ(C,X),ve=N.getTile(X,fe[1],fe[2],E,T);if(!(ve instanceof mC||ve instanceof Lp)||ve instanceof Lp&&4===ve.getState())return null;if(2!==ve.getState())continue;const be=z.getOrigin(X),Me=so(z.getTileSize(X)),Ne=z.getResolution(X),We=Math.floor(J*((C[0]-be[0])/Ne-fe[1]*Me[0])),Ye=Math.floor(J*((be[1]-C[1])/Ne-fe[2]*Me[1])),Xe=Math.round(J*N.getGutterForProjection(M.projection));return this.getImageData(ve.getImage(),We+Xe,Ye+Xe)}return null}loadedTileCallback(l,d,g){return!!this.isDrawableTile(g)&&super.loadedTileCallback(l,d,g)}prepareFrame(l){return!!this.getLayer().getSource()}renderFrame(l,d){const g=l.layerStatesArray[l.layerIndex],C=l.viewState,S=C.projection,E=C.resolution,T=C.center,M=C.rotation,N=l.pixelRatio,z=this.getLayer(),J=z.getSource(),X=J.getRevision(),fe=J.getTileGridForProjection(S),ve=fe.getZForResolution(E,J.zDirection),be=fe.getResolution(ve);let Me=l.extent;const Ne=l.viewState.resolution,We=J.getTilePixelRatio(N),Ye=Math.round(oi(Me)/Ne*N),Xe=Math.round(gs(Me)/Ne*N),gt=g.extent&&Oo(g.extent);gt&&(Me=cl(Me,Oo(g.extent)));const Mt=be*Ye/2/We,Rt=be*Xe/2/We,Ot=[T[0]-Mt,T[1]-Rt,T[0]+Mt,T[1]+Rt],qt=fe.getTileRangeForExtentAndZ(Me,ve),rn={};rn[ve]={};const Bn=this.createLoadedTileFinder(J,S,rn),He=this.tmpExtent,mn=this.tmpTileRange_;this.newTiles_=!1;const fi=M?ps(C.center,Ne,M,l.size):void 0;for(let Fi=qt.minX;Fi<=qt.maxX;++Fi)for(let sn=qt.minY;sn<=qt.maxY;++sn){if(M&&!fe.tileCoordIntersectsViewport([ve,Fi,sn],fi))continue;const Zn=this.getTile(ve,Fi,sn,l);if(this.isDrawableTile(Zn)){const xi=Wt(this);if(2==Zn.getState()){rn[ve][Zn.tileCoord.toString()]=Zn;let er=Zn.inTransition(xi);er&&1!==g.opacity&&(Zn.endTransition(xi),er=!1),!this.newTiles_&&(er||!this.renderedTiles.includes(Zn))&&(this.newTiles_=!0)}if(1===Zn.getAlpha(xi,l.time))continue}const go=fe.getTileCoordChildTileRange(Zn.tileCoord,mn,He);let li=!1;go&&(li=Bn(ve+1,go)),li||fe.forEachTileCoordParentTileRange(Zn.tileCoord,Bn,mn,He)}const wn=be/E*N/We;hs(this.pixelTransform,l.size[0]/2,l.size[1]/2,1/N,1/N,M,-Ye/2,-Xe/2);const ct=j(this.pixelTransform);this.useContainer(d,ct,this.getBackground(l));const dt=this.context,Ct=dt.canvas;eo(this.inversePixelTransform,this.pixelTransform),hs(this.tempTransform,Ye/2,Xe/2,wn,wn,0,-Ye/2,-Xe/2),Ct.width!=Ye||Ct.height!=Xe?(Ct.width=Ye,Ct.height=Xe):this.containerReused||dt.clearRect(0,0,Ye,Xe),gt&&this.clipUnrotated(dt,l,gt),J.getInterpolate()||(dt.imageSmoothingEnabled=!1),this.preRender(dt,l),this.renderedTiles.length=0;let vn,ti,Dt,Ut=Object.keys(rn).map(Number);Ut.sort(Qo),1!==g.opacity||this.containerReused&&!J.getOpaque(l.viewState.projection)?(vn=[],ti=[]):Ut=Ut.reverse();for(let Fi=Ut.length-1;Fi>=0;--Fi){const sn=Ut[Fi],Zn=J.getTilePixelSize(sn,N,S),li=fe.getResolution(sn)/be,xi=Zn[0]*li*wn,er=Zn[1]*li*wn,jo=fe.getTileCoordForCoordAndZ(Gi(Ot),sn),Ec=fe.getTileCoordExtent(jo),kf=Bi(this.tempTransform,[We*(Ec[0]-Ot[0])/be,We*(Ot[3]-Ec[3])/be]),Zd=We*J.getGutterForProjection(S),Fl=rn[sn];for(const Hn in Fl){const Wa=Fl[Hn],mu=Wa.tileCoord,Ff=jo[1]-mu[1],E1=Math.round(kf[0]-(Ff-1)*xi),_u=jo[2]-mu[2],x1=Math.round(kf[1]-(_u-1)*er),bs=Math.round(kf[0]-Ff*xi),ha=Math.round(kf[1]-_u*er),$a=E1-bs,xc=x1-ha,Gg=ve===sn,Nf=Gg&&1!==Wa.getAlpha(Wt(this),l.time);let vu=!1;if(!Nf)if(vn){Dt=[bs,ha,bs+$a,ha,bs+$a,ha+xc,bs,ha+xc];for(let Gd=0,Yg=vn.length;Gd<Yg;++Gd)if(ve!==sn&&sn<ti[Gd]){const qr=vn[Gd];vr([bs,ha,bs+$a,ha+xc],[qr[0],qr[3],qr[4],qr[7]])&&(vu||(dt.save(),vu=!0),dt.beginPath(),dt.moveTo(Dt[0],Dt[1]),dt.lineTo(Dt[2],Dt[3]),dt.lineTo(Dt[4],Dt[5]),dt.lineTo(Dt[6],Dt[7]),dt.moveTo(qr[6],qr[7]),dt.lineTo(qr[4],qr[5]),dt.lineTo(qr[2],qr[3]),dt.lineTo(qr[0],qr[1]),dt.clip())}vn.push(Dt),ti.push(sn)}else dt.clearRect(bs,ha,$a,xc);this.drawTileImage(Wa,l,bs,ha,$a,xc,Zd,Gg),vn&&!Nf?(vu&&dt.restore(),this.renderedTiles.unshift(Wa)):this.renderedTiles.push(Wa),this.updateUsedTiles(l.usedTiles,J,Wa)}}return this.renderedRevision=X,this.renderedResolution=be,this.extentChanged=!this.renderedExtent_||!fs(this.renderedExtent_,Ot),this.renderedExtent_=Ot,this.renderedPixelRatio=N,this.renderedProjection=S,this.manageTilePyramid(l,J,fe,N,S,Me,ve,z.getPreload()),this.scheduleExpireCache(l,J),this.postRender(dt,l),g.extent&&dt.restore(),dt.imageSmoothingEnabled=!0,ct!==Ct.style.transform&&(Ct.style.transform=ct),this.container}drawTileImage(l,d,g,C,S,E,T,M){const N=this.getTileImage(l);if(!N)return;const z=Wt(this),J=d.layerStatesArray[d.layerIndex],X=J.opacity*(M?l.getAlpha(z,d.time):1),fe=X!==this.context.globalAlpha;fe&&(this.context.save(),this.context.globalAlpha=X),this.context.drawImage(N,T,T,N.width-2*T,N.height-2*T,g,C,S,E),fe&&this.context.restore(),X!==J.opacity?d.animate=!0:M&&l.endTransition(z)}getImage(){const l=this.context;return l?l.canvas:null}getTileImage(l){return l.getImage()}scheduleExpireCache(l,d){if(d.canExpireCache()){const g=function(C,S,E){const T=Wt(C);T in E.usedTiles&&C.expireCache(E.viewState.projection,E.usedTiles[T])}.bind(null,d);l.postRenderFunctions.push(g)}}updateUsedTiles(l,d,g){const C=Wt(d);C in l||(l[C]={}),l[C][g.getKey()]=!0}manageTilePyramid(l,d,g,C,S,E,T,M,N){const z=Wt(d);z in l.wantedTiles||(l.wantedTiles[z]={});const J=l.wantedTiles[z],X=l.tileQueue,fe=g.getMinZoom(),ve=l.viewState.rotation,be=ve?ps(l.viewState.center,l.viewState.resolution,ve,l.size):void 0;let Ne,We,Ye,Xe,gt,Mt,Me=0;for(Mt=fe;Mt<=T;++Mt)for(We=g.getTileRangeForExtentAndZ(E,Mt,We),Ye=g.getResolution(Mt),Xe=We.minX;Xe<=We.maxX;++Xe)for(gt=We.minY;gt<=We.maxY;++gt)ve&&!g.tileCoordIntersectsViewport([Mt,Xe,gt],be)||(T-Mt<=M?(++Me,Ne=d.getTile(Mt,Xe,gt,C,S),0==Ne.getState()&&(J[Ne.getKey()]=!0,X.isKeyQueued(Ne.getKey())||X.enqueue([Ne,z,g.getTileCoordCenter(Ne.tileCoord),Ye])),void 0!==N&&N(Ne)):d.useTile(Mt,Xe,gt,S));d.updateCacheSize(Me,S)}},cc=class SC extends aw{constructor(l){super(l)}createRenderer(){return new Oh(this)}},wC=class Rh{constructor(l){this.highWaterMark=void 0!==l?l:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}canExpireCache(){return this.highWaterMark>0&&this.getCount()>this.highWaterMark}expireCache(l){for(;this.canExpireCache();)this.pop()}clear(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}containsKey(l){return this.entries_.hasOwnProperty(l)}forEach(l){let d=this.oldest_;for(;d;)l(d.value_,d.key_,this),d=d.newer}get(l,d){const g=this.entries_[l];return kn(void 0!==g,15),g===this.newest_||(g===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(g.newer.older=g.older,g.older.newer=g.newer),g.newer=null,g.older=this.newest_,this.newest_.newer=g,this.newest_=g),g.value_}remove(l){const d=this.entries_[l];return kn(void 0!==d,15),d===this.newest_?(this.newest_=d.older,this.newest_&&(this.newest_.newer=null)):d===this.oldest_?(this.oldest_=d.newer,this.oldest_&&(this.oldest_.older=null)):(d.newer.older=d.older,d.older.newer=d.newer),delete this.entries_[l],--this.count_,d.value_}getCount(){return this.count_}getKeys(){const l=new Array(this.count_);let g,d=0;for(g=this.newest_;g;g=g.older)l[d++]=g.key_;return l}getValues(){const l=new Array(this.count_);let g,d=0;for(g=this.newest_;g;g=g.older)l[d++]=g.value_;return l}peekLast(){return this.oldest_.value_}peekLastKey(){return this.oldest_.key_}peekFirstKey(){return this.newest_.key_}peek(l){if(this.containsKey(l))return this.entries_[l].value_}pop(){const l=this.oldest_;return delete this.entries_[l.key_],l.newer&&(l.newer.older=null),this.oldest_=l.newer,this.oldest_||(this.newest_=null),--this.count_,l.value_}replace(l,d){this.get(l),this.entries_[l].value_=d}set(l,d){kn(!(l in this.entries_),16);const g={key_:l,newer:null,older:this.newest_,value_:d};this.newest_?this.newest_.newer=g:this.oldest_=g,this.newest_=g,this.entries_[l]=g,++this.count_}setSize(l){this.highWaterMark=l}};function i_(m,l,d,g){return void 0!==g?(g[0]=m,g[1]=l,g[2]=d,g):[m,l,d]}function Ph(m,l,d){return m+"/"+l+"/"+d}function N0(m){return Ph(m[0],m[1],m[2])}const B0=class Vp extends wC{clear(){for(;this.getCount()>0;)this.pop().release();super.clear()}expireCache(l){for(;this.canExpireCache()&&!(this.peekLast().getKey()in l);)this.pop().release()}pruneExceptNewestZ(){if(0===this.getCount())return;const g=function L0(m){return m.split("/").map(Number)}(this.peekFirstKey())[0];this.forEach(C=>{C.tileCoord[0]!==g&&(this.remove(N0(C.tileCoord)),C.release())})}};function id(m){return m?Array.isArray(m)?function(l){return m}:"function"==typeof m?m:function(l){return[m]}:null}const Bp=class H0 extends In{constructor(l){super(),this.projection=di(l.projection),this.attributions_=id(l.attributions),this.attributionsCollapsible_=void 0===l.attributionsCollapsible||l.attributionsCollapsible,this.loading=!1,this.state_=void 0!==l.state?l.state:"ready",this.wrapX_=void 0!==l.wrapX&&l.wrapX,this.interpolate_=!!l.interpolate,this.viewResolver=null,this.viewRejector=null;const d=this;this.viewPromise_=new Promise(function(g,C){d.viewResolver=g,d.viewRejector=C})}getAttributions(){return this.attributions_}getAttributionsCollapsible(){return this.attributionsCollapsible_}getProjection(){return this.projection}getResolutions(l){return null}getView(){return this.viewPromise_}getState(){return this.state_}getWrapX(){return this.wrapX_}getInterpolate(){return this.interpolate_}refresh(){this.changed()}setAttributions(l){this.attributions_=id(l),this.changed()}setState(l){this.state_=l,this.changed()}},rd=[0,0,0],U0=class EC{constructor(l){let d;if(this.minZoom=void 0!==l.minZoom?l.minZoom:0,this.resolutions_=l.resolutions,kn(function Jg(m,l,d){const g=l||Qo;return m.every(function(C,S){if(0===S)return!0;const E=g(m[S-1],C);return!(E>0||d&&0===E)})}(this.resolutions_,function(C,S){return S-C},!0),17),!l.origins)for(let C=0,S=this.resolutions_.length-1;C<S;++C)if(d){if(this.resolutions_[C]/this.resolutions_[C+1]!==d){d=void 0;break}}else d=this.resolutions_[C]/this.resolutions_[C+1];this.zoomFactor_=d,this.maxZoom=this.resolutions_.length-1,this.origin_=void 0!==l.origin?l.origin:null,this.origins_=null,void 0!==l.origins&&(this.origins_=l.origins,kn(this.origins_.length==this.resolutions_.length,20));const g=l.extent;void 0!==g&&!this.origin_&&!this.origins_&&(this.origin_=Gi(g)),kn(!this.origin_&&this.origins_||this.origin_&&!this.origins_,18),this.tileSizes_=null,void 0!==l.tileSizes&&(this.tileSizes_=l.tileSizes,kn(this.tileSizes_.length==this.resolutions_.length,19)),this.tileSize_=void 0!==l.tileSize?l.tileSize:this.tileSizes_?null:ch,kn(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,22),this.extent_=void 0!==g?g:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],this.tmpExtent_=[0,0,0,0],void 0!==l.sizes?this.fullTileRanges_=l.sizes.map(function(C,S){const E=new CC(Math.min(0,C[0]),Math.max(C[0]-1,-1),Math.min(0,C[1]),Math.max(C[1]-1,-1));if(g){const T=this.getTileRangeForExtentAndZ(g,S);E.minX=Math.max(T.minX,E.minX),E.maxX=Math.min(T.maxX,E.maxX),E.minY=Math.max(T.minY,E.minY),E.maxY=Math.min(T.maxY,E.maxY)}return E},this):g&&this.calculateTileRanges_(g)}forEachTileCoord(l,d,g){const C=this.getTileRangeForExtentAndZ(l,d);for(let S=C.minX,E=C.maxX;S<=E;++S)for(let T=C.minY,M=C.maxY;T<=M;++T)g([d,S,T])}forEachTileCoordParentTileRange(l,d,g,C){let S,E,T,M=null,N=l[0]-1;for(2===this.zoomFactor_?(E=l[1],T=l[2]):M=this.getTileCoordExtent(l,C);N>=this.minZoom;){if(2===this.zoomFactor_?(E=Math.floor(E/2),T=Math.floor(T/2),S=Qc(E,E,T,T,g)):S=this.getTileRangeForExtentAndZ(M,N,g),d(N,S))return!0;--N}return!1}getExtent(){return this.extent_}getMaxZoom(){return this.maxZoom}getMinZoom(){return this.minZoom}getOrigin(l){return this.origin_?this.origin_:this.origins_[l]}getResolution(l){return this.resolutions_[l]}getResolutions(){return this.resolutions_}getTileCoordChildTileRange(l,d,g){if(l[0]<this.maxZoom){if(2===this.zoomFactor_){const S=2*l[1],E=2*l[2];return Qc(S,S+1,E,E+1,d)}const C=this.getTileCoordExtent(l,g||this.tmpExtent_);return this.getTileRangeForExtentAndZ(C,l[0]+1,d)}return null}getTileRangeForTileCoordAndZ(l,d,g){if(d>this.maxZoom||d<this.minZoom)return null;const C=l[0],S=l[1],E=l[2];if(d===C)return Qc(S,E,S,E,g);if(this.zoomFactor_){const M=Math.pow(this.zoomFactor_,d-C),N=Math.floor(S*M),z=Math.floor(E*M);return d<C?Qc(N,N,z,z,g):Qc(N,Math.floor(M*(S+1))-1,z,Math.floor(M*(E+1))-1,g)}const T=this.getTileCoordExtent(l,this.tmpExtent_);return this.getTileRangeForExtentAndZ(T,d,g)}getTileRangeForExtentAndZ(l,d,g){this.getTileCoordForXYAndZ_(l[0],l[3],d,!1,rd);const C=rd[1],S=rd[2];return this.getTileCoordForXYAndZ_(l[2],l[1],d,!0,rd),Qc(C,rd[1],S,rd[2],g)}getTileCoordCenter(l){const d=this.getOrigin(l[0]),g=this.getResolution(l[0]),C=so(this.getTileSize(l[0]),this.tmpSize_);return[d[0]+(l[1]+.5)*C[0]*g,d[1]-(l[2]+.5)*C[1]*g]}getTileCoordExtent(l,d){const g=this.getOrigin(l[0]),C=this.getResolution(l[0]),S=so(this.getTileSize(l[0]),this.tmpSize_),E=g[0]+l[1]*S[0]*C,T=g[1]-(l[2]+1)*S[1]*C;return ei(E,T,E+S[0]*C,T+S[1]*C,d)}getTileCoordForCoordAndResolution(l,d,g){return this.getTileCoordForXYAndResolution_(l[0],l[1],d,!1,g)}getTileCoordForXYAndResolution_(l,d,g,C,S){const E=this.getZForResolution(g),T=g/this.getResolution(E),M=this.getOrigin(E),N=so(this.getTileSize(E),this.tmpSize_);let z=T*(l-M[0])/g/N[0],J=T*(M[1]-d)/g/N[1];return C?(z=F(z,5)-1,J=F(J,5)-1):(z=P(z,5),J=P(J,5)),i_(E,z,J,S)}getTileCoordForXYAndZ_(l,d,g,C,S){const E=this.getOrigin(g),T=this.getResolution(g),M=so(this.getTileSize(g),this.tmpSize_);let N=(l-E[0])/T/M[0],z=(E[1]-d)/T/M[1];return C?(N=F(N,5)-1,z=F(z,5)-1):(N=P(N,5),z=P(z,5)),i_(g,N,z,S)}getTileCoordForCoordAndZ(l,d,g){return this.getTileCoordForXYAndZ_(l[0],l[1],d,!1,g)}getTileCoordResolution(l){return this.resolutions_[l[0]]}getTileSize(l){return this.tileSize_?this.tileSize_:this.tileSizes_[l]}getFullTileRange(l){return this.fullTileRanges_?this.fullTileRanges_[l]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,l):null}getZForResolution(l,d){return Yi(Yl(this.resolutions_,l,d||0),this.minZoom,this.maxZoom)}tileCoordIntersectsViewport(l,d){return U1(d,0,d.length,2,this.getTileCoordExtent(l))}calculateTileRanges_(l){const d=this.resolutions_.length,g=new Array(d);for(let C=this.minZoom;C<d;++C)g[C]=this.getTileRangeForExtentAndZ(l,C);this.fullTileRanges_=g}};function xC(m){let l=m.getDefaultTileGrid();return l||(l=function kh(m,l,d,g){return function TC(m,l,d,g){g=void 0!==g?g:"top-left";const C=j0(m,l,d);return new U0({extent:m,origin:ar(m,g),resolutions:C,tileSize:d})}(Fa(m),l,d,g)}(m),m.setDefaultTileGrid(l)),l}function j0(m,l,d,g){l=void 0!==l?l:lh,d=so(void 0!==d?d:ch);const C=gs(m),S=oi(m);g=g>0?g:Math.max(S/d[0],C/d[1]);const E=l+1,T=new Array(E);for(let M=0;M<E;++M)T[M]=g/Math.pow(2,M);return T}function Fa(m){let l=(m=di(m)).getExtent();if(!l){const d=180*xa.degrees/m.getMetersPerUnit();l=ei(-d,-d,d,d)}return l}class ID extends or{constructor(l,d){super(l),this.tile=d}}const gw=class MC extends Bp{constructor(l){super({attributions:l.attributions,attributionsCollapsible:l.attributionsCollapsible,projection:l.projection,state:l.state,wrapX:l.wrapX,interpolate:l.interpolate}),this.opaque_=void 0!==l.opaque&&l.opaque,this.tilePixelRatio_=void 0!==l.tilePixelRatio?l.tilePixelRatio:1,this.tileGrid=void 0!==l.tileGrid?l.tileGrid:null,this.tileGrid&&so(this.tileGrid.getTileSize(this.tileGrid.getMinZoom()),[256,256]),this.tileCache=new B0(l.cacheSize||0),this.tmpSize=[0,0],this.key_=l.key||"",this.tileOptions={transition:l.transition,interpolate:l.interpolate},this.zDirection=l.zDirection?l.zDirection:0}canExpireCache(){return this.tileCache.canExpireCache()}expireCache(l,d){const g=this.getTileCacheForProjection(l);g&&g.expireCache(d)}forEachLoadedTile(l,d,g,C){const S=this.getTileCacheForProjection(l);if(!S)return!1;let T,M,N,E=!0;for(let z=g.minX;z<=g.maxX;++z)for(let J=g.minY;J<=g.maxY;++J)M=Ph(d,z,J),N=!1,S.containsKey(M)&&(T=S.get(M),N=2===T.getState(),N&&(N=!1!==C(T))),N||(E=!1);return E}getGutterForProjection(l){return 0}getKey(){return this.key_}setKey(l){this.key_!==l&&(this.key_=l,this.changed())}getOpaque(l){return this.opaque_}getResolutions(l){const d=l?this.getTileGridForProjection(l):this.tileGrid;return d?d.getResolutions():null}getTile(l,d,g,C,S){return je()}getTileGrid(){return this.tileGrid}getTileGridForProjection(l){return this.tileGrid?this.tileGrid:xC(l)}getTileCacheForProjection(l){const d=this.getProjection();return kn(null===d||hl(d,l),68),this.tileCache}getTilePixelRatio(l){return this.tilePixelRatio_}getTilePixelSize(l,d,g){const C=this.getTileGridForProjection(g),S=this.getTilePixelRatio(d),E=so(C.getTileSize(l),this.tmpSize);return 1==S?E:function M0(m,l,d){return void 0===d&&(d=[0,0]),d[0]=m[0]*l+.5|0,d[1]=m[1]*l+.5|0,d}(E,S,this.tmpSize)}getTileCoordForTileUrlFunction(l,d){d=void 0!==d?d:this.getProjection();const g=this.getTileGridForProjection(d);return this.getWrapX()&&d.isGlobal()&&(l=function pw(m,l,d){const g=l[0],C=m.getTileCoordCenter(l),S=Fa(d);if(!cn(S,C)){const E=oi(S),T=Math.ceil((S[0]-C[0])/E);return C[0]+=E*T,m.getTileCoordForCoordAndZ(C,g)}return l}(g,l,d)),function V0(m,l){const d=m[0],g=m[1],C=m[2];if(l.getMinZoom()>d||d>l.getMaxZoom())return!1;const S=l.getFullTileRange(d);return!S||S.containsXY(g,C)}(l,g)?l:null}clear(){this.tileCache.clear()}refresh(){this.clear(),super.refresh()}updateCacheSize(l,d){const g=this.getTileCacheForProjection(d);l>g.highWaterMark&&(g.highWaterMark=l)}useTile(l,d,g,C){}};function MD(m,l){const d=/\{z\}/g,g=/\{x\}/g,C=/\{y\}/g,S=/\{-y\}/g;return function(E,T,M){if(E)return m.replace(d,E[0].toString()).replace(g,E[1].toString()).replace(C,E[2].toString()).replace(S,function(){const z=l.getFullTileRange(E[0]);return kn(z,55),(z.getHeight()-E[2]-1).toString()})}}class r_ extends gw{constructor(l){super({attributions:l.attributions,cacheSize:l.cacheSize,opaque:l.opaque,projection:l.projection,state:l.state,tileGrid:l.tileGrid,tilePixelRatio:l.tilePixelRatio,wrapX:l.wrapX,transition:l.transition,interpolate:l.interpolate,key:l.key,attributionsCollapsible:l.attributionsCollapsible,zDirection:l.zDirection}),this.generateTileUrlFunction_=this.tileUrlFunction===r_.prototype.tileUrlFunction,this.tileLoadFunction=l.tileLoadFunction,l.tileUrlFunction&&(this.tileUrlFunction=l.tileUrlFunction),this.urls=null,l.urls?this.setUrls(l.urls):l.url&&this.setUrl(l.url),this.tileLoadingKeys_={}}getTileLoadFunction(){return this.tileLoadFunction}getTileUrlFunction(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction}getUrls(){return this.urls}handleTileChange(l){const d=l.target,g=Wt(d),C=d.getState();let S;1==C?(this.tileLoadingKeys_[g]=!0,S="tileloadstart"):g in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[g],S=3==C?"tileloaderror":2==C?"tileloadend":void 0),null!=S&&this.dispatchEvent(new ID(S,d))}setTileLoadFunction(l){this.tileCache.clear(),this.tileLoadFunction=l,this.changed()}setTileUrlFunction(l,d){this.tileUrlFunction=l,this.tileCache.pruneExceptNewestZ(),typeof d<"u"?this.setKey(d):this.changed()}setUrl(l){const d=function OD(m){const l=[];let d=/\{([a-z])-([a-z])\}/.exec(m);if(d){const g=d[1].charCodeAt(0),C=d[2].charCodeAt(0);let S;for(S=g;S<=C;++S)l.push(m.replace(d[0],String.fromCharCode(S)));return l}if(d=/\{(\d+)-(\d+)\}/.exec(m),d){const g=parseInt(d[2],10);for(let C=parseInt(d[1],10);C<=g;C++)l.push(m.replace(d[0],C.toString()));return l}return l.push(m),l}(l);this.urls=d,this.setUrls(d)}setUrls(l){this.urls=l;const d=l.join("\n");this.generateTileUrlFunction_?this.setTileUrlFunction(function AD(m,l){const d=m.length,g=new Array(d);for(let C=0;C<d;++C)g[C]=MD(m[C],l);return function AC(m){return 1===m.length?m[0]:function(l,d,g){if(!l)return;const C=function fw(m){return(m[1]<<m[0])+m[2]}(l),S=ec(C,m.length);return m[S](l,d,g)}}(g)}(l,this.tileGrid),d):this.setKey(d)}tileUrlFunction(l,d,g){}useTile(l,d,g){const C=Ph(l,d,g);this.tileCache.containsKey(C)&&this.tileCache.get(C)}}const s_=r_;function RC(m,l){m.getImage().src=l}const PC=class OC extends s_{constructor(l){super({attributions:l.attributions,cacheSize:l.cacheSize,opaque:l.opaque,projection:l.projection,state:l.state,tileGrid:l.tileGrid,tileLoadFunction:l.tileLoadFunction?l.tileLoadFunction:RC,tilePixelRatio:l.tilePixelRatio,tileUrlFunction:l.tileUrlFunction,url:l.url,urls:l.urls,wrapX:l.wrapX,transition:l.transition,interpolate:void 0===l.interpolate||l.interpolate,key:l.key,attributionsCollapsible:l.attributionsCollapsible,zDirection:l.zDirection}),this.crossOrigin=void 0!==l.crossOrigin?l.crossOrigin:null,this.tileClass=void 0!==l.tileClass?l.tileClass:mC,this.tileCacheForProjection={},this.tileGridForProjection={},this.reprojectionErrorThreshold_=l.reprojectionErrorThreshold,this.renderReprojectionEdges_=!1}canExpireCache(){if(this.tileCache.canExpireCache())return!0;for(const l in this.tileCacheForProjection)if(this.tileCacheForProjection[l].canExpireCache())return!0;return!1}expireCache(l,d){const g=this.getTileCacheForProjection(l);this.tileCache.expireCache(this.tileCache==g?d:{});for(const C in this.tileCacheForProjection){const S=this.tileCacheForProjection[C];S.expireCache(S==g?d:{})}}getGutterForProjection(l){return this.getProjection()&&l&&!hl(this.getProjection(),l)?0:this.getGutter()}getGutter(){return 0}getKey(){let l=super.getKey();return this.getInterpolate()||(l+=":disable-interpolation"),l}getOpaque(l){return!(this.getProjection()&&l&&!hl(this.getProjection(),l))&&super.getOpaque(l)}getTileGridForProjection(l){const d=this.getProjection();if(this.tileGrid&&(!d||hl(d,l)))return this.tileGrid;const g=Wt(l);return g in this.tileGridForProjection||(this.tileGridForProjection[g]=xC(l)),this.tileGridForProjection[g]}getTileCacheForProjection(l){const d=this.getProjection();if(!d||hl(d,l))return this.tileCache;const g=Wt(l);return g in this.tileCacheForProjection||(this.tileCacheForProjection[g]=new B0(this.tileCache.highWaterMark)),this.tileCacheForProjection[g]}createTile_(l,d,g,C,S,E){const T=[l,d,g],M=this.getTileCoordForTileUrlFunction(T,S),N=M?this.tileUrlFunction(M,C,S):void 0,z=new this.tileClass(T,void 0!==N?0:4,void 0!==N?N:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return z.key=E,z.addEventListener("change",this.handleTileChange.bind(this)),z}getTile(l,d,g,C,S){const E=this.getProjection();if(!E||!S||hl(E,S))return this.getTileInternal(l,d,g,C,E||S);const T=this.getTileCacheForProjection(S),M=[l,d,g];let N;const z=N0(M);T.containsKey(z)&&(N=T.get(z));const J=this.getKey();if(N&&N.key==J)return N;const X=this.getTileGridForProjection(E),fe=this.getTileGridForProjection(S),ve=this.getTileCoordForTileUrlFunction(M,S),be=new Lp(E,X,S,fe,M,ve,this.getTilePixelRatio(C),this.getGutter(),(Me,Ne,We,Ye)=>this.getTileInternal(Me,Ne,We,Ye,E),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.getInterpolate());return be.key=J,N?(be.interimTile=N,be.refreshInterimChain(),T.replace(z,be)):T.set(z,be),be}getTileInternal(l,d,g,C,S){let E=null;const T=Ph(l,d,g),M=this.getKey();if(this.tileCache.containsKey(T)){if(E=this.tileCache.get(T),E.key!=M){const N=E;E=this.createTile_(l,d,g,C,S,M),E.interimTile=0==N.getState()?N.interimTile:N,E.refreshInterimChain(),this.tileCache.replace(T,E)}}else E=this.createTile_(l,d,g,C,S,M),this.tileCache.set(T,E);return E}setRenderReprojectionEdges(l){if(this.renderReprojectionEdges_!=l){this.renderReprojectionEdges_=l;for(const d in this.tileCacheForProjection)this.tileCacheForProjection[d].clear();this.changed()}}setTileGridForProjection(l,d){const g=di(l);if(g){const C=Wt(g);C in this.tileGridForProjection||(this.tileGridForProjection[C]=d)}}clear(){super.clear();for(const l in this.tileCacheForProjection)this.tileCacheForProjection[l].clear()}},o_=class Sn extends PC{constructor(l){const d=void 0!==(l=l||{}).projection?l.projection:"EPSG:3857",g=void 0!==l.tileGrid?l.tileGrid:function IC(m){const l=m||{},d=l.extent||di("EPSG:3857").getExtent(),g={extent:d,minZoom:l.minZoom,tileSize:l.tileSize,resolutions:j0(d,l.maxZoom,l.tileSize,l.maxResolution)};return new U0(g)}({extent:Fa(d),maxResolution:l.maxResolution,maxZoom:l.maxZoom,minZoom:l.minZoom,tileSize:l.tileSize});super({attributions:l.attributions,cacheSize:l.cacheSize,crossOrigin:l.crossOrigin,interpolate:l.interpolate,opaque:l.opaque,projection:d,reprojectionErrorThreshold:l.reprojectionErrorThreshold,tileGrid:g,tileLoadFunction:l.tileLoadFunction,tilePixelRatio:l.tilePixelRatio,tileUrlFunction:l.tileUrlFunction,url:l.url,urls:l.urls,wrapX:void 0===l.wrapX||l.wrapX,transition:l.transition,attributionsCollapsible:l.attributionsCollapsible,zDirection:l.zDirection}),this.gutter_=void 0!==l.gutter?l.gutter:0}getGutter(){return this.gutter_}};class a_ extends In{constructor(l){super(),this.id_=void 0,this.geometryName_="geometry",this.style_=null,this.styleFunction_=void 0,this.geometryChangeKey_=null,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),l&&("function"==typeof l.getSimplifiedGeometry?this.setGeometry(l):this.setProperties(l))}clone(){const l=new a_(this.hasProperties()?this.getProperties():null);l.setGeometryName(this.getGeometryName());const d=this.getGeometry();d&&l.setGeometry(d.clone());const g=this.getStyle();return g&&l.setStyle(g),l}getGeometry(){return this.get(this.geometryName_)}getId(){return this.id_}getGeometryName(){return this.geometryName_}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}handleGeometryChange_(){this.changed()}handleGeometryChanged_(){this.geometryChangeKey_&&(Y(this.geometryChangeKey_),this.geometryChangeKey_=null);const l=this.getGeometry();l&&(this.geometryChangeKey_=nn(l,"change",this.handleGeometryChange_,this)),this.changed()}setGeometry(l){this.set(this.geometryName_,l)}setStyle(l){this.style_=l,this.styleFunction_=l?function RD(m){if("function"==typeof m)return m;let l;return Array.isArray(m)?l=m:(kn("function"==typeof m.getZIndex,41),l=[m]),function(){return l}}(l):void 0,this.changed()}setId(l){this.id_=l,this.changed()}setGeometryName(l){this.removeChangeListener(this.geometryName_,this.handleGeometryChanged_),this.geometryName_=l,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),this.handleGeometryChanged_()}}const _w=a_;var l_=L(1414);const z0=class kC{constructor(l){this.rbush_=new l_(l),this.items_={}}insert(l,d){const g={minX:l[0],minY:l[1],maxX:l[2],maxY:l[3],value:d};this.rbush_.insert(g),this.items_[Wt(d)]=g}load(l,d){const g=new Array(d.length);for(let C=0,S=d.length;C<S;C++){const E=l[C],T=d[C],M={minX:E[0],minY:E[1],maxX:E[2],maxY:E[3],value:T};g[C]=M,this.items_[Wt(T)]=M}this.rbush_.load(g)}remove(l){const d=Wt(l),g=this.items_[d];return delete this.items_[d],null!==this.rbush_.remove(g)}update(l,d){const g=this.items_[Wt(d)];fs([g.minX,g.minY,g.maxX,g.maxY],l)||(this.remove(d),this.insert(l,d))}getAll(){return this.rbush_.all().map(function(d){return d.value})}getInExtent(l){return this.rbush_.search({minX:l[0],minY:l[1],maxX:l[2],maxY:l[3]}).map(function(C){return C.value})}forEach(l){return this.forEach_(this.getAll(),l)}forEachInExtent(l,d){return this.forEach_(this.getInExtent(l),d)}forEach_(l,d){let g;for(let C=0,S=l.length;C<S;C++)if(g=d(l[C]),g)return g;return g}isEmpty(){return Js(this.items_)}clear(){this.rbush_.clear(),this.items_={}}getExtent(l){const d=this.rbush_.toJSON();return ei(d.minX,d.minY,d.maxX,d.maxY,l)}concat(l){this.rbush_.load(l.rbush_.all());for(const d in l.items_)this.items_[d]=l.items_[d]}};function FC(m,l){return[[-1/0,-1/0,1/0,1/0]]}function c_(m,l){return function(d,g,C,S,E){const T=this;!function yw(m,l,d,g,C,S,E){const T=new XMLHttpRequest;T.open("GET","function"==typeof m?m(d,g,C):m,!0),"arraybuffer"==l.getType()&&(T.responseType="arraybuffer"),T.withCredentials=false,T.onload=function(M){if(!T.status||T.status>=200&&T.status<300){const N=l.getType();let z;"json"==N||"text"==N?z=T.responseText:"xml"==N?(z=T.responseXML,z||(z=(new DOMParser).parseFromString(T.responseText,"application/xml"))):"arraybuffer"==N&&(z=T.response),z?S(l.readFeatures(z,{extent:d,featureProjection:C}),l.readProjection(z)):E()}else E()},T.onerror=E,T.send()}(m,l,d,g,C,function(M,N){T.addFeatures(M),void 0!==S&&S(M)},E||Ca)}}class _s extends or{constructor(l,d,g){super(l),this.feature=d,this.features=g}}const G0=class sd extends Bp{constructor(l){super({attributions:(l=l||{}).attributions,interpolate:!0,projection:void 0,state:"ready",wrapX:void 0===l.wrapX||l.wrapX}),this.loader_=Ca,this.format_=l.format,this.overlaps_=void 0===l.overlaps||l.overlaps,this.url_=l.url,void 0!==l.loader?this.loader_=l.loader:void 0!==this.url_&&(kn(this.format_,7),this.loader_=c_(this.url_,this.format_)),this.strategy_=void 0!==l.strategy?l.strategy:FC;const d=void 0===l.useSpatialIndex||l.useSpatialIndex;let g,C;this.featuresRtree_=d?new z0:null,this.loadedExtentsRtree_=new z0,this.loadingExtentsCount_=0,this.nullGeometryFeatures_={},this.idIndex_={},this.uidIndex_={},this.featureChangeKeys_={},this.featuresCollection_=null,Array.isArray(l.features)?C=l.features:l.features&&(g=l.features,C=g.getArray()),!d&&void 0===g&&(g=new xo(C)),void 0!==C&&this.addFeaturesInternal(C),void 0!==g&&this.bindFeaturesCollection_(g)}addFeature(l){this.addFeatureInternal(l),this.changed()}addFeatureInternal(l){const d=Wt(l);if(!this.addToIndex_(d,l))return void(this.featuresCollection_&&this.featuresCollection_.remove(l));this.setupChangeEvents_(d,l);const g=l.getGeometry();if(g){const C=g.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(C,l)}else this.nullGeometryFeatures_[d]=l;this.dispatchEvent(new _s("addfeature",l))}setupChangeEvents_(l,d){this.featureChangeKeys_[l]=[nn(d,"change",this.handleFeatureChange_,this),nn(d,"propertychange",this.handleFeatureChange_,this)]}addToIndex_(l,d){let g=!0;const C=d.getId();return void 0!==C&&(C.toString()in this.idIndex_?g=!1:this.idIndex_[C.toString()]=d),g&&(kn(!(l in this.uidIndex_),30),this.uidIndex_[l]=d),g}addFeatures(l){this.addFeaturesInternal(l),this.changed()}addFeaturesInternal(l){const d=[],g=[],C=[];for(let S=0,E=l.length;S<E;S++){const T=l[S],M=Wt(T);this.addToIndex_(M,T)&&g.push(T)}for(let S=0,E=g.length;S<E;S++){const T=g[S],M=Wt(T);this.setupChangeEvents_(M,T);const N=T.getGeometry();if(N){const z=N.getExtent();d.push(z),C.push(T)}else this.nullGeometryFeatures_[M]=T}if(this.featuresRtree_&&this.featuresRtree_.load(d,C),this.hasListener("addfeature"))for(let S=0,E=g.length;S<E;S++)this.dispatchEvent(new _s("addfeature",g[S]))}bindFeaturesCollection_(l){let d=!1;this.addEventListener("addfeature",function(g){d||(d=!0,l.push(g.feature),d=!1)}),this.addEventListener("removefeature",function(g){d||(d=!0,l.remove(g.feature),d=!1)}),l.addEventListener("add",g=>{d||(d=!0,this.addFeature(g.element),d=!1)}),l.addEventListener("remove",g=>{d||(d=!0,this.removeFeature(g.element),d=!1)}),this.featuresCollection_=l}clear(l){if(l){for(const g in this.featureChangeKeys_)this.featureChangeKeys_[g].forEach(Y);this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_){this.featuresRtree_.forEach(C=>{this.removeFeatureInternal(C)});for(const C in this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[C])}this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};const d=new _s("clear");this.dispatchEvent(d),this.changed()}forEachFeature(l){if(this.featuresRtree_)return this.featuresRtree_.forEach(l);this.featuresCollection_&&this.featuresCollection_.forEach(l)}forEachFeatureAtCoordinateDirect(l,d){return this.forEachFeatureInExtent([l[0],l[1],l[0],l[1]],function(C){if(C.getGeometry().intersectsCoordinate(l))return d(C)})}forEachFeatureInExtent(l,d){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(l,d);this.featuresCollection_&&this.featuresCollection_.forEach(d)}forEachFeatureIntersectingExtent(l,d){return this.forEachFeatureInExtent(l,function(g){if(g.getGeometry().intersectsExtent(l)){const S=d(g);if(S)return S}})}getFeaturesCollection(){return this.featuresCollection_}getFeatures(){let l;return this.featuresCollection_?l=this.featuresCollection_.getArray().slice(0):this.featuresRtree_&&(l=this.featuresRtree_.getAll(),Js(this.nullGeometryFeatures_)||Jo(l,Object.values(this.nullGeometryFeatures_))),l}getFeaturesAtCoordinate(l){const d=[];return this.forEachFeatureAtCoordinateDirect(l,function(g){d.push(g)}),d}getFeaturesInExtent(l,d){if(this.featuresRtree_){if(!(d&&d.canWrapX()&&this.getWrapX()))return this.featuresRtree_.getInExtent(l);const C=function Kf(m,l){if(l.canWrapX()){const d=l.getExtent();if(!isFinite(m[0])||!isFinite(m[2]))return[[d[0],m[1],d[2],m[3]]];sh(m,l);const g=oi(d);if(oi(m)>g)return[[d[0],m[1],d[2],m[3]]];if(m[0]<d[0])return[[m[0]+g,m[1],d[2],m[3]],[d[0],m[1],m[2],m[3]]];if(m[2]>d[2])return[[m[0],m[1],d[2],m[3]],[d[0],m[1],m[2]-g,m[3]]]}return[m]}(l,d);return[].concat(...C.map(S=>this.featuresRtree_.getInExtent(S)))}return this.featuresCollection_?this.featuresCollection_.getArray().slice(0):[]}getClosestFeatureToCoordinate(l,d){const g=l[0],C=l[1];let S=null;const E=[NaN,NaN];let T=1/0;const M=[-1/0,-1/0,1/0,1/0];return d=d||Wl,this.featuresRtree_.forEachInExtent(M,function(N){if(d(N)){const z=N.getGeometry(),J=T;if(T=z.closestPointXY(g,C,E,T),T<J){S=N;const X=Math.sqrt(T);M[0]=g-X,M[1]=C-X,M[2]=g+X,M[3]=C+X}}}),S}getExtent(l){return this.featuresRtree_.getExtent(l)}getFeatureById(l){const d=this.idIndex_[l.toString()];return void 0!==d?d:null}getFeatureByUid(l){const d=this.uidIndex_[l];return void 0!==d?d:null}getFormat(){return this.format_}getOverlaps(){return this.overlaps_}getUrl(){return this.url_}handleFeatureChange_(l){const d=l.target,g=Wt(d),C=d.getGeometry();if(C){const E=C.getExtent();g in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[g],this.featuresRtree_&&this.featuresRtree_.insert(E,d)):this.featuresRtree_&&this.featuresRtree_.update(E,d)}else g in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(d),this.nullGeometryFeatures_[g]=d);const S=d.getId();if(void 0!==S){const E=S.toString();this.idIndex_[E]!==d&&(this.removeFromIdIndex_(d),this.idIndex_[E]=d)}else this.removeFromIdIndex_(d),this.uidIndex_[g]=d;this.changed(),this.dispatchEvent(new _s("changefeature",d))}hasFeature(l){const d=l.getId();return void 0!==d?d in this.idIndex_:Wt(l)in this.uidIndex_}isEmpty(){return this.featuresRtree_?this.featuresRtree_.isEmpty()&&Js(this.nullGeometryFeatures_):!this.featuresCollection_||0===this.featuresCollection_.getLength()}loadFeatures(l,d,g){const C=this.loadedExtentsRtree_,S=this.strategy_(l,d,g);for(let E=0,T=S.length;E<T;++E){const M=S[E];C.forEachInExtent(M,function(z){return Mn(z.extent,M)})||(++this.loadingExtentsCount_,this.dispatchEvent(new _s("featuresloadstart")),this.loader_.call(this,M,d,g,z=>{--this.loadingExtentsCount_,this.dispatchEvent(new _s("featuresloadend",void 0,z))},()=>{--this.loadingExtentsCount_,this.dispatchEvent(new _s("featuresloaderror"))}),C.insert(M,{extent:M.slice()}))}this.loading=!(this.loader_.length<4)&&this.loadingExtentsCount_>0}refresh(){this.clear(!0),this.loadedExtentsRtree_.clear(),super.refresh()}removeLoadedExtent(l){const d=this.loadedExtentsRtree_;let g;d.forEachInExtent(l,function(C){if(fs(C.extent,l))return g=C,!0}),g&&d.remove(g)}removeFeature(l){if(!l)return;const d=Wt(l);d in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[d]:this.featuresRtree_&&this.featuresRtree_.remove(l),this.removeFeatureInternal(l)&&this.changed()}removeFeatureInternal(l){const d=Wt(l),g=this.featureChangeKeys_[d];if(!g)return;g.forEach(Y),delete this.featureChangeKeys_[d];const C=l.getId();return void 0!==C&&delete this.idIndex_[C.toString()],delete this.uidIndex_[d],this.dispatchEvent(new _s("removefeature",l)),l}removeFromIdIndex_(l){let d=!1;for(const g in this.idIndex_)if(this.idIndex_[g]===l){delete this.idIndex_[g],d=!0;break}return d}setLoader(l){this.loader_=l}setUrl(l){kn(this.format_,7),this.url_=l,this.setLoader(c_(l,this.format_))}};class u_{constructor(l){this.opacity_=l.opacity,this.rotateWithView_=l.rotateWithView,this.rotation_=l.rotation,this.scale_=l.scale,this.scaleArray_=so(l.scale),this.displacement_=l.displacement,this.declutterMode_=l.declutterMode}clone(){const l=this.getScale();return new u_({opacity:this.getOpacity(),scale:Array.isArray(l)?l.slice():l,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getOpacity(){return this.opacity_}getRotateWithView(){return this.rotateWithView_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getDisplacement(){return this.displacement_}getDeclutterMode(){return this.declutterMode_}getAnchor(){return je()}getImage(l){return je()}getHitDetectionImage(){return je()}getPixelRatio(l){return 1}getImageState(){return je()}getImageSize(){return je()}getOrigin(){return je()}getSize(){return je()}setDisplacement(l){this.displacement_=l}setOpacity(l){this.opacity_=l}setRotateWithView(l){this.rotateWithView_=l}setRotation(l){this.rotation_=l}setScale(l){this.scale_=l,this.scaleArray_=so(l)}listenImageChange(l){je()}load(){je()}unlistenImageChange(l){je()}}const Fh=u_;function vs(m){return Array.isArray(m)?Jt(m):m}class Nh extends Fh{constructor(l){super({opacity:1,rotateWithView:void 0!==l.rotateWithView&&l.rotateWithView,rotation:void 0!==l.rotation?l.rotation:0,scale:void 0!==l.scale?l.scale:1,displacement:void 0!==l.displacement?l.displacement:[0,0],declutterMode:l.declutterMode}),this.canvas_=void 0,this.hitDetectionCanvas_=null,this.fill_=void 0!==l.fill?l.fill:null,this.origin_=[0,0],this.points_=l.points,this.radius_=void 0!==l.radius?l.radius:l.radius1,this.radius2_=l.radius2,this.angle_=void 0!==l.angle?l.angle:0,this.stroke_=void 0!==l.stroke?l.stroke:null,this.size_=null,this.renderOptions_=null,this.render()}clone(){const l=this.getScale(),d=new Nh({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(l)?l.slice():l,displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return d.setOpacity(this.getOpacity()),d}getAnchor(){const l=this.size_;if(!l)return null;const d=this.getDisplacement(),g=this.getScaleArray();return[l[0]/2-d[0]/g[0],l[1]/2+d[1]/g[1]]}getAngle(){return this.angle_}getFill(){return this.fill_}setFill(l){this.fill_=l,this.render()}getHitDetectionImage(){return this.hitDetectionCanvas_||this.createHitDetectionCanvas_(this.renderOptions_),this.hitDetectionCanvas_}getImage(l){let d=this.canvas_[l];if(!d){const g=this.renderOptions_,C=Yr(g.size*l,g.size*l);this.draw_(g,C,l),d=C.canvas,this.canvas_[l]=d}return d}getPixelRatio(l){return l}getImageSize(){return this.size_}getImageState(){return 2}getOrigin(){return this.origin_}getPoints(){return this.points_}getRadius(){return this.radius_}getRadius2(){return this.radius2_}getSize(){return this.size_}getStroke(){return this.stroke_}setStroke(l){this.stroke_=l,this.render()}listenImageChange(l){}load(){}unlistenImageChange(l){}calculateLineJoinSize_(l,d,g){if(0===d||this.points_===1/0||"bevel"!==l&&"miter"!==l)return d;let C=this.radius_,S=void 0===this.radius2_?C:this.radius2_;if(C<S){const Mt=C;C=S,S=Mt}const T=2*Math.PI/(void 0===this.radius2_?this.points_:2*this.points_),M=S*Math.sin(T),z=C-Math.sqrt(S*S-M*M),J=Math.sqrt(M*M+z*z),X=J/M;if("miter"===l&&X<=g)return X*d;const fe=d/2/X,ve=d/2*(z/J),Me=Math.sqrt((C+fe)*(C+fe)+ve*ve)-C;if(void 0===this.radius2_||"bevel"===l)return 2*Me;const Ne=C*Math.sin(T),Ye=S-Math.sqrt(C*C-Ne*Ne),gt=Math.sqrt(Ne*Ne+Ye*Ye)/Ne;return gt<=g?2*Math.max(Me,gt*d/2-S-C):2*Me}createRenderOptions(){let S,l=Wu,d=0,g=null,C=0,E=0;this.stroke_&&(S=this.stroke_.getColor(),null===S&&(S=$u),S=vs(S),E=this.stroke_.getWidth(),void 0===E&&(E=1),g=this.stroke_.getLineDash(),C=this.stroke_.getLineDashOffset(),l=this.stroke_.getLineJoin(),void 0===l&&(l=Wu),d=this.stroke_.getMiterLimit(),void 0===d&&(d=10));const T=this.calculateLineJoinSize_(l,E,d),M=Math.max(this.radius_,this.radius2_||0);return{strokeStyle:S,strokeWidth:E,size:Math.ceil(2*M+T),lineDash:g,lineDashOffset:C,lineJoin:l,miterLimit:d}}render(){this.renderOptions_=this.createRenderOptions();const l=this.renderOptions_.size;this.canvas_={},this.size_=[l,l]}draw_(l,d,g){if(d.scale(g,g),d.translate(l.size/2,l.size/2),this.createPath_(d),this.fill_){let C=this.fill_.getColor();null===C&&(C=ro),d.fillStyle=vs(C),d.fill()}this.stroke_&&(d.strokeStyle=l.strokeStyle,d.lineWidth=l.strokeWidth,l.lineDash&&(d.setLineDash(l.lineDash),d.lineDashOffset=l.lineDashOffset),d.lineJoin=l.lineJoin,d.miterLimit=l.miterLimit,d.stroke())}createHitDetectionCanvas_(l){if(this.fill_){let d=this.fill_.getColor(),g=0;if("string"==typeof d&&(d=Be(d)),null===d?g=1:Array.isArray(d)&&(g=4===d.length?d[3]:1),0===g){const C=Yr(l.size,l.size);this.hitDetectionCanvas_=C.canvas,this.drawHitDetectionCanvas_(l,C)}}this.hitDetectionCanvas_||(this.hitDetectionCanvas_=this.getImage(1))}createPath_(l){let d=this.points_;const g=this.radius_;if(d===1/0)l.arc(0,0,g,0,2*Math.PI);else{const C=void 0===this.radius2_?g:this.radius2_;void 0!==this.radius2_&&(d*=2);const S=this.angle_-Math.PI/2,E=2*Math.PI/d;for(let T=0;T<d;T++){const M=S+T*E,N=T%2==0?g:C;l.lineTo(N*Math.cos(M),N*Math.sin(M))}l.closePath()}}drawHitDetectionCanvas_(l,d){d.translate(l.size/2,l.size/2),this.createPath_(d),d.fillStyle=ro,d.fill(),this.stroke_&&(d.strokeStyle=l.strokeStyle,d.lineWidth=l.strokeWidth,l.lineDash&&(d.setLineDash(l.lineDash),d.lineDashOffset=l.lineDashOffset),d.lineJoin=l.lineJoin,d.miterLimit=l.miterLimit,d.stroke())}}const od=Nh;class Hp extends od{constructor(l){super({points:1/0,fill:(l=l||{radius:5}).fill,radius:l.radius,stroke:l.stroke,scale:void 0!==l.scale?l.scale:1,rotation:void 0!==l.rotation?l.rotation:0,rotateWithView:void 0!==l.rotateWithView&&l.rotateWithView,displacement:void 0!==l.displacement?l.displacement:[0,0],declutterMode:l.declutterMode})}clone(){const l=this.getScale(),d=new Hp({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(l)?l.slice():l,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return d.setOpacity(this.getOpacity()),d}setRadius(l){this.radius_=l,this.render()}}const Up=Hp;class Lh{constructor(l){this.color_=void 0!==(l=l||{}).color?l.color:null}clone(){const l=this.getColor();return new Lh({color:Array.isArray(l)?l.slice():l||void 0})}getColor(){return this.color_}setColor(l){this.color_=l}}const Vh=Lh;class jp{constructor(l){this.color_=void 0!==(l=l||{}).color?l.color:null,this.lineCap_=l.lineCap,this.lineDash_=void 0!==l.lineDash?l.lineDash:null,this.lineDashOffset_=l.lineDashOffset,this.lineJoin_=l.lineJoin,this.miterLimit_=l.miterLimit,this.width_=l.width}clone(){const l=this.getColor();return new jp({color:Array.isArray(l)?l.slice():l||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})}getColor(){return this.color_}getLineCap(){return this.lineCap_}getLineDash(){return this.lineDash_}getLineDashOffset(){return this.lineDashOffset_}getLineJoin(){return this.lineJoin_}getMiterLimit(){return this.miterLimit_}getWidth(){return this.width_}setColor(l){this.color_=l}setLineCap(l){this.lineCap_=l}setLineDash(l){this.lineDash_=l}setLineDashOffset(l){this.lineDashOffset_=l}setLineJoin(l){this.lineJoin_=l}setMiterLimit(l){this.miterLimit_=l}setWidth(l){this.width_=l}}const zp=jp;class uc{constructor(l){l=l||{},this.geometry_=null,this.geometryFunction_=W0,void 0!==l.geometry&&this.setGeometry(l.geometry),this.fill_=void 0!==l.fill?l.fill:null,this.image_=void 0!==l.image?l.image:null,this.renderer_=void 0!==l.renderer?l.renderer:null,this.hitDetectionRenderer_=void 0!==l.hitDetectionRenderer?l.hitDetectionRenderer:null,this.stroke_=void 0!==l.stroke?l.stroke:null,this.text_=void 0!==l.text?l.text:null,this.zIndex_=l.zIndex}clone(){let l=this.getGeometry();return l&&"object"==typeof l&&(l=l.clone()),new uc({geometry:l,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,renderer:this.getRenderer(),stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})}getRenderer(){return this.renderer_}setRenderer(l){this.renderer_=l}setHitDetectionRenderer(l){this.hitDetectionRenderer_=l}getHitDetectionRenderer(){return this.hitDetectionRenderer_}getGeometry(){return this.geometry_}getGeometryFunction(){return this.geometryFunction_}getFill(){return this.fill_}setFill(l){this.fill_=l}getImage(){return this.image_}setImage(l){this.image_=l}getStroke(){return this.stroke_}setStroke(l){this.stroke_=l}getText(){return this.text_}setText(l){this.text_=l}getZIndex(){return this.zIndex_}setGeometry(l){"function"==typeof l?this.geometryFunction_=l:"string"==typeof l?this.geometryFunction_=function(d){return d.get(l)}:l?void 0!==l&&(this.geometryFunction_=function(){return l}):this.geometryFunction_=W0,this.geometry_=l}setZIndex(l){this.zIndex_=l}}let d_=null;function Y0(m,l){if(!d_){const d=new Vh({color:"rgba(255,255,255,0.4)"}),g=new zp({color:"#3399CC",width:1.25});d_=[new uc({image:new Up({fill:d,stroke:g,radius:5}),fill:d,stroke:g})]}return d_}function W0(m){return m.getGeometry()}const Zp=uc;let Bh=null;class $0 extends $l{constructor(l,d,g,C,S,E){super(),this.hitDetectionImage_=null,this.image_=l,this.crossOrigin_=C,this.canvas_={},this.color_=E,this.unlisten_=null,this.imageState_=S,this.size_=g,this.src_=d}initializeImage_(){this.image_=new Image,null!==this.crossOrigin_&&(this.image_.crossOrigin=this.crossOrigin_)}isTainted_(){if(void 0===this.tainted_&&2===this.imageState_){Bh||(Bh=Yr(1,1,void 0,{willReadFrequently:!0})),Bh.drawImage(this.image_,0,0);try{Bh.getImageData(0,0,1,1),this.tainted_=!1}catch{Bh=null,this.tainted_=!0}}return!0===this.tainted_}dispatchChangeEvent_(){this.dispatchEvent("change")}handleImageError_(){this.imageState_=3,this.unlistenImage_(),this.dispatchChangeEvent_()}handleImageLoad_(){this.imageState_=2,this.size_?(this.image_.width=this.size_[0],this.image_.height=this.size_[1]):this.size_=[this.image_.width,this.image_.height],this.unlistenImage_(),this.dispatchChangeEvent_()}getImage(l){return this.image_||this.initializeImage_(),this.replaceColor_(l),this.canvas_[l]?this.canvas_[l]:this.image_}getPixelRatio(l){return this.replaceColor_(l),this.canvas_[l]?l:1}getImageState(){return this.imageState_}getHitDetectionImage(){if(this.image_||this.initializeImage_(),!this.hitDetectionImage_)if(this.isTainted_()){const l=this.size_[0],d=this.size_[1],g=Yr(l,d);g.fillRect(0,0,l,d),this.hitDetectionImage_=g.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_}getSize(){return this.size_}getSrc(){return this.src_}load(){if(0===this.imageState_){this.image_||this.initializeImage_(),this.imageState_=1;try{this.image_.src=this.src_}catch{this.handleImageError_()}this.unlisten_=fC(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this))}}replaceColor_(l){if(!this.color_||this.canvas_[l]||2!==this.imageState_)return;const d=this.image_,g=document.createElement("canvas");g.width=Math.ceil(d.width*l),g.height=Math.ceil(d.height*l);const C=g.getContext("2d");C.scale(l,l),C.drawImage(d,0,0),C.globalCompositeOperation="multiply",C.fillStyle=q(this.color_),C.fillRect(0,0,g.width/l,g.height/l),C.globalCompositeOperation="destination-in",C.drawImage(d,0,0),this.canvas_[l]=g}unlistenImage_(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}}function K0(m,l,d,g){return void 0!==d&&void 0!==g?[d/m,g/l]:void 0!==d?d/m:void 0!==g?g/l:1}class ys extends Fh{constructor(l){super({opacity:void 0!==(l=l||{}).opacity?l.opacity:1,rotation:void 0!==l.rotation?l.rotation:0,scale:void 0!==l.scale?l.scale:1,displacement:void 0!==l.displacement?l.displacement:[0,0],rotateWithView:void 0!==l.rotateWithView&&l.rotateWithView,declutterMode:l.declutterMode}),this.anchor_=void 0!==l.anchor?l.anchor:[.5,.5],this.normalizedAnchor_=null,this.anchorOrigin_=void 0!==l.anchorOrigin?l.anchorOrigin:"top-left",this.anchorXUnits_=void 0!==l.anchorXUnits?l.anchorXUnits:"fraction",this.anchorYUnits_=void 0!==l.anchorYUnits?l.anchorYUnits:"fraction",this.crossOrigin_=void 0!==l.crossOrigin?l.crossOrigin:null;const E=void 0!==l.img?l.img:null;this.imgSize_=l.imgSize;let T=l.src;kn(!(void 0!==T&&E),4),kn(!E||E&&this.imgSize_,5),(void 0===T||0===T.length)&&E&&(T=E.src||Wt(E)),kn(void 0!==T&&T.length>0,6),kn(!((void 0!==l.width||void 0!==l.height)&&void 0!==l.scale),69);const M=void 0!==l.src?0:2;if(this.color_=void 0!==l.color?Be(l.color):null,this.iconImage_=function q0(m,l,d,g,C,S){let E=Ao.get(l,g,S);return E||(E=new $0(m,l,d,g,C,S),Ao.set(l,g,S,E)),E}(E,T,void 0!==this.imgSize_?this.imgSize_:null,this.crossOrigin_,M,this.color_),this.offset_=void 0!==l.offset?l.offset:[0,0],this.offsetOrigin_=void 0!==l.offsetOrigin?l.offsetOrigin:"top-left",this.origin_=null,this.size_=void 0!==l.size?l.size:null,void 0!==l.width||void 0!==l.height){let N,z;if(l.size)[N,z]=l.size;else{const J=this.getImage(1);if(!(J instanceof HTMLCanvasElement||J.src&&J.complete)){this.initialOptions_=l;const X=()=>{if(this.unlistenImageChange(X),!this.initialOptions_)return;const fe=this.iconImage_.getSize();this.setScale(K0(fe[0],fe[1],l.width,l.height))};return void this.listenImageChange(X)}N=J.width,z=J.height}void 0!==N&&this.setScale(K0(N,z,l.width,l.height))}}clone(){let l,d,g;return this.initialOptions_?(d=this.initialOptions_.width,g=this.initialOptions_.height):(l=this.getScale(),l=Array.isArray(l)?l.slice():l),new ys({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,crossOrigin:this.crossOrigin_,imgSize:this.imgSize_,offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,opacity:this.getOpacity(),rotateWithView:this.getRotateWithView(),rotation:this.getRotation(),scale:l,width:d,height:g,size:null!==this.size_?this.size_.slice():void 0,src:this.getSrc(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getAnchor(){let l=this.normalizedAnchor_;if(!l){l=this.anchor_;const C=this.getSize();if("fraction"==this.anchorXUnits_||"fraction"==this.anchorYUnits_){if(!C)return null;l=this.anchor_.slice(),"fraction"==this.anchorXUnits_&&(l[0]*=C[0]),"fraction"==this.anchorYUnits_&&(l[1]*=C[1])}if("top-left"!=this.anchorOrigin_){if(!C)return null;l===this.anchor_&&(l=this.anchor_.slice()),("top-right"==this.anchorOrigin_||"bottom-right"==this.anchorOrigin_)&&(l[0]=-l[0]+C[0]),("bottom-left"==this.anchorOrigin_||"bottom-right"==this.anchorOrigin_)&&(l[1]=-l[1]+C[1])}this.normalizedAnchor_=l}const d=this.getDisplacement(),g=this.getScaleArray();return[l[0]-d[0]/g[0],l[1]+d[1]/g[1]]}setAnchor(l){this.anchor_=l,this.normalizedAnchor_=null}getColor(){return this.color_}getImage(l){return this.iconImage_.getImage(l)}getPixelRatio(l){return this.iconImage_.getPixelRatio(l)}getImageSize(){return this.iconImage_.getSize()}getImageState(){return this.iconImage_.getImageState()}getHitDetectionImage(){return this.iconImage_.getHitDetectionImage()}getOrigin(){if(this.origin_)return this.origin_;let l=this.offset_;if("top-left"!=this.offsetOrigin_){const d=this.getSize(),g=this.iconImage_.getSize();if(!d||!g)return null;l=l.slice(),("top-right"==this.offsetOrigin_||"bottom-right"==this.offsetOrigin_)&&(l[0]=g[0]-d[0]-l[0]),("bottom-left"==this.offsetOrigin_||"bottom-right"==this.offsetOrigin_)&&(l[1]=g[1]-d[1]-l[1])}return this.origin_=l,this.origin_}getSrc(){return this.iconImage_.getSrc()}getSize(){return this.size_?this.size_:this.iconImage_.getSize()}getWidth(){const l=this.getScaleArray();return this.size_?this.size_[0]*l[0]:2==this.iconImage_.getImageState()?this.iconImage_.getSize()[0]*l[0]:void 0}getHeight(){const l=this.getScaleArray();return this.size_?this.size_[1]*l[1]:2==this.iconImage_.getImageState()?this.iconImage_.getSize()[1]*l[1]:void 0}setScale(l){delete this.initialOptions_,super.setScale(l)}listenImageChange(l){this.iconImage_.addEventListener("change",l)}load(){this.iconImage_.load()}unlistenImageChange(l){this.iconImage_.removeEventListener("change",l)}}const h_=ys;class Q0{constructor(l){this.font_=(l=l||{}).font,this.rotation_=l.rotation,this.rotateWithView_=l.rotateWithView,this.scale_=l.scale,this.scaleArray_=so(void 0!==l.scale?l.scale:1),this.text_=l.text,this.textAlign_=l.textAlign,this.justify_=l.justify,this.repeat_=l.repeat,this.textBaseline_=l.textBaseline,this.fill_=void 0!==l.fill?l.fill:new Vh({color:"#333"}),this.maxAngle_=void 0!==l.maxAngle?l.maxAngle:Math.PI/4,this.placement_=void 0!==l.placement?l.placement:"point",this.overflow_=!!l.overflow,this.stroke_=void 0!==l.stroke?l.stroke:null,this.offsetX_=void 0!==l.offsetX?l.offsetX:0,this.offsetY_=void 0!==l.offsetY?l.offsetY:0,this.backgroundFill_=l.backgroundFill?l.backgroundFill:null,this.backgroundStroke_=l.backgroundStroke?l.backgroundStroke:null,this.padding_=void 0===l.padding?null:l.padding}clone(){const l=this.getScale();return new Q0({font:this.getFont(),placement:this.getPlacement(),repeat:this.getRepeat(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(l)?l.slice():l,text:this.getText(),textAlign:this.getTextAlign(),justify:this.getJustify(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0,padding:this.getPadding()||void 0})}getOverflow(){return this.overflow_}getFont(){return this.font_}getMaxAngle(){return this.maxAngle_}getPlacement(){return this.placement_}getRepeat(){return this.repeat_}getOffsetX(){return this.offsetX_}getOffsetY(){return this.offsetY_}getFill(){return this.fill_}getRotateWithView(){return this.rotateWithView_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getStroke(){return this.stroke_}getText(){return this.text_}getTextAlign(){return this.textAlign_}getJustify(){return this.justify_}getTextBaseline(){return this.textBaseline_}getBackgroundFill(){return this.backgroundFill_}getBackgroundStroke(){return this.backgroundStroke_}getPadding(){return this.padding_}setOverflow(l){this.overflow_=l}setFont(l){this.font_=l}setMaxAngle(l){this.maxAngle_=l}setOffsetX(l){this.offsetX_=l}setOffsetY(l){this.offsetY_=l}setPlacement(l){this.placement_=l}setRepeat(l){this.repeat_=l}setRotateWithView(l){this.rotateWithView_=l}setFill(l){this.fill_=l}setRotation(l){this.rotation_=l}setScale(l){this.scale_=l,this.scaleArray_=so(void 0!==l?l:1)}setStroke(l){this.stroke_=l}setText(l){this.text_=l}setTextAlign(l){this.textAlign_=l}setJustify(l){this.justify_=l}setTextBaseline(l){this.textBaseline_=l}setBackgroundFill(l){this.backgroundFill_=l}setBackgroundStroke(l){this.backgroundStroke_=l}setPadding(l){this.padding_=l}}const f_=Q0;function p_(m){return new Zp({fill:Hh(m,""),stroke:Uh(m,""),text:HC(m),image:J0(m)})}function Hh(m,l){const d=m[l+"fill-color"];if(d)return new Vh({color:d})}function Uh(m,l){const d=m[l+"stroke-width"],g=m[l+"stroke-color"];if(d||g)return new zp({width:d,color:g,lineCap:m[l+"stroke-line-cap"],lineJoin:m[l+"stroke-line-join"],lineDash:m[l+"stroke-line-dash"],lineDashOffset:m[l+"stroke-line-dash-offset"],miterLimit:m[l+"stroke-miter-limit"]})}function HC(m){const l=m["text-value"];return l?new f_({text:l,font:m["text-font"],maxAngle:m["text-max-angle"],offsetX:m["text-offset-x"],offsetY:m["text-offset-y"],overflow:m["text-overflow"],placement:m["text-placement"],repeat:m["text-repeat"],scale:m["text-scale"],rotateWithView:m["text-rotate-with-view"],rotation:m["text-rotation"],textAlign:m["text-align"],justify:m["text-justify"],textBaseline:m["text-baseline"],padding:m["text-padding"],fill:Hh(m,"text-"),backgroundFill:Hh(m,"text-background-"),stroke:Uh(m,"text-"),backgroundStroke:Uh(m,"text-background-")}):void 0}function J0(m){const l=m["icon-src"],d=m["icon-img"];if(l||d)return new h_({src:l,img:d,imgSize:m["icon-img-size"],anchor:m["icon-anchor"],anchorOrigin:m["icon-anchor-origin"],anchorXUnits:m["icon-anchor-x-units"],anchorYUnits:m["icon-anchor-y-units"],color:m["icon-color"],crossOrigin:m["icon-cross-origin"],offset:m["icon-offset"],displacement:m["icon-displacement"],opacity:m["icon-opacity"],scale:m["icon-scale"],width:m["icon-width"],height:m["icon-height"],rotation:m["icon-rotation"],rotateWithView:m["icon-rotate-with-view"],size:m["icon-size"],declutterMode:m["icon-declutter-mode"]});const g=m["shape-points"];if(g){const S="shape-";return new od({points:g,fill:Hh(m,S),stroke:Uh(m,S),radius:m["shape-radius"],radius1:m["shape-radius1"],radius2:m["shape-radius2"],angle:m["shape-angle"],displacement:m["shape-displacement"],rotation:m["shape-rotation"],rotateWithView:m["shape-rotate-with-view"],scale:m["shape-scale"],declutterMode:m["shape-declutter-mode"]})}const C=m["circle-radius"];if(C){const S="circle-";return new Up({radius:C,fill:Hh(m,S),stroke:Uh(m,S),displacement:m["circle-displacement"],scale:m["circle-scale"],rotation:m["circle-rotation"],rotateWithView:m["circle-rotate-with-view"],declutterMode:m["circle-declutter-mode"]})}}const g_=class ey extends Gc{constructor(l){l=l||{};const d=Object.assign({},l);delete d.style,delete d.renderBuffer,delete d.updateWhileAnimating,delete d.updateWhileInteracting,super(d),this.declutter_=void 0!==l.declutter&&l.declutter,this.renderBuffer_=void 0!==l.renderBuffer?l.renderBuffer:100,this.style_=null,this.styleFunction_=void 0,this.setStyle(l.style),this.updateWhileAnimating_=void 0!==l.updateWhileAnimating&&l.updateWhileAnimating,this.updateWhileInteracting_=void 0!==l.updateWhileInteracting&&l.updateWhileInteracting}getDeclutter(){return this.declutter_}getFeatures(l){return super.getFeatures(l)}getRenderBuffer(){return this.renderBuffer_}getRenderOrder(){return this.get("renderOrder")}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}getUpdateWhileAnimating(){return this.updateWhileAnimating_}getUpdateWhileInteracting(){return this.updateWhileInteracting_}renderDeclutter(l){l.declutterTree||(l.declutterTree=new l_(9)),this.getRenderer().renderDeclutter(l)}setRenderOrder(l){this.set("renderOrder",l)}setStyle(l){let d;if(void 0===l)d=Y0;else if(null===l)d=null;else if("function"==typeof l)d=l;else if(l instanceof Zp)d=l;else if(Array.isArray(l)){const g=l.length,C=new Array(g);for(let S=0;S<g;++S){const E=l[S];C[S]=E instanceof Zp?E:p_(E)}d=C}else d=p_(l);this.style_=d,this.styleFunction_=null===l?void 0:function VC(m){let l;if("function"==typeof m)l=m;else{let d;Array.isArray(m)?d=m:(kn("function"==typeof m.getZIndex,41),d=[m]),l=function(){return d}}return l}(this.style_),this.changed()}},jh={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},Gp=[jh.FILL],dc=[jh.STROKE],Jc=[jh.BEGIN_PATH],ty=[jh.CLOSE_PATH],en=jh,ny=class m_{drawCustom(l,d,g,C){}drawGeometry(l){}setStyle(l){}drawCircle(l,d){}drawFeature(l,d){}drawGeometryCollection(l,d){}drawLineString(l,d){}drawMultiLineString(l,d){}drawMultiPoint(l,d){}drawMultiPolygon(l,d){}drawPoint(l,d){}drawPolygon(l,d){}drawText(l,d){}setFillStrokeStyle(l,d){}setImageStyle(l,d){}setTextStyle(l,d){}},zh=class iy extends ny{constructor(l,d,g,C){super(),this.tolerance=l,this.maxExtent=d,this.pixelRatio=C,this.maxLineWidth=0,this.resolution=g,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_=null,this.bufferedMaxExtent_=null,this.instructions=[],this.coordinates=[],this.tmpCoordinate_=[],this.hitDetectionInstructions=[],this.state={}}applyPixelRatio(l){const d=this.pixelRatio;return 1==d?l:l.map(function(g){return g*d})}appendFlatPointCoordinates(l,d){const g=this.getBufferedMaxExtent(),C=this.tmpCoordinate_,S=this.coordinates;let E=S.length;for(let T=0,M=l.length;T<M;T+=d)C[0]=l[T],C[1]=l[T+1],cn(g,C)&&(S[E++]=C[0],S[E++]=C[1]);return E}appendFlatLineCoordinates(l,d,g,C,S,E){const T=this.coordinates;let M=T.length;const N=this.getBufferedMaxExtent();E&&(d+=C);let z=l[d],J=l[d+1];const X=this.tmpCoordinate_;let ve,be,Me,fe=!0;for(ve=d+C;ve<g;ve+=C)X[0]=l[ve],X[1]=l[ve+1],Me=wi(N,X),Me!==be?(fe&&(T[M++]=z,T[M++]=J,fe=!1),T[M++]=X[0],T[M++]=X[1]):Me===ee.INTERSECTING?(T[M++]=X[0],T[M++]=X[1],fe=!1):fe=!0,z=X[0],J=X[1],be=Me;return(S&&fe||ve===d+C)&&(T[M++]=z,T[M++]=J),M}drawCustomCoordinates_(l,d,g,C,S){for(let E=0,T=g.length;E<T;++E){const M=g[E],N=this.appendFlatLineCoordinates(l,d,M,C,!1,!1);S.push(N),d=M}return d}drawCustom(l,d,g,C){this.beginGeometry(l,d);const S=l.getType(),E=l.getStride(),T=this.coordinates.length;let M,N,z,J,X;switch(S){case"MultiPolygon":M=l.getOrientedFlatCoordinates(),J=[];const fe=l.getEndss();X=0;for(let ve=0,be=fe.length;ve<be;++ve){const Me=[];X=this.drawCustomCoordinates_(M,X,fe[ve],E,Me),J.push(Me)}this.instructions.push([en.CUSTOM,T,J,l,g,B1]),this.hitDetectionInstructions.push([en.CUSTOM,T,J,l,C||g,B1]);break;case"Polygon":case"MultiLineString":z=[],M="Polygon"==S?l.getOrientedFlatCoordinates():l.getFlatCoordinates(),X=this.drawCustomCoordinates_(M,0,l.getEnds(),E,z),this.instructions.push([en.CUSTOM,T,z,l,g,gp]),this.hitDetectionInstructions.push([en.CUSTOM,T,z,l,C||g,gp]);break;case"LineString":case"Circle":M=l.getFlatCoordinates(),N=this.appendFlatLineCoordinates(M,0,M.length,E,!1,!1),this.instructions.push([en.CUSTOM,T,N,l,g,Uc]),this.hitDetectionInstructions.push([en.CUSTOM,T,N,l,C||g,Uc]);break;case"MultiPoint":M=l.getFlatCoordinates(),N=this.appendFlatPointCoordinates(M,E),N>T&&(this.instructions.push([en.CUSTOM,T,N,l,g,Uc]),this.hitDetectionInstructions.push([en.CUSTOM,T,N,l,C||g,Uc]));break;case"Point":M=l.getFlatCoordinates(),this.coordinates.push(M[0],M[1]),N=this.coordinates.length,this.instructions.push([en.CUSTOM,T,N,l,g]),this.hitDetectionInstructions.push([en.CUSTOM,T,N,l,C||g])}this.endGeometry(d)}beginGeometry(l,d){this.beginGeometryInstruction1_=[en.BEGIN_GEOMETRY,d,0,l],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[en.BEGIN_GEOMETRY,d,0,l],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)}finish(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}}reverseHitDetectionInstructions(){const l=this.hitDetectionInstructions;let d;l.reverse();const g=l.length;let C,S,E=-1;for(d=0;d<g;++d)C=l[d],S=C[0],S==en.END_GEOMETRY?E=d:S==en.BEGIN_GEOMETRY&&(C[2]=d,rl(this.hitDetectionInstructions,E,d),E=-1)}setFillStrokeStyle(l,d){const g=this.state;if(l){const C=l.getColor();g.fillStyle=vs(C||ro)}else g.fillStyle=void 0;if(d){const C=d.getColor();g.strokeStyle=vs(C||$u);const S=d.getLineCap();g.lineCap=void 0!==S?S:wh;const E=d.getLineDash();g.lineDash=E?E.slice():Dh;const T=d.getLineDashOffset();g.lineDashOffset=T||0;const M=d.getLineJoin();g.lineJoin=void 0!==M?M:Wu;const N=d.getWidth();g.lineWidth=void 0!==N?N:1;const z=d.getMiterLimit();g.miterLimit=void 0!==z?z:10,g.lineWidth>this.maxLineWidth&&(this.maxLineWidth=g.lineWidth,this.bufferedMaxExtent_=null)}else g.strokeStyle=void 0,g.lineCap=void 0,g.lineDash=null,g.lineDashOffset=void 0,g.lineJoin=void 0,g.lineWidth=void 0,g.miterLimit=void 0}createFill(l){const d=l.fillStyle,g=[en.SET_FILL_STYLE,d];return"string"!=typeof d&&g.push(!0),g}applyStroke(l){this.instructions.push(this.createStroke(l))}createStroke(l){return[en.SET_STROKE_STYLE,l.strokeStyle,l.lineWidth*this.pixelRatio,l.lineCap,l.lineJoin,l.miterLimit,this.applyPixelRatio(l.lineDash),l.lineDashOffset*this.pixelRatio]}updateFillStyle(l,d){const g=l.fillStyle;("string"!=typeof g||l.currentFillStyle!=g)&&(void 0!==g&&this.instructions.push(d.call(this,l)),l.currentFillStyle=g)}updateStrokeStyle(l,d){const g=l.strokeStyle,C=l.lineCap,S=l.lineDash,E=l.lineDashOffset,T=l.lineJoin,M=l.lineWidth,N=l.miterLimit;(l.currentStrokeStyle!=g||l.currentLineCap!=C||S!=l.currentLineDash&&!Qs(l.currentLineDash,S)||l.currentLineDashOffset!=E||l.currentLineJoin!=T||l.currentLineWidth!=M||l.currentMiterLimit!=N)&&(void 0!==g&&d.call(this,l),l.currentStrokeStyle=g,l.currentLineCap=C,l.currentLineDash=S,l.currentLineDashOffset=E,l.currentLineJoin=T,l.currentLineWidth=M,l.currentMiterLimit=N)}endGeometry(l){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;const d=[en.END_GEOMETRY,l];this.instructions.push(d),this.hitDetectionInstructions.push(d)}getBufferedMaxExtent(){return!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=Gt(this.maxExtent),this.maxLineWidth>0)&&lt(this.bufferedMaxExtent_,this.resolution*(this.maxLineWidth+1)/2,this.bufferedMaxExtent_),this.bufferedMaxExtent_}},v_=class Sw extends zh{constructor(l,d,g,C){super(l,d,g,C)}drawFlatCoordinatess_(l,d,g,C){const S=this.state,E=void 0!==S.fillStyle,T=void 0!==S.strokeStyle,M=g.length;this.instructions.push(Jc),this.hitDetectionInstructions.push(Jc);for(let N=0;N<M;++N){const z=g[N],J=this.coordinates.length,X=this.appendFlatLineCoordinates(l,d,z,C,!0,!T),fe=[en.MOVE_TO_LINE_TO,J,X];this.instructions.push(fe),this.hitDetectionInstructions.push(fe),T&&(this.instructions.push(ty),this.hitDetectionInstructions.push(ty)),d=z}return E&&(this.instructions.push(Gp),this.hitDetectionInstructions.push(Gp)),T&&(this.instructions.push(dc),this.hitDetectionInstructions.push(dc)),d}drawCircle(l,d){const g=this.state;if(void 0===g.fillStyle&&void 0===g.strokeStyle)return;this.setFillStrokeStyles_(),this.beginGeometry(l,d),void 0!==g.fillStyle&&this.hitDetectionInstructions.push([en.SET_FILL_STYLE,ro]),void 0!==g.strokeStyle&&this.hitDetectionInstructions.push([en.SET_STROKE_STYLE,g.strokeStyle,g.lineWidth,g.lineCap,g.lineJoin,g.miterLimit,g.lineDash,g.lineDashOffset]);const E=l.getFlatCoordinates(),T=l.getStride(),M=this.coordinates.length;this.appendFlatLineCoordinates(E,0,E.length,T,!1,!1);const N=[en.CIRCLE,M];this.instructions.push(Jc,N),this.hitDetectionInstructions.push(Jc,N),void 0!==g.fillStyle&&(this.instructions.push(Gp),this.hitDetectionInstructions.push(Gp)),void 0!==g.strokeStyle&&(this.instructions.push(dc),this.hitDetectionInstructions.push(dc)),this.endGeometry(d)}drawPolygon(l,d){const g=this.state;if(void 0===g.fillStyle&&void 0===g.strokeStyle)return;this.setFillStrokeStyles_(),this.beginGeometry(l,d),void 0!==g.fillStyle&&this.hitDetectionInstructions.push([en.SET_FILL_STYLE,ro]),void 0!==g.strokeStyle&&this.hitDetectionInstructions.push([en.SET_STROKE_STYLE,g.strokeStyle,g.lineWidth,g.lineCap,g.lineJoin,g.miterLimit,g.lineDash,g.lineDashOffset]);const E=l.getEnds(),T=l.getOrientedFlatCoordinates(),M=l.getStride();this.drawFlatCoordinatess_(T,0,E,M),this.endGeometry(d)}drawMultiPolygon(l,d){const g=this.state;if(void 0===g.fillStyle&&void 0===g.strokeStyle)return;this.setFillStrokeStyles_(),this.beginGeometry(l,d),void 0!==g.fillStyle&&this.hitDetectionInstructions.push([en.SET_FILL_STYLE,ro]),void 0!==g.strokeStyle&&this.hitDetectionInstructions.push([en.SET_STROKE_STYLE,g.strokeStyle,g.lineWidth,g.lineCap,g.lineJoin,g.miterLimit,g.lineDash,g.lineDashOffset]);const E=l.getEndss(),T=l.getOrientedFlatCoordinates(),M=l.getStride();let N=0;for(let z=0,J=E.length;z<J;++z)N=this.drawFlatCoordinatess_(T,N,E[z],M);this.endGeometry(d)}finish(){this.reverseHitDetectionInstructions(),this.state=null;const l=this.tolerance;if(0!==l){const d=this.coordinates;for(let g=0,C=d.length;g<C;++g)d[g]=Hc(d[g],l)}return super.finish()}setFillStrokeStyles_(){const l=this.state;void 0!==l.fillStyle&&this.updateFillStyle(l,this.createFill),void 0!==l.strokeStyle&&this.updateStrokeStyle(l,this.applyStroke)}};function oy(m,l,d,g,C){const S=[];let E=d,T=0,M=l.slice(d,2);for(;T<m&&E+C<g;){const[N,z]=M.slice(-2),J=l[E+C],X=l[E+C+1],fe=Math.sqrt((J-N)*(J-N)+(X-z)*(X-z));if(T+=fe,T>=m){const ve=(m-T+fe)/fe,be=no(N,J,ve),Me=no(z,X,ve);M.push(be,Me),S.push(M),M=[be,Me],T==m&&(E+=C),T=0}else if(T<m)M.push(l[E+C],l[E+C+1]),E+=C;else{const ve=fe-T,be=no(N,J,ve/fe),Me=no(z,X,ve/fe);M.push(be,Me),S.push(M),M=[be,Me],T=0,E+=C}}return T>0&&S.push(M),S}function ay(m,l,d,g,C){let z,J,X,fe,ve,be,Me,Ne,We,Ye,S=d,E=d,T=0,M=0,N=d;for(J=d;J<g;J+=C){const Xe=l[J],gt=l[J+1];void 0!==ve&&(We=Xe-ve,Ye=gt-be,fe=Math.sqrt(We*We+Ye*Ye),void 0!==Me&&(M+=X,z=Math.acos((Me*We+Ne*Ye)/(X*fe)),z>m&&(M>T&&(T=M,S=N,E=J),M=0,N=J-C)),X=fe,Me=We,Ne=Ye),ve=Xe,be=gt}return M+=fe,M>T?[N,J]:[S,E]}const ad={left:0,end:0,center:.5,right:1,start:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1},UC={Circle:v_,Default:zh,Image:class ry extends zh{constructor(l,d,g,C){super(l,d,g,C),this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.anchorX_=void 0,this.anchorY_=void 0,this.height_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.scale_=void 0,this.width_=void 0,this.declutterMode_=void 0,this.declutterImageWithText_=void 0}drawPoint(l,d){if(!this.image_)return;this.beginGeometry(l,d);const g=l.getFlatCoordinates(),C=l.getStride(),S=this.coordinates.length,E=this.appendFlatPointCoordinates(g,C);this.instructions.push([en.DRAW_IMAGE,S,E,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([en.DRAW_IMAGE,S,E,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(d)}drawMultiPoint(l,d){if(!this.image_)return;this.beginGeometry(l,d);const g=l.getFlatCoordinates(),C=l.getStride(),S=this.coordinates.length,E=this.appendFlatPointCoordinates(g,C);this.instructions.push([en.DRAW_IMAGE,S,E,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([en.DRAW_IMAGE,S,E,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(d)}finish(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,super.finish()}setImageStyle(l,d){const g=l.getAnchor(),C=l.getSize(),S=l.getOrigin();this.imagePixelRatio_=l.getPixelRatio(this.pixelRatio),this.anchorX_=g[0],this.anchorY_=g[1],this.hitDetectionImage_=l.getHitDetectionImage(),this.image_=l.getImage(this.pixelRatio),this.height_=C[1],this.opacity_=l.getOpacity(),this.originX_=S[0],this.originY_=S[1],this.rotateWithView_=l.getRotateWithView(),this.rotation_=l.getRotation(),this.scale_=l.getScaleArray(),this.width_=C[0],this.declutterMode_=l.getDeclutterMode(),this.declutterImageWithText_=d}},LineString:class Yp extends zh{constructor(l,d,g,C){super(l,d,g,C)}drawFlatCoordinates_(l,d,g,C){const S=this.coordinates.length,E=this.appendFlatLineCoordinates(l,d,g,C,!1,!1),T=[en.MOVE_TO_LINE_TO,S,E];return this.instructions.push(T),this.hitDetectionInstructions.push(T),g}drawLineString(l,d){const g=this.state;if(void 0===g.strokeStyle||void 0===g.lineWidth)return;this.updateStrokeStyle(g,this.applyStroke),this.beginGeometry(l,d),this.hitDetectionInstructions.push([en.SET_STROKE_STYLE,g.strokeStyle,g.lineWidth,g.lineCap,g.lineJoin,g.miterLimit,Dh,0],Jc);const E=l.getFlatCoordinates(),T=l.getStride();this.drawFlatCoordinates_(E,0,E.length,T),this.hitDetectionInstructions.push(dc),this.endGeometry(d)}drawMultiLineString(l,d){const g=this.state;if(void 0===g.strokeStyle||void 0===g.lineWidth)return;this.updateStrokeStyle(g,this.applyStroke),this.beginGeometry(l,d),this.hitDetectionInstructions.push([en.SET_STROKE_STYLE,g.strokeStyle,g.lineWidth,g.lineCap,g.lineJoin,g.miterLimit,g.lineDash,g.lineDashOffset],Jc);const E=l.getEnds(),T=l.getFlatCoordinates(),M=l.getStride();let N=0;for(let z=0,J=E.length;z<J;++z)N=this.drawFlatCoordinates_(T,N,E[z],M);this.hitDetectionInstructions.push(dc),this.endGeometry(d)}finish(){const l=this.state;return null!=l.lastStroke&&l.lastStroke!=this.coordinates.length&&this.instructions.push(dc),this.reverseHitDetectionInstructions(),this.state=null,super.finish()}applyStroke(l){null!=l.lastStroke&&l.lastStroke!=this.coordinates.length&&(this.instructions.push(dc),l.lastStroke=this.coordinates.length),l.lastStroke=0,super.applyStroke(l),this.instructions.push(Jc)}},Polygon:v_,Text:class y_ extends zh{constructor(l,d,g,C){super(l,d,g,C),this.labels_=null,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=void 0,this.textRotation_=0,this.textFillState_=null,this.fillStates={},this.textStrokeState_=null,this.strokeStates={},this.textState_={},this.textStates={},this.textKey_="",this.fillKey_="",this.strokeKey_="",this.declutterImageWithText_=void 0}finish(){const l=super.finish();return l.textStates=this.textStates,l.fillStates=this.fillStates,l.strokeStates=this.strokeStates,l}drawText(l,d){const S=this.textState_;if(""===this.text_||!S||!this.textFillState_&&!this.textStrokeState_)return;const E=this.coordinates;let T=E.length;const M=l.getType();let N=null,z=l.getStride();if("line"!==S.placement||"LineString"!=M&&"MultiLineString"!=M&&"Polygon"!=M&&"MultiPolygon"!=M){let J=S.overflow?null:[];switch(M){case"Point":case"MultiPoint":N=l.getFlatCoordinates();break;case"LineString":N=l.getFlatMidpoint();break;case"Circle":N=l.getCenter();break;case"MultiLineString":N=l.getFlatMidpoints(),z=2;break;case"Polygon":N=l.getFlatInteriorPoint(),S.overflow||J.push(N[2]/this.resolution),z=3;break;case"MultiPolygon":const Me=l.getFlatInteriorPoints();N=[];for(let Ne=0,We=Me.length;Ne<We;Ne+=3)S.overflow||J.push(Me[Ne+2]/this.resolution),N.push(Me[Ne],Me[Ne+1]);if(0===N.length)return;z=2}const X=this.appendFlatPointCoordinates(N,z);if(X===T)return;if(J&&(X-T)/2!=N.length/z){let Me=T/2;J=J.filter((Ne,We)=>{const Ye=E[2*(Me+We)]===N[We*z]&&E[2*(Me+We)+1]===N[We*z+1];return Ye||--Me,Ye})}this.saveTextStates_(),(S.backgroundFill||S.backgroundStroke)&&(this.setFillStrokeStyle(S.backgroundFill,S.backgroundStroke),S.backgroundFill&&(this.updateFillStyle(this.state,this.createFill),this.hitDetectionInstructions.push(this.createFill(this.state))),S.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)))),this.beginGeometry(l,d);let fe=S.padding;if(fe!=Cl&&(S.scale[0]<0||S.scale[1]<0)){let Me=S.padding[0],Ne=S.padding[1],We=S.padding[2],Ye=S.padding[3];S.scale[0]<0&&(Ne=-Ne,Ye=-Ye),S.scale[1]<0&&(Me=-Me,We=-We),fe=[Me,Ne,We,Ye]}const ve=this.pixelRatio;this.instructions.push([en.DRAW_IMAGE,T,X,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,1],NaN,void 0,this.declutterImageWithText_,fe==Cl?Cl:fe.map(function(Me){return Me*ve}),!!S.backgroundFill,!!S.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,J]);const be=1/ve;this.hitDetectionInstructions.push([en.DRAW_IMAGE,T,X,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[be,be],NaN,void 0,this.declutterImageWithText_,fe,!!S.backgroundFill,!!S.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,J]),this.endGeometry(d)}else{if(!vr(this.getBufferedMaxExtent(),l.getExtent()))return;let J;if(N=l.getFlatCoordinates(),"LineString"==M)J=[N.length];else if("MultiLineString"==M)J=l.getEnds();else if("Polygon"==M)J=l.getEnds().slice(0,1);else if("MultiPolygon"==M){const be=l.getEndss();J=[];for(let Me=0,Ne=be.length;Me<Ne;++Me)J.push(be[Me][0])}this.beginGeometry(l,d);const X=S.repeat,fe=X?void 0:S.textAlign;let ve=0;for(let be=0,Me=J.length;be<Me;++be){let Ne;Ne=X?oy(X*this.resolution,N,ve,J[be],z):[N.slice(ve,J[be])];for(let We=0,Ye=Ne.length;We<Ye;++We){const Xe=Ne[We];let gt=0,Mt=Xe.length;if(null==fe){const Ot=ay(S.maxAngle,Xe,0,Xe.length,2);gt=Ot[0],Mt=Ot[1]}for(let Ot=gt;Ot<Mt;Ot+=z)E.push(Xe[Ot],Xe[Ot+1]);const Rt=E.length;ve=J[be],this.drawChars_(T,Rt),T=Rt}}this.endGeometry(d)}}saveTextStates_(){const l=this.textStrokeState_,d=this.textState_,g=this.textFillState_,C=this.strokeKey_;l&&(C in this.strokeStates||(this.strokeStates[C]={strokeStyle:l.strokeStyle,lineCap:l.lineCap,lineDashOffset:l.lineDashOffset,lineWidth:l.lineWidth,lineJoin:l.lineJoin,miterLimit:l.miterLimit,lineDash:l.lineDash}));const S=this.textKey_;S in this.textStates||(this.textStates[S]={font:d.font,textAlign:d.textAlign||qu,justify:d.justify,textBaseline:d.textBaseline||yl,scale:d.scale});const E=this.fillKey_;g&&(E in this.fillStates||(this.fillStates[E]={fillStyle:g.fillStyle}))}drawChars_(l,d){const g=this.textStrokeState_,C=this.textState_,S=this.strokeKey_,E=this.textKey_,T=this.fillKey_;this.saveTextStates_();const M=this.pixelRatio,N=ad[C.textBaseline],z=this.textOffsetY_*M,J=this.text_,X=g?g.lineWidth*Math.abs(C.scale[0])/2:0;this.instructions.push([en.DRAW_CHARS,l,d,N,C.overflow,T,C.maxAngle,M,z,S,X*M,J,E,1]),this.hitDetectionInstructions.push([en.DRAW_CHARS,l,d,N,C.overflow,T,C.maxAngle,1,z,S,X,J,E,1/M])}setTextStyle(l,d){let g,C,S;if(l){const E=l.getFill();E?(C=this.textFillState_,C||(C={},this.textFillState_=C),C.fillStyle=vs(E.getColor()||ro)):(C=null,this.textFillState_=C);const T=l.getStroke();if(T){S=this.textStrokeState_,S||(S={},this.textStrokeState_=S);const ve=T.getLineDash(),be=T.getLineDashOffset(),Me=T.getWidth(),Ne=T.getMiterLimit();S.lineCap=T.getLineCap()||wh,S.lineDash=ve?ve.slice():Dh,S.lineDashOffset=void 0===be?0:be,S.lineJoin=T.getLineJoin()||Wu,S.lineWidth=void 0===Me?1:Me,S.miterLimit=void 0===Ne?10:Ne,S.strokeStyle=vs(T.getColor()||$u)}else S=null,this.textStrokeState_=S;g=this.textState_;const M=l.getFont()||Sp;Fm(M);const N=l.getScaleArray();g.overflow=l.getOverflow(),g.font=M,g.maxAngle=l.getMaxAngle(),g.placement=l.getPlacement(),g.textAlign=l.getTextAlign(),g.repeat=l.getRepeat(),g.justify=l.getJustify(),g.textBaseline=l.getTextBaseline()||yl,g.backgroundFill=l.getBackgroundFill(),g.backgroundStroke=l.getBackgroundStroke(),g.padding=l.getPadding()||Cl,g.scale=void 0===N?[1,1]:N;const z=l.getOffsetX(),J=l.getOffsetY(),X=l.getRotateWithView(),fe=l.getRotation();this.text_=l.getText()||"",this.textOffsetX_=void 0===z?0:z,this.textOffsetY_=void 0===J?0:J,this.textRotateWithView_=void 0!==X&&X,this.textRotation_=void 0===fe?0:fe,this.strokeKey_=S?("string"==typeof S.strokeStyle?S.strokeStyle:Wt(S.strokeStyle))+S.lineCap+S.lineDashOffset+"|"+S.lineWidth+S.lineJoin+S.miterLimit+"["+S.lineDash.join()+"]":"",this.textKey_=g.font+g.scale+(g.textAlign||"?")+(g.repeat||"?")+(g.justify||"?")+(g.textBaseline||"?"),this.fillKey_=C?"string"==typeof C.fillStyle?C.fillStyle:"|"+Wt(C.fillStyle):""}else this.text_="";this.declutterImageWithText_=d}}},Wp=class jC{constructor(l,d,g,C){this.tolerance_=l,this.maxExtent_=d,this.pixelRatio_=C,this.resolution_=g,this.buildersByZIndex_={}}finish(){const l={};for(const d in this.buildersByZIndex_){l[d]=l[d]||{};const g=this.buildersByZIndex_[d];for(const C in g){const S=g[C].finish();l[d][C]=S}}return l}getBuilder(l,d){const g=void 0!==l?l.toString():"0";let C=this.buildersByZIndex_[g];void 0===C&&(C={},this.buildersByZIndex_[g]=C);let S=C[d];return void 0===S&&(S=new(0,UC[d])(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),C[d]=S),S}};function zC(m,l,d,g,C,S,E,T,M,N,z,J){let X=m[l],fe=m[l+1],ve=0,be=0,Me=0,Ne=0;function We(){ve=X,be=fe,X=m[l+=g],fe=m[l+1],Ne+=Me,Me=Math.sqrt((X-ve)*(X-ve)+(fe-be)*(fe-be))}do{We()}while(l<d-g&&Ne+Me<S);let Ye=0===Me?0:(S-Ne)/Me;const Xe=no(ve,X,Ye),gt=no(be,fe,Ye),Mt=l-g,Rt=Ne,Ot=S+T*M(N,C,z);for(;l<d-g&&Ne+Me<Ot;)We();Ye=0===Me?0:(Ot-Ne)/Me;const qt=no(ve,X,Ye),rn=no(be,fe,Ye);let Bn;if(J){const ct=[Xe,gt,qt,rn];dp(ct,0,4,2,J,ct,ct),Bn=ct[0]>ct[2]}else Bn=Xe>qt;const He=Math.PI,mn=[],fi=Mt+g===l;let wn;if(Me=0,Ne=Rt,X=m[l=Mt],fe=m[l+1],fi)return We(),wn=Math.atan2(fe-be,X-ve),Bn&&(wn+=wn>0?-He:He),mn[0]=[(qt+Xe)/2,(rn+gt)/2,(Ot-S)/2,wn,C],mn;for(let ct=0,dt=(C=C.replace(/\n/g," ")).length;ct<dt;){We();let Ct=Math.atan2(fe-be,X-ve);if(Bn&&(Ct+=Ct>0?-He:He),void 0!==wn){let sn=Ct-wn;if(sn+=sn>He?-2*He:sn<-He?2*He:0,Math.abs(sn)>E)return null}wn=Ct;const Ut=ct;let vn=0;for(;ct<dt;++ct){const Zn=T*M(N,C[Bn?dt-ct-1:ct],z);if(l+g<d&&Ne+Me<S+vn+Zn/2)break;vn+=Zn}if(ct===Ut)continue;const ti=Bn?C.substring(dt-Ut,dt-ct):C.substring(Ut,ct);Ye=0===Me?0:(S+vn/2-Ne)/Me;const Dt=no(ve,X,Ye),Fi=no(be,fe,Ye);mn.push([Dt,Fi,vn/2,Ct,ti]),S+=vn}return mn}function ly(m,l,d,g){let C=m[l],S=m[l+1],E=0;for(let T=l+g;T<d;T+=g){const M=m[T],N=m[T+1];E+=Math.sqrt((M-C)*(M-C)+(N-S)*(N-S)),C=M,S=N}return E}const Zh=[1/0,1/0,-1/0,-1/0],wl=[],Dl=[],No=[],Lo=[];function Gh(m){return m[3].declutterBox}const Dw=new RegExp("["+String.fromCharCode(1425)+"-"+String.fromCharCode(2303)+String.fromCharCode(64285)+"-"+String.fromCharCode(65023)+String.fromCharCode(65136)+"-"+String.fromCharCode(65276)+String.fromCharCode(67584)+"-"+String.fromCharCode(69631)+String.fromCharCode(124928)+"-"+String.fromCharCode(126975)+"]");function cy(m,l){return("start"===l||"end"===l)&&!Dw.test(m)&&(l="start"===l?"left":"right"),ad[l]}function uy(m,l,d){return d>0&&m.push("\n",""),m.push(l,""),m}const ZC=class dy{constructor(l,d,g,C){this.overlaps=g,this.pixelRatio=d,this.resolution=l,this.instructions=C.instructions,this.coordinates=C.coordinates,this.coordinateCache_={},this.renderedTransform_=[1,0,0,1,0,0],this.hitDetectionInstructions=C.hitDetectionInstructions,this.pixelCoordinates_=null,this.viewRotation_=0,this.fillStates=C.fillStates||{},this.strokeStates=C.strokeStates||{},this.textStates=C.textStates||{},this.widths_={},this.labels_={}}createLabel(l,d,g,C){const S=l+d+g+C;if(this.labels_[S])return this.labels_[S];const E=C?this.strokeStates[C]:null,T=g?this.fillStates[g]:null,M=this.textStates[d],N=this.pixelRatio,z=[M.scale[0]*N,M.scale[1]*N],J=Array.isArray(l),X=M.justify?ad[M.justify]:cy(Array.isArray(l)?l[0]:l,M.textAlign||qu),fe=C&&E.lineWidth?E.lineWidth:0,ve=J?l:l.split("\n").reduce(uy,[]),{width:be,height:Me,widths:Ne,heights:We,lineWidths:Ye}=function f0(m,l){const d=[],g=[],C=[];let S=0,E=0,T=0,M=0;for(let N=0,z=l.length;N<=z;N+=2){const J=l[N];if("\n"===J||N===z){S=Math.max(S,E),C.push(E),E=0,T+=M;continue}const X=l[N+1]||m.font,fe=Wc(X,J);d.push(fe),E+=fe;const ve=K1(X);g.push(ve),M=Math.max(M,ve)}return{width:S,height:T,widths:d,heights:g,lineWidths:C}}(M,ve),Xe=be+fe,gt=[],Mt=(Xe+2)*z[0],Rt=(Me+fe)*z[1],Ot={width:Mt<0?Math.floor(Mt):Math.ceil(Mt),height:Rt<0?Math.floor(Rt):Math.ceil(Rt),contextInstructions:gt};(1!=z[0]||1!=z[1])&&gt.push("scale",z),C&&(gt.push("strokeStyle",E.strokeStyle),gt.push("lineWidth",fe),gt.push("lineCap",E.lineCap),gt.push("lineJoin",E.lineJoin),gt.push("miterLimit",E.miterLimit),gt.push("setLineDash",[E.lineDash]),gt.push("lineDashOffset",E.lineDashOffset)),g&&gt.push("fillStyle",T.fillStyle),gt.push("textBaseline","middle"),gt.push("textAlign","center");const qt=.5-X;let rn=X*Xe+qt*fe;const Bn=[],He=[];let dt,mn=0,fi=0,wn=0,ct=0;for(let Ct=0,Ut=ve.length;Ct<Ut;Ct+=2){const vn=ve[Ct];if("\n"===vn){fi+=mn,mn=0,rn=X*Xe+qt*fe,++ct;continue}const ti=ve[Ct+1]||M.font;ti!==dt&&(C&&Bn.push("font",ti),g&&He.push("font",ti),dt=ti),mn=Math.max(mn,We[wn]);const Dt=[vn,rn+qt*Ne[wn]+X*(Ne[wn]-Ye[ct]),.5*(fe+mn)+fi];rn+=Ne[wn],C&&Bn.push("strokeText",Dt),g&&He.push("fillText",Dt),++wn}return Array.prototype.push.apply(gt,Bn),Array.prototype.push.apply(gt,He),this.labels_[S]=Ot,Ot}replayTextBackground_(l,d,g,C,S,E,T){l.beginPath(),l.moveTo.apply(l,d),l.lineTo.apply(l,g),l.lineTo.apply(l,C),l.lineTo.apply(l,S),l.lineTo.apply(l,d),E&&(this.alignFill_=E[2],this.fill_(l)),T&&(this.setStrokeStyle_(l,T),l.stroke())}calculateImageOrLabelDimensions_(l,d,g,C,S,E,T,M,N,z,J,X,fe,ve,be,Me){let Ne=g-(T*=X[0]),We=C-(M*=X[1]);const Ye=S+N>l?l-N:S,Xe=E+z>d?d-z:E,gt=ve[3]+Ye*X[0]+ve[1],Mt=ve[0]+Xe*X[1]+ve[2],Rt=Ne-ve[3],Ot=We-ve[0];let qt;return(be||0!==J)&&(wl[0]=Rt,Lo[0]=Rt,wl[1]=Ot,Dl[1]=Ot,Dl[0]=Rt+gt,No[0]=Dl[0],No[1]=Ot+Mt,Lo[1]=No[1]),0!==J?(qt=hs([1,0,0,1,0,0],g,C,1,1,J,-g,-C),Bi(qt,wl),Bi(qt,Dl),Bi(qt,No),Bi(qt,Lo),ei(Math.min(wl[0],Dl[0],No[0],Lo[0]),Math.min(wl[1],Dl[1],No[1],Lo[1]),Math.max(wl[0],Dl[0],No[0],Lo[0]),Math.max(wl[1],Dl[1],No[1],Lo[1]),Zh)):ei(Math.min(Rt,Rt+gt),Math.min(Ot,Ot+Mt),Math.max(Rt,Rt+gt),Math.max(Ot,Ot+Mt),Zh),fe&&(Ne=Math.round(Ne),We=Math.round(We)),{drawImageX:Ne,drawImageY:We,drawImageW:Ye,drawImageH:Xe,originX:N,originY:z,declutterBox:{minX:Zh[0],minY:Zh[1],maxX:Zh[2],maxY:Zh[3],value:Me},canvasTransform:qt,scale:X}}replayImageOrLabel_(l,d,g,C,S,E,T){const N=C.declutterBox,z=l.canvas,J=T?T[2]*C.scale[0]/2:0;return N.minX-J<=z.width/d&&N.maxX+J>=0&&N.minY-J<=z.height/d&&N.maxY+J>=0&&(!(!E&&!T)&&this.replayTextBackground_(l,wl,Dl,No,Lo,E,T),function p0(m,l,d,g,C,S,E,T,M,N,z){m.save(),1!==d&&(m.globalAlpha*=d),l&&m.setTransform.apply(m,l),g.contextInstructions?(m.translate(M,N),m.scale(z[0],z[1]),function g0(m,l){const d=m.contextInstructions;for(let g=0,C=d.length;g<C;g+=2)Array.isArray(d[g+1])?l[d[g]].apply(l,d[g+1]):l[d[g]]=d[g+1]}(g,m)):z[0]<0||z[1]<0?(m.translate(M,N),m.scale(z[0],z[1]),m.drawImage(g,C,S,E,T,0,0,E,T)):m.drawImage(g,C,S,E,T,M,N,E*z[0],T*z[1]),m.restore()}(l,C.canvasTransform,S,g,C.originX,C.originY,C.drawImageW,C.drawImageH,C.drawImageX,C.drawImageY,C.scale)),!0}fill_(l){if(this.alignFill_){const d=Bi(this.renderedTransform_,[0,0]),g=512*this.pixelRatio;l.save(),l.translate(d[0]%g,d[1]%g),l.rotate(this.viewRotation_)}l.fill(),this.alignFill_&&l.restore()}setStrokeStyle_(l,d){l.strokeStyle=d[1],l.lineWidth=d[2],l.lineCap=d[3],l.lineJoin=d[4],l.miterLimit=d[5],l.lineDashOffset=d[7],l.setLineDash(d[6])}drawLabelWithPointPlacement_(l,d,g,C){const S=this.textStates[d],E=this.createLabel(l,d,C,g),T=this.strokeStates[g],M=this.pixelRatio,N=cy(Array.isArray(l)?l[0]:l,S.textAlign||qu),z=ad[S.textBaseline||yl],J=T&&T.lineWidth?T.lineWidth:0;return{label:E,anchorX:N*(E.width/M-2*S.scale[0])+2*(.5-N)*J,anchorY:z*E.height/M+2*(.5-z)*J}}execute_(l,d,g,C,S,E,T,M){let N;this.pixelCoordinates_&&Qs(g,this.renderedTransform_)?N=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),N=oc(this.coordinates,0,this.coordinates.length,2,g,this.pixelCoordinates_),function Du(m,l){m[0]=l[0],m[1]=l[1],m[2]=l[2],m[3]=l[3],m[4]=l[4],m[5]=l[5]}(this.renderedTransform_,g));let z=0;const J=C.length;let fe,ve,be,Me,Ne,We,Ye,Xe,gt,Mt,Rt,Ot,X=0,qt=0,rn=0,Bn=null,He=null;const mn=this.coordinateCache_,fi=this.viewRotation_,wn=Math.round(1e12*Math.atan2(-g[1],g[0]))/1e12,ct={context:l,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:fi},dt=this.instructions!=C||this.overlaps?0:200;let Ct,Ut,vn,ti;for(;z<J;){const Dt=C[z];switch(Dt[0]){case en.BEGIN_GEOMETRY:Ct=Dt[1],ti=Dt[3],Ct.getGeometry()?void 0===T||vr(T,ti.getExtent())?++z:z=Dt[2]+1:z=Dt[2];break;case en.BEGIN_PATH:qt>dt&&(this.fill_(l),qt=0),rn>dt&&(l.stroke(),rn=0),!qt&&!rn&&(l.beginPath(),Me=NaN,Ne=NaN),++z;break;case en.CIRCLE:X=Dt[1];const sn=N[X],Zn=N[X+1],xi=N[X+2]-sn,er=N[X+3]-Zn,jo=Math.sqrt(xi*xi+er*er);l.moveTo(sn+jo,Zn),l.arc(sn,Zn,jo,0,2*Math.PI,!0),++z;break;case en.CLOSE_PATH:l.closePath(),++z;break;case en.CUSTOM:X=Dt[1],fe=Dt[2];const kf=Dt[4],Zd=6==Dt.length?Dt[5]:void 0;ct.geometry=Dt[3],ct.feature=Ct,z in mn||(mn[z]=[]);const Fl=mn[z];Zd?Zd(N,X,fe,2,Fl):(Fl[0]=N[X],Fl[1]=N[X+1],Fl.length=2),kf(Fl,ct),++z;break;case en.DRAW_IMAGE:X=Dt[1],fe=Dt[2],Xe=Dt[3],ve=Dt[4],be=Dt[5];let Hn=Dt[6];const Wa=Dt[7],mu=Dt[8],Ff=Dt[9],E1=Dt[10];let _u=Dt[11];const x1=Dt[12];let bs=Dt[13];const ha=Dt[14],$a=Dt[15];if(!Xe&&Dt.length>=20){gt=Dt[19],Mt=Dt[20],Rt=Dt[21],Ot=Dt[22];const as=this.drawLabelWithPointPlacement_(gt,Mt,Rt,Ot);Xe=as.label,Dt[3]=Xe,ve=(as.anchorX-Dt[23])*this.pixelRatio,Dt[4]=ve,be=(as.anchorY-Dt[24])*this.pixelRatio,Dt[5]=be,Hn=Xe.height,Dt[6]=Hn,bs=Xe.width,Dt[13]=bs}let xc,Gg,Nf,vu;Dt.length>25&&(xc=Dt[25]),Dt.length>17?(Gg=Dt[16],Nf=Dt[17],vu=Dt[18]):(Gg=Cl,Nf=!1,vu=!1),E1&&wn?_u+=fi:!E1&&!wn&&(_u-=fi);let Gd=0;for(;X<fe;X+=2){if(xc&&xc[Gd++]<bs/this.pixelRatio)continue;const as=this.calculateImageOrLabelDimensions_(Xe.width,Xe.height,N[X],N[X+1],bs,Hn,ve,be,mu,Ff,_u,x1,S,Gg,Nf||vu,Ct),$d=[l,d,Xe,as,Wa,Nf?Bn:null,vu?He:null];if(M){if("none"===ha)continue;if("obstacle"===ha){M.insert(as.declutterBox);continue}{let qa,wr;if($a){const ls=fe-X;if(!$a[ls]){$a[ls]=$d;continue}if(qa=$a[ls],delete $a[ls],wr=Gh(qa),M.collides(wr))continue}if(M.collides(as.declutterBox))continue;qa&&(M.insert(wr),this.replayImageOrLabel_.apply(this,qa)),M.insert(as.declutterBox)}}this.replayImageOrLabel_.apply(this,$d)}++z;break;case en.DRAW_CHARS:const Yg=Dt[1],qr=Dt[2],Lf=Dt[3],mS=Dt[4];Ot=Dt[5];const Us=Dt[6],Yd=Dt[7],_S=Dt[8];Rt=Dt[9];const mv=Dt[10];gt=Dt[11],Mt=Dt[12];const vS=[Dt[13],Dt[13]],Wd=this.textStates[Mt],Vf=Wd.font,Bf=[Wd.scale[0]*Yd,Wd.scale[1]*Yd];let Hf;Vf in this.widths_?Hf=this.widths_[Vf]:(Hf={},this.widths_[Vf]=Hf);const T1=ly(N,Yg,qr,2),_v=Math.abs(Bf[0])*wp(Vf,gt,Hf);if(mS||_v<=T1){const qa=zC(N,Yg,qr,2,gt,(T1-_v)*ad[this.textStates[Mt].textAlign],Us,Math.abs(Bf[0]),wp,Vf,Hf,wn?0:this.viewRotation_);e:if(qa){const wr=[];let ls,qd,Uf,ci,js;if(Rt)for(ls=0,qd=qa.length;ls<qd;++ls){js=qa[ls],Uf=js[4],ci=this.createLabel(Uf,Mt,"",Rt),ve=js[2]+(Bf[0]<0?-mv:mv),be=Lf*ci.height+2*(.5-Lf)*mv*Bf[1]/Bf[0]-_S;const Ss=this.calculateImageOrLabelDimensions_(ci.width,ci.height,js[0],js[1],ci.width,ci.height,ve,be,0,0,js[3],vS,!1,Cl,!1,Ct);if(M&&M.collides(Ss.declutterBox))break e;wr.push([l,d,ci,Ss,1,null,null])}if(Ot)for(ls=0,qd=qa.length;ls<qd;++ls){js=qa[ls],Uf=js[4],ci=this.createLabel(Uf,Mt,Ot,""),ve=js[2],be=Lf*ci.height-_S;const Ss=this.calculateImageOrLabelDimensions_(ci.width,ci.height,js[0],js[1],ci.width,ci.height,ve,be,0,0,js[3],vS,!1,Cl,!1,Ct);if(M&&M.collides(Ss.declutterBox))break e;wr.push([l,d,ci,Ss,1,null,null])}M&&M.load(wr.map(Gh));for(let Ss=0,Nl=wr.length;Ss<Nl;++Ss)this.replayImageOrLabel_.apply(this,wr[Ss])}}++z;break;case en.END_GEOMETRY:if(void 0!==E){Ct=Dt[1];const as=E(Ct,ti);if(as)return as}++z;break;case en.FILL:dt?qt++:this.fill_(l),++z;break;case en.MOVE_TO_LINE_TO:for(X=Dt[1],fe=Dt[2],Ut=N[X],vn=N[X+1],We=Ut+.5|0,Ye=vn+.5|0,(We!==Me||Ye!==Ne)&&(l.moveTo(Ut,vn),Me=We,Ne=Ye),X+=2;X<fe;X+=2)Ut=N[X],vn=N[X+1],We=Ut+.5|0,Ye=vn+.5|0,(X==fe-2||We!==Me||Ye!==Ne)&&(l.lineTo(Ut,vn),Me=We,Ne=Ye);++z;break;case en.SET_FILL_STYLE:Bn=Dt,this.alignFill_=Dt[2],qt&&(this.fill_(l),qt=0,rn&&(l.stroke(),rn=0)),l.fillStyle=Dt[1],++z;break;case en.SET_STROKE_STYLE:He=Dt,rn&&(l.stroke(),rn=0),this.setStrokeStyle_(l,Dt),++z;break;case en.STROKE:dt?rn++:l.stroke(),++z;break;default:++z}}qt&&this.fill_(l),rn&&l.stroke()}execute(l,d,g,C,S,E){this.viewRotation_=C,this.execute_(l,d,g,this.instructions,S,void 0,void 0,E)}executeHitDetection(l,d,g,C,S){return this.viewRotation_=g,this.execute_(l,1,d,this.hitDetectionInstructions,!0,C,S)}},C_=["Polygon","Circle","LineString","Image","Text","Default"],$p={},fy=class hy{constructor(l,d,g,C,S,E){this.maxExtent_=l,this.overlaps_=C,this.pixelRatio_=g,this.resolution_=d,this.renderBuffer_=E,this.executorsByZIndex_={},this.hitDetectionContext_=null,this.hitDetectionTransform_=[1,0,0,1,0,0],this.createExecutors_(S)}clip(l,d){const g=this.getClipCoords(d);l.beginPath(),l.moveTo(g[0],g[1]),l.lineTo(g[2],g[3]),l.lineTo(g[4],g[5]),l.lineTo(g[6],g[7]),l.clip()}createExecutors_(l){for(const d in l){let g=this.executorsByZIndex_[d];void 0===g&&(g={},this.executorsByZIndex_[d]=g);const C=l[d];for(const S in C)g[S]=new ZC(this.resolution_,this.pixelRatio_,this.overlaps_,C[S])}}hasExecutors(l){for(const d in this.executorsByZIndex_){const g=this.executorsByZIndex_[d];for(let C=0,S=l.length;C<S;++C)if(l[C]in g)return!0}return!1}forEachFeatureAtCoordinate(l,d,g,C,S,E){const T=2*(C=Math.round(C))+1,M=hs(this.hitDetectionTransform_,C+.5,C+.5,1/d,-1/d,-g,-l[0],-l[1]),N=!this.hitDetectionContext_;N&&(this.hitDetectionContext_=Yr(T,T,void 0,{willReadFrequently:!0}));const z=this.hitDetectionContext_;let J;z.canvas.width!==T||z.canvas.height!==T?(z.canvas.width=T,z.canvas.height=T):N||z.clearRect(0,0,T,T),void 0!==this.renderBuffer_&&(J=[1/0,1/0,-1/0,-1/0],Io(J,l),lt(J,d*(this.renderBuffer_+C),J));const X=function Yh(m){if(void 0!==$p[m])return $p[m];const l=2*m+1,d=m*m,g=new Array(d+1);for(let S=0;S<=m;++S)for(let E=0;E<=m;++E){const T=S*S+E*E;if(T>d)break;let M=g[T];M||(M=[],g[T]=M),M.push(4*((m+S)*l+(m+E))+3),S>0&&M.push(4*((m-S)*l+(m+E))+3),E>0&&(M.push(4*((m+S)*l+(m-E))+3),S>0&&M.push(4*((m-S)*l+(m-E))+3))}const C=[];for(let S=0,E=g.length;S<E;++S)g[S]&&C.push(...g[S]);return $p[m]=C,C}(C);let fe;function ve(gt,Mt){const Rt=z.getImageData(0,0,T,T).data;for(let Ot=0,qt=X.length;Ot<qt;Ot++)if(Rt[X[Ot]]>0){if(!E||"Image"!==fe&&"Text"!==fe||E.includes(gt)){const rn=(X[Ot]-3)/4,Bn=C-rn%T,He=C-(rn/T|0),mn=S(gt,Mt,Bn*Bn+He*He);if(mn)return mn}z.clearRect(0,0,T,T);break}}const be=Object.keys(this.executorsByZIndex_).map(Number);let Me,Ne,We,Ye,Xe;for(be.sort(Qo),Me=be.length-1;Me>=0;--Me){const gt=be[Me].toString();for(We=this.executorsByZIndex_[gt],Ne=C_.length-1;Ne>=0;--Ne)if(fe=C_[Ne],Ye=We[fe],void 0!==Ye&&(Xe=Ye.executeHitDetection(z,M,g,ve,J),Xe))return Xe}}getClipCoords(l){const d=this.maxExtent_;if(!d)return null;const g=d[0],C=d[1],S=d[2],E=d[3],T=[g,C,g,E,S,E,S,C];return oc(T,0,8,2,l,T),T}isEmpty(){return Js(this.executorsByZIndex_)}execute(l,d,g,C,S,E,T){const M=Object.keys(this.executorsByZIndex_).map(Number);let N,z,J,X,fe,ve;for(M.sort(Qo),this.maxExtent_&&(l.save(),this.clip(l,g)),E=E||C_,T&&M.reverse(),N=0,z=M.length;N<z;++N){const be=M[N].toString();for(fe=this.executorsByZIndex_[be],J=0,X=E.length;J<X;++J)ve=fe[E[J]],void 0!==ve&&ve.execute(l,d,g,C,S,T)}this.maxExtent_&&l.restore()}},gy=class py extends ny{constructor(l,d,g,C,S,E,T){super(),this.context_=l,this.pixelRatio_=d,this.extent_=g,this.transform_=C,this.transformRotation_=C?ah(Math.atan2(C[1],C[0]),10):0,this.viewRotation_=S,this.squaredTolerance_=E,this.userTransform_=T,this.contextFillState_=null,this.contextStrokeState_=null,this.contextTextState_=null,this.fillState_=null,this.strokeState_=null,this.image_=null,this.imageAnchorX_=0,this.imageAnchorY_=0,this.imageHeight_=0,this.imageOpacity_=0,this.imageOriginX_=0,this.imageOriginY_=0,this.imageRotateWithView_=!1,this.imageRotation_=0,this.imageScale_=[0,0],this.imageWidth_=0,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=!1,this.textRotation_=0,this.textScale_=[0,0],this.textFillState_=null,this.textStrokeState_=null,this.textState_=null,this.pixelCoordinates_=[],this.tmpLocalTransform_=[1,0,0,1,0,0]}drawImages_(l,d,g,C){if(!this.image_)return;const S=oc(l,d,g,C,this.transform_,this.pixelCoordinates_),E=this.context_,T=this.tmpLocalTransform_,M=E.globalAlpha;1!=this.imageOpacity_&&(E.globalAlpha=M*this.imageOpacity_);let N=this.imageRotation_;0===this.transformRotation_&&(N-=this.viewRotation_),this.imageRotateWithView_&&(N+=this.viewRotation_);for(let z=0,J=S.length;z<J;z+=2){const X=S[z]-this.imageAnchorX_,fe=S[z+1]-this.imageAnchorY_;if(0!==N||1!=this.imageScale_[0]||1!=this.imageScale_[1]){const ve=X+this.imageAnchorX_,be=fe+this.imageAnchorY_;hs(T,ve,be,1,1,N,-ve,-be),E.setTransform.apply(E,T),E.translate(ve,be),E.scale(this.imageScale_[0],this.imageScale_[1]),E.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),E.setTransform(1,0,0,1,0,0)}else E.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,X,fe,this.imageWidth_,this.imageHeight_)}1!=this.imageOpacity_&&(E.globalAlpha=M)}drawText_(l,d,g,C){if(!this.textState_||""===this.text_)return;this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);const S=oc(l,d,g,C,this.transform_,this.pixelCoordinates_),E=this.context_;let T=this.textRotation_;for(0===this.transformRotation_&&(T-=this.viewRotation_),this.textRotateWithView_&&(T+=this.viewRotation_);d<g;d+=C){const M=S[d]+this.textOffsetX_,N=S[d+1]+this.textOffsetY_;0!==T||1!=this.textScale_[0]||1!=this.textScale_[1]?(E.translate(M-this.textOffsetX_,N-this.textOffsetY_),E.rotate(T),E.translate(this.textOffsetX_,this.textOffsetY_),E.scale(this.textScale_[0],this.textScale_[1]),this.textStrokeState_&&E.strokeText(this.text_,0,0),this.textFillState_&&E.fillText(this.text_,0,0),E.setTransform(1,0,0,1,0,0)):(this.textStrokeState_&&E.strokeText(this.text_,M,N),this.textFillState_&&E.fillText(this.text_,M,N))}}moveToLineTo_(l,d,g,C,S){const E=this.context_,T=oc(l,d,g,C,this.transform_,this.pixelCoordinates_);E.moveTo(T[0],T[1]);let M=T.length;S&&(M-=2);for(let N=2;N<M;N+=2)E.lineTo(T[N],T[N+1]);return S&&E.closePath(),g}drawRings_(l,d,g,C){for(let S=0,E=g.length;S<E;++S)d=this.moveToLineTo_(l,d,g[S],C,!0);return d}drawCircle(l){if(this.squaredTolerance_&&(l=l.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),vr(this.extent_,l.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const d=function ml(m,l,d){const g=m.getFlatCoordinates();if(!g)return null;const C=m.getStride();return oc(g,0,g.length,C,l,d)}(l,this.transform_,this.pixelCoordinates_),g=d[2]-d[0],C=d[3]-d[1],S=Math.sqrt(g*g+C*C),E=this.context_;E.beginPath(),E.arc(d[0],d[1],S,0,2*Math.PI),this.fillState_&&E.fill(),this.strokeState_&&E.stroke()}""!==this.text_&&this.drawText_(l.getCenter(),0,2,2)}}setStyle(l){this.setFillStrokeStyle(l.getFill(),l.getStroke()),this.setImageStyle(l.getImage()),this.setTextStyle(l.getText())}setTransform(l){this.transform_=l}drawGeometry(l){switch(l.getType()){case"Point":this.drawPoint(l);break;case"LineString":this.drawLineString(l);break;case"Polygon":this.drawPolygon(l);break;case"MultiPoint":this.drawMultiPoint(l);break;case"MultiLineString":this.drawMultiLineString(l);break;case"MultiPolygon":this.drawMultiPolygon(l);break;case"GeometryCollection":this.drawGeometryCollection(l);break;case"Circle":this.drawCircle(l)}}drawFeature(l,d){const g=d.getGeometryFunction()(l);g&&(this.setStyle(d),this.drawGeometry(g))}drawGeometryCollection(l){const d=l.getGeometriesArray();for(let g=0,C=d.length;g<C;++g)this.drawGeometry(d[g])}drawPoint(l){this.squaredTolerance_&&(l=l.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const d=l.getFlatCoordinates(),g=l.getStride();this.image_&&this.drawImages_(d,0,d.length,g),""!==this.text_&&this.drawText_(d,0,d.length,g)}drawMultiPoint(l){this.squaredTolerance_&&(l=l.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const d=l.getFlatCoordinates(),g=l.getStride();this.image_&&this.drawImages_(d,0,d.length,g),""!==this.text_&&this.drawText_(d,0,d.length,g)}drawLineString(l){if(this.squaredTolerance_&&(l=l.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),vr(this.extent_,l.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);const d=this.context_,g=l.getFlatCoordinates();d.beginPath(),this.moveToLineTo_(g,0,g.length,l.getStride(),!1),d.stroke()}if(""!==this.text_){const d=l.getFlatMidpoint();this.drawText_(d,0,2,2)}}}drawMultiLineString(l){this.squaredTolerance_&&(l=l.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const d=l.getExtent();if(vr(this.extent_,d)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);const g=this.context_,C=l.getFlatCoordinates();let S=0;const E=l.getEnds(),T=l.getStride();g.beginPath();for(let M=0,N=E.length;M<N;++M)S=this.moveToLineTo_(C,S,E[M],T,!1);g.stroke()}if(""!==this.text_){const g=l.getFlatMidpoints();this.drawText_(g,0,g.length,2)}}}drawPolygon(l){if(this.squaredTolerance_&&(l=l.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),vr(this.extent_,l.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const d=this.context_;d.beginPath(),this.drawRings_(l.getOrientedFlatCoordinates(),0,l.getEnds(),l.getStride()),this.fillState_&&d.fill(),this.strokeState_&&d.stroke()}if(""!==this.text_){const d=l.getFlatInteriorPoint();this.drawText_(d,0,2,2)}}}drawMultiPolygon(l){if(this.squaredTolerance_&&(l=l.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),vr(this.extent_,l.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const d=this.context_,g=l.getOrientedFlatCoordinates();let C=0;const S=l.getEndss(),E=l.getStride();d.beginPath();for(let T=0,M=S.length;T<M;++T)C=this.drawRings_(g,C,S[T],E);this.fillState_&&d.fill(),this.strokeState_&&d.stroke()}if(""!==this.text_){const d=l.getFlatInteriorPoints();this.drawText_(d,0,d.length,2)}}}setContextFillState_(l){const d=this.context_,g=this.contextFillState_;g?g.fillStyle!=l.fillStyle&&(g.fillStyle=l.fillStyle,d.fillStyle=l.fillStyle):(d.fillStyle=l.fillStyle,this.contextFillState_={fillStyle:l.fillStyle})}setContextStrokeState_(l){const d=this.context_,g=this.contextStrokeState_;g?(g.lineCap!=l.lineCap&&(g.lineCap=l.lineCap,d.lineCap=l.lineCap),Qs(g.lineDash,l.lineDash)||d.setLineDash(g.lineDash=l.lineDash),g.lineDashOffset!=l.lineDashOffset&&(g.lineDashOffset=l.lineDashOffset,d.lineDashOffset=l.lineDashOffset),g.lineJoin!=l.lineJoin&&(g.lineJoin=l.lineJoin,d.lineJoin=l.lineJoin),g.lineWidth!=l.lineWidth&&(g.lineWidth=l.lineWidth,d.lineWidth=l.lineWidth),g.miterLimit!=l.miterLimit&&(g.miterLimit=l.miterLimit,d.miterLimit=l.miterLimit),g.strokeStyle!=l.strokeStyle&&(g.strokeStyle=l.strokeStyle,d.strokeStyle=l.strokeStyle)):(d.lineCap=l.lineCap,d.setLineDash(l.lineDash),d.lineDashOffset=l.lineDashOffset,d.lineJoin=l.lineJoin,d.lineWidth=l.lineWidth,d.miterLimit=l.miterLimit,d.strokeStyle=l.strokeStyle,this.contextStrokeState_={lineCap:l.lineCap,lineDash:l.lineDash,lineDashOffset:l.lineDashOffset,lineJoin:l.lineJoin,lineWidth:l.lineWidth,miterLimit:l.miterLimit,strokeStyle:l.strokeStyle})}setContextTextState_(l){const d=this.context_,g=this.contextTextState_,C=l.textAlign?l.textAlign:qu;g?(g.font!=l.font&&(g.font=l.font,d.font=l.font),g.textAlign!=C&&(g.textAlign=C,d.textAlign=C),g.textBaseline!=l.textBaseline&&(g.textBaseline=l.textBaseline,d.textBaseline=l.textBaseline)):(d.font=l.font,d.textAlign=C,d.textBaseline=l.textBaseline,this.contextTextState_={font:l.font,textAlign:C,textBaseline:l.textBaseline})}setFillStrokeStyle(l,d){if(l){const g=l.getColor();this.fillState_={fillStyle:vs(g||ro)}}else this.fillState_=null;if(d){const g=d.getColor(),C=d.getLineCap(),S=d.getLineDash(),E=d.getLineDashOffset(),T=d.getLineJoin(),M=d.getWidth(),N=d.getMiterLimit(),z=S||Dh;this.strokeState_={lineCap:void 0!==C?C:wh,lineDash:1===this.pixelRatio_?z:z.map(J=>J*this.pixelRatio_),lineDashOffset:(E||0)*this.pixelRatio_,lineJoin:void 0!==T?T:Wu,lineWidth:(void 0!==M?M:1)*this.pixelRatio_,miterLimit:void 0!==N?N:10,strokeStyle:vs(g||$u)}}else this.strokeState_=null}setImageStyle(l){let d;if(!l||!(d=l.getSize()))return void(this.image_=null);const g=l.getPixelRatio(this.pixelRatio_),C=l.getAnchor(),S=l.getOrigin();this.image_=l.getImage(this.pixelRatio_),this.imageAnchorX_=C[0]*g,this.imageAnchorY_=C[1]*g,this.imageHeight_=d[1]*g,this.imageOpacity_=l.getOpacity(),this.imageOriginX_=S[0],this.imageOriginY_=S[1],this.imageRotateWithView_=l.getRotateWithView(),this.imageRotation_=l.getRotation();const E=l.getScaleArray();this.imageScale_=[E[0]*this.pixelRatio_/g,E[1]*this.pixelRatio_/g],this.imageWidth_=d[0]*g}setTextStyle(l){if(l){const d=l.getFill();if(d){const fe=d.getColor();this.textFillState_={fillStyle:vs(fe||ro)}}else this.textFillState_=null;const g=l.getStroke();if(g){const fe=g.getColor(),ve=g.getLineCap(),be=g.getLineDash(),Me=g.getLineDashOffset(),Ne=g.getLineJoin(),We=g.getWidth(),Ye=g.getMiterLimit();this.textStrokeState_={lineCap:void 0!==ve?ve:wh,lineDash:be||Dh,lineDashOffset:Me||0,lineJoin:void 0!==Ne?Ne:Wu,lineWidth:void 0!==We?We:1,miterLimit:void 0!==Ye?Ye:10,strokeStyle:vs(fe||$u)}}else this.textStrokeState_=null;const C=l.getFont(),S=l.getOffsetX(),E=l.getOffsetY(),T=l.getRotateWithView(),M=l.getRotation(),N=l.getScaleArray(),z=l.getText(),J=l.getTextAlign(),X=l.getTextBaseline();this.textState_={font:void 0!==C?C:Sp,textAlign:void 0!==J?J:qu,textBaseline:void 0!==X?X:yl},this.text_=void 0!==z?Array.isArray(z)?z.reduce((fe,ve,be)=>fe+(be%2?" ":ve),""):z:"",this.textOffsetX_=void 0!==S?this.pixelRatio_*S:0,this.textOffsetY_=void 0!==E?this.pixelRatio_*E:0,this.textRotateWithView_=void 0!==T&&T,this.textRotation_=void 0!==M?M:0,this.textScale_=[this.pixelRatio_*N[0],this.pixelRatio_*N[1]]}else this.text_=""}},Na=.5,WC={Point:function XC(m,l,d,g,C){const S=d.getImage(),E=d.getText();let T;if(S){if(2!=S.getImageState())return;let M=m;if(C){const z=S.getDeclutterMode();if("none"!==z)if(M=C,"obstacle"===z){const J=m.getBuilder(d.getZIndex(),"Image");J.setImageStyle(S,T),J.drawPoint(l,g)}else E&&E.getText()&&(T={})}const N=M.getBuilder(d.getZIndex(),"Image");N.setImageStyle(S,T),N.drawPoint(l,g)}if(E&&E.getText()){let M=m;C&&(M=C);const N=M.getBuilder(d.getZIndex(),"Text");N.setTextStyle(E,T),N.drawText(l,g)}},LineString:function S_(m,l,d,g,C){const S=d.getStroke();if(S){const T=m.getBuilder(d.getZIndex(),"LineString");T.setFillStrokeStyle(null,S),T.drawLineString(l,g)}const E=d.getText();if(E&&E.getText()){const T=(C||m).getBuilder(d.getZIndex(),"Text");T.setTextStyle(E),T.drawText(l,g)}},Polygon:function tb(m,l,d,g,C){const S=d.getFill(),E=d.getStroke();if(S||E){const M=m.getBuilder(d.getZIndex(),"Polygon");M.setFillStrokeStyle(S,E),M.drawPolygon(l,g)}const T=d.getText();if(T&&T.getText()){const M=(C||m).getBuilder(d.getZIndex(),"Text");M.setTextStyle(T),M.drawText(l,g)}},MultiPoint:function eb(m,l,d,g,C){const S=d.getImage(),E=d.getText();let T;if(S){if(2!=S.getImageState())return;let M=m;if(C){const z=S.getDeclutterMode();if("none"!==z)if(M=C,"obstacle"===z){const J=m.getBuilder(d.getZIndex(),"Image");J.setImageStyle(S,T),J.drawMultiPoint(l,g)}else E&&E.getText()&&(T={})}const N=M.getBuilder(d.getZIndex(),"Image");N.setImageStyle(S,T),N.drawMultiPoint(l,g)}if(E&&E.getText()){let M=m;C&&(M=C);const N=M.getBuilder(d.getZIndex(),"Text");N.setTextStyle(E,T),N.drawText(l,g)}},MultiLineString:function JC(m,l,d,g,C){const S=d.getStroke();if(S){const T=m.getBuilder(d.getZIndex(),"LineString");T.setFillStrokeStyle(null,S),T.drawMultiLineString(l,g)}const E=d.getText();if(E&&E.getText()){const T=(C||m).getBuilder(d.getZIndex(),"Text");T.setTextStyle(E),T.drawText(l,g)}},MultiPolygon:function qp(m,l,d,g,C){const S=d.getFill(),E=d.getStroke();if(E||S){const M=m.getBuilder(d.getZIndex(),"Polygon");M.setFillStrokeStyle(S,E),M.drawMultiPolygon(l,g)}const T=d.getText();if(T&&T.getText()){const M=(C||m).getBuilder(d.getZIndex(),"Text");M.setTextStyle(T),M.drawText(l,g)}},GeometryCollection:function vy(m,l,d,g,C){const S=l.getGeometriesArray();let E,T;for(E=0,T=S.length;E<T;++E)(0,WC[S[E].getType()])(m,S[E],d,g,C)},Circle:function KC(m,l,d,g,C){const S=d.getFill(),E=d.getStroke();if(S||E){const M=m.getBuilder(d.getZIndex(),"Circle");M.setFillStrokeStyle(S,E),M.drawCircle(l,g)}const T=d.getText();if(T&&T.getText()){const M=(C||m).getBuilder(d.getZIndex(),"Text");M.setTextStyle(T),M.drawText(l,g)}}};function $C(m,l){return parseInt(Wt(m),10)-parseInt(Wt(l),10)}function b_(m,l){return.5*m/l}function my(m,l,d,g,C,S,E){let T=!1;const M=d.getImage();if(M){const N=M.getImageState();2==N||3==N?M.unlistenImageChange(C):(0==N&&M.load(),M.listenImageChange(C),T=!0)}return function QC(m,l,d,g,C,S){const E=d.getGeometryFunction()(l);if(!E)return;const T=E.simplifyTransformed(g,C);d.getRenderer()?_y(m,T,d,l):(0,WC[T.getType()])(m,T,d,l,S)}(m,l,d,g,S,E),T}function _y(m,l,d,g){if("GeometryCollection"!=l.getType())m.getBuilder(d.getZIndex(),"Default").drawCustom(l,g,d.getRenderer(),d.getHitDetectionRenderer());else{const S=l.getGeometries();for(let E=0,T=S.length;E<T;++E)_y(m,S[E],d,g)}}const ib=class nb extends nd{constructor(l){super(l),this.boundHandleStyleImageChange_=this.handleStyleImageChange_.bind(this),this.hitDetectionImageData_=null,this.renderedFeatures_=null,this.renderedRevision_=-1,this.renderedResolution_=NaN,this.renderedExtent_=[1/0,1/0,-1/0,-1/0],this.wrappedRenderedExtent_=[1/0,1/0,-1/0,-1/0],this.renderedCenter_=null,this.renderedProjection_=null,this.renderedRenderOrder_=null,this.replayGroup_=null,this.replayGroupChanged=!0,this.declutterExecutorGroup=null,this.clipping=!0,this.compositionContext_=null,this.opacity_=1}renderWorlds(l,d,g){const C=d.extent,S=d.viewState,E=S.center,T=S.resolution,M=S.projection,N=S.rotation,z=M.getExtent(),J=this.getLayer().getSource(),X=d.pixelRatio,fe=d.viewHints,ve=!(fe[0]||fe[1]),be=this.compositionContext_,Me=Math.round(d.size[0]*X),Ne=Math.round(d.size[1]*X),We=J.getWrapX()&&M.canWrapX(),Ye=We?oi(z):null,Xe=We?Math.ceil((C[2]-z[2])/Ye)+1:1;let gt=We?Math.floor((C[0]-z[0])/Ye):0;do{const Mt=this.getRenderTransform(E,T,N,X,Me,Ne,gt*Ye);l.execute(be,1,Mt,N,ve,void 0,g)}while(++gt<Xe)}setupCompositionContext_(){if(1!==this.opacity_){const l=Yr(this.context.canvas.width,this.context.canvas.height,Jm);this.compositionContext_=l}else this.compositionContext_=this.context}releaseCompositionContext_(){if(1!==this.opacity_){const l=this.context.globalAlpha;this.context.globalAlpha=this.opacity_,this.context.drawImage(this.compositionContext_.canvas,0,0),this.context.globalAlpha=l,Yu(this.compositionContext_),Jm.push(this.compositionContext_.canvas),this.compositionContext_=null}}renderDeclutter(l){this.declutterExecutorGroup&&(this.setupCompositionContext_(),this.renderWorlds(this.declutterExecutorGroup,l,l.declutterTree),this.releaseCompositionContext_())}renderFrame(l,d){const g=l.pixelRatio,C=l.layerStatesArray[l.layerIndex];(function xu(m,l,d){(function Kl(m,l,d,g,C,S,E){return m[0]=l,m[1]=d,m[2]=g,m[3]=C,m[4]=S,m[5]=E,m})(m,l,0,0,d,0,0)})(this.pixelTransform,1/g,1/g),eo(this.inversePixelTransform,this.pixelTransform);const S=j(this.pixelTransform);this.useContainer(d,S,this.getBackground(l));const E=this.context,T=E.canvas,M=this.replayGroup_,N=this.declutterExecutorGroup;if((!M||M.isEmpty())&&(!N||N.isEmpty()))return null;const z=Math.round(l.size[0]*g),J=Math.round(l.size[1]*g);T.width!=z||T.height!=J?(T.width=z,T.height=J,T.style.transform!==S&&(T.style.transform=S)):this.containerReused||E.clearRect(0,0,z,J),this.preRender(E,l);const X=l.viewState;this.opacity_=C.opacity,this.setupCompositionContext_();let ve=!1,be=!0;if(C.extent&&this.clipping){const Me=Oo(C.extent);be=vr(Me,l.extent),ve=be&&!Mn(Me,l.extent),ve&&this.clipUnrotated(this.compositionContext_,l,Me)}return be&&this.renderWorlds(M,l),ve&&this.compositionContext_.restore(),this.releaseCompositionContext_(),this.postRender(E,l),this.renderedRotation_!==X.rotation&&(this.renderedRotation_=X.rotation,this.hitDetectionImageData_=null),this.container}getFeatures(l){return new Promise(d=>{if(!this.hitDetectionImageData_&&!this.animatingOrInteracting_){const g=[this.context.canvas.width,this.context.canvas.height];Bi(this.pixelTransform,g);const C=this.renderedCenter_,S=this.renderedResolution_,E=this.renderedRotation_,T=this.renderedProjection_,M=this.wrappedRenderedExtent_,N=this.getLayer(),z=[],J=g[0]*Na,X=g[1]*Na;z.push(this.getRenderTransform(C,S,E,Na,J,X,0).slice());const fe=N.getSource(),ve=T.getExtent();if(fe.getWrapX()&&T.canWrapX()&&!Mn(ve,M)){let be=M[0];const Me=oi(ve);let We,Ne=0;for(;be<ve[0];)--Ne,We=Me*Ne,z.push(this.getRenderTransform(C,S,E,Na,J,X,We).slice()),be+=Me;for(Ne=0,be=M[2];be>ve[2];)++Ne,We=Me*Ne,z.push(this.getRenderTransform(C,S,E,Na,J,X,We).slice()),be-=Me}this.hitDetectionImageData_=function GC(m,l,d,g,C,S,E){const N=Yr(m[0]*Na,m[1]*Na);N.imageSmoothingEnabled=!1;const z=N.canvas,J=new gy(N,Na,C,null,E),X=d.length,fe=Math.floor(16777215/X),ve={};for(let Me=1;Me<=X;++Me){const Ne=d[Me-1],We=Ne.getStyleFunction()||g;if(!g)continue;let Ye=We(Ne,S);if(!Ye)continue;Array.isArray(Ye)||(Ye=[Ye]);const gt=(Me*fe).toString(16).padStart(7,"#00000");for(let Mt=0,Rt=Ye.length;Mt<Rt;++Mt){const Ot=Ye[Mt],qt=Ot.getGeometryFunction()(Ne);if(!qt||!vr(C,qt.getExtent()))continue;const rn=Ot.clone(),Bn=rn.getFill();Bn&&Bn.setColor(gt);const He=rn.getStroke();He&&(He.setColor(gt),He.setLineDash(null)),rn.setText(void 0);const mn=Ot.getImage();if(mn&&0!==mn.getOpacity()){const dt=mn.getImageSize();if(!dt)continue;const Ct=Yr(dt[0],dt[1],void 0,{alpha:!1}),Ut=Ct.canvas;Ct.fillStyle=gt,Ct.fillRect(0,0,Ut.width,Ut.height),rn.setImage(new h_({img:Ut,imgSize:dt,anchor:mn.getAnchor(),anchorXUnits:"pixels",anchorYUnits:"pixels",offset:mn.getOrigin(),opacity:1,size:mn.getSize(),scale:mn.getScale(),rotation:mn.getRotation(),rotateWithView:mn.getRotateWithView()}))}const fi=rn.getZIndex()||0;let wn=ve[fi];wn||(wn={},ve[fi]=wn,wn.Polygon=[],wn.Circle=[],wn.LineString=[],wn.Point=[]);const ct=qt.getType();if("GeometryCollection"===ct){const dt=qt.getGeometriesArrayRecursive();for(let Ct=0,Ut=dt.length;Ct<Ut;++Ct){const vn=dt[Ct];wn[vn.getType().replace("Multi","")].push(vn,rn)}}else wn[ct.replace("Multi","")].push(qt,rn)}}const be=Object.keys(ve).map(Number).sort(Qo);for(let Me=0,Ne=be.length;Me<Ne;++Me){const We=ve[be[Me]];for(const Ye in We){const Xe=We[Ye];for(let gt=0,Mt=Xe.length;gt<Mt;gt+=2){J.setStyle(Xe[gt+1]);for(let Rt=0,Ot=l.length;Rt<Ot;++Rt)J.setTransform(l[Rt]),J.drawGeometry(Xe[gt])}}}return N.getImageData(0,0,z.width,z.height)}(g,z,this.renderedFeatures_,N.getStyleFunction(),M,S,E)}d(function Wh(m,l,d){const g=[];if(d){const C=Math.floor(Math.round(m[0])*Na),S=Math.floor(Math.round(m[1])*Na),E=4*(Yi(C,0,d.width-1)+Yi(S,0,d.height-1)*d.width),z=d.data[E+2]+256*(d.data[E+1]+256*d.data[E]),J=Math.floor(16777215/l.length);z&&z%J==0&&g.push(l[z/J-1])}return g}(l,this.renderedFeatures_,this.hitDetectionImageData_))})}forEachFeatureAtCoordinate(l,d,g,C,S){if(!this.replayGroup_)return;const E=d.viewState.resolution,T=d.viewState.rotation,M=this.getLayer(),N={},z=function(fe,ve,be){const Me=Wt(fe),Ne=N[Me];if(Ne){if(!0!==Ne&&be<Ne.distanceSq){if(0===be)return N[Me]=!0,S.splice(S.lastIndexOf(Ne),1),C(fe,M,ve);Ne.geometry=ve,Ne.distanceSq=be}}else{if(0===be)return N[Me]=!0,C(fe,M,ve);S.push(N[Me]={feature:fe,layer:M,geometry:ve,distanceSq:be,callback:C})}};let J;const X=[this.replayGroup_];return this.declutterExecutorGroup&&X.push(this.declutterExecutorGroup),X.some(fe=>J=fe.forEachFeatureAtCoordinate(l,E,T,g,z,fe===this.declutterExecutorGroup&&d.declutterTree?d.declutterTree.all().map(ve=>ve.value):null)),J}handleFontsChanged(){const l=this.getLayer();l.getVisible()&&this.replayGroup_&&l.changed()}handleStyleImageChange_(l){this.renderIfReadyAndVisible()}prepareFrame(l){const d=this.getLayer(),g=d.getSource();if(!g)return!1;const C=l.viewHints[0],S=l.viewHints[1],E=d.getUpdateWhileAnimating(),T=d.getUpdateWhileInteracting();if(this.ready&&!E&&C||!T&&S)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;const M=l.extent,N=l.viewState,z=N.projection,J=N.resolution,X=l.pixelRatio,fe=d.getRevision(),ve=d.getRenderBuffer();let be=d.getRenderOrder();void 0===be&&(be=$C);const Me=N.center.slice(),Ne=lt(M,ve*J),We=Ne.slice(),Ye=[Ne.slice()],Xe=z.getExtent();if(g.getWrapX()&&z.canWrapX()&&!Mn(Xe,l.extent)){const ct=oi(Xe),dt=Math.max(oi(Ne)/2,ct);Ne[0]=Xe[0]-dt,Ne[2]=Xe[2]+dt,Fc(Me,z);const Ct=sh(Ye[0],z);Ct[0]<Xe[0]&&Ct[2]<Xe[2]?Ye.push([Ct[0]+ct,Ct[1],Ct[2]+ct,Ct[3]]):Ct[0]>Xe[0]&&Ct[2]>Xe[2]&&Ye.push([Ct[0]-ct,Ct[1],Ct[2]-ct,Ct[3]])}if(this.ready&&this.renderedResolution_==J&&this.renderedRevision_==fe&&this.renderedRenderOrder_==be&&Mn(this.wrappedRenderedExtent_,Ne))return Qs(this.renderedExtent_,We)||(this.hitDetectionImageData_=null,this.renderedExtent_=We),this.renderedCenter_=Me,this.replayGroupChanged=!1,!0;this.replayGroup_=null;const gt=new Wp(b_(J,X),Ne,J,X);let Mt;this.getLayer().getDeclutter()&&(Mt=new Wp(b_(J,X),Ne,J,X));const Rt=pm();let Ot;if(Rt){for(let ct=0,dt=Ye.length;ct<dt;++ct){const Ut=rc(Ye[ct]);g.loadFeatures(Ut,J,Rt)}Ot=Ma(Rt,z)}else for(let ct=0,dt=Ye.length;ct<dt;++ct)g.loadFeatures(Ye[ct],J,z);const qt=function qC(m,l){const d=b_(m,l);return d*d}(J,X);let rn=!0;const Bn=ct=>{let dt;const Ct=ct.getStyleFunction()||d.getStyleFunction();if(Ct&&(dt=Ct(ct,J)),dt){const Ut=this.renderFeature(ct,qt,dt,gt,Ot,Mt);rn=rn&&!Ut}},He=rc(Ne),mn=g.getFeaturesInExtent(He);be&&mn.sort(be);for(let ct=0,dt=mn.length;ct<dt;++ct)Bn(mn[ct]);this.renderedFeatures_=mn,this.ready=rn;const fi=gt.finish(),wn=new fy(Ne,J,X,g.getOverlaps(),fi,d.getRenderBuffer());return Mt&&(this.declutterExecutorGroup=new fy(Ne,J,X,g.getOverlaps(),Mt.finish(),d.getRenderBuffer())),this.renderedResolution_=J,this.renderedRevision_=fe,this.renderedRenderOrder_=be,this.renderedExtent_=We,this.wrappedRenderedExtent_=Ne,this.renderedCenter_=Me,this.renderedProjection_=z,this.replayGroup_=wn,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0}renderFeature(l,d,g,C,S,E){if(!g)return!1;let T=!1;if(Array.isArray(g))for(let M=0,N=g.length;M<N;++M)T=my(C,l,g[M],d,this.boundHandleStyleImageChange_,S,E)||T;else T=my(C,l,g,d,this.boundHandleStyleImageChange_,S,E);return T}},yy=class rb extends g_{constructor(l){super(l)}createRenderer(){return new ib(this)}};let Kp=(()=>{class m{constructor(d){this.location=d;let g=this.location.prepareExternalUrl("/assets/icons/icon-72x72.png");this.displayObsLayer=!1,this.iconStyle=new Zp({image:new h_({src:g,scale:.5,anchor:[.2,.8]})})}ngOnInit(){if(this.map=new TD({target:"map",layers:[new cc({source:new o_({url:"https://tile.openstreetmap.org/{z}/{x}/{y}.png"})})],view:new Oa({center:[0,0],zoom:1})}),this.taxon){let d=`https://api.inaturalist.org/v2/taxon_ranges/${this.taxon}/{z}/{x}/{y}.png`,g=new cc({source:new o_({url:d})});if(this.map.addLayer(g),this.displayObsLayer){d=`https://api.inaturalist.org/v2/points/{z}/{x}/{y}.png?taxon_id=${this.taxon}`,this.exceptID&&(d+=`&not_id=${this.exceptID}`);let C=new cc({source:new o_({url:d})});this.map.addLayer(C)}}if(this.geojson){let d=function jv(m,l){return ip(),Vu(m,"EPSG:4326",void 0!==l?l:"EPSG:3857")}(this.geojson.coordinates),g=new yy({source:new G0({features:[new _w({geometry:new Xv(d)})]}),style:this.iconStyle});this.map.addLayer(g),this.map.getView().setCenter(d),this.map.getView().setZoom(9)}}}return m.\u0275fac=function(d){return new(d||m)(a.Y36(ye.Ye))},m.\u0275cmp=a.Xpm({type:m,selectors:[["app-map"]],inputs:{geojson:"geojson",obscured:"obscured",taxon:"taxon",displayObsLayer:"displayObsLayer",exceptID:"exceptID"},standalone:!0,features:[a.jDz],decls:1,vars:0,consts:[["id","map"]],template:function(d,g){1&d&&a._UZ(0,"div",0)},dependencies:[ye.ez],styles:["#map[_ngcontent-%COMP%]{width:100%;height:100%}[_nghost-%COMP%]{height:inherit;width:inherit}"]}),m})();function Cy(m,l){if(1&m&&(a.TgZ(0,"h3",43),a._uU(1),a.ALo(2,"titlecase"),a.TgZ(3,"em"),a._uU(4),a.qZA()()),2&m){const d=a.oxw(3);a.xp6(1),a.hij("",a.lcZ(2,2,d.observation.taxon.rank_level>10?d.observation.taxon.rank:"")," "),a.xp6(3),a.Oqu(d.observation.taxon.name)}}function sb(m,l){if(1&m&&(a.TgZ(0,"p",15),a._uU(1),a.qZA()),2&m){const d=a.oxw(3);a.xp6(1),a.Oqu(d.observation.taxon.preferred_common_name)}}const ob=function(m){return["/taxon",m]};function by(m,l){if(1&m&&(a.TgZ(0,"div",40),a.YNc(1,Cy,5,4,"h3",41),a.YNc(2,sb,2,1,"p",42),a.qZA()),2&m){const d=a.oxw(2);a.xp6(1),a.Q6J("urlify",a.VKq(2,ob,d.observation.taxon.id)),a.xp6(1),a.Q6J("urlify",a.VKq(4,ob,d.observation.taxon.id))}}function Sy(m,l){1&m&&(a.TgZ(0,"div",40)(1,"h3"),a._uU(2,"Unidentified"),a.qZA()())}function Ew(m,l){if(1&m&&(a.TgZ(0,"div",44)(1,"strong"),a._uU(2,"Conservation Status: "),a.qZA(),a.TgZ(3,"span"),a._uU(4),a.ALo(5,"titlecase"),a.qZA()()),2&m){const d=a.oxw(2);a.xp6(4),a.Oqu(a.lcZ(5,1,null==d.taxonSummary?null:d.taxonSummary.conservation_status.iucn_status.replace("_"," ")))}}function Qp(m,l){if(1&m&&(a.TgZ(0,"div",44)(1,"span"),a._uU(2),a.qZA(),a._uU(3," in "),a.TgZ(4,"span"),a._uU(5),a.qZA()()),2&m){const d=a.oxw(2);a.xp6(2),a.Oqu(null==d.taxonSummary?null:d.taxonSummary.listed_taxon.establishment_means_label),a.xp6(3),a.Oqu(null==d.taxonSummary?null:d.taxonSummary.listed_taxon.place.display_name)}}function ab(m,l){if(1&m&&a._UZ(0,"img",45),2&m){const d=a.oxw(2);a.Q6J("src",d.observation.user.icon||"assets/default.png",a.LSH)}}function lb(m,l){if(1&m&&(a.TgZ(0,"h6",46),a._uU(1),a.qZA()),2&m){const d=a.oxw(2);a.xp6(1),a.Oqu(d.observation.user.login)}}function w_(m,l){1&m&&(a.TgZ(0,"h6"),a._uU(1,"Observation Notes"),a.qZA())}function cb(m,l){if(1&m&&a._UZ(0,"div",47),2&m){const d=a.oxw(2);a.Q6J("innerHTML",d.observation.description,a.oJD)}}function La(m,l){if(1&m&&(a.TgZ(0,"div",15),a._uU(1),a.ALo(2,"date"),a.qZA()),2&m){const d=a.oxw(2);a.xp6(1),a.hij(" Observed on ",a.Dn7(2,1,d.observation.time_observed_at,"MMM d, y h:mm a z",d.observation.time_zone_offset),"")}}function $h(m,l){if(1&m&&(a.TgZ(0,"div",15),a._uU(1),a.ALo(2,"date"),a.qZA()),2&m){const d=a.oxw(2);a.xp6(1),a.hij(" Posted on ",a.Dn7(2,1,d.observation.created_at,"MMM d, y h:mm a z",d.observation.created_at.substring(d.observation.created_at.length-6)),"")}}function rs(m,l){if(1&m&&(a.TgZ(0,"div",15),a._UZ(1,"cds-icon",48),a._uU(2),a.qZA()),2&m){const d=a.oxw(2);a.xp6(2),a.lnq(" ",d.observation.place_guess," ",d.observation.location," ",d.observation.obscured?"(obscured)":""," ")}}function Xc(m,l){if(1&m&&a._UZ(0,"app-map",49),2&m){const d=a.oxw(2);a.Q6J("taxon",null==d.observation.taxon?null:d.observation.taxon.id)("displayObsLayer",!0)("geojson",d.observation.geojson)("exceptID",d.observation.uuid)}}function Jp(m,l){1&m&&(a.TgZ(0,"h6"),a._uU(1,"Tags"),a.qZA())}function Vo(m,l){if(1&m&&(a.TgZ(0,"label",50),a._uU(1),a.qZA()),2&m){const d=l.$implicit;a.xp6(1),a.Oqu(d)}}function D_(m,l){1&m&&(a.TgZ(0,"h6"),a._uU(1,"Projects"),a.qZA())}function ld(m,l){if(1&m&&a._UZ(0,"img",53),2&m){const d=a.oxw().$implicit;a.Q6J("src",d.project.icon,a.LSH)}}const cd=function(m){return["/projects",m]};function ud(m,l){if(1&m&&(a.TgZ(0,"div"),a.YNc(1,ld,1,1,"img",51),a.TgZ(2,"span",52),a._uU(3),a.qZA()()),2&m){const d=l.$implicit;a.xp6(1),a.Q6J("urlify",a.VKq(2,cd,d.project.slug)),a.xp6(2),a.Oqu(d.project.title)}}function dd(m,l){1&m&&(a.TgZ(0,"span"),a._uU(1,"iNaturalist"),a.qZA())}const eu=function(m){return["/naturalist",m]},hd=function(){return["wild","evidence","recent","location","date"]};function fd(m,l){if(1&m){const d=a.EpF();a.TgZ(0,"div",2)(1,"div",3),a._UZ(2,"app-carousel",4)(3,"app-album",4),a.qZA(),a.TgZ(4,"div",5)(5,"div",6),a.YNc(6,by,3,6,"div",7),a.YNc(7,Sy,3,0,"ng-template",null,8,a.W1O),a.TgZ(9,"button",9),a._uU(10),a.qZA()(),a.YNc(11,Ew,6,3,"div",10),a.YNc(12,Qp,6,2,"div",10),a.TgZ(13,"div",11)(14,"div",12),a.YNc(15,ab,1,1,"img",13),a.TgZ(16,"div"),a.YNc(17,lb,2,1,"h6",14),a.TgZ(18,"p",15),a._uU(19),a.ALo(20,"intWord"),a.qZA()()(),a.TgZ(21,"div",16)(22,"div")(23,"button",17,18),a.NdJ("click",function(){a.CHM(d);const C=a.MAs(24),S=a.oxw();return a.KtG(S.fave(C))}),a._UZ(25,"cds-icon",19),a.qZA(),a.TgZ(26,"h6"),a._uU(27),a.qZA()(),a.TgZ(28,"div",20),a.NdJ("click",function(){a.CHM(d);const C=a.oxw();return a.KtG(C.share())}),a.TgZ(29,"button",21),a._UZ(30,"cds-icon",22),a.qZA(),a.TgZ(31,"h6"),a._uU(32,"Share"),a.qZA()()()(),a.TgZ(33,"div",23)(34,"div",24)(35,"div",25)(36,"h6"),a._uU(37,"Activity"),a.qZA(),a._UZ(38,"app-comments",26),a.qZA()(),a.TgZ(39,"div",27),a.YNc(40,w_,2,0,"h6",28),a.YNc(41,cb,1,1,"div",29),a.TgZ(42,"div",30),a.YNc(43,La,3,5,"div",31),a.YNc(44,$h,3,5,"div",31),a.YNc(45,rs,3,3,"div",31),a.qZA(),a.YNc(46,Xc,1,4,"app-map",32),a.YNc(47,Jp,2,0,"h6",28),a.TgZ(48,"div"),a.YNc(49,Vo,2,1,"label",33),a.qZA(),a.TgZ(50,"h6"),a._uU(51,"Quality Metric"),a.qZA(),a.TgZ(52,"div",34),a._UZ(53,"app-quality-metric",35),a.qZA(),a.YNc(54,D_,2,0,"h6",28),a.TgZ(55,"div",36),a.YNc(56,ud,4,4,"div",37),a.qZA()()()(),a.TgZ(57,"div",38)(58,"div",15),a._uU(59," View observation in "),a.YNc(60,dd,2,0,"span",39),a.qZA()()()}if(2&m){const d=a.MAs(8),g=a.oxw();let C;a.xp6(2),a.Q6J("photos",g.observation.photos),a.xp6(1),a.Q6J("photos",g.observation.photos),a.xp6(3),a.Q6J("ngIf",g.observation.taxon)("ngIfElse",d),a.xp6(3),a.ekj("btn-success","research grade"==g.observation.quality_grade)("btn-warning","needs_id"==g.observation.quality_grade),a.xp6(1),a.hij(" ",g.observation.quality_grade.replace("_"," ")," "),a.xp6(1),a.Q6J("ngIf",null==g.taxonSummary?null:g.taxonSummary.conservation_status),a.xp6(1),a.Q6J("ngIf",null==g.taxonSummary?null:g.taxonSummary.listed_taxon),a.xp6(3),a.Q6J("urlify",a.VKq(37,eu,g.observation.user.login)),a.xp6(2),a.Q6J("urlify",a.VKq(39,eu,g.observation.user.login)),a.xp6(2),a.hij("",a.lcZ(20,35,g.observation.user.observations_count)," observations"),a.xp6(4),a.Q6J("disabled",g.authService.isExpired),a.xp6(2),a.uIk("solid",g.isFaved()),a.xp6(2),a.Oqu(g.observation.faves_count),a.xp6(11),a.Q6J("comments",g.observation.comments)("identifications",g.observation.identifications)("uuid",g.observation.uuid)("auto",!0),a.xp6(2),a.Q6J("ngIf",g.observation.description),a.xp6(1),a.Q6J("ngIf",g.observation.description),a.xp6(2),a.Q6J("ngIf",g.observation.time_observed_at),a.xp6(1),a.Q6J("ngIf",g.observation.created_at),a.xp6(1),a.Q6J("ngIf",g.observation.place_guess||g.observation.location),a.xp6(1),a.Q6J("ngIf",g.observation.geojson),a.xp6(1),a.Q6J("ngIf",g.observation.tags.length),a.xp6(2),a.Q6J("ngForOf",g.observation.tags),a.xp6(4),a.Q6J("qualityMetric",g.observation.quality_metrics)("uuid",g.observation.uuid)("metric",a.DdM(41,hd)),a.xp6(1),a.Q6J("ngIf",g.observation.project_observations.length),a.xp6(2),a.Q6J("ngForOf",g.observation.project_observations),a.xp6(4),a.Q6J("urlify",null!==(C=g.observation.uri)&&void 0!==C?C:"")}}let pd=(()=>{class m{constructor(d){this.location=d,this.route=(0,a.f3M)(W.gz),this.inaturalistService=(0,a.f3M)(Le.E),this.authService=(0,a.f3M)(Je.Z),this.uuid=this.route.snapshot.params.uuid;let g=this.location.prepareExternalUrl("/assets/");fetch(`${g}share.svg`).then(C=>{C.text().then(S=>{te.Q.addIcons(["share",S])})}),te.Q.addIcons(zt)}ngOnInit(){this.inaturalistService.getObservationsByUUID([this.uuid]).then(d=>{this.observation=d.pop(),"research"==this.observation?.quality_grade&&(this.observation.quality_grade="research grade")}),this.inaturalistService.getObservationTaxonSummaryByUUID(this.uuid).then(d=>{this.taxonSummary=d})}fave(d){if(this.observation){d.loadingStateChange(Ae.xp5.LOADING);let g=!this.isFaved();this.inaturalistService.fave(this.observation?.uuid,g).then(C=>{if(g&&this.observation)this.observation.faves.push({id:0,user_id:this.authService.me?.id??0}),this.observation.faves_count++;else{let S=this.observation?.faves.findIndex(E=>E.user_id==this.authService.me?.id)??-1;S>=0&&this.observation&&(this.observation.faves.splice(S,1),this.observation.faves_count--)}}).finally(()=>{d.loadingStateChange(Ae.xp5.DEFAULT)})}}isFaved(){return!!this.observation?.faves.find(d=>d.user_id==this.authService.me?.id)}share(){let d={title:"Observation",text:"",url:this.observation?.uri};navigator.canShare(d)&&navigator.share(d)}}return m.\u0275fac=function(d){return new(d||m)(a.Y36(ye.Ye))},m.\u0275cmp=a.Xpm({type:m,selectors:[["app-observation"]],standalone:!0,features:[a.jDz],decls:2,vars:1,consts:[["title","Observation",1,"sticky-top"],["class","container",4,"ngIf"],[1,"container"],[1,"album"],[3,"photos"],[1,"sub-header"],[1,"taxon-grade"],["class","taxon",4,"ngIf","ngIfElse"],["unknown",""],[1,"btn","btn-sm"],["class","description p5",4,"ngIf"],[1,"naturalist-action"],[1,"naturalist"],["class","naturalist-icon",3,"src",4,"urlify"],["class","naturalist-login",4,"urlify"],[1,"p5"],[1,"actions"],["clrLoading","",1,"btn","btn-icon","btn-link",3,"disabled","click"],["b",""],["shape","star","size","md"],[3,"click"],[1,"btn","btn-icon","btn-link"],["shape","share","size","md"],[1,"two-part"],[1,"description-activity"],[1,"activity"],[3,"comments","identifications","uuid","auto"],[1,"obs-meta-map"],[4,"ngIf"],["class","p5 description",3,"innerHTML",4,"ngIf"],[1,"obs-meta"],["class","p5",4,"ngIf"],["class","map",3,"taxon","displayObsLayer","geojson","exceptID",4,"ngIf"],["class","label clickable",4,"ngFor","ngForOf"],[1,"quality-metric"],[3,"qualityMetric","uuid","metric"],[1,"projects"],[4,"ngFor","ngForOf"],[1,"footer"],[4,"urlify"],[1,"taxon"],["class","m-0",4,"urlify"],["class","m-0","class","p5",4,"urlify"],[1,"m-0"],[1,"description","p5"],[1,"naturalist-icon",3,"src"],[1,"naturalist-login"],[1,"p5","description",3,"innerHTML"],["shape","map-marker","size","sm"],[1,"map",3,"taxon","displayObsLayer","geojson","exceptID"],[1,"label","clickable"],["class","project-icon",3,"src",4,"urlify"],[1,"p4"],[1,"project-icon",3,"src"]],template:function(d,g){1&d&&(a._UZ(0,"app-header",0),a.YNc(1,fd,61,42,"div",1)),2&d&&(a.xp6(1),a.Q6J("ngIf",g.observation))},dependencies:[ye.ez,ye.sg,ye.O5,ye.rS,ye.uU,zn,pi,sr.CommentsComponent,Ae.K6A,Ae.nkF,Ae.cCV,Ae.MPb,Ae.MgK,un.L,Kp,Yn,pr,Ks],styles:[".container[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;max-width:1200px;margin:auto}.album[_ngcontent-%COMP%]{width:100%;position:relative;padding:0 .6rem}@media screen and (min-width: 768px){app-album[_ngcontent-%COMP%]{display:block}app-carousel[_ngcontent-%COMP%]{display:none!important}.container[_ngcontent-%COMP%]{padding-right:5rem}}@media screen and (max-width: 768px){.album[_ngcontent-%COMP%]{height:100vw;padding:0}app-album[_ngcontent-%COMP%]{display:none}app-carousel[_ngcontent-%COMP%]{display:block}}.sub-header[_ngcontent-%COMP%]{width:100%;padding:0 .6rem}.quality-metric[_ngcontent-%COMP%]{overflow:hidden;display:-webkit-box;-webkit-box-orient:vertical}.display-inline[_ngcontent-%COMP%]{display:inline!important}.taxon-grade[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap;align-items:center;margin-top:.6rem}.taxon-grade[_ngcontent-%COMP%] > .btn[_ngcontent-%COMP%]{margin:0}.taxon[_ngcontent-%COMP%]{flex:auto}.taxon[_ngcontent-%COMP%] > h3[_ngcontent-%COMP%], .p5[_ngcontent-%COMP%]{margin-top:0!important}.naturalist-action[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap;margin-top:.6rem}.naturalist[_ngcontent-%COMP%]{flex:auto;display:flex;align-items:center}.naturalist-login[_ngcontent-%COMP%]{margin-top:0!important}.naturalist[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{margin-top:0!important}.naturalist-icon[_ngcontent-%COMP%]{width:2rem;height:2rem;object-fit:cover;border-radius:50%;margin-right:.6rem}.actions[_ngcontent-%COMP%]{display:flex}.actions[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;padding:.3rem;align-items:center}.btn-icon[_ngcontent-%COMP%]{padding:0;margin:0}.actions[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > h6[_ngcontent-%COMP%]{margin-top:0}.actions[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover{cursor:pointer}.obs-meta[_ngcontent-%COMP%] > .p5[_ngcontent-%COMP%]{margin-top:0!important}.description[_ngcontent-%COMP%]{margin-bottom:.3rem!important}.description-activity[_ngcontent-%COMP%]{flex:1 1 15rem;max-width:100%}.description[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{text-decoration:unset}.activity[_ngcontent-%COMP%]{width:100%;flex:auto}.activity[_ngcontent-%COMP%] > h6[_ngcontent-%COMP%]{margin-top:.6rem}.activity[_ngcontent-%COMP%] > app-comments[_ngcontent-%COMP%]{max-height:90dvh}.obs-meta-map[_ngcontent-%COMP%] > h6[_ngcontent-%COMP%]{margin-top:.6rem}.two-part[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap-reverse;gap:.6rem}.footer[_ngcontent-%COMP%]{padding:.6rem}.p5[_ngcontent-%COMP%]{line-height:.8rem!important}.obs-meta-map[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex:1 1 min-content}.obs-meta[_ngcontent-%COMP%]{flex:0 1 fit-content;max-width:100%;padding:0 .3rem 0 0}.map[_ngcontent-%COMP%]{width:100%;height:8rem;display:block}.projects[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{padding:.3rem 0;display:block}.projects[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:hover{background-color:var(--clr-color-action-50);cursor:pointer}.project-icon[_ngcontent-%COMP%]{height:1.5rem;width:1.5rem;object-fit:cover;border-radius:.2rem;margin-right:.3rem}"]}),m})();var gd=L(2572),Wr=L(7398);function wy(m,l){if(1&m&&(a.TgZ(0,"span",7),a._UZ(1,"br"),a._uU(2),a.qZA()),2&m){const d=a.oxw(3);a.xp6(2),a.hij("",d.observation.taxon.preferred_common_name," ")}}function Dy(m,l){if(1&m&&(a.TgZ(0,"div",5)(1,"em"),a._uU(2),a.qZA(),a.YNc(3,wy,3,1,"span",6),a.qZA()),2&m){const d=a.oxw(2);a.xp6(2),a.Oqu(d.observation.taxon.name),a.xp6(1),a.Q6J("ngIf",d.observation.taxon.preferred_common_name)}}function Ey(m,l){1&m&&(a.TgZ(0,"div",5),a._uU(1,"Unidentified"),a.qZA())}function xy(m,l){if(1&m&&(a.TgZ(0,"div",1),a._UZ(1,"img",2),a.YNc(2,Dy,4,2,"div",3),a.YNc(3,Ey,2,0,"ng-template",null,4,a.W1O),a.qZA()),2&m){const d=a.MAs(4),g=a.oxw();a.xp6(1),a.Q6J("src",g.photo.url,a.LSH)("width",g.photo.original_dimensions.width)("height",g.photo.original_dimensions.height),a.xp6(1),a.Q6J("ngIf",g.observation.taxon)("ngIfElse",d)}}let Ty=(()=>{class m{constructor(){}ngOnInit(){if(this.observation.photos.length){let d=Math.floor(Math.random()*this.observation.photos.length);this.photo=this.observation.photos[d]}}}return m.\u0275fac=function(d){return new(d||m)},m.\u0275cmp=a.Xpm({type:m,selectors:[["app-observation-mini"]],inputs:{observation:"observation"},standalone:!0,features:[a.jDz],decls:1,vars:1,consts:[["class","container",4,"ngIf"],[1,"container"],[3,"src","width","height"],["class","taxon hover-label",4,"ngIf","ngIfElse"],["unidentified",""],[1,"taxon","hover-label"],["class","common-name",4,"ngIf"],[1,"common-name"]],template:function(d,g){1&d&&a.YNc(0,xy,5,5,"div",0),2&d&&a.Q6J("ngIf",g.observation)},dependencies:[ye.ez,ye.O5],styles:["img[_ngcontent-%COMP%]{height:100%;width:100%;object-fit:cover;max-height:100%}.container[_ngcontent-%COMP%]{width:100%;height:100%;position:relative}.container[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{filter:brightness(70%);cursor:pointer}.taxon[_ngcontent-%COMP%]{top:0;right:0;text-align:end}.common-name[_ngcontent-%COMP%]{font-size:x-small}.container[_ngcontent-%COMP%]:hover   .hover-label[_ngcontent-%COMP%]{visibility:visible}.hover-label[_ngcontent-%COMP%] > h6[_ngcontent-%COMP%]{color:#fff;margin:0}.hover-label[_ngcontent-%COMP%]{visibility:hidden;text-shadow:.05rem .05rem .08rem black;color:#fff;position:absolute;z-index:5;line-height:.7rem;margin:.2rem;padding:.1rem;font-size:.7rem;font-weight:500;font-family:var(--clr-h6-font-family)}"]}),m})();var E_=L(9360),x_=L(8251),T_=L(4829),I_=L(2737),Iy=L(2420),xw=L(9940);function ub(...m){const l=(0,xw.jO)(m);return(0,E_.e)((d,g)=>{const C=m.length,S=new Array(C);let E=m.map(()=>!1),T=!1;for(let M=0;M<C;M++)(0,T_.Xf)(m[M]).subscribe((0,x_.x)(g,N=>{S[M]=N,!T&&!E[M]&&(E[M]=!0,(T=E.every(I_.y))&&(E=null))},Iy.Z));d.subscribe((0,x_.x)(g,M=>{if(T){const N=[M,...S];g.next(l?l(...N):N)}}))})}var M_=L(9397),md=L(2096),Tw=L(6699),Xp=L(5592),Iw=L(6328),db=L(4716);class eg{}class tg{}class Bo{constructor(l){this.normalizedNames=new Map,this.lazyUpdate=null,l?"string"==typeof l?this.lazyInit=()=>{this.headers=new Map,l.split("\n").forEach(d=>{const g=d.indexOf(":");if(g>0){const C=d.slice(0,g),S=C.toLowerCase(),E=d.slice(g+1).trim();this.maybeSetNormalizedName(C,S),this.headers.has(S)?this.headers.get(S).push(E):this.headers.set(S,[E])}})}:typeof Headers<"u"&&l instanceof Headers?(this.headers=new Map,l.forEach((d,g)=>{this.setHeaderEntries(g,d)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(l).forEach(([d,g])=>{this.setHeaderEntries(d,g)})}:this.headers=new Map}has(l){return this.init(),this.headers.has(l.toLowerCase())}get(l){this.init();const d=this.headers.get(l.toLowerCase());return d&&d.length>0?d[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(l){return this.init(),this.headers.get(l.toLowerCase())||null}append(l,d){return this.clone({name:l,value:d,op:"a"})}set(l,d){return this.clone({name:l,value:d,op:"s"})}delete(l,d){return this.clone({name:l,value:d,op:"d"})}maybeSetNormalizedName(l,d){this.normalizedNames.has(d)||this.normalizedNames.set(d,l)}init(){this.lazyInit&&(this.lazyInit instanceof Bo?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(l=>this.applyUpdate(l)),this.lazyUpdate=null))}copyFrom(l){l.init(),Array.from(l.headers.keys()).forEach(d=>{this.headers.set(d,l.headers.get(d)),this.normalizedNames.set(d,l.normalizedNames.get(d))})}clone(l){const d=new Bo;return d.lazyInit=this.lazyInit&&this.lazyInit instanceof Bo?this.lazyInit:this,d.lazyUpdate=(this.lazyUpdate||[]).concat([l]),d}applyUpdate(l){const d=l.name.toLowerCase();switch(l.op){case"a":case"s":let g=l.value;if("string"==typeof g&&(g=[g]),0===g.length)return;this.maybeSetNormalizedName(l.name,d);const C=("a"===l.op?this.headers.get(d):void 0)||[];C.push(...g),this.headers.set(d,C);break;case"d":const S=l.value;if(S){let E=this.headers.get(d);if(!E)return;E=E.filter(T=>-1===S.indexOf(T)),0===E.length?(this.headers.delete(d),this.normalizedNames.delete(d)):this.headers.set(d,E)}else this.headers.delete(d),this.normalizedNames.delete(d)}}setHeaderEntries(l,d){const g=(Array.isArray(d)?d:[d]).map(S=>S.toString()),C=l.toLowerCase();this.headers.set(C,g),this.maybeSetNormalizedName(l,C)}forEach(l){this.init(),Array.from(this.normalizedNames.keys()).forEach(d=>l(this.normalizedNames.get(d),this.headers.get(d)))}}class A_{encodeKey(l){return O_(l)}encodeValue(l){return O_(l)}decodeKey(l){return decodeURIComponent(l)}decodeValue(l){return decodeURIComponent(l)}}const My=/%(\d[a-f0-9])/gi,qh={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function O_(m){return encodeURIComponent(m).replace(My,(l,d)=>qh[d]??l)}function rg(m){return`${m}`}class Ls{constructor(l={}){if(this.updates=null,this.cloneFrom=null,this.encoder=l.encoder||new A_,l.fromString){if(l.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function ig(m,l){const d=new Map;return m.length>0&&m.replace(/^\?/,"").split("&").forEach(C=>{const S=C.indexOf("="),[E,T]=-1==S?[l.decodeKey(C),""]:[l.decodeKey(C.slice(0,S)),l.decodeValue(C.slice(S+1))],M=d.get(E)||[];M.push(T),d.set(E,M)}),d}(l.fromString,this.encoder)}else l.fromObject?(this.map=new Map,Object.keys(l.fromObject).forEach(d=>{const g=l.fromObject[d],C=Array.isArray(g)?g.map(rg):[rg(g)];this.map.set(d,C)})):this.map=null}has(l){return this.init(),this.map.has(l)}get(l){this.init();const d=this.map.get(l);return d?d[0]:null}getAll(l){return this.init(),this.map.get(l)||null}keys(){return this.init(),Array.from(this.map.keys())}append(l,d){return this.clone({param:l,value:d,op:"a"})}appendAll(l){const d=[];return Object.keys(l).forEach(g=>{const C=l[g];Array.isArray(C)?C.forEach(S=>{d.push({param:g,value:S,op:"a"})}):d.push({param:g,value:C,op:"a"})}),this.clone(d)}set(l,d){return this.clone({param:l,value:d,op:"s"})}delete(l,d){return this.clone({param:l,value:d,op:"d"})}toString(){return this.init(),this.keys().map(l=>{const d=this.encoder.encodeKey(l);return this.map.get(l).map(g=>d+"="+this.encoder.encodeValue(g)).join("&")}).filter(l=>""!==l).join("&")}clone(l){const d=new Ls({encoder:this.encoder});return d.cloneFrom=this.cloneFrom||this,d.updates=(this.updates||[]).concat(l),d}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(l=>this.map.set(l,this.cloneFrom.map.get(l))),this.updates.forEach(l=>{switch(l.op){case"a":case"s":const d=("a"===l.op?this.map.get(l.param):void 0)||[];d.push(rg(l.value)),this.map.set(l.param,d);break;case"d":if(void 0===l.value){this.map.delete(l.param);break}{let g=this.map.get(l.param)||[];const C=g.indexOf(rg(l.value));-1!==C&&g.splice(C,1),g.length>0?this.map.set(l.param,g):this.map.delete(l.param)}}}),this.cloneFrom=this.updates=null)}}class Mw{constructor(){this.map=new Map}set(l,d){return this.map.set(l,d),this}get(l){return this.map.has(l)||this.map.set(l,l.defaultValue()),this.map.get(l)}delete(l){return this.map.delete(l),this}has(l){return this.map.has(l)}keys(){return this.map.keys()}}function _d(m){return typeof ArrayBuffer<"u"&&m instanceof ArrayBuffer}function ai(m){return typeof Blob<"u"&&m instanceof Blob}function vd(m){return typeof FormData<"u"&&m instanceof FormData}class sg{constructor(l,d,g,C){let S;if(this.url=d,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=l.toUpperCase(),function Qn(m){switch(m){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||C?(this.body=void 0!==g?g:null,S=C):S=g,S&&(this.reportProgress=!!S.reportProgress,this.withCredentials=!!S.withCredentials,S.responseType&&(this.responseType=S.responseType),S.headers&&(this.headers=S.headers),S.context&&(this.context=S.context),S.params&&(this.params=S.params)),this.headers||(this.headers=new Bo),this.context||(this.context=new Mw),this.params){const E=this.params.toString();if(0===E.length)this.urlWithParams=d;else{const T=d.indexOf("?");this.urlWithParams=d+(-1===T?"?":T<d.length-1?"&":"")+E}}else this.params=new Ls,this.urlWithParams=d}serializeBody(){return null===this.body?null:_d(this.body)||ai(this.body)||vd(this.body)||function Or(m){return typeof URLSearchParams<"u"&&m instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Ls?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||vd(this.body)?null:ai(this.body)?this.body.type||null:_d(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ls?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(l={}){const d=l.method||this.method,g=l.url||this.url,C=l.responseType||this.responseType,S=void 0!==l.body?l.body:this.body,E=void 0!==l.withCredentials?l.withCredentials:this.withCredentials,T=void 0!==l.reportProgress?l.reportProgress:this.reportProgress;let M=l.headers||this.headers,N=l.params||this.params;const z=l.context??this.context;return void 0!==l.setHeaders&&(M=Object.keys(l.setHeaders).reduce((J,X)=>J.set(X,l.setHeaders[X]),M)),l.setParams&&(N=Object.keys(l.setParams).reduce((J,X)=>J.set(X,l.setParams[X]),N)),new sg(d,g,S,{params:N,headers:M,context:z,reportProgress:T,responseType:C,withCredentials:E})}}var Ln=(()=>((Ln=Ln||{})[Ln.Sent=0]="Sent",Ln[Ln.UploadProgress=1]="UploadProgress",Ln[Ln.ResponseHeader=2]="ResponseHeader",Ln[Ln.DownloadProgress=3]="DownloadProgress",Ln[Ln.Response=4]="Response",Ln[Ln.User=5]="User",Ln))();class og{constructor(l,d=200,g="OK"){this.headers=l.headers||new Bo,this.status=void 0!==l.status?l.status:d,this.statusText=l.statusText||g,this.url=l.url||null,this.ok=this.status>=200&&this.status<300}}class Rr extends og{constructor(l={}){super(l),this.type=Ln.ResponseHeader}clone(l={}){return new Rr({headers:l.headers||this.headers,status:void 0!==l.status?l.status:this.status,statusText:l.statusText||this.statusText,url:l.url||this.url||void 0})}}class ss extends og{constructor(l={}){super(l),this.type=Ln.Response,this.body=void 0!==l.body?l.body:null}clone(l={}){return new ss({body:void 0!==l.body?l.body:this.body,headers:l.headers||this.headers,status:void 0!==l.status?l.status:this.status,statusText:l.statusText||this.statusText,url:l.url||this.url||void 0})}}class R_ extends og{constructor(l){super(l,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${l.url||"(unknown url)"}`:`Http failure response for ${l.url||"(unknown url)"}: ${l.status} ${l.statusText}`,this.error=l.error||null}}function P_(m,l){return{body:l,headers:m.headers,context:m.context,observe:m.observe,params:m.params,reportProgress:m.reportProgress,responseType:m.responseType,withCredentials:m.withCredentials}}let ag=(()=>{class m{constructor(d){this.handler=d}request(d,g,C={}){let S;if(d instanceof sg)S=d;else{let M,N;M=C.headers instanceof Bo?C.headers:new Bo(C.headers),C.params&&(N=C.params instanceof Ls?C.params:new Ls({fromObject:C.params})),S=new sg(d,g,void 0!==C.body?C.body:null,{headers:M,context:C.context,params:N,reportProgress:C.reportProgress,responseType:C.responseType||"json",withCredentials:C.withCredentials})}const E=(0,md.of)(S).pipe((0,Iw.b)(M=>this.handler.handle(M)));if(d instanceof sg||"events"===C.observe)return E;const T=E.pipe((0,ce.h)(M=>M instanceof ss));switch(C.observe||"body"){case"body":switch(S.responseType){case"arraybuffer":return T.pipe((0,Wr.U)(M=>{if(null!==M.body&&!(M.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return M.body}));case"blob":return T.pipe((0,Wr.U)(M=>{if(null!==M.body&&!(M.body instanceof Blob))throw new Error("Response is not a Blob.");return M.body}));case"text":return T.pipe((0,Wr.U)(M=>{if(null!==M.body&&"string"!=typeof M.body)throw new Error("Response is not a string.");return M.body}));default:return T.pipe((0,Wr.U)(M=>M.body))}case"response":return T;default:throw new Error(`Unreachable: unhandled observe type ${C.observe}}`)}}delete(d,g={}){return this.request("DELETE",d,g)}get(d,g={}){return this.request("GET",d,g)}head(d,g={}){return this.request("HEAD",d,g)}jsonp(d,g){return this.request("JSONP",d,{params:(new Ls).append(g,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(d,g={}){return this.request("OPTIONS",d,g)}patch(d,g,C={}){return this.request("PATCH",d,P_(C,g))}post(d,g,C={}){return this.request("POST",d,P_(C,g))}put(d,g,C={}){return this.request("PUT",d,P_(C,g))}}return m.\u0275fac=function(d){return new(d||m)(a.LFG(eg))},m.\u0275prov=a.Yz7({token:m,factory:m.\u0275fac}),m})();function lg(m,l){return l(m)}const oo=new a.OlP(""),Kh=new a.OlP("");let mb=(()=>{class m extends eg{constructor(d,g){super(),this.backend=d,this.injector=g,this.chain=null,this.pendingTasks=(0,a.f3M)(a.HDt)}handle(d){if(null===this.chain){const C=Array.from(new Set([...this.injector.get(oo),...this.injector.get(Kh,[])]));this.chain=C.reduceRight((S,E)=>function pb(m,l,d){return(g,C)=>d.runInContext(()=>l(g,S=>m(S,C)))}(S,E,this.injector),lg)}const g=this.pendingTasks.add();return this.chain(d,C=>this.backend.handle(C)).pipe((0,db.x)(()=>this.pendingTasks.remove(g)))}}return m.\u0275fac=function(d){return new(d||m)(a.LFG(tg),a.LFG(a.lqb))},m.\u0275prov=a.Yz7({token:m,factory:m.\u0275fac}),m})();const Oy=/^\)\]\}',?\n/;let Ft=(()=>{class m{constructor(d){this.xhrFactory=d}handle(d){if("JSONP"===d.method)throw new a.vHH(-2800,!1);const g=this.xhrFactory;return(g.\u0275loadImpl?(0,ns.D)(g.\u0275loadImpl()):(0,md.of)(null)).pipe((0,St.w)(()=>new Xp.y(S=>{const E=g.build();if(E.open(d.method,d.urlWithParams),d.withCredentials&&(E.withCredentials=!0),d.headers.forEach((be,Me)=>E.setRequestHeader(be,Me.join(","))),d.headers.has("Accept")||E.setRequestHeader("Accept","application/json, text/plain, */*"),!d.headers.has("Content-Type")){const be=d.detectContentTypeHeader();null!==be&&E.setRequestHeader("Content-Type",be)}if(d.responseType){const be=d.responseType.toLowerCase();E.responseType="json"!==be?be:"text"}const T=d.serializeBody();let M=null;const N=()=>{if(null!==M)return M;const be=E.statusText||"OK",Me=new Bo(E.getAllResponseHeaders()),Ne=function V_(m){return"responseURL"in m&&m.responseURL?m.responseURL:/^X-Request-URL:/m.test(m.getAllResponseHeaders())?m.getResponseHeader("X-Request-URL"):null}(E)||d.url;return M=new Rr({headers:Me,status:E.status,statusText:be,url:Ne}),M},z=()=>{let{headers:be,status:Me,statusText:Ne,url:We}=N(),Ye=null;204!==Me&&(Ye=typeof E.response>"u"?E.responseText:E.response),0===Me&&(Me=Ye?200:0);let Xe=Me>=200&&Me<300;if("json"===d.responseType&&"string"==typeof Ye){const gt=Ye;Ye=Ye.replace(Oy,"");try{Ye=""!==Ye?JSON.parse(Ye):null}catch(Mt){Ye=gt,Xe&&(Xe=!1,Ye={error:Mt,text:Ye})}}Xe?(S.next(new ss({body:Ye,headers:be,status:Me,statusText:Ne,url:We||void 0})),S.complete()):S.error(new R_({error:Ye,headers:be,status:Me,statusText:Ne,url:We||void 0}))},J=be=>{const{url:Me}=N(),Ne=new R_({error:be,status:E.status||0,statusText:E.statusText||"Unknown Error",url:Me||void 0});S.error(Ne)};let X=!1;const fe=be=>{X||(S.next(N()),X=!0);let Me={type:Ln.DownloadProgress,loaded:be.loaded};be.lengthComputable&&(Me.total=be.total),"text"===d.responseType&&E.responseText&&(Me.partialText=E.responseText),S.next(Me)},ve=be=>{let Me={type:Ln.UploadProgress,loaded:be.loaded};be.lengthComputable&&(Me.total=be.total),S.next(Me)};return E.addEventListener("load",z),E.addEventListener("error",J),E.addEventListener("timeout",J),E.addEventListener("abort",J),d.reportProgress&&(E.addEventListener("progress",fe),null!==T&&E.upload&&E.upload.addEventListener("progress",ve)),E.send(T),S.next({type:Ln.Sent}),()=>{E.removeEventListener("error",J),E.removeEventListener("abort",J),E.removeEventListener("load",z),E.removeEventListener("timeout",J),d.reportProgress&&(E.removeEventListener("progress",fe),null!==T&&E.upload&&E.upload.removeEventListener("progress",ve)),E.readyState!==E.DONE&&E.abort()}})))}}return m.\u0275fac=function(d){return new(d||m)(a.LFG(ye.JF))},m.\u0275prov=a.Yz7({token:m,factory:m.\u0275fac}),m})();const Pr=new a.OlP("XSRF_ENABLED"),Qh=new a.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),Ei=new a.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class iu{}let Cd=(()=>{class m{constructor(d,g,C){this.doc=d,this.platform=g,this.cookieName=C,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const d=this.doc.cookie||"";return d!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,ye.Mx)(d,this.cookieName),this.lastCookieString=d),this.lastToken}}return m.\u0275fac=function(d){return new(d||m)(a.LFG(ye.K0),a.LFG(a.Lbi),a.LFG(Qh))},m.\u0275prov=a.Yz7({token:m,factory:m.\u0275fac}),m})();function dg(m,l){const d=m.url.toLowerCase();if(!(0,a.f3M)(Pr)||"GET"===m.method||"HEAD"===m.method||d.startsWith("http://")||d.startsWith("https://"))return l(m);const g=(0,a.f3M)(iu).getToken(),C=(0,a.f3M)(Ei);return null!=g&&!m.headers.has(C)&&(m=m.clone({headers:m.headers.set(C,g)})),l(m)}var ur=L(8504),Cs=L(6306),Qi=L(9211);let B_=(()=>{class m{constructor(d,g,C){this.http=d,this.authService=g,this.fieldConfig=C,this.baseURL="https://api.inaturalist.org",this.paths={observation:"/v2/observations",relationship:"/v2/relationships"}}handleError(d){return 0===d.status?console.error("An error occurred:",d.error):401==d.status?(this.authService.setExpired(),console.log("Token expired")):console.error(`Backend returned code ${d.status}, body was: `,d.error),(0,ur._)(()=>new Error("Something bad happened; please try again later."))}getRelationships(d){if(this.authService.isExpired)return new Xp.y;let g=this.authService.token,C=new Ls({fromObject:{fields:"all",following:"yes",order_by:"users.login",order:"asc"}});return d&&C.append("q",d),this.http.get(`${this.baseURL}${this.paths.relationship}`,{headers:{Authorization:g},params:C,responseType:"json"}).pipe((0,Cs.K)(this.handleError.bind(this)),(0,Wr.U)(S=>S.results))}getObservations(d){let g=new Ls({fromObject:{photo_licensed:!0,photos:!0,fields:this.fieldConfig.fields.observation}});if(d){Object.keys(d).forEach(S=>{d[S]&&g.append(S,d[S]?.toString()??""),d[S]=d[S]?.toString()});let C=Object.assign({},d);g=g.appendAll(C)}return this.http.get(`${this.baseURL}${this.paths.observation}`,{params:g,responseType:"json"}).pipe((0,Cs.K)(this.handleError.bind(this)),(0,Wr.U)(C=>{for(let S of C.results)if(S.photos)for(let E of S.photos)E.url=E.url.replace("square","medium");return C.results}))}}return m.\u0275fac=function(d){return new(d||m)(a.LFG(ag),a.LFG(Je.Z),a.LFG(Qi.c))},m.\u0275prov=a.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"}),m})();function Il(m,l){if(1&m){const d=a.EpF();a.TgZ(0,"app-gram",8),a.NdJ("intersected",function(){a.CHM(d);const C=a.oxw();return a.KtG(C.intersected())}),a.qZA()}if(2&m){const d=l.$implicit,g=l.last,C=a.oxw();a.ekj("last",g),a.Q6J("observation",d)("observe",g&&!C.loadingObs&&!C.end&&C.retrieveOnScroll)("id",d.id)}}function H_(m,l){if(1&m){const d=a.EpF();a.TgZ(0,"app-observation-mini",9,10),a.NdJ("click",function(){a.CHM(d);const C=a.MAs(1),S=a.oxw();return a.KtG(S.onObsClick(C))})("intersected",function(){a.CHM(d);const C=a.oxw();return a.KtG(C.intersected())}),a.qZA()}if(2&m){const d=l.$implicit,g=l.last,C=a.oxw();a.Q6J("observation",d)("observe",g&&!C.loadingObs&&!C.end&&C.retrieveOnScroll)}}function oa(m,l){1&m&&(a.TgZ(0,"span",11),a._uU(1," No observations "),a.qZA())}let Rw=(()=>{class m{constructor(){this.inatAPI=(0,a.f3M)(B_),this.loadingObs=!1,this.styled=!1,this.size=1,this.end=!1,this.noObs=!1,this.query$=new Es.X(null),this.nextPage$=new Es.X(1),this.obs$=this.nextPage$.pipe(ub(this.query$.pipe((0,ce.h)(d=>this.allowEmptyQuery||!!d))),(0,M_.b)(()=>{this.loadingObs=!0}),(0,St.w)(([d,g])=>{let C=Object.assign({},g);return C.page=d,0===d?(0,md.of)([]):this.inatAPI.getObservations(C)}),ub(this.nextPage$),(0,M_.b)(([d,g])=>{0==d.length&&(g>1?this.end=!0:1==g&&(this.noObs=!0)),0==g?this.nextPage$.next(1):this.loadingObs=!1}),(0,Tw.R)((d,[g,C])=>0===C?g:[...d,...g],[]),(0,Cn.B)())}set query(d){this.end=!1,this.noObs=!1,this.query$.next(d),this.nextPage$.next(0)}ngOnInit(){"cards"==this.style&&void 0===this.retrieveOnScroll&&(this.retrieveOnScroll=!0),this.max>0&&(this.retrieveOnScroll=!1),void 0===this.allowEmptyQuery&&(this.allowEmptyQuery=!0)}trackByItems(d,g){return g.id}intersected(){this.nextPage$.next(this.nextPage$.value+1)}onObsClick(d){this.style="cards";let g=document.getElementById(d.observation.id);setTimeout(()=>{g?.scrollIntoView(!0)},0)}}return m.\u0275fac=function(d){return new(d||m)},m.\u0275cmp=a.Xpm({type:m,selectors:[["app-observations"]],inputs:{max:"max",styled:"styled",size:"size",style:"style",allowEmptyQuery:"allowEmptyQuery",retrieveOnScroll:"retrieveOnScroll",query:"query"},standalone:!0,features:[a.jDz],decls:12,vars:13,consts:[[3,"hidden"],["appIntersectionObserver","",3,"observation","last","observe","id","intersected",4,"ngFor","ngForOf","ngForTrackBy"],["squareGrid","",1,"grid-container",3,"hidden"],["class","grid-item","appIntersectionObserver","",3,"observation","observe","click","intersected",4,"ngFor","ngForOf","ngForTrackBy"],[1,"spinner-container"],[1,"spinner","spinner-md",3,"hidden"],[1,"end","p5","mt-0",3,"hidden"],["class","end p5 mt-0",4,"ngIf"],["appIntersectionObserver","",3,"observation","observe","id","intersected"],["appIntersectionObserver","",1,"grid-item",3,"observation","observe","click","intersected"],["b",""],[1,"end","p5","mt-0"]],template:function(d,g){1&d&&(a.TgZ(0,"div",0),a.YNc(1,Il,1,5,"app-gram",1),a.ALo(2,"async"),a.qZA(),a.TgZ(3,"div",2),a.YNc(4,H_,2,2,"app-observation-mini",3),a.ALo(5,"async"),a.qZA(),a.TgZ(6,"div",4)(7,"span",5),a._uU(8," Loading... "),a.qZA(),a.TgZ(9,"span",6),a._uU(10," Oh hi! You scrolled through all observations! "),a.qZA(),a.YNc(11,oa,2,0,"span",7),a.qZA()),2&d&&(a.Q6J("hidden","cards"!=g.style),a.xp6(1),a.Q6J("ngForOf",a.lcZ(2,9,g.obs$))("ngForTrackBy",g.trackByItems),a.xp6(2),a.Q6J("hidden","grid"!=g.style),a.xp6(1),a.Q6J("ngForOf",a.lcZ(5,11,g.obs$))("ngForTrackBy",g.trackByItems),a.xp6(3),a.Q6J("hidden",!g.loadingObs),a.xp6(2),a.Q6J("hidden",!g.end||!g.retrieveOnScroll||g.loadingObs),a.xp6(2),a.Q6J("ngIf",g.noObs&&!g.loadingObs))},dependencies:[ye.ez,ye.sg,ye.O5,ye.Ov,yo,xs.Z,Ae.K6A,Ae.q0d,Ka,Ty],styles:[".grid-container[_ngcontent-%COMP%]{display:grid;gap:.2rem;grid-template-columns:repeat(auto-fill,minmax(min(7rem,32dvw),1fr));grid-auto-flow:dense}.obs-img[_ngcontent-%COMP%]{height:100%;width:100%;object-fit:cover;max-height:100%}.grid-item[_ngcontent-%COMP%]{position:relative}@media screen and (min-width:768px){.grid-item.square[_ngcontent-%COMP%]{grid-column:auto/span 2;grid-row:auto/span 2}.grid-item.tall[_ngcontent-%COMP%]{grid-row:auto/ span 2}.grid-item.wide[_ngcontent-%COMP%]{grid-column:auto/ span 2}.grid-item.popular[_ngcontent-%COMP%]:not(.tall):not(.wide){grid-column:auto / span 3;grid-row:auto /span 3}.grid-item.popular.tall[_ngcontent-%COMP%]{grid-column:auto / span 2;grid-row:auto /span 3}.grid-item.popular.wide[_ngcontent-%COMP%]{grid-column:auto / span 3;grid-row:auto /span 2}}@media screen and (max-width:768px){.grid-item.popular[_ngcontent-%COMP%]:not(.tall):not(.wide){grid-column:auto / span 2;grid-row:auto /span 2}.grid-item.popular.tall[_ngcontent-%COMP%]{grid-row:auto/ span 2}.grid-item.popular.wide[_ngcontent-%COMP%]{grid-column:auto/ span 2}}.grid-item[_ngcontent-%COMP%]:hover   .hover-label[_ngcontent-%COMP%]{visibility:visible}.spinner-container[_ngcontent-%COMP%]{display:flex;padding:.5rem;min-height:2rem}.spinner-container[_ngcontent-%COMP%] > .spinner[_ngcontent-%COMP%]{margin:auto}.end[_ngcontent-%COMP%]{margin:auto}"]}),m})();function Ha(m,l){if(1&m){const d=a.EpF();a.TgZ(0,"div",9),a.NdJ("click",function(){const S=a.CHM(d).$implicit,E=a.oxw();return a.KtG(E.select(S))}),a.ALo(1,"async"),a._UZ(2,"img",10),a.TgZ(3,"div",11),a._uU(4),a.qZA()()}if(2&m){const d=l.$implicit,g=a.oxw();a.ekj("selected",d.friend_user.id==a.lcZ(1,4,g.selectedUser$)),a.xp6(2),a.Q6J("src",d.friend_user.icon_url||"assets/default.png",a.LSH),a.xp6(2),a.Oqu(d.friend_user.login)}}function Jh(m,l){if(1&m&&(a.TgZ(0,"button",12),a._uU(1,"All"),a.qZA()),2&m){a.oxw();const d=a.MAs(4);a.ekj("display-block",d.clientWidth<d.scrollWidth)}}function Xh(m,l){if(1&m){const d=a.EpF();a.TgZ(0,"div",13)(1,"div",14)(2,"app-chips",15),a.NdJ("chipSelect",function(C){a.CHM(d);const S=a.oxw();return a.KtG(S.onSelect(C))}),a.ALo(3,"async"),a.qZA()(),a._UZ(4,"app-observations",16),a.ALo(5,"async"),a.qZA()}if(2&m){const d=a.oxw();a.xp6(2),a.Q6J("chips",d.filterChips)("selected",a.lcZ(3,8,d.filterSelect$)),a.xp6(2),a.Akn("grid"),a.Q6J("query",a.lcZ(5,10,d.q$))("retrieveOnScroll",!0)("size",1)("allowEmptyQuery",!1)}}const Pw=function(){return["/following-list"]};let kw=(()=>{class m{constructor(d,g){this.router=d,this.activatedRoute=g,this.auth=(0,a.f3M)(Je.Z),this.params={},this.filterChips=[{label:"All",selected:!0,value:{}},{label:"Popular",value:{popular:!0}},{label:"Today",value:{created_d1:new Date(Date.now()-864e5),created_d2:new Date}}],this.inatAPI=(0,a.f3M)(B_),this.relationships$=this.inatAPI.getRelationships("").pipe((0,Cn.B)()),this.selectedUser$=new Es.X(void 0),this.q$=(0,gd.a)([this.relationships$.pipe((0,Wr.U)(C=>C.map(S=>S.friend_user.id))),this.selectedUser$,this.activatedRoute.paramMap,this.activatedRoute.queryParams]).pipe((0,Wr.U)(C=>{let S={};return S.user_id=C[1]?C[1]:C[0],C[2]&&C[2].keys.forEach(E=>{"filter"==E&&("popular"===C[2].get(E)?Object.assign(S,this.filterChips[1].value):"today"===C[2].get(E)&&Object.assign(S,this.filterChips[2].value))}),C[3]&&Object.assign(S,C[3]),S})),this.filterSelect$=this.activatedRoute.paramMap.pipe((0,Wr.U)(C=>C.get("filter")))}select(d){this.selectedUser$.next(this.selectedUser$.value===d.friend_user.id?void 0:d.friend_user.id)}onSelect(d){this.router.navigate("All"==d.label?["/following"]:["/following",d.label.toLocaleLowerCase()])}}return m.\u0275fac=function(d){return new(d||m)(a.Y36(W.F0),a.Y36(W.gz))},m.\u0275cmp=a.Xpm({type:m,selectors:[["app-following"]],standalone:!0,features:[a.jDz],decls:13,vars:11,consts:[["title","Following",1,"sticky-top"],[1,"container"],[1,"following-container"],[1,"following"],["followingC",""],["class","user-container pointer-on-hover",3,"selected","click",4,"ngFor","ngForOf"],["class","btn btn-link btn-sm display-none","id","all",3,"display-block",4,"urlify"],[1,"no-token",3,"hidden"],["class","content",4,"ngIf"],[1,"user-container","pointer-on-hover",3,"click"],[1,"user-icon",3,"src"],[1,"p8"],["id","all",1,"btn","btn-link","btn-sm","display-none"],[1,"content"],[1,"filter"],[3,"chips","selected","chipSelect"],[3,"query","retrieveOnScroll","size","allowEmptyQuery"]],template:function(d,g){1&d&&(a._UZ(0,"app-header",0),a.TgZ(1,"div",1)(2,"div",2)(3,"div",3,4),a.YNc(5,Ha,5,6,"div",5),a.ALo(6,"async"),a.qZA(),a.YNc(7,Jh,2,2,"button",6),a.qZA(),a.TgZ(8,"div",7),a.ALo(9,"async"),a._uU(10,"Missing/expired token"),a.qZA(),a.YNc(11,Xh,6,12,"div",8),a.ALo(12,"async"),a.qZA()),2&d&&(a.xp6(5),a.Q6J("ngForOf",a.lcZ(6,4,g.relationships$)),a.xp6(2),a.Q6J("urlify",a.DdM(10,Pw)),a.xp6(1),a.Q6J("hidden",!a.lcZ(9,6,g.auth.expired$)),a.xp6(3),a.Q6J("ngIf",a.lcZ(12,8,g.q$)))},dependencies:[ye.ez,ye.sg,ye.O5,ye.Ov,zn,un.L,Rw,el],styles:[".following[_ngcontent-%COMP%]{display:flex;flex-direction:row;overflow-x:scroll;padding:.3rem;flex:auto}.following-container[_ngcontent-%COMP%]{display:flex;align-items:center}#all[_ngcontent-%COMP%]{margin:0;min-width:unset}.user-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:.6rem .3rem;width:3.5rem;min-width:3.5rem;overflow-x:hidden;flex:none}.user-container[_ngcontent-%COMP%]:hover > img[_ngcontent-%COMP%]{filter:brightness(75%)}[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.selected[_ngcontent-%COMP%]{background-color:var(--clr-color-action-50)}.user-container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin-top:.3rem;text-align:center;overflow:hidden;text-overflow:ellipsis}.user-icon[_ngcontent-%COMP%]{align-self:center;height:3rem;width:3rem;object-fit:cover;border-radius:50%}.spinner-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.container[_ngcontent-%COMP%]{max-width:var(--max-width);margin:auto}.content[_ngcontent-%COMP%]{width:100%;padding:.3rem}@media screen and (max-width:758px){.content[_ngcontent-%COMP%]{padding:.3rem 0}.filter[_ngcontent-%COMP%]{padding-left:.3rem}}.filter[_ngcontent-%COMP%]{padding-bottom:.3rem}.no-token[_ngcontent-%COMP%]{margin:auto}"]}),m})();function Db(m,l){if(1&m&&(a.TgZ(0,"div",1)(1,"div",2),a._UZ(2,"img",3),a.TgZ(3,"div",4)(4,"h6",5),a._uU(5),a.qZA(),a.TgZ(6,"p",6),a._uU(7),a.qZA(),a.TgZ(8,"p",7),a._uU(9),a.ALo(10,"intWord"),a.qZA()()()()),2&m){const d=a.oxw();a.xp6(2),a.Q6J("src",d.user.icon_url||"assets/default.png",a.LSH),a.xp6(3),a.Oqu(d.user.name),a.xp6(2),a.Oqu(d.user.login),a.xp6(2),a.hij("",a.lcZ(10,4,d.user.observations_count)," observations")}}const Fw=function(m){return["/naturalist",m]};let ef=(()=>{class m{}return m.\u0275fac=function(d){return new(d||m)},m.\u0275cmp=a.Xpm({type:m,selectors:[["app-user-card"]],inputs:{user:"user"},standalone:!0,features:[a.jDz],decls:1,vars:3,consts:[["class","material-card",4,"urlify"],[1,"material-card"],[1,"user"],[1,"user-icon",3,"src"],[1,"user-info"],[1,"m-0"],[1,"p5","m-0"],[1,"p7","m-0"]],template:function(d,g){1&d&&a.YNc(0,Db,11,6,"div",0),2&d&&a.Q6J("urlify",a.VKq(1,Fw,g.user.login))},dependencies:[ye.ez,un.L,Ks],styles:[".user[_ngcontent-%COMP%]{display:flex;gap:.3rem;padding:.3rem}.user[_ngcontent-%COMP%]:hover{background-color:var(--clr-color-action-50)}.user-icon[_ngcontent-%COMP%]{border-radius:50%;width:2rem;height:2rem;object-fit:cover}"]}),m})();function Nw(m,l){if(1&m&&(a.TgZ(0,"div"),a._UZ(1,"app-user-card",4),a.qZA()),2&m){const d=l.$implicit;a.xp6(1),a.Q6J("user",d.friend_user)}}function pc(m,l){1&m&&(a.TgZ(0,"div",5)(1,"span",6),a._uU(2," Loading... "),a.qZA()())}function U_(m,l){1&m&&(a.TgZ(0,"div",5)(1,"span"),a._uU(2,"Missing/expired token"),a.qZA()())}let aa=(()=>{class m{constructor(){this.auth=(0,a.f3M)(Je.Z),this.inat=(0,a.f3M)(Le.E),this.loading=!0}ngOnInit(){this.auth.isExpired?this.loading=!1:this.inat.getRelationships("").then(d=>{this.following=d}).catch(()=>{this.errorText="Missing/Expired token"}).finally(()=>{this.loading=!1})}}return m.\u0275fac=function(d){return new(d||m)},m.\u0275cmp=a.Xpm({type:m,selectors:[["app-following-list"]],standalone:!0,features:[a.jDz],decls:5,vars:3,consts:[["title","Following",1,"sticky-top"],[1,"following"],[4,"ngFor","ngForOf"],["class","container",4,"ngIf"],[3,"user"],[1,"container"],[1,"spinner","spinner-md"]],template:function(d,g){1&d&&(a._UZ(0,"app-header",0),a.TgZ(1,"div",1),a.YNc(2,Nw,2,1,"div",2),a.qZA(),a.YNc(3,pc,3,0,"div",3),a.YNc(4,U_,3,0,"div",3)),2&d&&(a.xp6(2),a.Q6J("ngForOf",g.following),a.xp6(1),a.Q6J("ngIf",g.loading),a.xp6(1),a.Q6J("ngIf",g.errorText))},dependencies:[ye.ez,ye.sg,ye.O5,zn,ef],styles:[".user-icon[_ngcontent-%COMP%]{width:2rem;height:2rem;border-radius:50%}.following[_ngcontent-%COMP%]{padding:.3rem;display:flex;gap:.6rem;flex-wrap:wrap}@media screen and (max-width:768px){.following[_ngcontent-%COMP%]{flex-direction:column}}.user-container[_ngcontent-%COMP%]{display:flex;align-items:center;padding:.3rem;max-width:20rem;border-radius:.2rem}.user-container[_ngcontent-%COMP%]:hover{background-color:var(--clr-color-action-50)}.user-label[_ngcontent-%COMP%]{flex:auto;line-height:1px}.user-label[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin-top:0!important;padding-left:.3rem}.user-label[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{line-height:.8rem}.container[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex:auto}.container[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{margin:auto;align-self:center}[_nghost-%COMP%]{width:100%;max-width:768px;display:flex;flex-direction:column;height:100%}"]}),m})();function su(m,l){if(1&m&&a._UZ(0,"app-album",4),2&m){const d=a.oxw();a.Q6J("photos",d.photos)}}function Fy(m,l){if(1&m&&a._UZ(0,"app-carousel",4),2&m){const d=a.oxw();a.Q6J("photos",d.photos)}}function la(m,l){if(1&m&&(a.ynx(0),a._uU(1),a.ALo(2,"titlecase"),a.BQk()),2&m){const d=a.oxw(2);a.xp6(1),a.hij("",a.lcZ(2,1,d.taxon.rank),"\xa0")}}function Ua(m,l){1&m&&(a.TgZ(0,"span"),a._uU(1,"[wiki]"),a.qZA())}function ja(m,l){if(1&m&&(a.TgZ(0,"p",15),a._UZ(1,"span",16),a.YNc(2,Ua,2,0,"span",17),a.qZA()),2&m){const d=a.oxw(2);let g;a.xp6(1),a.Q6J("innerHTML",d.wiki,a.oJD),a.xp6(1),a.Q6J("urlify",null!==(g=d.taxon.wikipedia_url)&&void 0!==g?g:"")}}const Vs=function(m){return{taxon_id:m}};function j_(m,l){if(1&m&&(a.TgZ(0,"div",18)(1,"h4"),a._uU(2,"Recent Observations"),a.qZA(),a._UZ(3,"app-observation-grid",19),a.qZA()),2&m){const d=a.oxw(2);a.xp6(3),a.Q6J("query",a.VKq(2,Vs,d.taxon.id))("retrieveOnScroll",!0)}}function Eb(m,l){if(1&m&&a._UZ(0,"app-taxon",14),2&m){const d=a.oxw().$implicit;a.Q6J("taxon",d)}}const xb=function(m){return["/taxon",m]};function Lw(m,l){if(1&m&&(a.TgZ(0,"div"),a.YNc(1,Eb,1,1,"app-taxon",20),a.qZA()),2&m){const d=l.$implicit;a.xp6(1),a.Q6J("urlify",a.VKq(1,xb,d.id))}}function gg(m,l){if(1&m&&a._UZ(0,"app-taxon",14),2&m){const d=a.oxw().$implicit;a.Q6J("taxon",d)}}function mg(m,l){if(1&m&&(a.TgZ(0,"div"),a.YNc(1,gg,1,1,"app-taxon",20),a.qZA()),2&m){const d=l.$implicit;a.xp6(1),a.Q6J("urlify",a.VKq(1,xb,d.id))}}function wd(m,l){if(1&m&&(a.TgZ(0,"div",5)(1,"div",6)(2,"h4"),a.YNc(3,la,3,3,"ng-container",7),a.TgZ(4,"em"),a._uU(5),a.qZA(),a._uU(6,"\xa0 "),a.TgZ(7,"span",8),a._uU(8),a.qZA()(),a.YNc(9,ja,3,2,"p",9),a.TgZ(10,"h4"),a._uU(11,"Range and Observations"),a.qZA(),a._UZ(12,"app-map",10),a.YNc(13,j_,4,4,"div",3),a.qZA(),a.TgZ(14,"div",11)(15,"h4"),a._uU(16,"Taxonomy"),a.qZA(),a.YNc(17,Lw,2,3,"div",12),a.TgZ(18,"div",13),a._UZ(19,"app-taxon",14),a.qZA(),a.YNc(20,mg,2,3,"div",12),a.qZA()()),2&m){const d=a.oxw();a.xp6(3),a.Q6J("ngIf",d.taxon.rank_level>10),a.xp6(2),a.Oqu(d.taxon.name),a.xp6(3),a.Oqu(d.taxon.preferred_common_name),a.xp6(1),a.Q6J("ngIf",d.wiki),a.xp6(3),a.Q6J("taxon",d.taxon.id)("displayObsLayer",!0),a.xp6(1),a.Q6J("ngIf",d.taxon),a.xp6(4),a.Q6J("ngForOf",d.taxon.ancestors),a.xp6(2),a.Q6J("taxon",d.taxon),a.xp6(1),a.Q6J("ngForOf",d.taxon.children)}}function Tb(m,l){if(1&m&&(a.TgZ(0,"div",18)(1,"h4"),a._uU(2,"Recent Observations"),a.qZA(),a._UZ(3,"app-observation-grid",19),a.qZA()),2&m){const d=a.oxw();a.xp6(3),a.Q6J("query",a.VKq(2,Vs,d.taxon.id))("retrieveOnScroll",!0)}}let Ib=(()=>{class m{constructor(){this.route=(0,a.f3M)(W.gz),this.inat=(0,a.f3M)(Le.E),this.id=this.route.snapshot.params.id}ngOnInit(){this.sub=this.route.params.subscribe(d=>{this.id=d.id,this.getTaxa()})}ngOnDestroy(){this.sub.unsubscribe()}getTaxa(){this.taxon=void 0,this.wiki=void 0,this.photos=[],this.inat.getTaxa([this.id.toString()],"all").then(d=>{if(d.length){this.taxon=d[0];let g=this.taxon.taxon_photos?.map(C=>C.photo)??[];g.forEach(C=>{C.url=C.url.replace("square","original")}),this.photos=g,this.wikipediaSummary(this.taxon?.wikipedia_url)}})}taxonomy(){}wikipediaSummary(d){let g=d?.substring(d.lastIndexOf("/")+1);g&&fetch(`https://en.wikipedia.org/api/rest_v1/page/summary/${g}?redirect=true`).then(C=>{C.ok&&C.json().then(S=>{console.log(S),this.wiki=S.extract_html.replace("<p>","").replace("</p>","")})})}}return m.\u0275fac=function(d){return new(d||m)},m.\u0275cmp=a.Xpm({type:m,selectors:[["app-taxon-info"]],standalone:!0,features:[a.jDz],decls:5,vars:5,consts:[[1,"sticky-top",3,"title"],["class","photos",3,"photos",4,"ngIf"],["class","container",4,"ngIf"],["class","observations",4,"ngIf"],[1,"photos",3,"photos"],[1,"container"],[1,"about"],[4,"ngIf"],[1,"p2"],["class","p5 m-0",4,"ngIf"],[3,"taxon","displayObsLayer"],[1,"taxonomy"],[4,"ngFor","ngForOf"],[1,"current-taxon"],[3,"taxon"],[1,"p5","m-0"],[3,"innerHTML"],[4,"urlify"],[1,"observations"],[3,"query","retrieveOnScroll"],[3,"taxon",4,"urlify"]],template:function(d,g){if(1&d&&(a._UZ(0,"app-header",0),a.YNc(1,su,1,1,"app-album",1),a.YNc(2,Fy,1,1,"app-carousel",1),a.YNc(3,wd,21,10,"div",2),a.YNc(4,Tb,4,4,"div",3)),2&d){let C;a.Q6J("title",g.taxon?null!==(C=g.taxon.name)&&void 0!==C?C:"":" "),a.xp6(1),a.Q6J("ngIf",g.photos.length),a.xp6(1),a.Q6J("ngIf",g.photos.length),a.xp6(1),a.Q6J("ngIf",g.taxon),a.xp6(1),a.Q6J("ngIf",g.taxon)}},dependencies:[ye.ez,ye.sg,ye.O5,ye.rS,zn,pr,un.L,Br.F,pi,Kp,Zi],styles:[".photos[_ngcontent-%COMP%]{width:100%;display:inline-block}.container[_ngcontent-%COMP%]{max-width:100%;padding:.3rem 5rem .3rem .6rem;display:flex;flex-wrap:wrap;gap:.6rem}.observations[_ngcontent-%COMP%]{padding:.3rem 5rem .3rem .6rem}app-map[_ngcontent-%COMP%]{display:inline-block}.taxonomy[_ngcontent-%COMP%]{flex:none;min-width:15rem}.about[_ngcontent-%COMP%]{flex:1 1 400px}@media screen and (max-width:768px){.container[_ngcontent-%COMP%]{padding:0 .6rem}.photos[_ngcontent-%COMP%]{height:100vw}app-album[_ngcontent-%COMP%]{display:none!important}app-map[_ngcontent-%COMP%]{width:100%;height:70vw}.about[_ngcontent-%COMP%] > .observations[_ngcontent-%COMP%]{display:none}.observations[_ngcontent-%COMP%]{padding:0}.observations[_ngcontent-%COMP%] > h4[_ngcontent-%COMP%]{padding:0 .6rem}}@media screen and (min-width:768px){app-carousel[_ngcontent-%COMP%]{display:none!important}.photos[_ngcontent-%COMP%]{height:auto;padding:.3rem 5rem .3rem .6rem}app-map[_ngcontent-%COMP%]{min-width:400px;width:100%;height:350px}.observations[_ngcontent-%COMP%]:not(.about   *)[_ngcontent-%COMP%]{display:none}.observations[_ngcontent-%COMP%]{padding:0}}.classification[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr}.ancestry[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.current-taxon[_ngcontent-%COMP%]{background-color:var(--clr-color-action-50)}h4[_ngcontent-%COMP%]{margin-top:.5rem}"]}),m})(),Vw=(()=>{class m{constructor(){this.title="Projects"}}return m.\u0275fac=function(d){return new(d||m)},m.\u0275cmp=a.Xpm({type:m,selectors:[["app-projects"]],standalone:!0,features:[a.jDz],decls:2,vars:1,consts:[[1,"sticky-top",3,"title"]],template:function(d,g){1&d&&a._UZ(0,"app-header",0)(1,"router-outlet"),2&d&&a.Q6J("title",g.title)},dependencies:[ye.ez,zn,W.lC],styles:[".container[_ngcontent-%COMP%]{padding:0 .6rem;margin:auto}"]}),m})();const Mb=["description"],Ny=function(m,l){return{"background-image":m,"background-color":l}};function z_(m,l){if(1&m&&(a.TgZ(0,"div",6),a._UZ(1,"img",7),a.qZA()),2&m){const d=a.oxw();a.Q6J("ngStyle",a.WLB(2,Ny,"url("+(d.project.header_image_url||d.bgUrl)+")",d.project.banner_color)),a.xp6(1),a.Q6J("src",d.project.icon,a.LSH)}}const Z_=function(m){return["/projects",m]};let Ly=(()=>{class m{constructor(d){this.location=d,this.bgUrl=this.location.prepareExternalUrl("/assets/")+"wave-bg.png"}ngAfterViewInit(){this.description.nativeElement.querySelectorAll("img").forEach(g=>{g.remove()})}}return m.\u0275fac=function(d){return new(d||m)(a.Y36(ye.Ye))},m.\u0275cmp=a.Xpm({type:m,selectors:[["app-project-card"]],viewQuery:function(d,g){if(1&d&&a.Gf(Mb,5),2&d){let C;a.iGM(C=a.CRH())&&(g.description=C.first)}},inputs:{project:"project"},standalone:!0,features:[a.jDz],decls:7,vars:5,consts:[[1,"project"],["class","project-banner",3,"ngStyle",4,"urlify"],[1,"project-body"],[1,"project-title"],[1,"p5","project-description",3,"innerHTML"],["description",""],[1,"project-banner",3,"ngStyle"],[1,"project-icon",3,"src"]],template:function(d,g){1&d&&(a.TgZ(0,"div",0),a.YNc(1,z_,2,5,"div",1),a.TgZ(2,"div",2)(3,"h6",3),a._uU(4),a.qZA(),a._UZ(5,"p",4,5),a.qZA()()),2&d&&(a.xp6(1),a.Q6J("urlify",a.VKq(3,Z_,g.project.slug)),a.xp6(3),a.Oqu(g.project.title),a.xp6(1),a.Q6J("innerHTML",g.project.description,a.oJD))},dependencies:[ye.ez,ye.PC,un.L],styles:[".project[_ngcontent-%COMP%]{box-shadow:.05rem .1rem .05rem var(--clr-card-box-shadow-color);border-radius:.3rem;border-width:var(--clr-card-border-width, .05rem);border-color:var(--clr-card-border-color, hsl(198, 0%, 87%));border-style:solid;overflow:hidden;width:100%}.project-icon[_ngcontent-%COMP%]{width:2rem;height:2rem;object-fit:cover;position:absolute;bottom:0;right:0;border-radius:50%;border:solid;border-width:.02rem;border-color:var(--clr-card-border-color);margin:0 .6rem;transform:translateY(50%);background-color:#fff}.project-banner[_ngcontent-%COMP%]{position:relative;width:100%;height:auto;aspect-ratio:5/2;background-position:center;background-repeat:no-repeat;background-size:cover}.banner-img[_ngcontent-%COMP%]{object-fit:cover;width:100%;height:100%}.project-body[_ngcontent-%COMP%]{padding:0 .3rem;-webkit-line-clamp:7;display:-webkit-box;-webkit-box-orient:vertical;overflow:hidden;margin-bottom:.3rem}.project-title[_ngcontent-%COMP%]{margin-top:1rem}.project-description[_ngcontent-%COMP%]{margin-top:.3rem!important}[_nghost-%COMP%]{display:flex}"]}),m})();function Vy(m,l){1&m&&a._UZ(0,"app-project-card",13),2&m&&a.Q6J("project",l.$implicit)}function By(m,l){1&m&&(a.TgZ(0,"span"),a._uU(1,"No Results"),a.qZA())}let tf=(()=>{class m{constructor(d,g){this.activatedRoute=d,this.router=g,this.auth=(0,a.f3M)(Je.Z),this.inat=(0,a.f3M)(Le.E),this.projects=[],this.params={page:1},this.observe=!0,this.loading=!0,this.chips=[]}ngOnInit(){let d={label:"Joined"},g={label:"Featured"},C={label:"Recent"};this.auth.me&&this.chips.push(d),this.chips.push(g),this.chips.push(C),this.sub=this.activatedRoute.queryParams.subscribe(S=>{if(this.chips.forEach(E=>{E.selected=!1}),this.params={page:1},Object.keys(S).length)Object.keys(S).forEach(E=>{this.params[E]=S[E]}),S.featured?g.selected=!0:S.member_id?d.selected=!0:"recent_posts"==S.order_by?C.selected=!0:S.q&&(this.q=S.q);else{let E=this.auth.me?d:g;E.selected=!0,this.params=this.buildParams(E)}this.projects.length=0,this.observe=!0,this.getProjects()})}ngOnDestroy(){this.sub.unsubscribe()}onSubmit(){this.router.navigate([],{queryParams:{q:this.q}})}buildParams(d){let g={};switch(d.label){case"Featured":g.featured=!0,g.order_by="featured";break;case"Recent":g.order_by="recent_posts";break;case"Joined":g.member_id=this.auth.me?.id}return g}select(d){this.q="";let g=this.buildParams(d);this.router.navigate([],{queryParams:g})}intersected(){this.getProjects()}getProjects(){this.loading=!0,this.observe=!1;let d=Object.keys(this.params).map(g=>[g,this.params[g].toString()]);this.inat.getProjects(d).then(g=>{g.length?(this.projects.push(...g),this.params.page++,this.observe=!0):this.observe=!1}).finally(()=>{this.loading=!1})}}return m.\u0275fac=function(d){return new(d||m)(a.Y36(W.gz),a.Y36(W.F0))},m.\u0275cmp=a.Xpm({type:m,selectors:[["app-project-list"]],standalone:!0,features:[a.jDz],decls:14,vars:6,consts:[[1,"container"],[1,"filter"],[3,"chips","chipSelect"],[1,"btn","btn-icon","btn-sm","btn-link",3,"click"],["shape","search"],[3,"submit"],["name","q","type","text",1,"p5","search",3,"ngModel","ngModelChange"],["search",""],[1,"projects-container"],[3,"project",4,"ngFor","ngForOf"],["appIntersectionObserver","",1,"spinner-container",3,"observe","intersected"],[1,"spinner","spinner-md",3,"hidden"],[4,"ngIf"],[3,"project"]],template:function(d,g){if(1&d){const C=a.EpF();a.TgZ(0,"div",0)(1,"div",1)(2,"app-chips",2),a.NdJ("chipSelect",function(E){return g.select(E)}),a.qZA(),a.TgZ(3,"button",3),a.NdJ("click",function(){a.CHM(C);const E=a.MAs(7);return a.KtG(E.classList.toggle("display"))}),a._UZ(4,"cds-icon",4),a.qZA(),a.TgZ(5,"form",5),a.NdJ("submit",function(){return g.onSubmit()}),a.TgZ(6,"input",6,7),a.NdJ("ngModelChange",function(E){return g.q=E}),a.qZA()()(),a.TgZ(8,"div",8),a.YNc(9,Vy,1,1,"app-project-card",9),a.qZA(),a.TgZ(10,"div",10),a.NdJ("intersected",function(){return g.intersected()}),a.TgZ(11,"span",11),a._uU(12," Loading... "),a.qZA(),a.YNc(13,By,2,0,"span",12),a.qZA()()}2&d&&(a.xp6(2),a.Q6J("chips",g.chips),a.xp6(4),a.Q6J("ngModel",g.q),a.xp6(3),a.Q6J("ngForOf",g.projects),a.xp6(1),a.Q6J("observe",g.observe),a.xp6(1),a.Q6J("hidden",!g.loading),a.xp6(2),a.Q6J("ngIf",0==g.projects.length&&0==g.loading))},dependencies:[ye.ez,ye.sg,ye.O5,Ly,xs.Z,el,Ae.K6A,Ae.nkF,Yt.u5,Yt._Y,Yt.Fj,Yt.JJ,Yt.JL,Yt.On,Yt.F],styles:[".projects-container[_ngcontent-%COMP%]{display:grid;gap:.6rem;margin:auto;grid-template-columns:repeat(auto-fill,minmax(12rem,1fr))}.spinner-container[_ngcontent-%COMP%]{display:flex;min-height:5rem}.spinner-container[_ngcontent-%COMP%] > .spinner[_ngcontent-%COMP%]{margin:auto}.filter[_ngcontent-%COMP%]{padding:.3rem 0rem;display:inline-block;white-space:pre-wrap}.filter[_ngcontent-%COMP%] > .btn[_ngcontent-%COMP%]{margin:0;padding:0;width:1rem}.search[_ngcontent-%COMP%]{margin-left:-1rem;padding-left:1rem;border:none;border-radius:.2rem;background-color:#e8e8e8;display:none;margin-top:0!important;height:1.2rem}form[_ngcontent-%COMP%]{display:inline!important}.display[_ngcontent-%COMP%]{display:inline-block!important}.container[_ngcontent-%COMP%]{padding:0 .6rem;margin:auto}"]}),m})();function Ab(m,l){if(1&m&&a._UZ(0,"img",9),2&m){const d=a.oxw();a.Q6J("src",null==d.project?null:d.project.header_image_url,a.LSH)}}const za=function(m){return{project_id:m}};function G_(m,l){if(1&m&&(a.TgZ(0,"div",10)(1,"h6",5),a._uU(2,"Observations"),a.qZA(),a._UZ(3,"app-taxonomy",11)(4,"app-observation-grid",12),a.qZA()),2&m){const d=a.oxw();a.xp6(3),a.Q6J("params",a.VKq(5,za,d.project.id))("tailId",d.taxonID),a.xp6(1),a.Q6J("query",d.obsQuery)("retrieveOnScroll",!0)("styled",!0)}}const gc=function(m,l){return{"background-image":m,"background-color":l}};let mc=(()=>{class m{constructor(d,g){this.route=d,this.location=g,this.bgUrl=this.location.prepareExternalUrl("/assets/")+"wave-bg.png",this.slug=this.route.snapshot.params.slug,this.inat=(0,a.f3M)(Le.E),this.obsQuery={}}ngOnInit(){this.getProjectDetail().then(d=>{d&&(this.project=d,this.obsQuery.project_id=d.id,this.shortDescription=d.description.slice(0,d.description.indexOf("\n")))}),this.route.queryParams.subscribe(d=>{this.obsQuery={project_id:this.project?.id},Object.keys(d).forEach(g=>{this.obsQuery[g]=d[g]}),this.taxonID=this.obsQuery.taxon_id?Number(this.obsQuery.taxon_id):"false"===this.obsQuery.identified?-1:0})}getProjectDetail(d){var g=this;return(0,ke.Z)(function*(){d||(d=1);let C=yield g.inat.getProjects([["q",g.slug],["page",d.toString()]]);return C.find(E=>E.slug==g.slug)||(C.length?(d++,g.getProjectDetail(d)):null)})()}}return m.\u0275fac=function(d){return new(d||m)(a.Y36(W.gz),a.Y36(ye.Ye))},m.\u0275cmp=a.Xpm({type:m,selectors:[["app-project-info"]],standalone:!0,features:[a.jDz],decls:12,vars:9,consts:[[1,"project-banner",3,"ngStyle"],["class","banner-img",3,"src",4,"ngIf"],[1,"project-header"],[1,"project-icon",3,"src"],[1,"project-title"],[1,"m-0"],[1,"btn","btn-primary","btn-sm"],[1,"m-0","p5","project-description",3,"innerHTML"],["class","project-obs",4,"ngIf"],[1,"banner-img",3,"src"],[1,"project-obs"],[3,"params","tailId"],[3,"query","retrieveOnScroll","styled"]],template:function(d,g){if(1&d&&(a.TgZ(0,"div",0),a.YNc(1,Ab,1,1,"img",1),a.qZA(),a.TgZ(2,"div",2),a._UZ(3,"img",3),a.TgZ(4,"div")(5,"div",4)(6,"h4",5),a._uU(7),a.qZA(),a.TgZ(8,"button",6),a._uU(9,"join"),a.qZA()(),a._UZ(10,"p",7),a.qZA()(),a.YNc(11,G_,5,7,"div",8)),2&d){let C;a.Q6J("ngStyle",a.WLB(6,gc,"url("+g.bgUrl+")",null==g.project?null:g.project.banner_color)),a.xp6(1),a.Q6J("ngIf",null==g.project?null:g.project.header_image_url),a.xp6(2),a.Q6J("src",null!==(C=null==g.project?null:g.project.icon)&&void 0!==C?C:"/assets/default.png",a.LSH),a.xp6(4),a.Oqu(null==g.project?null:g.project.title),a.xp6(3),a.Q6J("innerHTML",g.shortDescription,a.oJD),a.xp6(1),a.Q6J("ngIf",g.project)}},dependencies:[ye.ez,ye.O5,ye.PC,Zi,Is],styles:[".project-icon[_ngcontent-%COMP%]{transform:translateY(-30%);width:3.5rem;height:3.5rem;object-fit:cover;border-radius:50%;border:solid;border-width:.03rem;border-color:var(--clr-card-border-color);background-color:#fff}.project-banner[_ngcontent-%COMP%]{position:relative;width:100%;height:auto;aspect-ratio:5/1;background-position:center;background-repeat:no-repeat;background-size:cover;display:flex;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.wave-bg[_ngcontent-%COMP%]{background-image:url(/assets/wave-bg.png)}.banner-img[_ngcontent-%COMP%]{object-fit:cover;width:100%;height:auto;max-height:100%;margin:auto}.project-header[_ngcontent-%COMP%]{display:flex;gap:.3rem;padding:.3rem .6rem;position:relative;max-width:var(--max-width);width:100%;margin:auto}.project-header[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{flex:auto}.project-title[_ngcontent-%COMP%]{display:flex;gap:.3rem;align-items:center}.project-description[_ngcontent-%COMP%]{-webkit-line-clamp:2;display:-webkit-box;-webkit-box-orient:vertical;overflow:hidden}.project-obs[_ngcontent-%COMP%]{width:100%;max-width:var(--max-width);margin:auto;padding:0 .6rem}@media screen and (max-width:768px){.project-obs[_ngcontent-%COMP%]{padding:0}.project-obs[_ngcontent-%COMP%] > h6[_ngcontent-%COMP%]{padding:0 .6rem}}"]}),m})();function nf(m,l){if(1&m&&(a.TgZ(0,"p",6),a._uU(1),a.ALo(2,"intWord"),a.qZA()),2&m){const d=a.oxw();a.xp6(1),a.hij("",a.lcZ(2,1,d.place.observations_count)," observations")}}let Y_=(()=>{class m{}return m.\u0275fac=function(d){return new(d||m)},m.\u0275cmp=a.Xpm({type:m,selectors:[["app-place-card"]],inputs:{place:"place"},standalone:!0,features:[a.jDz],decls:7,vars:2,consts:[[1,"material-card"],[1,"place"],["shape","map-marker","size","md"],[1,"place-info"],[1,"m-0"],["class","p7 m-0",4,"ngIf"],[1,"p7","m-0"]],template:function(d,g){1&d&&(a.TgZ(0,"div",0)(1,"div",1),a._UZ(2,"cds-icon",2),a.TgZ(3,"div",3)(4,"h6",4),a._uU(5),a.qZA(),a.YNc(6,nf,3,3,"p",5),a.qZA()()()),2&d&&(a.xp6(5),a.Oqu(g.place.display_name),a.xp6(1),a.Q6J("ngIf",g.place.observations_count))},dependencies:[ye.ez,ye.O5,Ae.K6A,Ae.nkF,Ks],styles:[".place[_ngcontent-%COMP%]{padding:.3rem;display:flex;gap:.3rem}"]}),m})(),Hy=(()=>{class m{constructor(d){this.el=d}ngAfterViewInit(){this.el.nativeElement.focus()}}return m.\u0275fac=function(d){return new(d||m)(a.Y36(a.SBq))},m.\u0275dir=a.lG2({type:m,selectors:[["","autoFocus",""]],standalone:!0}),m})(),_c=(()=>{class m{constructor(d){this.el=d,this.gridItems=[]}ngAfterViewInit(){"masonry"!==getComputedStyle(this.el.nativeElement).gridTemplateRows?(console.log("masonry not supported"),this.isMasonrySupported=!1):(console.log("masonry is supported"),this.isMasonrySupported=!0)}ngAfterViewChecked(){if(!this.isMasonrySupported&&this.el.nativeElement.childNodes.length>1){this.gap=parseFloat(getComputedStyle(this.el.nativeElement).rowGap),this.ncol=getComputedStyle(this.el.nativeElement).gridTemplateColumns.split(" ").length;let g=[];this.el.nativeElement.childNodes.forEach(C=>{1===C.nodeType&&g.push(C)}),g!==this.gridItems&&this.ncol>1&&(this.gridItems=g,this.layout())}}layout(){this.gridItems.forEach(d=>{d.style.removeProperty("margin-top")}),this.gridItems.slice(this.ncol).forEach((d,g)=>{let C=this.gridItems[g].firstElementChild?.getBoundingClientRect().bottom??0,S=d.getBoundingClientRect().top;d.style.marginTop=`${C-S+this.gap}px`})}}return m.\u0275fac=function(d){return new(d||m)(a.Y36(a.SBq))},m.\u0275dir=a.lG2({type:m,selectors:[["","masonryGrid",""]],standalone:!0}),m})();function dr(m,l){1&m&&(a.TgZ(0,"span",10),a._uU(1," Loading... "),a.qZA())}function Dd(m,l){if(1&m&&(a.TgZ(0,"div",15),a._UZ(1,"app-taxon",16),a.qZA()),2&m){const d=a.oxw().$implicit;a.xp6(1),a.Q6J("taxon",d.taxon)}}function co(m,l){if(1&m&&a._UZ(0,"app-project-card",17),2&m){const d=a.oxw().$implicit;a.Q6J("project",d.project)}}function ou(m,l){if(1&m&&a._UZ(0,"app-user-card",18),2&m){const d=a.oxw().$implicit;a.Q6J("user",d.user)}}function Bs(m,l){if(1&m&&a._UZ(0,"app-place-card",19),2&m){const d=a.oxw().$implicit;a.Q6J("place",d.place)}}function Ob(m,l){if(1&m&&(a.TgZ(0,"div"),a.YNc(1,Dd,2,1,"div",11),a.YNc(2,co,1,1,"app-project-card",12),a.YNc(3,ou,1,1,"app-user-card",13),a.YNc(4,Bs,1,1,"app-place-card",14),a.qZA()),2&m){const d=l.$implicit;a.xp6(1),a.Q6J("ngIf","taxon"==d.type&&d.taxon),a.xp6(1),a.Q6J("ngIf","project"==d.type&&d.project),a.xp6(1),a.Q6J("ngIf","user"==d.type&&d.user),a.xp6(1),a.Q6J("ngIf",d.place&&"place"==d.type)}}function Rb(m,l){1&m&&(a.TgZ(0,"span",20),a._uU(1," Loading... "),a.qZA())}let Uy=(()=>{class m{constructor(d){this.route=d,this.searchControl=new Yt.NI(""),this.inat=(0,a.f3M)(Le.E),this.loading=!1,this.observe=!1,this.page=1,this.searchResults=[],this.sources=[{label:"places",value:"place"},{label:"projects",value:"project"},{label:"taxa",value:"taxon"},{label:"users",value:"user"}]}ngOnInit(){this.sub=this.searchControl.valueChanges.pipe((0,va.b)(300)).subscribe(this.initSearch.bind(this));let d=this.route.snapshot.params.source;if(d){let g=this.sources.find(C=>C.value==d);g&&(g.selected=!0)}}ngOnDestroy(){this.sub.unsubscribe()}initSearch(d){if(d){this.page=1,this.searchResults.length=0,this.observe=!1;let g=this.sources.filter(C=>C.selected).map(C=>C.label);console.log(g),this.search(d,this.page,g).finally(()=>{this.observe=!0})}}selectSource(d){if(console.log(this.sources),this.searchControl.value)this.initSearch(this.searchControl.value);else if(this.searchResults.length){let g=this.sources.filter(C=>C.selected).map(C=>C.value);this.searchResults=this.searchResults.filter(C=>g.includes(C.type))}}search(d,g,C){var S=this;return(0,ke.Z)(function*(){let E;S.loading=!0;try{E=yield S.inat.search(d,C,g)}catch{throw S.loading=!1,"err"}S.searchResults.push(...E.results),S.maxPage=Math.ceil(E.total_results/E.per_page),S.loading=!1,S.page++})()}intersected(){let d=this.searchControl.value;if(this.observe=!1,this.maxPage>=this.page){let g=this.sources.filter(C=>C.selected).map(C=>C.label);this.search(d,this.page,g).then(()=>{this.observe=!0}).catch(C=>{this.observe=!1})}}}return m.\u0275fac=function(d){return new(d||m)(a.Y36(W.gz))},m.\u0275cmp=a.Xpm({type:m,selectors:[["app-search"]],standalone:!0,features:[a.jDz],decls:10,vars:7,consts:[[1,"search-bar"],["shape","search","size","sm"],["type","search","placeholder","Search","autoFocus","","name","search","autofocus","",1,"p5",3,"formControl"],[1,"loading"],["class","spinner spinner-sm",4,"ngIf"],[3,"chips","multiSelect","chipSelect"],["masonryGrid","",1,"container"],[4,"ngFor","ngForOf"],["appIntersectionObserver","",1,"loading",3,"observe","intersected"],["class","spinner spinner-md",4,"ngIf"],[1,"spinner","spinner-sm"],["class","material-card taxon",4,"ngIf"],[3,"project",4,"ngIf"],[3,"user",4,"ngIf"],[3,"place",4,"ngIf"],[1,"material-card","taxon"],[3,"taxon"],[3,"project"],[3,"user"],[3,"place"],[1,"spinner","spinner-md"]],template:function(d,g){1&d&&(a.TgZ(0,"div",0),a._UZ(1,"cds-icon",1)(2,"input",2),a.TgZ(3,"span",3),a.YNc(4,dr,2,0,"span",4),a.qZA()(),a.TgZ(5,"app-chips",5),a.NdJ("chipSelect",function(S){return g.selectSource(S)}),a.qZA(),a.TgZ(6,"div",6),a.YNc(7,Ob,5,4,"div",7),a.qZA(),a.TgZ(8,"span",8),a.NdJ("intersected",function(){return g.intersected()}),a.YNc(9,Rb,2,0,"span",9),a.qZA()),2&d&&(a.xp6(2),a.Q6J("formControl",g.searchControl),a.xp6(2),a.Q6J("ngIf",g.loading),a.xp6(1),a.Q6J("chips",g.sources)("multiSelect",!0),a.xp6(2),a.Q6J("ngForOf",g.searchResults),a.xp6(1),a.Q6J("observe",g.observe),a.xp6(1),a.Q6J("ngIf",g.loading))},dependencies:[ye.ez,ye.sg,ye.O5,Yt.UX,Yt.Fj,Yt.JJ,Yt.oH,Ae.K6A,Ae.nkF,Br.F,Ly,ef,Y_,xs.Z,el,Hy,_c],styles:[".search-bar[_ngcontent-%COMP%]{display:flex;padding:.6rem .3rem;align-items:center}.search-bar[_ngcontent-%COMP%] > cds-icon[_ngcontent-%COMP%]{width:.5rem;margin:0 .3rem}.search-bar[_ngcontent-%COMP%] > .loading[_ngcontent-%COMP%]{width:1.4rem;height:1.2rem;padding:0 .2rem}.loading[_ngcontent-%COMP%]{display:flex;min-height:1.2rem}.loading[_ngcontent-%COMP%] > .spinner[_ngcontent-%COMP%]{margin:auto}.search-bar[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{margin-left:-1.4rem;margin-top:0;padding-left:1.4rem;margin-right:-1.4rem;padding-right:1.4rem;flex:auto;border:none;border-radius:.3rem;height:1.5rem;background-color:#e8e8e8}app-chips[_ngcontent-%COMP%]{padding:.3rem}.container[_ngcontent-%COMP%]{display:grid;gap:.6rem;grid-template-columns:repeat(auto-fit,minmax(12rem,1fr));grid-template-rows:masonry;padding:.6rem}.taxon[_ngcontent-%COMP%]{padding:0 .3rem}"]}),m})();const jy=[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"home",component:bu,title:"natureGram",data:{saveComponent:!0,root:!0}},{path:"home/preference",component:Xd,title:"Preference"},{path:"authorize",component:ts,title:"Authorize"},{path:"bookmark",component:Hr,title:"Bookmarks"},{path:"naturalist/:user_login",component:gn,title:"User",data:{saveComponent:!0}},{path:"notifications",component:Zl,title:"Notifications"},{path:"observation/:uuid",component:pd,title:"Observation",data:{saveComponent:!0}},{path:"map",component:Kp,title:"Map"},{path:"following",redirectTo:"following/all",pathMatch:"full"},{path:"following/:filter",component:kw,title:"Following",data:{saveComponent:!0}},{path:"following-list",component:aa,title:"Following"},{path:"taxon/:id",component:Ib,title:"Taxon",data:{saveComponent:!0}},{path:"projects",component:Vw,title:"Projects",children:[{path:"",component:tf,title:"Projects",data:{saveComponent:!0}},{path:":slug",component:mc,title:"Project",data:{saveComponent:!0}}]},{path:"search",component:Uy,title:"Search",data:{saveComponent:!0}},{path:"search/:source",component:Uy,title:"Search",data:{saveComponent:!0}}];var Mi=L(6825);function vg(m){return new a.vHH(3e3,!1)}function Za(m){switch(m.length){case 0:return new Mi.ZN;case 1:return m[0];default:return new Mi.ZE(m)}}function Ji(m,l,d=new Map,g=new Map){const C=[],S=[];let E=-1,T=null;if(l.forEach(M=>{const N=M.get("offset"),z=N==E,J=z&&T||new Map;M.forEach((X,fe)=>{let ve=fe,be=X;if("offset"!==fe)switch(ve=m.normalizePropertyName(ve,C),be){case Mi.k1:be=d.get(fe);break;case Mi.l3:be=g.get(fe);break;default:be=m.normalizeStyleValue(fe,ve,be,C)}J.set(ve,be)}),z||S.push(J),T=J,E=N}),C.length)throw function PD(m){return new a.vHH(3502,!1)}();return S}function Bb(m,l,d,g){switch(l){case"start":m.onStart(()=>g(d&&q_(d,"start",m)));break;case"done":m.onDone(()=>g(d&&q_(d,"done",m)));break;case"destroy":m.onDestroy(()=>g(d&&q_(d,"destroy",m)))}}function q_(m,l,d){const S=K_(m.element,m.triggerName,m.fromState,m.toState,l||m.phaseName,d.totalTime??m.totalTime,!!d.disabled),E=m._data;return null!=E&&(S._data=E),S}function K_(m,l,d,g,C="",S=0,E){return{element:m,triggerName:l,fromState:d,toState:g,phaseName:C,totalTime:S,disabled:!!E}}function Ho(m,l,d){let g=m.get(l);return g||m.set(l,g=d),g}function Q_(m){const l=m.indexOf(":");return[m.substring(1,l),m.slice(l+1)]}const Hb=(()=>typeof document>"u"?null:document.documentElement)();function J_(m){const l=m.parentNode||m.host||null;return l===Hb?null:l}let xd=null,Ub=!1;function jb(m,l){for(;l;){if(l===m)return!0;l=J_(l)}return!1}function qy(m,l,d){if(d)return Array.from(m.querySelectorAll(l));const g=m.querySelector(l);return g?[g]:[]}let uf=(()=>{class m{validateStyleProperty(d){return function Gw(m){xd||(xd=function Yw(){return typeof document<"u"?document.body:null}()||{},Ub=!!xd.style&&"WebkitAppearance"in xd.style);let l=!0;return xd.style&&!function X_(m){return"ebkit"==m.substring(1,6)}(m)&&(l=m in xd.style,!l&&Ub&&(l="Webkit"+m.charAt(0).toUpperCase()+m.slice(1)in xd.style)),l}(d)}matchesElement(d,g){return!1}containsElement(d,g){return jb(d,g)}getParentElement(d){return J_(d)}query(d,g,C){return qy(d,g,C)}computeStyle(d,g,C){return C||""}animate(d,g,C,S,E,T=[],M){return new Mi.ZN(C,S)}}return m.\u0275fac=function(d){return new(d||m)},m.\u0275prov=a.Yz7({token:m,factory:m.\u0275fac}),m})(),wg=(()=>{class m{}return m.NOOP=new uf,m})();const Ky=1e3,lu="ng-enter",Dg="ng-leave",Eg="ng-trigger",Id=".ng-trigger",hf="ng-animating",Md=".ng-animating";function ho(m){if("number"==typeof m)return m;const l=m.match(/^(-?[\.\d]+)(m?s)/);return!l||l.length<2?0:ff(parseFloat(l[1]),l[2])}function ff(m,l){return"s"===l?m*Ky:m}function pf(m,l,d){return m.hasOwnProperty("duration")?m:function Ad(m,l,d){let C,S=0,E="";if("string"==typeof m){const T=m.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===T)return l.push(vg()),{duration:0,delay:0,easing:""};C=ff(parseFloat(T[1]),T[2]);const M=T[3];null!=M&&(S=ff(parseFloat(M),T[4]));const N=T[5];N&&(E=N)}else C=m;if(!d){let T=!1,M=l.length;C<0&&(l.push(function yg(){return new a.vHH(3100,!1)}()),T=!0),S<0&&(l.push(function Bw(){return new a.vHH(3101,!1)}()),T=!0),T&&l.splice(M,0,vg())}return{duration:C,delay:S,easing:E}}(m,l,d)}function Od(m,l={}){return Object.keys(m).forEach(d=>{l[d]=m[d]}),l}function zb(m){const l=new Map;return Object.keys(m).forEach(d=>{l.set(d,m[d])}),l}function cu(m,l=new Map,d){if(d)for(let[g,C]of d)l.set(g,C);for(let[g,C]of m)l.set(g,C);return l}function ca(m,l,d){l.forEach((g,C)=>{const S=uu(C);d&&!d.has(C)&&d.set(C,m.style[S]),m.style[S]=g})}function Ga(m,l){l.forEach((d,g)=>{const C=uu(g);m.style[C]=""})}function $r(m){return Array.isArray(m)?1==m.length?m[0]:(0,Mi.vP)(m):m}const yc=new RegExp("{{\\s*(.+?)\\s*}}","g");function os(m){let l=[];if("string"==typeof m){let d;for(;d=yc.exec(m);)l.push(d[1]);yc.lastIndex=0}return l}function fo(m,l,d){const g=m.toString(),C=g.replace(yc,(S,E)=>{let T=l[E];return null==T&&(d.push(function Hw(m){return new a.vHH(3003,!1)}()),T=""),T.toString()});return C==g?m:C}function Ml(m){const l=[];let d=m.next();for(;!d.done;)l.push(d.value),d=m.next();return l}const Rd=/-+([a-z0-9])/g;function uu(m){return m.replace(Rd,(...l)=>l[1].toUpperCase())}function Uo(m,l,d){switch(l.type){case 7:return m.visitTrigger(l,d);case 0:return m.visitState(l,d);case 1:return m.visitTransition(l,d);case 2:return m.visitSequence(l,d);case 3:return m.visitGroup(l,d);case 4:return m.visitAnimate(l,d);case 5:return m.visitKeyframes(l,d);case 6:return m.visitStyle(l,d);case 8:return m.visitReference(l,d);case 9:return m.visitAnimateChild(l,d);case 10:return m.visitAnimateRef(l,d);case 11:return m.visitQuery(l,d);case 12:return m.visitStagger(l,d);default:throw function Uw(m){return new a.vHH(3004,!1)}()}}function Wb(m,l){return window.getComputedStyle(m)[l]}const Al="*";function t1(m,l){const d=[];return"string"==typeof m?m.split(/\s*,\s*/).forEach(g=>function Tg(m,l,d){if(":"==m[0]){const M=function n1(m,l){switch(m){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(d,g)=>parseFloat(g)>parseFloat(d);case":decrement":return(d,g)=>parseFloat(g)<parseFloat(d);default:return l.push(function Sr(m){return new a.vHH(3016,!1)}()),"* => *"}}(m,d);if("function"==typeof M)return void l.push(M);m=M}const g=m.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==g||g.length<4)return d.push(function au(m){return new a.vHH(3015,!1)}()),l;const C=g[1],S=g[2],E=g[3];l.push(qb(C,E));"<"==S[0]&&!(C==Al&&E==Al)&&l.push(qb(E,C))}(g,d,l)):d.push(m),d}const du=new Set(["true","1"]),Ig=new Set(["false","0"]);function qb(m,l){const d=du.has(m)||Ig.has(m),g=du.has(l)||Ig.has(l);return(C,S)=>{let E=m==Al||m==C,T=l==Al||l==S;return!E&&d&&"boolean"==typeof C&&(E=C?du.has(m):Ig.has(m)),!T&&g&&"boolean"==typeof S&&(T=S?du.has(l):Ig.has(l)),E&&T}}const Qb=new RegExp("s*:selfs*,?","g");function mf(m,l,d,g){return new Jb(m).build(l,d,g)}class Jb{constructor(l){this._driver=l}build(l,d,g){const C=new Xb(d);return this._resetContextStyleTimingState(C),Uo(this,$r(l),C)}_resetContextStyleTimingState(l){l.currentQuerySelector="",l.collectedStyles=new Map,l.collectedStyles.set("",new Map),l.currentTime=0}visitTrigger(l,d){let g=d.queryCount=0,C=d.depCount=0;const S=[],E=[];return"@"==l.name.charAt(0)&&d.errors.push(function kb(){return new a.vHH(3006,!1)}()),l.definitions.forEach(T=>{if(this._resetContextStyleTimingState(d),0==T.type){const M=T,N=M.name;N.toString().split(/\s*,\s*/).forEach(z=>{M.name=z,S.push(this.visitState(M,d))}),M.name=N}else if(1==T.type){const M=this.visitTransition(T,d);g+=M.queryCount,C+=M.depCount,E.push(M)}else d.errors.push(function Fr(){return new a.vHH(3007,!1)}())}),{type:7,name:l.name,states:S,transitions:E,queryCount:g,depCount:C,options:null}}visitState(l,d){const g=this.visitStyle(l.styles,d),C=l.options&&l.options.params||null;if(g.containsDynamicStyles){const S=new Set,E=C||{};g.styles.forEach(T=>{T instanceof Map&&T.forEach(M=>{os(M).forEach(N=>{E.hasOwnProperty(N)||S.add(N)})})}),S.size&&(Ml(S.values()),d.errors.push(function Cg(m,l){return new a.vHH(3008,!1)}()))}return{type:0,name:l.name,style:g,options:C?{params:C}:null}}visitTransition(l,d){d.queryCount=0,d.depCount=0;const g=Uo(this,$r(l.animation),d);return{type:1,matchers:t1(l.expr,d.errors),animation:g,queryCount:d.queryCount,depCount:d.depCount,options:kd(l.options)}}visitSequence(l,d){return{type:2,steps:l.steps.map(g=>Uo(this,g,d)),options:kd(l.options)}}visitGroup(l,d){const g=d.currentTime;let C=0;const S=l.steps.map(E=>{d.currentTime=g;const T=Uo(this,E,d);return C=Math.max(C,d.currentTime),T});return d.currentTime=C,{type:3,steps:S,options:kd(l.options)}}visitAnimate(l,d){const g=function eS(m,l){if(m.hasOwnProperty("duration"))return m;if("number"==typeof m)return ev(pf(m,l).duration,0,"");const d=m;if(d.split(/\s+/).some(S=>"{"==S.charAt(0)&&"{"==S.charAt(1))){const S=ev(0,0,"");return S.dynamic=!0,S.strValue=d,S}const C=pf(d,l);return ev(C.duration,C.delay,C.easing)}(l.timings,d.errors);d.currentAnimateTimings=g;let C,S=l.styles?l.styles:(0,Mi.oB)({});if(5==S.type)C=this.visitKeyframes(S,d);else{let E=l.styles,T=!1;if(!E){T=!0;const N={};g.easing&&(N.easing=g.easing),E=(0,Mi.oB)(N)}d.currentTime+=g.duration+g.delay;const M=this.visitStyle(E,d);M.isEmptyStep=T,C=M}return d.currentAnimateTimings=null,{type:4,timings:g,style:C,options:null}}visitStyle(l,d){const g=this._makeStyleAst(l,d);return this._validateStyleAst(g,d),g}_makeStyleAst(l,d){const g=[],C=Array.isArray(l.styles)?l.styles:[l.styles];for(let T of C)"string"==typeof T?T===Mi.l3?g.push(T):d.errors.push(new a.vHH(3002,!1)):g.push(zb(T));let S=!1,E=null;return g.forEach(T=>{if(T instanceof Map&&(T.has("easing")&&(E=T.get("easing"),T.delete("easing")),!S))for(let M of T.values())if(M.toString().indexOf("{{")>=0){S=!0;break}}),{type:6,styles:g,easing:E,offset:l.offset,containsDynamicStyles:S,options:null}}_validateStyleAst(l,d){const g=d.currentAnimateTimings;let C=d.currentTime,S=d.currentTime;g&&S>0&&(S-=g.duration+g.delay),l.styles.forEach(E=>{"string"!=typeof E&&E.forEach((T,M)=>{const N=d.collectedStyles.get(d.currentQuerySelector),z=N.get(M);let J=!0;z&&(S!=C&&S>=z.startTime&&C<=z.endTime&&(d.errors.push(function rf(m,l,d,g,C){return new a.vHH(3010,!1)}()),J=!1),S=z.startTime),J&&N.set(M,{startTime:S,endTime:C}),d.options&&function Yb(m,l,d){const g=l.params||{},C=os(m);C.length&&C.forEach(S=>{g.hasOwnProperty(S)||d.push(function Pb(m){return new a.vHH(3001,!1)}())})}(T,d.options,d.errors)})})}visitKeyframes(l,d){const g={type:5,styles:[],options:null};if(!d.currentAnimateTimings)return d.errors.push(function bg(){return new a.vHH(3011,!1)}()),g;let S=0;const E=[];let T=!1,M=!1,N=0;const z=l.steps.map(Ne=>{const We=this._makeStyleAst(Ne,d);let Ye=null!=We.offset?We.offset:function s1(m){if("string"==typeof m)return null;let l=null;if(Array.isArray(m))m.forEach(d=>{if(d instanceof Map&&d.has("offset")){const g=d;l=parseFloat(g.get("offset")),g.delete("offset")}});else if(m instanceof Map&&m.has("offset")){const d=m;l=parseFloat(d.get("offset")),d.delete("offset")}return l}(We.styles),Xe=0;return null!=Ye&&(S++,Xe=We.offset=Ye),M=M||Xe<0||Xe>1,T=T||Xe<N,N=Xe,E.push(Xe),We});M&&d.errors.push(function Nb(){return new a.vHH(3012,!1)}()),T&&d.errors.push(function Zy(){return new a.vHH(3200,!1)}());const J=l.steps.length;let X=0;S>0&&S<J?d.errors.push(function uo(){return new a.vHH(3202,!1)}()):0==S&&(X=1/(J-1));const fe=J-1,ve=d.currentTime,be=d.currentAnimateTimings,Me=be.duration;return z.forEach((Ne,We)=>{const Ye=X>0?We==fe?1:X*We:E[We],Xe=Ye*Me;d.currentTime=ve+be.delay+Xe,be.duration=Xe,this._validateStyleAst(Ne,d),Ne.offset=Ye,g.styles.push(Ne)}),g}visitReference(l,d){return{type:8,animation:Uo(this,$r(l.animation),d),options:kd(l.options)}}visitAnimateChild(l,d){return d.depCount++,{type:9,options:kd(l.options)}}visitAnimateRef(l,d){return{type:10,animation:this.visitReference(l.animation,d),options:kd(l.options)}}visitQuery(l,d){const g=d.currentQuerySelector,C=l.options||{};d.queryCount++,d.currentQuery=l;const[S,E]=function $w(m){const l=!!m.split(/\s*,\s*/).find(d=>":self"==d);return l&&(m=m.replace(Qb,"")),m=m.replace(/@\*/g,Id).replace(/@\w+/g,d=>Id+"-"+d.slice(1)).replace(/:animating/g,Md),[m,l]}(l.selector);d.currentQuerySelector=g.length?g+" "+S:S,Ho(d.collectedStyles,d.currentQuerySelector,new Map);const T=Uo(this,$r(l.animation),d);return d.currentQuery=null,d.currentQuerySelector=g,{type:11,selector:S,limit:C.limit||0,optional:!!C.optional,includeSelf:E,animation:T,originalSelector:l.selector,options:kd(l.options)}}visitStagger(l,d){d.currentQuery||d.errors.push(function sf(){return new a.vHH(3013,!1)}());const g="full"===l.timings?{duration:0,delay:0,easing:"full"}:pf(l.timings,d.errors,!0);return{type:12,animation:Uo(this,$r(l.animation),d),timings:g,options:null}}}class Xb{constructor(l){this.errors=l,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function kd(m){return m?(m=Od(m)).params&&(m.params=function qw(m){return m?Od(m):null}(m.params)):m={},m}function ev(m,l,d){return{duration:m,delay:l,easing:d}}function o1(m,l,d,g,C,S,E=null,T=!1){return{type:1,element:m,keyframes:l,preStyleProps:d,postStyleProps:g,duration:C,delay:S,totalTime:C+S,easing:E,subTimeline:T}}class Mg{constructor(){this._map=new Map}get(l){return this._map.get(l)||[]}append(l,d){let g=this._map.get(l);g||this._map.set(l,g=[]),g.push(...d)}has(l){return this._map.has(l)}clear(){this._map.clear()}}const Qw=new RegExp(":enter","g"),c1=new RegExp(":leave","g");function tv(m,l,d,g,C,S=new Map,E=new Map,T,M,N=[]){return(new tS).buildKeyframes(m,l,d,g,C,S,E,T,M,N)}class tS{buildKeyframes(l,d,g,C,S,E,T,M,N,z=[]){N=N||new Mg;const J=new Fd(l,d,N,C,S,z,[]);J.options=M;const X=M.delay?ho(M.delay):0;J.currentTimeline.delayNextStep(X),J.currentTimeline.setStyles([E],null,J.errors,M),Uo(this,g,J);const fe=J.timelines.filter(ve=>ve.containsAnimation());if(fe.length&&T.size){let ve;for(let be=fe.length-1;be>=0;be--){const Me=fe[be];if(Me.element===d){ve=Me;break}}ve&&!ve.allowOnlyTimelineStyles()&&ve.setStyles([T],null,J.errors,M)}return fe.length?fe.map(ve=>ve.buildKeyframes()):[o1(d,[],[],[],0,X,"",!1)]}visitTrigger(l,d){}visitState(l,d){}visitTransition(l,d){}visitAnimateChild(l,d){const g=d.subInstructions.get(d.element);if(g){const C=d.createSubContext(l.options),S=d.currentTimeline.currentTime,E=this._visitSubInstructions(g,C,C.options);S!=E&&d.transformIntoNewTimeline(E)}d.previousNode=l}visitAnimateRef(l,d){const g=d.createSubContext(l.options);g.transformIntoNewTimeline(),this._applyAnimationRefDelays([l.options,l.animation.options],d,g),this.visitReference(l.animation,g),d.transformIntoNewTimeline(g.currentTimeline.currentTime),d.previousNode=l}_applyAnimationRefDelays(l,d,g){for(const C of l){const S=C?.delay;if(S){const E="number"==typeof S?S:ho(fo(S,C?.params??{},d.errors));g.delayNextStep(E)}}}_visitSubInstructions(l,d,g){let S=d.currentTimeline.currentTime;const E=null!=g.duration?ho(g.duration):null,T=null!=g.delay?ho(g.delay):null;return 0!==E&&l.forEach(M=>{const N=d.appendInstructionToTimeline(M,E,T);S=Math.max(S,N.duration+N.delay)}),S}visitReference(l,d){d.updateOptions(l.options,!0),Uo(this,l.animation,d),d.previousNode=l}visitSequence(l,d){const g=d.subContextCount;let C=d;const S=l.options;if(S&&(S.params||S.delay)&&(C=d.createSubContext(S),C.transformIntoNewTimeline(),null!=S.delay)){6==C.previousNode.type&&(C.currentTimeline.snapshotCurrentStyles(),C.previousNode=hu);const E=ho(S.delay);C.delayNextStep(E)}l.steps.length&&(l.steps.forEach(E=>Uo(this,E,C)),C.currentTimeline.applyStylesToKeyframe(),C.subContextCount>g&&C.transformIntoNewTimeline()),d.previousNode=l}visitGroup(l,d){const g=[];let C=d.currentTimeline.currentTime;const S=l.options&&l.options.delay?ho(l.options.delay):0;l.steps.forEach(E=>{const T=d.createSubContext(l.options);S&&T.delayNextStep(S),Uo(this,E,T),C=Math.max(C,T.currentTimeline.currentTime),g.push(T.currentTimeline)}),g.forEach(E=>d.currentTimeline.mergeTimelineCollectedStyles(E)),d.transformIntoNewTimeline(C),d.previousNode=l}_visitTiming(l,d){if(l.dynamic){const g=l.strValue;return pf(d.params?fo(g,d.params,d.errors):g,d.errors)}return{duration:l.duration,delay:l.delay,easing:l.easing}}visitAnimate(l,d){const g=d.currentAnimateTimings=this._visitTiming(l.timings,d),C=d.currentTimeline;g.delay&&(d.incrementTime(g.delay),C.snapshotCurrentStyles());const S=l.style;5==S.type?this.visitKeyframes(S,d):(d.incrementTime(g.duration),this.visitStyle(S,d),C.applyStylesToKeyframe()),d.currentAnimateTimings=null,d.previousNode=l}visitStyle(l,d){const g=d.currentTimeline,C=d.currentAnimateTimings;!C&&g.hasCurrentStyleProperties()&&g.forwardFrame();const S=C&&C.easing||l.easing;l.isEmptyStep?g.applyEmptyStep(S):g.setStyles(l.styles,S,d.errors,d.options),d.previousNode=l}visitKeyframes(l,d){const g=d.currentAnimateTimings,C=d.currentTimeline.duration,S=g.duration,T=d.createSubContext().currentTimeline;T.easing=g.easing,l.styles.forEach(M=>{T.forwardTime((M.offset||0)*S),T.setStyles(M.styles,M.easing,d.errors,d.options),T.applyStylesToKeyframe()}),d.currentTimeline.mergeTimelineCollectedStyles(T),d.transformIntoNewTimeline(C+S),d.previousNode=l}visitQuery(l,d){const g=d.currentTimeline.currentTime,C=l.options||{},S=C.delay?ho(C.delay):0;S&&(6===d.previousNode.type||0==g&&d.currentTimeline.hasCurrentStyleProperties())&&(d.currentTimeline.snapshotCurrentStyles(),d.previousNode=hu);let E=g;const T=d.invokeQuery(l.selector,l.originalSelector,l.limit,l.includeSelf,!!C.optional,d.errors);d.currentQueryTotal=T.length;let M=null;T.forEach((N,z)=>{d.currentQueryIndex=z;const J=d.createSubContext(l.options,N);S&&J.delayNextStep(S),N===d.element&&(M=J.currentTimeline),Uo(this,l.animation,J),J.currentTimeline.applyStylesToKeyframe(),E=Math.max(E,J.currentTimeline.currentTime)}),d.currentQueryIndex=0,d.currentQueryTotal=0,d.transformIntoNewTimeline(E),M&&(d.currentTimeline.mergeTimelineCollectedStyles(M),d.currentTimeline.snapshotCurrentStyles()),d.previousNode=l}visitStagger(l,d){const g=d.parentContext,C=d.currentTimeline,S=l.timings,E=Math.abs(S.duration),T=E*(d.currentQueryTotal-1);let M=E*d.currentQueryIndex;switch(S.duration<0?"reverse":S.easing){case"reverse":M=T-M;break;case"full":M=g.currentStaggerTime}const z=d.currentTimeline;M&&z.delayNextStep(M);const J=z.currentTime;Uo(this,l.animation,d),d.previousNode=l,g.currentStaggerTime=C.currentTime-J+(C.startTime-g.currentTimeline.startTime)}}const hu={};class Fd{constructor(l,d,g,C,S,E,T,M){this._driver=l,this.element=d,this.subInstructions=g,this._enterClassName=C,this._leaveClassName=S,this.errors=E,this.timelines=T,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=hu,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=M||new _f(this._driver,d,0),T.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(l,d){if(!l)return;const g=l;let C=this.options;null!=g.duration&&(C.duration=ho(g.duration)),null!=g.delay&&(C.delay=ho(g.delay));const S=g.params;if(S){let E=C.params;E||(E=this.options.params={}),Object.keys(S).forEach(T=>{(!d||!E.hasOwnProperty(T))&&(E[T]=fo(S[T],E,this.errors))})}}_copyOptions(){const l={};if(this.options){const d=this.options.params;if(d){const g=l.params={};Object.keys(d).forEach(C=>{g[C]=d[C]})}}return l}createSubContext(l=null,d,g){const C=d||this.element,S=new Fd(this._driver,C,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(C,g||0));return S.previousNode=this.previousNode,S.currentAnimateTimings=this.currentAnimateTimings,S.options=this._copyOptions(),S.updateOptions(l),S.currentQueryIndex=this.currentQueryIndex,S.currentQueryTotal=this.currentQueryTotal,S.parentContext=this,this.subContextCount++,S}transformIntoNewTimeline(l){return this.previousNode=hu,this.currentTimeline=this.currentTimeline.fork(this.element,l),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(l,d,g){const C={duration:d??l.duration,delay:this.currentTimeline.currentTime+(g??0)+l.delay,easing:""},S=new nv(this._driver,l.element,l.keyframes,l.preStyleProps,l.postStyleProps,C,l.stretchStartingKeyframe);return this.timelines.push(S),C}incrementTime(l){this.currentTimeline.forwardTime(this.currentTimeline.duration+l)}delayNextStep(l){l>0&&this.currentTimeline.delayNextStep(l)}invokeQuery(l,d,g,C,S,E){let T=[];if(C&&T.push(this.element),l.length>0){l=(l=l.replace(Qw,"."+this._enterClassName)).replace(c1,"."+this._leaveClassName);let N=this._driver.query(this.element,l,1!=g);0!==g&&(N=g<0?N.slice(N.length+g,N.length):N.slice(0,g)),T.push(...N)}return!S&&0==T.length&&E.push(function Gy(m){return new a.vHH(3014,!1)}()),T}}class _f{constructor(l,d,g,C){this._driver=l,this.element=d,this.startTime=g,this._elementTimelineStylesLookup=C,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(d),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(d,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(l){const d=1===this._keyframes.size&&this._pendingStyles.size;this.duration||d?(this.forwardTime(this.currentTime+l),d&&this.snapshotCurrentStyles()):this.startTime+=l}fork(l,d){return this.applyStylesToKeyframe(),new _f(this._driver,l,d||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(l){this.applyStylesToKeyframe(),this.duration=l,this._loadKeyframe()}_updateStyle(l,d){this._localTimelineStyles.set(l,d),this._globalTimelineStyles.set(l,d),this._styleSummary.set(l,{time:this.currentTime,value:d})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(l){l&&this._previousKeyframe.set("easing",l);for(let[d,g]of this._globalTimelineStyles)this._backFill.set(d,g||Mi.l3),this._currentKeyframe.set(d,Mi.l3);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(l,d,g,C){d&&this._previousKeyframe.set("easing",d);const S=C&&C.params||{},E=function Jw(m,l){const d=new Map;let g;return m.forEach(C=>{if("*"===C){g=g||l.keys();for(let S of g)d.set(S,Mi.l3)}else cu(C,d)}),d}(l,this._globalTimelineStyles);for(let[T,M]of E){const N=fo(M,S,g);this._pendingStyles.set(T,N),this._localTimelineStyles.has(T)||this._backFill.set(T,this._globalTimelineStyles.get(T)??Mi.l3),this._updateStyle(T,N)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((l,d)=>{this._currentKeyframe.set(d,l)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((l,d)=>{this._currentKeyframe.has(d)||this._currentKeyframe.set(d,l)}))}snapshotCurrentStyles(){for(let[l,d]of this._localTimelineStyles)this._pendingStyles.set(l,d),this._updateStyle(l,d)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const l=[];for(let d in this._currentKeyframe)l.push(d);return l}mergeTimelineCollectedStyles(l){l._styleSummary.forEach((d,g)=>{const C=this._styleSummary.get(g);(!C||d.time>C.time)&&this._updateStyle(g,d.value)})}buildKeyframes(){this.applyStylesToKeyframe();const l=new Set,d=new Set,g=1===this._keyframes.size&&0===this.duration;let C=[];this._keyframes.forEach((T,M)=>{const N=cu(T,new Map,this._backFill);N.forEach((z,J)=>{z===Mi.k1?l.add(J):z===Mi.l3&&d.add(J)}),g||N.set("offset",M/this.duration),C.push(N)});const S=l.size?Ml(l.values()):[],E=d.size?Ml(d.values()):[];if(g){const T=C[0],M=new Map(T);T.set("offset",0),M.set("offset",1),C=[T,M]}return o1(this.element,C,S,E,this.duration,this.startTime,this.easing,!1)}}class nv extends _f{constructor(l,d,g,C,S,E,T=!1){super(l,d,E.delay),this.keyframes=g,this.preStyleProps=C,this.postStyleProps=S,this._stretchStartingKeyframe=T,this.timings={duration:E.duration,delay:E.delay,easing:E.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let l=this.keyframes,{delay:d,duration:g,easing:C}=this.timings;if(this._stretchStartingKeyframe&&d){const S=[],E=g+d,T=d/E,M=cu(l[0]);M.set("offset",0),S.push(M);const N=cu(l[0]);N.set("offset",nS(T)),S.push(N);const z=l.length-1;for(let J=1;J<=z;J++){let X=cu(l[J]);const fe=X.get("offset");X.set("offset",nS((d+fe*g)/E)),S.push(X)}g=E,d=0,C="",l=S}return o1(this.element,l,this.preStyleProps,this.postStyleProps,g,d,C,!0)}}function nS(m,l=3){const d=Math.pow(10,l-1);return Math.round(m*d)/d}class Nd{}const po=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Ya extends Nd{normalizePropertyName(l,d){return uu(l)}normalizeStyleValue(l,d,g,C){let S="";const E=g.toString().trim();if(po.has(d)&&0!==g&&"0"!==g)if("number"==typeof g)S="px";else{const T=g.match(/^[+-]?[\d\.]+([a-z]*)$/);T&&0==T[1].length&&C.push(function jw(m,l){return new a.vHH(3005,!1)}())}return E+S}}function yf(m,l,d,g,C,S,E,T,M,N,z,J,X){return{type:0,element:m,triggerName:l,isRemovalTransition:C,fromState:d,fromStyles:S,toState:g,toStyles:E,timelines:T,queriedElements:M,preStyleProps:N,postStyleProps:z,totalTime:J,errors:X}}const Cf={};class Cc{constructor(l,d,g){this._triggerName=l,this.ast=d,this._stateStyles=g}match(l,d,g,C){return function Og(m,l,d,g,C){return m.some(S=>S(l,d,g,C))}(this.ast.matchers,l,d,g,C)}buildStyles(l,d,g){let C=this._stateStyles.get("*");return void 0!==l&&(C=this._stateStyles.get(l?.toString())||C),C?C.buildStyles(d,g):new Map}build(l,d,g,C,S,E,T,M,N,z){const J=[],X=this.ast.options&&this.ast.options.params||Cf,ve=this.buildStyles(g,T&&T.params||Cf,J),be=M&&M.params||Cf,Me=this.buildStyles(C,be,J),Ne=new Set,We=new Map,Ye=new Map,Xe="void"===C,gt={params:bc(be,X),delay:this.ast.options?.delay},Mt=z?[]:tv(l,d,this.ast.animation,S,E,ve,Me,gt,N,J);let Rt=0;if(Mt.forEach(qt=>{Rt=Math.max(qt.duration+qt.delay,Rt)}),J.length)return yf(d,this._triggerName,g,C,Xe,ve,Me,[],[],We,Ye,Rt,J);Mt.forEach(qt=>{const rn=qt.element,Bn=Ho(We,rn,new Set);qt.preStyleProps.forEach(mn=>Bn.add(mn));const He=Ho(Ye,rn,new Set);qt.postStyleProps.forEach(mn=>He.add(mn)),rn!==d&&Ne.add(rn)});const Ot=Ml(Ne.values());return yf(d,this._triggerName,g,C,Xe,ve,Me,Mt,Ot,We,Ye,Rt)}}function bc(m,l){const d=Od(l);for(const g in m)m.hasOwnProperty(g)&&null!=m[g]&&(d[g]=m[g]);return d}class iv{constructor(l,d,g){this.styles=l,this.defaultParams=d,this.normalizer=g}buildStyles(l,d){const g=new Map,C=Od(this.defaultParams);return Object.keys(l).forEach(S=>{const E=l[S];null!==E&&(C[S]=E)}),this.styles.styles.forEach(S=>{"string"!=typeof S&&S.forEach((E,T)=>{E&&(E=fo(E,C,d));const M=this.normalizer.normalizePropertyName(T,d);E=this.normalizer.normalizeStyleValue(T,M,E,d),g.set(T,E)})}),g}}class Sc{constructor(l,d,g){this.name=l,this.ast=d,this._normalizer=g,this.transitionFactories=[],this.states=new Map,d.states.forEach(C=>{this.states.set(C.name,new iv(C.style,C.options&&C.options.params||{},g))}),bf(this.states,"true","1"),bf(this.states,"false","0"),d.transitions.forEach(C=>{this.transitionFactories.push(new Cc(l,C,this.states))}),this.fallbackTransition=function Pg(m,l,d){return new Cc(m,{type:1,animation:{type:2,steps:[],options:null},matchers:[(E,T)=>!0],options:null,queryCount:0,depCount:0},l)}(l,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(l,d,g,C){return this.transitionFactories.find(E=>E.match(l,d,g,C))||null}matchStyles(l,d,g){return this.fallbackTransition.buildStyles(l,d,g)}}function bf(m,l,d){m.has(l)?m.has(d)||m.set(d,m.get(l)):m.has(d)&&m.set(l,m.get(d))}const fu=new Mg;class d1{constructor(l,d,g){this.bodyNode=l,this._driver=d,this._normalizer=g,this._animations=new Map,this._playersById=new Map,this.players=[]}register(l,d){const g=[],S=mf(this._driver,d,g,[]);if(g.length)throw function lf(m){return new a.vHH(3503,!1)}();this._animations.set(l,S)}_buildPlayer(l,d,g){const C=l.element,S=Ji(this._normalizer,l.keyframes,d,g);return this._driver.animate(C,S,l.duration,l.delay,l.easing,[],!0)}create(l,d,g={}){const C=[],S=this._animations.get(l);let E;const T=new Map;if(S?(E=tv(this._driver,d,S,lu,Dg,new Map,new Map,g,fu,C),E.forEach(z=>{const J=Ho(T,z.element,new Map);z.postStyleProps.forEach(X=>J.set(X,null))})):(C.push(function kD(){return new a.vHH(3300,!1)}()),E=[]),C.length)throw function Lb(m){return new a.vHH(3504,!1)}();T.forEach((z,J)=>{z.forEach((X,fe)=>{z.set(fe,this._driver.computeStyle(J,fe,Mi.l3))})});const N=Za(E.map(z=>{const J=T.get(z.element);return this._buildPlayer(z,new Map,J)}));return this._playersById.set(l,N),N.onDestroy(()=>this.destroy(l)),this.players.push(N),N}destroy(l){const d=this._getPlayer(l);d.destroy(),this._playersById.delete(l);const g=this.players.indexOf(d);g>=0&&this.players.splice(g,1)}_getPlayer(l){const d=this._playersById.get(l);if(!d)throw function Wy(m){return new a.vHH(3301,!1)}();return d}listen(l,d,g,C){const S=K_(d,"","","");return Bb(this._getPlayer(l),g,S,C),()=>{}}command(l,d,g,C){if("register"==g)return void this.register(l,C[0]);if("create"==g)return void this.create(l,d,C[0]||{});const S=this._getPlayer(l);switch(g){case"play":S.play();break;case"pause":S.pause();break;case"reset":S.reset();break;case"restart":S.restart();break;case"finish":S.finish();break;case"init":S.init();break;case"setPosition":S.setPosition(parseFloat(C[0]));break;case"destroy":this.destroy(l)}}}const kg="ng-animate-queued",wc="ng-animate-disabled",h1=[],Ld={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Ui={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Nr="__ng_removed";class f1{get params(){return this.options.params}constructor(l,d=""){this.namespaceId=d;const g=l&&l.hasOwnProperty("value");if(this.value=function p1(m){return m??null}(g?l.value:l),g){const S=Od(l);delete S.value,this.options=S}else this.options={};this.options.params||(this.options.params={})}absorbOptions(l){const d=l.params;if(d){const g=this.options.params;Object.keys(d).forEach(C=>{null==g[C]&&(g[C]=d[C])})}}}const pu="void",Sf=new f1(pu);class rv{constructor(l,d,g){this.id=l,this.hostElement=d,this._engine=g,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+l,Lr(d,this._hostClassName)}listen(l,d,g,C){if(!this._triggers.has(d))throw function zw(m,l){return new a.vHH(3302,!1)}();if(null==g||0==g.length)throw function fn(m){return new a.vHH(3303,!1)}();if(!function ov(m){return"start"==m||"done"==m}(g))throw function Sg(m,l){return new a.vHH(3400,!1)}();const S=Ho(this._elementListeners,l,[]),E={name:d,phase:g,callback:C};S.push(E);const T=Ho(this._engine.statesByElement,l,new Map);return T.has(d)||(Lr(l,Eg),Lr(l,Eg+"-"+d),T.set(d,Sf)),()=>{this._engine.afterFlush(()=>{const M=S.indexOf(E);M>=0&&S.splice(M,1),this._triggers.has(d)||T.delete(d)})}}register(l,d){return!this._triggers.has(l)&&(this._triggers.set(l,d),!0)}_getTrigger(l){const d=this._triggers.get(l);if(!d)throw function $y(m){return new a.vHH(3401,!1)}();return d}trigger(l,d,g,C=!0){const S=this._getTrigger(d),E=new wf(this.id,d,l);let T=this._engine.statesByElement.get(l);T||(Lr(l,Eg),Lr(l,Eg+"-"+d),this._engine.statesByElement.set(l,T=new Map));let M=T.get(d);const N=new f1(g,this.id);if(!(g&&g.hasOwnProperty("value"))&&M&&N.absorbOptions(M.options),T.set(d,N),M||(M=Sf),N.value!==pu&&M.value===N.value){if(!function On(m,l){const d=Object.keys(m),g=Object.keys(l);if(d.length!=g.length)return!1;for(let C=0;C<d.length;C++){const S=d[C];if(!l.hasOwnProperty(S)||m[S]!==l[S])return!1}return!0}(M.params,N.params)){const be=[],Me=S.matchStyles(M.value,M.params,be),Ne=S.matchStyles(N.value,N.params,be);be.length?this._engine.reportError(be):this._engine.afterFlush(()=>{Ga(l,Me),ca(l,Ne)})}return}const X=Ho(this._engine.playersByElement,l,[]);X.forEach(be=>{be.namespaceId==this.id&&be.triggerName==d&&be.queued&&be.destroy()});let fe=S.matchTransition(M.value,N.value,l,N.params),ve=!1;if(!fe){if(!C)return;fe=S.fallbackTransition,ve=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:l,triggerName:d,transition:fe,fromState:M,toState:N,player:E,isFallbackTransition:ve}),ve||(Lr(l,kg),E.onStart(()=>{Ol(l,kg)})),E.onDone(()=>{let be=this.players.indexOf(E);be>=0&&this.players.splice(be,1);const Me=this._engine.playersByElement.get(l);if(Me){let Ne=Me.indexOf(E);Ne>=0&&Me.splice(Ne,1)}}),this.players.push(E),X.push(E),E}deregister(l){this._triggers.delete(l),this._engine.statesByElement.forEach(d=>d.delete(l)),this._elementListeners.forEach((d,g)=>{this._elementListeners.set(g,d.filter(C=>C.name!=l))})}clearElementCache(l){this._engine.statesByElement.delete(l),this._elementListeners.delete(l);const d=this._engine.playersByElement.get(l);d&&(d.forEach(g=>g.destroy()),this._engine.playersByElement.delete(l))}_signalRemovalForInnerTriggers(l,d){const g=this._engine.driver.query(l,Id,!0);g.forEach(C=>{if(C[Nr])return;const S=this._engine.fetchNamespacesByElement(C);S.size?S.forEach(E=>E.triggerLeaveAnimation(C,d,!1,!0)):this.clearElementCache(C)}),this._engine.afterFlushAnimationsDone(()=>g.forEach(C=>this.clearElementCache(C)))}triggerLeaveAnimation(l,d,g,C){const S=this._engine.statesByElement.get(l),E=new Map;if(S){const T=[];if(S.forEach((M,N)=>{if(E.set(N,M.value),this._triggers.has(N)){const z=this.trigger(l,N,pu,C);z&&T.push(z)}}),T.length)return this._engine.markElementAsRemoved(this.id,l,!0,d,E),g&&Za(T).onDone(()=>this._engine.processLeaveNode(l)),!0}return!1}prepareLeaveAnimationListeners(l){const d=this._elementListeners.get(l),g=this._engine.statesByElement.get(l);if(d&&g){const C=new Set;d.forEach(S=>{const E=S.name;if(C.has(E))return;C.add(E);const M=this._triggers.get(E).fallbackTransition,N=g.get(E)||Sf,z=new f1(pu),J=new wf(this.id,E,l);this._engine.totalQueuedPlayers++,this._queue.push({element:l,triggerName:E,transition:M,fromState:N,toState:z,player:J,isFallbackTransition:!0})})}}removeNode(l,d){const g=this._engine;if(l.childElementCount&&this._signalRemovalForInnerTriggers(l,d),this.triggerLeaveAnimation(l,d,!0))return;let C=!1;if(g.totalAnimations){const S=g.players.length?g.playersByQueriedElement.get(l):[];if(S&&S.length)C=!0;else{let E=l;for(;E=E.parentNode;)if(g.statesByElement.get(E)){C=!0;break}}}if(this.prepareLeaveAnimationListeners(l),C)g.markElementAsRemoved(this.id,l,!1,d);else{const S=l[Nr];(!S||S===Ld)&&(g.afterFlush(()=>this.clearElementCache(l)),g.destroyInnerAnimations(l),g._onRemovalComplete(l,d))}}insertNode(l,d){Lr(l,this._hostClassName)}drainQueuedTransitions(l){const d=[];return this._queue.forEach(g=>{const C=g.player;if(C.destroyed)return;const S=g.element,E=this._elementListeners.get(S);E&&E.forEach(T=>{if(T.name==g.triggerName){const M=K_(S,g.triggerName,g.fromState.value,g.toState.value);M._data=l,Bb(g.player,T.phase,M,T.callback)}}),C.markedForDestroy?this._engine.afterFlush(()=>{C.destroy()}):d.push(g)}),this._queue=[],d.sort((g,C)=>{const S=g.transition.ast.depCount,E=C.transition.ast.depCount;return 0==S||0==E?S-E:this._engine.driver.containsElement(g.element,C.element)?1:-1})}destroy(l){this.players.forEach(d=>d.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,l)}elementContainsData(l){let d=!1;return this._elementListeners.has(l)&&(d=!0),d=!!this._queue.find(g=>g.element===l)||d,d}}class sv{_onRemovalComplete(l,d){this.onRemovalComplete(l,d)}constructor(l,d,g){this.bodyNode=l,this.driver=d,this._normalizer=g,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(C,S)=>{}}get queuedPlayers(){const l=[];return this._namespaceList.forEach(d=>{d.players.forEach(g=>{g.queued&&l.push(g)})}),l}createNamespace(l,d){const g=new rv(l,d,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,d)?this._balanceNamespaceList(g,d):(this.newHostElements.set(d,g),this.collectEnterElement(d)),this._namespaceLookup[l]=g}_balanceNamespaceList(l,d){const g=this._namespaceList,C=this.namespacesByHostElement;if(g.length-1>=0){let E=!1,T=this.driver.getParentElement(d);for(;T;){const M=C.get(T);if(M){const N=g.indexOf(M);g.splice(N+1,0,l),E=!0;break}T=this.driver.getParentElement(T)}E||g.unshift(l)}else g.push(l);return C.set(d,l),l}register(l,d){let g=this._namespaceLookup[l];return g||(g=this.createNamespace(l,d)),g}registerTrigger(l,d,g){let C=this._namespaceLookup[l];C&&C.register(d,g)&&this.totalAnimations++}destroy(l,d){if(!l)return;const g=this._fetchNamespace(l);this.afterFlush(()=>{this.namespacesByHostElement.delete(g.hostElement),delete this._namespaceLookup[l];const C=this._namespaceList.indexOf(g);C>=0&&this._namespaceList.splice(C,1)}),this.afterFlushAnimationsDone(()=>g.destroy(d))}_fetchNamespace(l){return this._namespaceLookup[l]}fetchNamespacesByElement(l){const d=new Set,g=this.statesByElement.get(l);if(g)for(let C of g.values())if(C.namespaceId){const S=this._fetchNamespace(C.namespaceId);S&&d.add(S)}return d}trigger(l,d,g,C){if(Vd(d)){const S=this._fetchNamespace(l);if(S)return S.trigger(d,g,C),!0}return!1}insertNode(l,d,g,C){if(!Vd(d))return;const S=d[Nr];if(S&&S.setForRemoval){S.setForRemoval=!1,S.setForMove=!0;const E=this.collectedLeaveElements.indexOf(d);E>=0&&this.collectedLeaveElements.splice(E,1)}if(l){const E=this._fetchNamespace(l);E&&E.insertNode(d,g)}C&&this.collectEnterElement(d)}collectEnterElement(l){this.collectedEnterElements.push(l)}markElementAsDisabled(l,d){d?this.disabledNodes.has(l)||(this.disabledNodes.add(l),Lr(l,wc)):this.disabledNodes.has(l)&&(this.disabledNodes.delete(l),Ol(l,wc))}removeNode(l,d,g){if(Vd(d)){const C=l?this._fetchNamespace(l):null;C?C.removeNode(d,g):this.markElementAsRemoved(l,d,!1,g);const S=this.namespacesByHostElement.get(d);S&&S.id!==l&&S.removeNode(d,g)}else this._onRemovalComplete(d,g)}markElementAsRemoved(l,d,g,C,S){this.collectedLeaveElements.push(d),d[Nr]={namespaceId:l,setForRemoval:C,hasAnimation:g,removedBeforeQueried:!1,previousTriggersValues:S}}listen(l,d,g,C,S){return Vd(d)?this._fetchNamespace(l).listen(d,g,C,S):()=>{}}_buildInstruction(l,d,g,C,S){return l.transition.build(this.driver,l.element,l.fromState.value,l.toState.value,g,C,l.fromState.options,l.toState.options,d,S)}destroyInnerAnimations(l){let d=this.driver.query(l,Id,!0);d.forEach(g=>this.destroyActiveAnimationsForElement(g)),0!=this.playersByQueriedElement.size&&(d=this.driver.query(l,Md,!0),d.forEach(g=>this.finishActiveQueriedAnimationOnElement(g)))}destroyActiveAnimationsForElement(l){const d=this.playersByElement.get(l);d&&d.forEach(g=>{g.queued?g.markedForDestroy=!0:g.destroy()})}finishActiveQueriedAnimationOnElement(l){const d=this.playersByQueriedElement.get(l);d&&d.forEach(g=>g.finish())}whenRenderingDone(){return new Promise(l=>{if(this.players.length)return Za(this.players).onDone(()=>l());l()})}processLeaveNode(l){const d=l[Nr];if(d&&d.setForRemoval){if(l[Nr]=Ld,d.namespaceId){this.destroyInnerAnimations(l);const g=this._fetchNamespace(d.namespaceId);g&&g.clearElementCache(l)}this._onRemovalComplete(l,d.setForRemoval)}l.classList?.contains(wc)&&this.markElementAsDisabled(l,!1),this.driver.query(l,".ng-animate-disabled",!0).forEach(g=>{this.markElementAsDisabled(g,!1)})}flush(l=-1){let d=[];if(this.newHostElements.size&&(this.newHostElements.forEach((g,C)=>this._balanceNamespaceList(g,C)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let g=0;g<this.collectedEnterElements.length;g++)Lr(this.collectedEnterElements[g],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const g=[];try{d=this._flushAnimations(g,l)}finally{for(let C=0;C<g.length;C++)g[C]()}}else for(let g=0;g<this.collectedLeaveElements.length;g++)this.processLeaveNode(this.collectedLeaveElements[g]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(g=>g()),this._flushFns=[],this._whenQuietFns.length){const g=this._whenQuietFns;this._whenQuietFns=[],d.length?Za(d).onDone(()=>{g.forEach(C=>C())}):g.forEach(C=>C())}}reportError(l){throw function Vb(m){return new a.vHH(3402,!1)}()}_flushAnimations(l,d){const g=new Mg,C=[],S=new Map,E=[],T=new Map,M=new Map,N=new Map,z=new Set;this.disabledNodes.forEach(ct=>{z.add(ct);const dt=this.driver.query(ct,".ng-animate-queued",!0);for(let Ct=0;Ct<dt.length;Ct++)z.add(dt[Ct])});const J=this.bodyNode,X=Array.from(this.statesByElement.keys()),fe=av(X,this.collectedEnterElements),ve=new Map;let be=0;fe.forEach((ct,dt)=>{const Ct=lu+be++;ve.set(dt,Ct),ct.forEach(Ut=>Lr(Ut,Ct))});const Me=[],Ne=new Set,We=new Set;for(let ct=0;ct<this.collectedLeaveElements.length;ct++){const dt=this.collectedLeaveElements[ct],Ct=dt[Nr];Ct&&Ct.setForRemoval&&(Me.push(dt),Ne.add(dt),Ct.hasAnimation?this.driver.query(dt,".ng-star-inserted",!0).forEach(Ut=>Ne.add(Ut)):We.add(dt))}const Ye=new Map,Xe=av(X,Array.from(Ne));Xe.forEach((ct,dt)=>{const Ct=Dg+be++;Ye.set(dt,Ct),ct.forEach(Ut=>Lr(Ut,Ct))}),l.push(()=>{fe.forEach((ct,dt)=>{const Ct=ve.get(dt);ct.forEach(Ut=>Ol(Ut,Ct))}),Xe.forEach((ct,dt)=>{const Ct=Ye.get(dt);ct.forEach(Ut=>Ol(Ut,Ct))}),Me.forEach(ct=>{this.processLeaveNode(ct)})});const gt=[],Mt=[];for(let ct=this._namespaceList.length-1;ct>=0;ct--)this._namespaceList[ct].drainQueuedTransitions(d).forEach(Ct=>{const Ut=Ct.player,vn=Ct.element;if(gt.push(Ut),this.collectedEnterElements.length){const li=vn[Nr];if(li&&li.setForMove){if(li.previousTriggersValues&&li.previousTriggersValues.has(Ct.triggerName)){const xi=li.previousTriggersValues.get(Ct.triggerName),er=this.statesByElement.get(Ct.element);if(er&&er.has(Ct.triggerName)){const jo=er.get(Ct.triggerName);jo.value=xi,er.set(Ct.triggerName,jo)}}return void Ut.destroy()}}const ti=!J||!this.driver.containsElement(J,vn),Dt=Ye.get(vn),Fi=ve.get(vn),sn=this._buildInstruction(Ct,g,Fi,Dt,ti);if(sn.errors&&sn.errors.length)return void Mt.push(sn);if(ti)return Ut.onStart(()=>Ga(vn,sn.fromStyles)),Ut.onDestroy(()=>ca(vn,sn.toStyles)),void C.push(Ut);if(Ct.isFallbackTransition)return Ut.onStart(()=>Ga(vn,sn.fromStyles)),Ut.onDestroy(()=>ca(vn,sn.toStyles)),void C.push(Ut);const Zn=[];sn.timelines.forEach(li=>{li.stretchStartingKeyframe=!0,this.disabledNodes.has(li.element)||Zn.push(li)}),sn.timelines=Zn,g.append(vn,sn.timelines),E.push({instruction:sn,player:Ut,element:vn}),sn.queriedElements.forEach(li=>Ho(T,li,[]).push(Ut)),sn.preStyleProps.forEach((li,xi)=>{if(li.size){let er=M.get(xi);er||M.set(xi,er=new Set),li.forEach((jo,Ec)=>er.add(Ec))}}),sn.postStyleProps.forEach((li,xi)=>{let er=N.get(xi);er||N.set(xi,er=new Set),li.forEach((jo,Ec)=>er.add(Ec))})});if(Mt.length){const ct=[];Mt.forEach(dt=>{ct.push(function Zw(m,l){return new a.vHH(3505,!1)}())}),gt.forEach(dt=>dt.destroy()),this.reportError(ct)}const Rt=new Map,Ot=new Map;E.forEach(ct=>{const dt=ct.element;g.has(dt)&&(Ot.set(dt,dt),this._beforeAnimationBuild(ct.player.namespaceId,ct.instruction,Rt))}),C.forEach(ct=>{const dt=ct.element;this._getPreviousPlayers(dt,!1,ct.namespaceId,ct.triggerName,null).forEach(Ut=>{Ho(Rt,dt,[]).push(Ut),Ut.destroy()})});const qt=Me.filter(ct=>Df(ct,M,N)),rn=new Map;Lg(rn,this.driver,We,N,Mi.l3).forEach(ct=>{Df(ct,M,N)&&qt.push(ct)});const He=new Map;fe.forEach((ct,dt)=>{Lg(He,this.driver,new Set(ct),M,Mi.k1)}),qt.forEach(ct=>{const dt=rn.get(ct),Ct=He.get(ct);rn.set(ct,new Map([...dt?.entries()??[],...Ct?.entries()??[]]))});const mn=[],fi=[],wn={};E.forEach(ct=>{const{element:dt,player:Ct,instruction:Ut}=ct;if(g.has(dt)){if(z.has(dt))return Ct.onDestroy(()=>ca(dt,Ut.toStyles)),Ct.disabled=!0,Ct.overrideTotalTime(Ut.totalTime),void C.push(Ct);let vn=wn;if(Ot.size>1){let Dt=dt;const Fi=[];for(;Dt=Dt.parentNode;){const sn=Ot.get(Dt);if(sn){vn=sn;break}Fi.push(Dt)}Fi.forEach(sn=>Ot.set(sn,vn))}const ti=this._buildAnimation(Ct.namespaceId,Ut,Rt,S,He,rn);if(Ct.setRealPlayer(ti),vn===wn)mn.push(Ct);else{const Dt=this.playersByElement.get(vn);Dt&&Dt.length&&(Ct.parentPlayer=Za(Dt)),C.push(Ct)}}else Ga(dt,Ut.fromStyles),Ct.onDestroy(()=>ca(dt,Ut.toStyles)),fi.push(Ct),z.has(dt)&&C.push(Ct)}),fi.forEach(ct=>{const dt=S.get(ct.element);if(dt&&dt.length){const Ct=Za(dt);ct.setRealPlayer(Ct)}}),C.forEach(ct=>{ct.parentPlayer?ct.syncPlayerEvents(ct.parentPlayer):ct.destroy()});for(let ct=0;ct<Me.length;ct++){const dt=Me[ct],Ct=dt[Nr];if(Ol(dt,Dg),Ct&&Ct.hasAnimation)continue;let Ut=[];if(T.size){let ti=T.get(dt);ti&&ti.length&&Ut.push(...ti);let Dt=this.driver.query(dt,Md,!0);for(let Fi=0;Fi<Dt.length;Fi++){let sn=T.get(Dt[Fi]);sn&&sn.length&&Ut.push(...sn)}}const vn=Ut.filter(ti=>!ti.destroyed);vn.length?lv(this,dt,vn):this.processLeaveNode(dt)}return Me.length=0,mn.forEach(ct=>{this.players.push(ct),ct.onDone(()=>{ct.destroy();const dt=this.players.indexOf(ct);this.players.splice(dt,1)}),ct.play()}),mn}elementContainsData(l,d){let g=!1;const C=d[Nr];return C&&C.setForRemoval&&(g=!0),this.playersByElement.has(d)&&(g=!0),this.playersByQueriedElement.has(d)&&(g=!0),this.statesByElement.has(d)&&(g=!0),this._fetchNamespace(l).elementContainsData(d)||g}afterFlush(l){this._flushFns.push(l)}afterFlushAnimationsDone(l){this._whenQuietFns.push(l)}_getPreviousPlayers(l,d,g,C,S){let E=[];if(d){const T=this.playersByQueriedElement.get(l);T&&(E=T)}else{const T=this.playersByElement.get(l);if(T){const M=!S||S==pu;T.forEach(N=>{N.queued||!M&&N.triggerName!=C||E.push(N)})}}return(g||C)&&(E=E.filter(T=>!(g&&g!=T.namespaceId||C&&C!=T.triggerName))),E}_beforeAnimationBuild(l,d,g){const S=d.element,E=d.isRemovalTransition?void 0:l,T=d.isRemovalTransition?void 0:d.triggerName;for(const M of d.timelines){const N=M.element,z=N!==S,J=Ho(g,N,[]);this._getPreviousPlayers(N,z,E,T,d.toState).forEach(fe=>{const ve=fe.getRealPlayer();ve.beforeDestroy&&ve.beforeDestroy(),fe.destroy(),J.push(fe)})}Ga(S,d.fromStyles)}_buildAnimation(l,d,g,C,S,E){const T=d.triggerName,M=d.element,N=[],z=new Set,J=new Set,X=d.timelines.map(ve=>{const be=ve.element;z.add(be);const Me=be[Nr];if(Me&&Me.removedBeforeQueried)return new Mi.ZN(ve.duration,ve.delay);const Ne=be!==M,We=function Bd(m){const l=[];return Hs(m,l),l}((g.get(be)||h1).map(Rt=>Rt.getRealPlayer())).filter(Rt=>!!Rt.element&&Rt.element===be),Ye=S.get(be),Xe=E.get(be),gt=Ji(this._normalizer,ve.keyframes,Ye,Xe),Mt=this._buildPlayer(ve,gt,We);if(ve.subTimeline&&C&&J.add(be),Ne){const Rt=new wf(l,T,be);Rt.setRealPlayer(Mt),N.push(Rt)}return Mt});N.forEach(ve=>{Ho(this.playersByQueriedElement,ve.element,[]).push(ve),ve.onDone(()=>function Dc(m,l,d){let g=m.get(l);if(g){if(g.length){const C=g.indexOf(d);g.splice(C,1)}0==g.length&&m.delete(l)}return g}(this.playersByQueriedElement,ve.element,ve))}),z.forEach(ve=>Lr(ve,hf));const fe=Za(X);return fe.onDestroy(()=>{z.forEach(ve=>Ol(ve,hf)),ca(M,d.toStyles)}),J.forEach(ve=>{Ho(C,ve,[]).push(fe)}),fe}_buildPlayer(l,d,g){return d.length>0?this.driver.animate(l.element,d,l.duration,l.delay,l.easing,g):new Mi.ZN(l.duration,l.delay)}}class wf{constructor(l,d,g){this.namespaceId=l,this.triggerName=d,this.element=g,this._player=new Mi.ZN,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(l){this._containsRealPlayer||(this._player=l,this._queuedCallbacks.forEach((d,g)=>{d.forEach(C=>Bb(l,g,void 0,C))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(l.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(l){this.totalTime=l}syncPlayerEvents(l){const d=this._player;d.triggerCallback&&l.onStart(()=>d.triggerCallback("start")),l.onDone(()=>this.finish()),l.onDestroy(()=>this.destroy())}_queueEvent(l,d){Ho(this._queuedCallbacks,l,[]).push(d)}onDone(l){this.queued&&this._queueEvent("done",l),this._player.onDone(l)}onStart(l){this.queued&&this._queueEvent("start",l),this._player.onStart(l)}onDestroy(l){this.queued&&this._queueEvent("destroy",l),this._player.onDestroy(l)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(l){this.queued||this._player.setPosition(l)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(l){const d=this._player;d.triggerCallback&&d.triggerCallback(l)}}function Vd(m){return m&&1===m.nodeType}function Ng(m,l){const d=m.style.display;return m.style.display=l??"none",d}function Lg(m,l,d,g,C){const S=[];d.forEach(M=>S.push(Ng(M)));const E=[];g.forEach((M,N)=>{const z=new Map;M.forEach(J=>{const X=l.computeStyle(N,J,C);z.set(J,X),(!X||0==X.length)&&(N[Nr]=Ui,E.push(N))}),m.set(N,z)});let T=0;return d.forEach(M=>Ng(M,S[T++])),E}function av(m,l){const d=new Map;if(m.forEach(T=>d.set(T,[])),0==l.length)return d;const C=new Set(l),S=new Map;function E(T){if(!T)return 1;let M=S.get(T);if(M)return M;const N=T.parentNode;return M=d.has(N)?N:C.has(N)?1:E(N),S.set(T,M),M}return l.forEach(T=>{const M=E(T);1!==M&&d.get(M).push(T)}),d}function Lr(m,l){m.classList?.add(l)}function Ol(m,l){m.classList?.remove(l)}function lv(m,l,d){Za(d).onDone(()=>m.processLeaveNode(l))}function Hs(m,l){for(let d=0;d<m.length;d++){const g=m[d];g instanceof Mi.ZE?Hs(g.players,l):l.push(g)}}function Df(m,l,d){const g=d.get(m);if(!g)return!1;let C=l.get(m);return C?g.forEach(S=>C.add(S)):l.set(m,g),d.delete(m),!0}class Vg{constructor(l,d,g){this.bodyNode=l,this._driver=d,this._normalizer=g,this._triggerCache={},this.onRemovalComplete=(C,S)=>{},this._transitionEngine=new sv(l,d,g),this._timelineEngine=new d1(l,d,g),this._transitionEngine.onRemovalComplete=(C,S)=>this.onRemovalComplete(C,S)}registerTrigger(l,d,g,C,S){const E=l+"-"+C;let T=this._triggerCache[E];if(!T){const M=[],z=mf(this._driver,S,M,[]);if(M.length)throw function af(m,l){return new a.vHH(3404,!1)}();T=function Rg(m,l,d){return new Sc(m,l,d)}(C,z,this._normalizer),this._triggerCache[E]=T}this._transitionEngine.registerTrigger(d,C,T)}register(l,d){this._transitionEngine.register(l,d)}destroy(l,d){this._transitionEngine.destroy(l,d)}onInsert(l,d,g,C){this._transitionEngine.insertNode(l,d,g,C)}onRemove(l,d,g){this._transitionEngine.removeNode(l,d,g)}disableAnimations(l,d){this._transitionEngine.markElementAsDisabled(l,d)}process(l,d,g,C){if("@"==g.charAt(0)){const[S,E]=Q_(g);this._timelineEngine.command(S,d,E,C)}else this._transitionEngine.trigger(l,d,g,C)}listen(l,d,g,C,S){if("@"==g.charAt(0)){const[E,T]=Q_(g);return this._timelineEngine.listen(E,d,T,S)}return this._transitionEngine.listen(l,d,g,C,S)}flush(l=-1){this._transitionEngine.flush(l)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(l){this._transitionEngine.afterFlushAnimationsDone(l)}}let Bg=(()=>{class m{constructor(d,g,C){this._element=d,this._startStyles=g,this._endStyles=C,this._state=0;let S=m.initialStylesByElement.get(d);S||m.initialStylesByElement.set(d,S=new Map),this._initialStyles=S}start(){this._state<1&&(this._startStyles&&ca(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ca(this._element,this._initialStyles),this._endStyles&&(ca(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(m.initialStylesByElement.delete(this._element),this._startStyles&&(Ga(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Ga(this._element,this._endStyles),this._endStyles=null),ca(this._element,this._initialStyles),this._state=3)}}return m.initialStylesByElement=new WeakMap,m})();function Hd(m){let l=null;return m.forEach((d,g)=>{(function xf(m){return"display"===m||"position"===m})(g)&&(l=l||new Map,l.set(g,d))}),l}class cv{constructor(l,d,g,C){this.element=l,this.keyframes=d,this.options=g,this._specialStyles=C,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=g.duration,this._delay=g.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(l=>l()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const l=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,l,this.options),this._finalKeyframe=l.length?l[l.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(l){const d=[];return l.forEach(g=>{d.push(Object.fromEntries(g))}),d}_triggerWebAnimation(l,d,g){return l.animate(this._convertKeyframesToObject(d),g)}onStart(l){this._originalOnStartFns.push(l),this._onStartFns.push(l)}onDone(l){this._originalOnDoneFns.push(l),this._onDoneFns.push(l)}onDestroy(l){this._onDestroyFns.push(l)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(l=>l()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(l=>l()),this._onDestroyFns=[])}setPosition(l){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=l*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const l=new Map;this.hasStarted()&&this._finalKeyframe.forEach((g,C)=>{"offset"!==C&&l.set(C,this._finished?g:Wb(this.element,C))}),this.currentSnapshot=l}triggerCallback(l){const d="start"===l?this._onStartFns:this._onDoneFns;d.forEach(g=>g()),d.length=0}}class hr{validateStyleProperty(l){return!0}validateAnimatableStyleProperty(l){return!0}matchesElement(l,d){return!1}containsElement(l,d){return jb(l,d)}getParentElement(l){return J_(l)}query(l,d,g){return qy(l,d,g)}computeStyle(l,d,g){return window.getComputedStyle(l)[d]}animate(l,d,g,C,S,E=[]){const M={duration:g,delay:C,fill:0==C?"both":"forwards"};S&&(M.easing=S);const N=new Map,z=E.filter(fe=>fe instanceof cv);(function Jy(m,l){return 0===m||0===l})(g,C)&&z.forEach(fe=>{fe.currentSnapshot.forEach((ve,be)=>N.set(be,ve))});let J=function Zb(m){return m.length?m[0]instanceof Map?m:m.map(l=>zb(l)):[]}(d).map(fe=>cu(fe));J=function Xy(m,l,d){if(d.size&&l.length){let g=l[0],C=[];if(d.forEach((S,E)=>{g.has(E)||C.push(E),g.set(E,S)}),C.length)for(let S=1;S<l.length;S++){let E=l[S];C.forEach(T=>E.set(T,Wb(m,T)))}}return l}(l,J,N);const X=function Ef(m,l){let d=null,g=null;return Array.isArray(l)&&l.length?(d=Hd(l[0]),l.length>1&&(g=Hd(l[l.length-1]))):l instanceof Map&&(d=Hd(l)),d||g?new Bg(m,d,g):null}(l,J);return new cv(l,J,M,X)}}let Ud=(()=>{class m extends Mi._j{constructor(d,g){super(),this._nextAnimationId=0,this._renderer=d.createRenderer(g.body,{id:"0",encapsulation:a.ifc.None,styles:[],data:{animation:[]}})}build(d){const g=this._nextAnimationId.toString();this._nextAnimationId++;const C=Array.isArray(d)?(0,Mi.vP)(d):d;return da(this._renderer,null,g,"register",[C]),new Rl(g,this._renderer)}}return m.\u0275fac=function(d){return new(d||m)(a.LFG(a.FYo),a.LFG(ye.K0))},m.\u0275prov=a.Yz7({token:m,factory:m.\u0275fac}),m})();class Rl extends Mi.LC{constructor(l,d){super(),this._id=l,this._renderer=d}create(l,d){return new Hg(this._id,l,d||{},this._renderer)}}class Hg{constructor(l,d,g,C){this.id=l,this.element=d,this._renderer=C,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",g)}_listen(l,d){return this._renderer.listen(this.element,`@@${this.id}:${l}`,d)}_command(l,...d){return da(this._renderer,this.element,this.id,l,d)}onDone(l){this._listen("done",l)}onStart(l){this._listen("start",l)}onDestroy(l){this._listen("destroy",l)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(l){this._command("setPosition",l)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function da(m,l,d,g,C){return m.setProperty(l,`@@${d}:${g}`,C)}const Ug="@.disabled";let If=(()=>{class m{constructor(d,g,C){this.delegate=d,this.engine=g,this._zone=C,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,g.onRemovalComplete=(S,E)=>{const T=E?.parentNode(S);T&&E.removeChild(T,S)}}createRenderer(d,g){const S=this.delegate.createRenderer(d,g);if(!(d&&g&&g.data&&g.data.animation)){let z=this._rendererCache.get(S);return z||(z=new g1("",S,this.engine,()=>this._rendererCache.delete(S)),this._rendererCache.set(S,z)),z}const E=g.id,T=g.id+"-"+this._currentId;this._currentId++,this.engine.register(T,d);const M=z=>{Array.isArray(z)?z.forEach(M):this.engine.registerTrigger(E,T,d,z.name,z)};return g.data.animation.forEach(M),new rS(this,T,S,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(d,g,C){d>=0&&d<this._microtaskId?this._zone.run(()=>g(C)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(S=>{const[E,T]=S;E(T)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([g,C]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return m.\u0275fac=function(d){return new(d||m)(a.LFG(a.FYo),a.LFG(Vg),a.LFG(a.R0b))},m.\u0275prov=a.Yz7({token:m,factory:m.\u0275fac}),m})();class g1{constructor(l,d,g,C){this.namespaceId=l,this.delegate=d,this.engine=g,this._onDestroy=C}get data(){return this.delegate.data}destroyNode(l){this.delegate.destroyNode?.(l)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(l,d){return this.delegate.createElement(l,d)}createComment(l){return this.delegate.createComment(l)}createText(l){return this.delegate.createText(l)}appendChild(l,d){this.delegate.appendChild(l,d),this.engine.onInsert(this.namespaceId,d,l,!1)}insertBefore(l,d,g,C=!0){this.delegate.insertBefore(l,d,g),this.engine.onInsert(this.namespaceId,d,l,C)}removeChild(l,d,g){this.engine.onRemove(this.namespaceId,d,this.delegate)}selectRootElement(l,d){return this.delegate.selectRootElement(l,d)}parentNode(l){return this.delegate.parentNode(l)}nextSibling(l){return this.delegate.nextSibling(l)}setAttribute(l,d,g,C){this.delegate.setAttribute(l,d,g,C)}removeAttribute(l,d,g){this.delegate.removeAttribute(l,d,g)}addClass(l,d){this.delegate.addClass(l,d)}removeClass(l,d){this.delegate.removeClass(l,d)}setStyle(l,d,g,C){this.delegate.setStyle(l,d,g,C)}removeStyle(l,d,g){this.delegate.removeStyle(l,d,g)}setProperty(l,d,g){"@"==d.charAt(0)&&d==Ug?this.disableAnimations(l,!!g):this.delegate.setProperty(l,d,g)}setValue(l,d){this.delegate.setValue(l,d)}listen(l,d,g){return this.delegate.listen(l,d,g)}disableAnimations(l,d){this.engine.disableAnimations(l,d)}}class rS extends g1{constructor(l,d,g,C,S){super(d,g,C,S),this.factory=l,this.namespaceId=d}setProperty(l,d,g){"@"==d.charAt(0)?"."==d.charAt(1)&&d==Ug?this.disableAnimations(l,g=void 0===g||!!g):this.engine.process(this.namespaceId,l,d.slice(1),g):this.delegate.setProperty(l,d,g)}listen(l,d,g){if("@"==d.charAt(0)){const C=function m1(m){switch(m){case"body":return document.body;case"document":return document;case"window":return window;default:return m}}(l);let S=d.slice(1),E="";return"@"!=S.charAt(0)&&([S,E]=function jd(m){const l=m.indexOf(".");return[m.substring(0,l),m.slice(l+1)]}(S)),this.engine.listen(this.namespaceId,C,S,E,T=>{this.factory.scheduleListenerCallback(T._data||-1,g,T)})}return this.delegate.listen(l,d,g)}}const jg=[{provide:Mi._j,useClass:Ud},{provide:Nd,useFactory:function _1(){return new Ya}},{provide:Vg,useClass:(()=>{class m extends Vg{constructor(d,g,C,S){super(d.body,g,C)}ngOnDestroy(){this.flush()}}return m.\u0275fac=function(d){return new(d||m)(a.LFG(ye.K0),a.LFG(wg),a.LFG(Nd),a.LFG(a.z2F))},m.\u0275prov=a.Yz7({token:m,factory:m.\u0275fac}),m})()},{provide:a.FYo,useFactory:function v1(m,l,d){return new If(m,l,d)},deps:[kt.se,Vg,a.R0b]}],sS=[{provide:wg,useFactory:()=>new hr},{provide:a.QbO,useValue:"BrowserAnimations"},...jg];var Mf=L(4911),y1=L(2438),C1=L(5211);const Pl=new Xp.y(Iy.Z);var b1=L(3168),S1=L(4674);const Af={connector:()=>new nt.x};function zg(m,l=Af){const{connector:d}=l;return(0,E_.e)((g,C)=>{const S=d();(0,T_.Xf)(m(function zd(m){return new Xp.y(l=>m.subscribe(l))}(S))).subscribe(C),C.add(g.subscribe(S))})}var kl=L(8180),hv=L(5177);const Of="Service workers are disabled or not supported by this browser";class Rf{constructor(l){if(this.serviceWorker=l,l){const g=(0,y1.R)(l,"controllerchange").pipe((0,Wr.U)(()=>l.controller)),C=(0,Mf.P)(()=>(0,md.of)(l.controller)),S=(0,C1.z)(C,g);this.worker=S.pipe((0,ce.h)(z=>!!z)),this.registration=this.worker.pipe((0,St.w)(()=>l.getRegistration()));const N=(0,y1.R)(l,"message").pipe((0,Wr.U)(z=>z.data)).pipe((0,ce.h)(z=>z&&z.type)).pipe(function uS(m){return m?l=>zg(m)(l):l=>function w1(m,l){const d=(0,S1.m)(m)?m:()=>m;return(0,S1.m)(l)?zg(l,{connector:d}):g=>new b1.c(g,d)}(new nt.x)(l)}());N.connect(),this.events=N}else this.worker=this.events=this.registration=function D1(m){return(0,Mf.P)(()=>(0,ur._)(new Error(m)))}(Of)}postMessage(l,d){return this.worker.pipe((0,kl.q)(1),(0,M_.b)(g=>{g.postMessage({action:l,...d})})).toPromise().then(()=>{})}postMessageWithOperation(l,d,g){const C=this.waitForOperationCompleted(g),S=this.postMessage(l,d);return Promise.all([S,C]).then(([,E])=>E)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(l){let d;return d="string"==typeof l?g=>g.type===l:g=>l.includes(g.type),this.events.pipe((0,ce.h)(d))}nextEventOfType(l){return this.eventsOfType(l).pipe((0,kl.q)(1))}waitForOperationCompleted(l){return this.eventsOfType("OPERATION_COMPLETED").pipe((0,ce.h)(d=>d.nonce===l),(0,kl.q)(1),(0,Wr.U)(d=>{if(void 0!==d.result)return d.result;throw new Error(d.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let dS=(()=>{class m{get isEnabled(){return this.sw.isEnabled}constructor(d){if(this.sw=d,this.pushManager=null,this.subscriptionChanges=new nt.x,!d.isEnabled)return this.messages=Pl,this.notificationClicks=Pl,void(this.subscription=Pl);this.messages=this.sw.eventsOfType("PUSH").pipe((0,Wr.U)(C=>C.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe((0,Wr.U)(C=>C.data)),this.pushManager=this.sw.registration.pipe((0,Wr.U)(C=>C.pushManager));const g=this.pushManager.pipe((0,St.w)(C=>C.getSubscription()));this.subscription=(0,it.T)(g,this.subscriptionChanges)}requestSubscription(d){if(!this.sw.isEnabled||null===this.pushManager)return Promise.reject(new Error(Of));const g={userVisibleOnly:!0};let C=this.decodeBase64(d.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),S=new Uint8Array(new ArrayBuffer(C.length));for(let E=0;E<C.length;E++)S[E]=C.charCodeAt(E);return g.applicationServerKey=S,this.pushManager.pipe((0,St.w)(E=>E.subscribe(g)),(0,kl.q)(1)).toPromise().then(E=>(this.subscriptionChanges.next(E),E))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe((0,kl.q)(1),(0,St.w)(g=>{if(null===g)throw new Error("Not subscribed to push notifications.");return g.unsubscribe().then(C=>{if(!C)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(Of))}decodeBase64(d){return atob(d)}}return m.\u0275fac=function(d){return new(d||m)(a.LFG(Rf))},m.\u0275prov=a.Yz7({token:m,factory:m.\u0275fac}),m})(),hS=(()=>{class m{get isEnabled(){return this.sw.isEnabled}constructor(d){if(this.sw=d,!d.isEnabled)return this.versionUpdates=Pl,this.available=Pl,this.activated=Pl,void(this.unrecoverable=Pl);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.available=this.versionUpdates.pipe((0,ce.h)(g=>"VERSION_READY"===g.type),(0,Wr.U)(g=>({type:"UPDATE_AVAILABLE",current:g.currentVersion,available:g.latestVersion}))),this.activated=this.sw.eventsOfType("UPDATE_ACTIVATED"),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Of));const d=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:d},d)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Of));const d=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:d},d)}}return m.\u0275fac=function(d){return new(d||m)(a.LFG(Rf))},m.\u0275prov=a.Yz7({token:m,factory:m.\u0275fac}),m})();const fv=new a.OlP("NGSW_REGISTER_SCRIPT");function fS(m,l,d,g){return()=>{if(!(0,ye.NF)(g)||!("serviceWorker"in navigator)||!1===d.enabled)return;let C;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof d.registrationStrategy)C=d.registrationStrategy();else{const[E,...T]=(d.registrationStrategy||"registerWhenStable:30000").split(":");switch(E){case"registerImmediately":C=(0,md.of)(null);break;case"registerWithDelay":C=pv(+T[0]||0);break;case"registerWhenStable":C=T[0]?(0,it.T)(Pf(m),pv(+T[0])):Pf(m);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${d.registrationStrategy}`)}}m.get(a.R0b).runOutsideAngular(()=>C.pipe((0,kl.q)(1)).subscribe(()=>navigator.serviceWorker.register(l,{scope:d.scope}).catch(E=>console.error("Service worker registration failed with:",E))))}}function pv(m){return(0,md.of)(null).pipe((0,hv.g)(m))}function Pf(m){return m.get(a.z2F).isStable.pipe((0,ce.h)(d=>d))}function pS(m,l){return new Rf((0,ye.NF)(l)&&!1!==m.enabled?navigator.serviceWorker:void 0)}class gv{}function Zg(m,l={}){return(0,a.MR2)([dS,hS,{provide:fv,useValue:m},{provide:gv,useValue:l},{provide:Rf,useFactory:pS,deps:[gv,a.Lbi]},{provide:a.ip1,useFactory:fS,deps:[a.zs3,fv,gv,a.Lbi],multi:!0}])}let gS=(()=>{class m{constructor(d){this.routeStore=new Map,this.isPopState=!1,d.onPopState(()=>{this.isPopState=!0})}clearRouteStore(){this.routeStore.forEach(d=>{d&&d.componentRef.destroy()}),this.routeStore.clear()}getRouteKey(d){return d.pathFromRoot.filter(g=>g.url).map(g=>g.url).join("/")}deleteFirstRoute(){let d=this.routeStore.entries().next().value;d&&(d[1].componentRef.destroy(),this.routeStore.delete(d[0]))}shouldDetach(d){return d.data.saveComponent}store(d,g){this.routeStore.size>10&&this.deleteFirstRoute(),this.routeStore.set(this.getRouteKey(d),g)}shouldAttach(d){let g=this.getRouteKey(d),C=this.routeStore.get(g);return this.isPopState&&C?(this.prevRoute===g&&(this.isPopState=!1),this.prevRoute=g,d.data.saveComponent):(this.prevRoute=g,C&&this.routeStore.get(g).componentRef.destroy(),!1)}retrieve(d){return this.routeStore.get(this.getRouteKey(d))??{}}shouldReuseRoute(d,g){return d.routeConfig===g.routeConfig}}return m.\u0275fac=function(d){return new(d||m)(a.LFG(ye.S$))},m.\u0275prov=a.Yz7({token:m,factory:m.\u0275fac}),m})();(0,kt.Cg)(Ge,{providers:[(0,W.bU)(jy),function dv(){return[...sS]}(),Zg("ngsw-worker.js",{enabled:!(0,a.X6Q)(),registrationStrategy:"registerWhenStable:30000"}),Zg("ngsw-worker.js",{enabled:!(0,a.X6Q)(),registrationStrategy:"registerWhenStable:30000"}),Zg("ngsw-worker.js",{enabled:!(0,a.X6Q)(),registrationStrategy:"registerWhenStable:30000"}),{provide:W.wN,useClass:gS},function xl(...m){const l=[ag,Ft,mb,{provide:eg,useExisting:mb},{provide:tg,useExisting:Ft},{provide:oo,useValue:dg,multi:!0},{provide:Pr,useValue:!0},{provide:iu,useClass:Cd}];for(const d of m)l.push(...d.\u0275providers);return(0,a.MR2)(l)}()]}).catch(m=>console.log(m))},1414:function(pt){pt.exports=function(){"use strict";function Te(de,se,xe,et,Ae){!function Je(ce,ye,ke,Le,nt){for(;Le>ke;){if(Le-ke>600){var it=Le-ke+1,It=ye-ke+1,qe=Math.log(it),St=.5*Math.exp(2*qe/3),pn=.5*Math.sqrt(qe*St*(it-St)/it)*(It-it/2<0?-1:1);Je(ce,ye,Math.max(ke,Math.floor(ye-It*St/it+pn)),Math.min(Le,Math.floor(ye+(it-It)*St/it+pn)),nt)}var Ke=ce[ye],rt=ke,ot=Le;for(L(ce,ke,ye),nt(ce[Le],Ke)>0&&L(ce,ke,Le);rt<ot;){for(L(ce,rt,ot),rt++,ot--;nt(ce[rt],Ke)<0;)rt++;for(;nt(ce[ot],Ke)>0;)ot--}0===nt(ce[ke],Ke)?L(ce,ke,ot):L(ce,++ot,Le),ot<=ye&&(ke=ot+1),ye<=ot&&(Le=ot-1)}}(de,se,xe||0,et||de.length-1,Ae||a)}function L(de,se,xe){var et=de[se];de[se]=de[xe],de[xe]=et}function a(de,se){return de<se?-1:de>se?1:0}var W=function(de){void 0===de&&(de=9),this._maxEntries=Math.max(4,de),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function te(de,se,xe){if(!xe)return se.indexOf(de);for(var et=0;et<se.length;et++)if(xe(de,se[et]))return et;return-1}function oe(de,se){ge(de,0,de.children.length,se,de)}function ge(de,se,xe,et,Ae){Ae||(Ae=Ve(null)),Ae.minX=1/0,Ae.minY=1/0,Ae.maxX=-1/0,Ae.maxY=-1/0;for(var Je=se;Je<xe;Je++){var ce=de.children[Je];Ee(Ae,de.leaf?et(ce):ce)}return Ae}function Ee(de,se){return de.minX=Math.min(de.minX,se.minX),de.minY=Math.min(de.minY,se.minY),de.maxX=Math.max(de.maxX,se.maxX),de.maxY=Math.max(de.maxY,se.maxY),de}function we(de,se){return de.minX-se.minX}function pe(de,se){return de.minY-se.minY}function ue(de){return(de.maxX-de.minX)*(de.maxY-de.minY)}function ie(de){return de.maxX-de.minX+(de.maxY-de.minY)}function le(de,se){return de.minX<=se.minX&&de.minY<=se.minY&&se.maxX<=de.maxX&&se.maxY<=de.maxY}function _e(de,se){return se.minX<=de.maxX&&se.minY<=de.maxY&&se.maxX>=de.minX&&se.maxY>=de.minY}function Ve(de){return{children:de,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function Fe(de,se,xe,et,Ae){for(var Je=[se,xe];Je.length;)if(!((xe=Je.pop())-(se=Je.pop())<=et)){var ce=se+Math.ceil((xe-se)/et/2)*et;Te(de,ce,se,xe,Ae),Je.push(se,ce,ce,xe)}}return W.prototype.all=function(){return this._all(this.data,[])},W.prototype.search=function(de){var se=this.data,xe=[];if(!_e(de,se))return xe;for(var et=this.toBBox,Ae=[];se;){for(var Je=0;Je<se.children.length;Je++){var ce=se.children[Je],ye=se.leaf?et(ce):ce;_e(de,ye)&&(se.leaf?xe.push(ce):le(de,ye)?this._all(ce,xe):Ae.push(ce))}se=Ae.pop()}return xe},W.prototype.collides=function(de){var se=this.data;if(!_e(de,se))return!1;for(var xe=[];se;){for(var et=0;et<se.children.length;et++){var Ae=se.children[et],Je=se.leaf?this.toBBox(Ae):Ae;if(_e(de,Je)){if(se.leaf||le(de,Je))return!0;xe.push(Ae)}}se=xe.pop()}return!1},W.prototype.load=function(de){if(!de||!de.length)return this;if(de.length<this._minEntries){for(var se=0;se<de.length;se++)this.insert(de[se]);return this}var xe=this._build(de.slice(),0,de.length-1,0);if(this.data.children.length)if(this.data.height===xe.height)this._splitRoot(this.data,xe);else{if(this.data.height<xe.height){var et=this.data;this.data=xe,xe=et}this._insert(xe,this.data.height-xe.height-1,!0)}else this.data=xe;return this},W.prototype.insert=function(de){return de&&this._insert(de,this.data.height-1),this},W.prototype.clear=function(){return this.data=Ve([]),this},W.prototype.remove=function(de,se){if(!de)return this;for(var xe,et,Ae,Je=this.data,ce=this.toBBox(de),ye=[],ke=[];Je||ye.length;){if(Je||(Je=ye.pop(),et=ye[ye.length-1],xe=ke.pop(),Ae=!0),Je.leaf){var Le=te(de,Je.children,se);if(-1!==Le)return Je.children.splice(Le,1),ye.push(Je),this._condense(ye),this}Ae||Je.leaf||!le(Je,ce)?et?(xe++,Je=et.children[xe],Ae=!1):Je=null:(ye.push(Je),ke.push(xe),xe=0,et=Je,Je=Je.children[0])}return this},W.prototype.toBBox=function(de){return de},W.prototype.compareMinX=function(de,se){return de.minX-se.minX},W.prototype.compareMinY=function(de,se){return de.minY-se.minY},W.prototype.toJSON=function(){return this.data},W.prototype.fromJSON=function(de){return this.data=de,this},W.prototype._all=function(de,se){for(var xe=[];de;)de.leaf?se.push.apply(se,de.children):xe.push.apply(xe,de.children),de=xe.pop();return se},W.prototype._build=function(de,se,xe,et){var Ae,Je=xe-se+1,ce=this._maxEntries;if(Je<=ce)return oe(Ae=Ve(de.slice(se,xe+1)),this.toBBox),Ae;et||(et=Math.ceil(Math.log(Je)/Math.log(ce)),ce=Math.ceil(Je/Math.pow(ce,et-1))),(Ae=Ve([])).leaf=!1,Ae.height=et;var ye=Math.ceil(Je/ce),ke=ye*Math.ceil(Math.sqrt(ce));Fe(de,se,xe,ke,this.compareMinX);for(var Le=se;Le<=xe;Le+=ke){var nt=Math.min(Le+ke-1,xe);Fe(de,Le,nt,ye,this.compareMinY);for(var it=Le;it<=nt;it+=ye){var It=Math.min(it+ye-1,nt);Ae.children.push(this._build(de,it,It,et-1))}}return oe(Ae,this.toBBox),Ae},W.prototype._chooseSubtree=function(de,se,xe,et){for(;et.push(se),!se.leaf&&et.length-1!==xe;){for(var Ae=1/0,Je=1/0,ce=void 0,ye=0;ye<se.children.length;ye++){var ke=se.children[ye],Le=ue(ke),nt=(it=de,It=ke,(Math.max(It.maxX,it.maxX)-Math.min(It.minX,it.minX))*(Math.max(It.maxY,it.maxY)-Math.min(It.minY,it.minY))-Le);nt<Je?(Je=nt,Ae=Le<Ae?Le:Ae,ce=ke):nt===Je&&Le<Ae&&(Ae=Le,ce=ke)}se=ce||se.children[0]}var it,It;return se},W.prototype._insert=function(de,se,xe){var et=xe?de:this.toBBox(de),Ae=[],Je=this._chooseSubtree(et,this.data,se,Ae);for(Je.children.push(de),Ee(Je,et);se>=0&&Ae[se].children.length>this._maxEntries;)this._split(Ae,se),se--;this._adjustParentBBoxes(et,Ae,se)},W.prototype._split=function(de,se){var xe=de[se],et=xe.children.length,Ae=this._minEntries;this._chooseSplitAxis(xe,Ae,et);var Je=this._chooseSplitIndex(xe,Ae,et),ce=Ve(xe.children.splice(Je,xe.children.length-Je));ce.height=xe.height,ce.leaf=xe.leaf,oe(xe,this.toBBox),oe(ce,this.toBBox),se?de[se-1].children.push(ce):this._splitRoot(xe,ce)},W.prototype._splitRoot=function(de,se){this.data=Ve([de,se]),this.data.height=de.height+1,this.data.leaf=!1,oe(this.data,this.toBBox)},W.prototype._chooseSplitIndex=function(de,se,xe){for(var et,Ae,Je,ce,ye,ke,Le,nt=1/0,it=1/0,It=se;It<=xe-se;It++){var qe=ge(de,0,It,this.toBBox),St=ge(de,It,xe,this.toBBox),pn=(Ae=qe,Je=St,void 0,void 0,void 0,void 0,ce=Math.max(Ae.minX,Je.minX),ye=Math.max(Ae.minY,Je.minY),ke=Math.min(Ae.maxX,Je.maxX),Le=Math.min(Ae.maxY,Je.maxY),Math.max(0,ke-ce)*Math.max(0,Le-ye)),Cn=ue(qe)+ue(St);pn<nt?(nt=pn,et=It,it=Cn<it?Cn:it):pn===nt&&Cn<it&&(it=Cn,et=It)}return et||xe-se},W.prototype._chooseSplitAxis=function(de,se,xe){var et=de.leaf?this.compareMinX:we,Ae=de.leaf?this.compareMinY:pe;this._allDistMargin(de,se,xe,et)<this._allDistMargin(de,se,xe,Ae)&&de.children.sort(et)},W.prototype._allDistMargin=function(de,se,xe,et){de.children.sort(et);for(var Ae=this.toBBox,Je=ge(de,0,se,Ae),ce=ge(de,xe-se,xe,Ae),ye=ie(Je)+ie(ce),ke=se;ke<xe-se;ke++){var Le=de.children[ke];Ee(Je,de.leaf?Ae(Le):Le),ye+=ie(Je)}for(var nt=xe-se-1;nt>=se;nt--){var it=de.children[nt];Ee(ce,de.leaf?Ae(it):it),ye+=ie(ce)}return ye},W.prototype._adjustParentBBoxes=function(de,se,xe){for(var et=xe;et>=0;et--)Ee(se[et],de)},W.prototype._condense=function(de){for(var se=de.length-1,xe=void 0;se>=0;se--)0===de[se].children.length?se>0?(xe=de[se-1].children).splice(xe.indexOf(de[se]),1):this.clear():oe(de[se],this.toBBox)},W}()},5619:(pt,Te,L)=>{"use strict";L.d(Te,{X:()=>W});var a=L(8645);class W extends a.x{constructor(oe){super(),this._value=oe}get value(){return this.getValue()}_subscribe(oe){const ge=super._subscribe(oe);return!ge.closed&&oe.next(this._value),ge}getValue(){const{hasError:oe,thrownError:ge,_value:Ee}=this;if(oe)throw ge;return this._throwIfClosed(),Ee}next(oe){super.next(this._value=oe)}}},5592:(pt,Te,L)=>{"use strict";L.d(Te,{y:()=>pe});var a=L(305),W=L(7394),te=L(4850),oe=L(8407),ge=L(2653),Ee=L(4674),we=L(1441);let pe=(()=>{class _e{constructor(Fe){Fe&&(this._subscribe=Fe)}lift(Fe){const de=new _e;return de.source=this,de.operator=Fe,de}subscribe(Fe,de,se){const xe=function le(_e){return _e&&_e instanceof a.Lv||function ie(_e){return _e&&(0,Ee.m)(_e.next)&&(0,Ee.m)(_e.error)&&(0,Ee.m)(_e.complete)}(_e)&&(0,W.Nn)(_e)}(Fe)?Fe:new a.Hp(Fe,de,se);return(0,we.x)(()=>{const{operator:et,source:Ae}=this;xe.add(et?et.call(xe,Ae):Ae?this._subscribe(xe):this._trySubscribe(xe))}),xe}_trySubscribe(Fe){try{return this._subscribe(Fe)}catch(de){Fe.error(de)}}forEach(Fe,de){return new(de=ue(de))((se,xe)=>{const et=new a.Hp({next:Ae=>{try{Fe(Ae)}catch(Je){xe(Je),et.unsubscribe()}},error:xe,complete:se});this.subscribe(et)})}_subscribe(Fe){var de;return null===(de=this.source)||void 0===de?void 0:de.subscribe(Fe)}[te.L](){return this}pipe(...Fe){return(0,oe.U)(Fe)(this)}toPromise(Fe){return new(Fe=ue(Fe))((de,se)=>{let xe;this.subscribe(et=>xe=et,et=>se(et),()=>de(xe))})}}return _e.create=Ve=>new _e(Ve),_e})();function ue(_e){var Ve;return null!==(Ve=_e??ge.config.Promise)&&void 0!==Ve?Ve:Promise}},7328:(pt,Te,L)=>{"use strict";L.d(Te,{t:()=>te});var a=L(8645),W=L(4552);class te extends a.x{constructor(ge=1/0,Ee=1/0,we=W.l){super(),this._bufferSize=ge,this._windowTime=Ee,this._timestampProvider=we,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=Ee===1/0,this._bufferSize=Math.max(1,ge),this._windowTime=Math.max(1,Ee)}next(ge){const{isStopped:Ee,_buffer:we,_infiniteTimeWindow:pe,_timestampProvider:ue,_windowTime:ie}=this;Ee||(we.push(ge),!pe&&we.push(ue.now()+ie)),this._trimBuffer(),super.next(ge)}_subscribe(ge){this._throwIfClosed(),this._trimBuffer();const Ee=this._innerSubscribe(ge),{_infiniteTimeWindow:we,_buffer:pe}=this,ue=pe.slice();for(let ie=0;ie<ue.length&&!ge.closed;ie+=we?1:2)ge.next(ue[ie]);return this._checkFinalizedStatuses(ge),Ee}_trimBuffer(){const{_bufferSize:ge,_timestampProvider:Ee,_buffer:we,_infiniteTimeWindow:pe}=this,ue=(pe?1:2)*ge;if(ge<1/0&&ue<we.length&&we.splice(0,we.length-ue),!pe){const ie=Ee.now();let le=0;for(let _e=1;_e<we.length&&we[_e]<=ie;_e+=2)le=_e;le&&we.splice(0,le+1)}}}},8645:(pt,Te,L)=>{"use strict";L.d(Te,{x:()=>we});var a=L(5592),W=L(7394);const oe=(0,L(2306).d)(ue=>function(){ue(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ge=L(9039),Ee=L(1441);let we=(()=>{class ue extends a.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(le){const _e=new pe(this,this);return _e.operator=le,_e}_throwIfClosed(){if(this.closed)throw new oe}next(le){(0,Ee.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const _e of this.currentObservers)_e.next(le)}})}error(le){(0,Ee.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=le;const{observers:_e}=this;for(;_e.length;)_e.shift().error(le)}})}complete(){(0,Ee.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:le}=this;for(;le.length;)le.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var le;return(null===(le=this.observers)||void 0===le?void 0:le.length)>0}_trySubscribe(le){return this._throwIfClosed(),super._trySubscribe(le)}_subscribe(le){return this._throwIfClosed(),this._checkFinalizedStatuses(le),this._innerSubscribe(le)}_innerSubscribe(le){const{hasError:_e,isStopped:Ve,observers:Fe}=this;return _e||Ve?W.Lc:(this.currentObservers=null,Fe.push(le),new W.w0(()=>{this.currentObservers=null,(0,ge.P)(Fe,le)}))}_checkFinalizedStatuses(le){const{hasError:_e,thrownError:Ve,isStopped:Fe}=this;_e?le.error(Ve):Fe&&le.complete()}asObservable(){const le=new a.y;return le.source=this,le}}return ue.create=(ie,le)=>new pe(ie,le),ue})();class pe extends we{constructor(ie,le){super(),this.destination=ie,this.source=le}next(ie){var le,_e;null===(_e=null===(le=this.destination)||void 0===le?void 0:le.next)||void 0===_e||_e.call(le,ie)}error(ie){var le,_e;null===(_e=null===(le=this.destination)||void 0===le?void 0:le.error)||void 0===_e||_e.call(le,ie)}complete(){var ie,le;null===(le=null===(ie=this.destination)||void 0===ie?void 0:ie.complete)||void 0===le||le.call(ie)}_subscribe(ie){var le,_e;return null!==(_e=null===(le=this.source)||void 0===le?void 0:le.subscribe(ie))&&void 0!==_e?_e:W.Lc}}},305:(pt,Te,L)=>{"use strict";L.d(Te,{Hp:()=>se,Lv:()=>_e});var a=L(4674),W=L(7394),te=L(2653),oe=L(3894),ge=L(2420);const Ee=ue("C",void 0,void 0);function ue(ce,ye,ke){return{kind:ce,value:ye,error:ke}}var ie=L(7599),le=L(1441);class _e extends W.w0{constructor(ye){super(),this.isStopped=!1,ye?(this.destination=ye,(0,W.Nn)(ye)&&ye.add(this)):this.destination=Je}static create(ye,ke,Le){return new se(ye,ke,Le)}next(ye){this.isStopped?Ae(function pe(ce){return ue("N",ce,void 0)}(ye),this):this._next(ye)}error(ye){this.isStopped?Ae(function we(ce){return ue("E",void 0,ce)}(ye),this):(this.isStopped=!0,this._error(ye))}complete(){this.isStopped?Ae(Ee,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ye){this.destination.next(ye)}_error(ye){try{this.destination.error(ye)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ve=Function.prototype.bind;function Fe(ce,ye){return Ve.call(ce,ye)}class de{constructor(ye){this.partialObserver=ye}next(ye){const{partialObserver:ke}=this;if(ke.next)try{ke.next(ye)}catch(Le){xe(Le)}}error(ye){const{partialObserver:ke}=this;if(ke.error)try{ke.error(ye)}catch(Le){xe(Le)}else xe(ye)}complete(){const{partialObserver:ye}=this;if(ye.complete)try{ye.complete()}catch(ke){xe(ke)}}}class se extends _e{constructor(ye,ke,Le){let nt;if(super(),(0,a.m)(ye)||!ye)nt={next:ye??void 0,error:ke??void 0,complete:Le??void 0};else{let it;this&&te.config.useDeprecatedNextContext?(it=Object.create(ye),it.unsubscribe=()=>this.unsubscribe(),nt={next:ye.next&&Fe(ye.next,it),error:ye.error&&Fe(ye.error,it),complete:ye.complete&&Fe(ye.complete,it)}):nt=ye}this.destination=new de(nt)}}function xe(ce){te.config.useDeprecatedSynchronousErrorHandling?(0,le.O)(ce):(0,oe.h)(ce)}function Ae(ce,ye){const{onStoppedNotification:ke}=te.config;ke&&ie.z.setTimeout(()=>ke(ce,ye))}const Je={closed:!0,next:ge.Z,error:function et(ce){throw ce},complete:ge.Z}},7394:(pt,Te,L)=>{"use strict";L.d(Te,{Lc:()=>Ee,w0:()=>ge,Nn:()=>we});var a=L(4674);const te=(0,L(2306).d)(ue=>function(le){ue(this),this.message=le?`${le.length} errors occurred during unsubscription:\n${le.map((_e,Ve)=>`${Ve+1}) ${_e.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=le});var oe=L(9039);class ge{constructor(ie){this.initialTeardown=ie,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let ie;if(!this.closed){this.closed=!0;const{_parentage:le}=this;if(le)if(this._parentage=null,Array.isArray(le))for(const Fe of le)Fe.remove(this);else le.remove(this);const{initialTeardown:_e}=this;if((0,a.m)(_e))try{_e()}catch(Fe){ie=Fe instanceof te?Fe.errors:[Fe]}const{_finalizers:Ve}=this;if(Ve){this._finalizers=null;for(const Fe of Ve)try{pe(Fe)}catch(de){ie=ie??[],de instanceof te?ie=[...ie,...de.errors]:ie.push(de)}}if(ie)throw new te(ie)}}add(ie){var le;if(ie&&ie!==this)if(this.closed)pe(ie);else{if(ie instanceof ge){if(ie.closed||ie._hasParent(this))return;ie._addParent(this)}(this._finalizers=null!==(le=this._finalizers)&&void 0!==le?le:[]).push(ie)}}_hasParent(ie){const{_parentage:le}=this;return le===ie||Array.isArray(le)&&le.includes(ie)}_addParent(ie){const{_parentage:le}=this;this._parentage=Array.isArray(le)?(le.push(ie),le):le?[le,ie]:ie}_removeParent(ie){const{_parentage:le}=this;le===ie?this._parentage=null:Array.isArray(le)&&(0,oe.P)(le,ie)}remove(ie){const{_finalizers:le}=this;le&&(0,oe.P)(le,ie),ie instanceof ge&&ie._removeParent(this)}}ge.EMPTY=(()=>{const ue=new ge;return ue.closed=!0,ue})();const Ee=ge.EMPTY;function we(ue){return ue instanceof ge||ue&&"closed"in ue&&(0,a.m)(ue.remove)&&(0,a.m)(ue.add)&&(0,a.m)(ue.unsubscribe)}function pe(ue){(0,a.m)(ue)?ue():ue.unsubscribe()}},2653:(pt,Te,L)=>{"use strict";L.d(Te,{config:()=>a});const a={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},3168:(pt,Te,L)=>{"use strict";L.d(Te,{c:()=>Ee});var a=L(5592),W=L(7394),te=L(6196),oe=L(8251),ge=L(9360);class Ee extends a.y{constructor(pe,ue){super(),this.source=pe,this.subjectFactory=ue,this._subject=null,this._refCount=0,this._connection=null,(0,ge.A)(pe)&&(this.lift=pe.lift)}_subscribe(pe){return this.getSubject().subscribe(pe)}getSubject(){const pe=this._subject;return(!pe||pe.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:pe}=this;this._subject=this._connection=null,pe?.unsubscribe()}connect(){let pe=this._connection;if(!pe){pe=this._connection=new W.w0;const ue=this.getSubject();pe.add(this.source.subscribe((0,oe.x)(ue,void 0,()=>{this._teardown(),ue.complete()},ie=>{this._teardown(),ue.error(ie)},()=>this._teardown()))),pe.closed&&(this._connection=null,pe=W.w0.EMPTY)}return pe}refCount(){return(0,te.x)()(this)}}},2572:(pt,Te,L)=>{"use strict";L.d(Te,{a:()=>ie});var a=L(5592),W=L(7453),te=L(7715),oe=L(2737),ge=L(7400),Ee=L(9940),we=L(2714),pe=L(8251),ue=L(7103);function ie(...Ve){const Fe=(0,Ee.yG)(Ve),de=(0,Ee.jO)(Ve),{args:se,keys:xe}=(0,W.D)(Ve);if(0===se.length)return(0,te.D)([],Fe);const et=new a.y(function le(Ve,Fe,de=oe.y){return se=>{_e(Fe,()=>{const{length:xe}=Ve,et=new Array(xe);let Ae=xe,Je=xe;for(let ce=0;ce<xe;ce++)_e(Fe,()=>{const ye=(0,te.D)(Ve[ce],Fe);let ke=!1;ye.subscribe((0,pe.x)(se,Le=>{et[ce]=Le,ke||(ke=!0,Je--),Je||se.next(de(et.slice()))},()=>{--Ae||se.complete()}))},se)},se)}}(se,Fe,xe?Ae=>(0,we.n)(xe,Ae):oe.y));return de?et.pipe((0,ge.Z)(de)):et}function _e(Ve,Fe,de){Ve?(0,ue.f)(de,Ve,Fe):Fe()}},5211:(pt,Te,L)=>{"use strict";L.d(Te,{z:()=>ge});var a=L(7537),te=L(9940),oe=L(7715);function ge(...Ee){return function W(){return(0,a.J)(1)}()((0,oe.D)(Ee,(0,te.yG)(Ee)))}},4911:(pt,Te,L)=>{"use strict";L.d(Te,{P:()=>te});var a=L(5592),W=L(4829);function te(oe){return new a.y(ge=>{(0,W.Xf)(oe()).subscribe(ge)})}},6232:(pt,Te,L)=>{"use strict";L.d(Te,{E:()=>W});const W=new(L(5592).y)(ge=>ge.complete())},7715:(pt,Te,L)=>{"use strict";L.d(Te,{D:()=>Le});var a=L(4829),W=L(7103),te=L(9360),oe=L(8251);function ge(nt,it=0){return(0,te.e)((It,qe)=>{It.subscribe((0,oe.x)(qe,St=>(0,W.f)(qe,nt,()=>qe.next(St),it),()=>(0,W.f)(qe,nt,()=>qe.complete(),it),St=>(0,W.f)(qe,nt,()=>qe.error(St),it)))})}function Ee(nt,it=0){return(0,te.e)((It,qe)=>{qe.add(nt.schedule(()=>It.subscribe(qe),it))})}var ue=L(5592),le=L(4971),_e=L(4674);function Fe(nt,it){if(!nt)throw new Error("Iterable cannot be null");return new ue.y(It=>{(0,W.f)(It,it,()=>{const qe=nt[Symbol.asyncIterator]();(0,W.f)(It,it,()=>{qe.next().then(St=>{St.done?It.complete():It.next(St.value)})},0,!0)})})}var de=L(8382),se=L(4026),xe=L(4266),et=L(3664),Ae=L(5726),Je=L(9853),ce=L(541);function Le(nt,it){return it?function ke(nt,it){if(null!=nt){if((0,de.c)(nt))return function we(nt,it){return(0,a.Xf)(nt).pipe(Ee(it),ge(it))}(nt,it);if((0,xe.z)(nt))return function ie(nt,it){return new ue.y(It=>{let qe=0;return it.schedule(function(){qe===nt.length?It.complete():(It.next(nt[qe++]),It.closed||this.schedule())})})}(nt,it);if((0,se.t)(nt))return function pe(nt,it){return(0,a.Xf)(nt).pipe(Ee(it),ge(it))}(nt,it);if((0,Ae.D)(nt))return Fe(nt,it);if((0,et.T)(nt))return function Ve(nt,it){return new ue.y(It=>{let qe;return(0,W.f)(It,it,()=>{qe=nt[le.h](),(0,W.f)(It,it,()=>{let St,pn;try{({value:St,done:pn}=qe.next())}catch(Cn){return void It.error(Cn)}pn?It.complete():It.next(St)},0,!0)}),()=>(0,_e.m)(qe?.return)&&qe.return()})}(nt,it);if((0,ce.L)(nt))return function ye(nt,it){return Fe((0,ce.Q)(nt),it)}(nt,it)}throw(0,Je.z)(nt)}(nt,it):(0,a.Xf)(nt)}},2438:(pt,Te,L)=>{"use strict";L.d(Te,{R:()=>ie});var a=L(4829),W=L(5592),te=L(1631),oe=L(4266),ge=L(4674),Ee=L(7400);const we=["addListener","removeListener"],pe=["addEventListener","removeEventListener"],ue=["on","off"];function ie(de,se,xe,et){if((0,ge.m)(xe)&&(et=xe,xe=void 0),et)return ie(de,se,xe).pipe((0,Ee.Z)(et));const[Ae,Je]=function Fe(de){return(0,ge.m)(de.addEventListener)&&(0,ge.m)(de.removeEventListener)}(de)?pe.map(ce=>ye=>de[ce](se,ye,xe)):function _e(de){return(0,ge.m)(de.addListener)&&(0,ge.m)(de.removeListener)}(de)?we.map(le(de,se)):function Ve(de){return(0,ge.m)(de.on)&&(0,ge.m)(de.off)}(de)?ue.map(le(de,se)):[];if(!Ae&&(0,oe.z)(de))return(0,te.z)(ce=>ie(ce,se,xe))((0,a.Xf)(de));if(!Ae)throw new TypeError("Invalid event target");return new W.y(ce=>{const ye=(...ke)=>ce.next(1<ke.length?ke:ke[0]);return Ae(ye),()=>Je(ye)})}function le(de,se){return xe=>et=>de[xe](se,et)}},4829:(pt,Te,L)=>{"use strict";L.d(Te,{Xf:()=>Ve});var a=L(7582),W=L(4266),te=L(4026),oe=L(5592),ge=L(8382),Ee=L(5726),we=L(9853),pe=L(3664),ue=L(541),ie=L(4674),le=L(3894),_e=L(4850);function Ve(ce){if(ce instanceof oe.y)return ce;if(null!=ce){if((0,ge.c)(ce))return function Fe(ce){return new oe.y(ye=>{const ke=ce[_e.L]();if((0,ie.m)(ke.subscribe))return ke.subscribe(ye);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ce);if((0,W.z)(ce))return function de(ce){return new oe.y(ye=>{for(let ke=0;ke<ce.length&&!ye.closed;ke++)ye.next(ce[ke]);ye.complete()})}(ce);if((0,te.t)(ce))return function se(ce){return new oe.y(ye=>{ce.then(ke=>{ye.closed||(ye.next(ke),ye.complete())},ke=>ye.error(ke)).then(null,le.h)})}(ce);if((0,Ee.D)(ce))return et(ce);if((0,pe.T)(ce))return function xe(ce){return new oe.y(ye=>{for(const ke of ce)if(ye.next(ke),ye.closed)return;ye.complete()})}(ce);if((0,ue.L)(ce))return function Ae(ce){return et((0,ue.Q)(ce))}(ce)}throw(0,we.z)(ce)}function et(ce){return new oe.y(ye=>{(function Je(ce,ye){var ke,Le,nt,it;return(0,a.mG)(this,void 0,void 0,function*(){try{for(ke=(0,a.KL)(ce);!(Le=yield ke.next()).done;)if(ye.next(Le.value),ye.closed)return}catch(It){nt={error:It}}finally{try{Le&&!Le.done&&(it=ke.return)&&(yield it.call(ke))}finally{if(nt)throw nt.error}}ye.complete()})})(ce,ye).catch(ke=>ye.error(ke))})}},1687:(pt,Te,L)=>{"use strict";L.d(Te,{F:()=>te});var a=L(6321),W=L(4825);function te(oe=0,ge=a.z){return oe<0&&(oe=0),(0,W.H)(oe,oe,ge)}},3019:(pt,Te,L)=>{"use strict";L.d(Te,{T:()=>Ee});var a=L(7537),W=L(4829),te=L(6232),oe=L(9940),ge=L(7715);function Ee(...we){const pe=(0,oe.yG)(we),ue=(0,oe._6)(we,1/0),ie=we;return ie.length?1===ie.length?(0,W.Xf)(ie[0]):(0,a.J)(ue)((0,ge.D)(ie,pe)):te.E}},2096:(pt,Te,L)=>{"use strict";L.d(Te,{of:()=>te});var a=L(9940),W=L(7715);function te(...oe){const ge=(0,a.yG)(oe);return(0,W.D)(oe,ge)}},8504:(pt,Te,L)=>{"use strict";L.d(Te,{_:()=>te});var a=L(5592),W=L(4674);function te(oe,ge){const Ee=(0,W.m)(oe)?oe:()=>oe,we=pe=>pe.error(Ee());return new a.y(ge?pe=>ge.schedule(we,0,pe):we)}},4825:(pt,Te,L)=>{"use strict";L.d(Te,{H:()=>ge});var a=L(5592),W=L(6321),te=L(671);function ge(Ee=0,we,pe=W.P){let ue=-1;return null!=we&&((0,te.K)(we)?pe=we:ue=we),new a.y(ie=>{let le=function oe(Ee){return Ee instanceof Date&&!isNaN(Ee)}(Ee)?+Ee-pe.now():Ee;le<0&&(le=0);let _e=0;return pe.schedule(function(){ie.closed||(ie.next(_e++),0<=ue?this.schedule(void 0,ue):ie.complete())},le)})}},8251:(pt,Te,L)=>{"use strict";L.d(Te,{x:()=>W});var a=L(305);function W(oe,ge,Ee,we,pe){return new te(oe,ge,Ee,we,pe)}class te extends a.Lv{constructor(ge,Ee,we,pe,ue,ie){super(ge),this.onFinalize=ue,this.shouldUnsubscribe=ie,this._next=Ee?function(le){try{Ee(le)}catch(_e){ge.error(_e)}}:super._next,this._error=pe?function(le){try{pe(le)}catch(_e){ge.error(_e)}finally{this.unsubscribe()}}:super._error,this._complete=we?function(){try{we()}catch(le){ge.error(le)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ge;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Ee}=this;super.unsubscribe(),!Ee&&(null===(ge=this.onFinalize)||void 0===ge||ge.call(this))}}}},6306:(pt,Te,L)=>{"use strict";L.d(Te,{K:()=>oe});var a=L(4829),W=L(8251),te=L(9360);function oe(ge){return(0,te.e)((Ee,we)=>{let ie,pe=null,ue=!1;pe=Ee.subscribe((0,W.x)(we,void 0,void 0,le=>{ie=(0,a.Xf)(ge(le,oe(ge)(Ee))),pe?(pe.unsubscribe(),pe=null,ie.subscribe(we)):ue=!0})),ue&&(pe.unsubscribe(),pe=null,ie.subscribe(we))})}},6328:(pt,Te,L)=>{"use strict";L.d(Te,{b:()=>te});var a=L(1631),W=L(4674);function te(oe,ge){return(0,W.m)(ge)?(0,a.z)(oe,ge,1):(0,a.z)(oe,1)}},3620:(pt,Te,L)=>{"use strict";L.d(Te,{b:()=>oe});var a=L(6321),W=L(9360),te=L(8251);function oe(ge,Ee=a.z){return(0,W.e)((we,pe)=>{let ue=null,ie=null,le=null;const _e=()=>{if(ue){ue.unsubscribe(),ue=null;const Fe=ie;ie=null,pe.next(Fe)}};function Ve(){const Fe=le+ge,de=Ee.now();if(de<Fe)return ue=this.schedule(void 0,Fe-de),void pe.add(ue);_e()}we.subscribe((0,te.x)(pe,Fe=>{ie=Fe,le=Ee.now(),ue||(ue=Ee.schedule(Ve,ge),pe.add(ue))},()=>{_e(),pe.complete()},void 0,()=>{ie=ue=null}))})}},3572:(pt,Te,L)=>{"use strict";L.d(Te,{d:()=>te});var a=L(9360),W=L(8251);function te(oe){return(0,a.e)((ge,Ee)=>{let we=!1;ge.subscribe((0,W.x)(Ee,pe=>{we=!0,Ee.next(pe)},()=>{we||Ee.next(oe),Ee.complete()}))})}},5177:(pt,Te,L)=>{"use strict";L.d(Te,{g:()=>Ve});var a=L(6321),W=L(5211),te=L(8180),oe=L(9360),ge=L(8251),Ee=L(2420),pe=L(975),ue=L(1631),ie=L(4829);function le(Fe,de){return de?se=>(0,W.z)(de.pipe((0,te.q)(1),function we(){return(0,oe.e)((Fe,de)=>{Fe.subscribe((0,ge.x)(de,Ee.Z))})}()),se.pipe(le(Fe))):(0,ue.z)((se,xe)=>(0,ie.Xf)(Fe(se,xe)).pipe((0,te.q)(1),(0,pe.h)(se)))}var _e=L(4825);function Ve(Fe,de=a.z){const se=(0,_e.H)(Fe,de);return le(()=>se)}},3997:(pt,Te,L)=>{"use strict";L.d(Te,{x:()=>oe});var a=L(2737),W=L(9360),te=L(8251);function oe(Ee,we=a.y){return Ee=Ee??ge,(0,W.e)((pe,ue)=>{let ie,le=!0;pe.subscribe((0,te.x)(ue,_e=>{const Ve=we(_e);(le||!Ee(ie,Ve))&&(le=!1,ie=Ve,ue.next(_e))}))})}function ge(Ee,we){return Ee===we}},2181:(pt,Te,L)=>{"use strict";L.d(Te,{h:()=>te});var a=L(9360),W=L(8251);function te(oe,ge){return(0,a.e)((Ee,we)=>{let pe=0;Ee.subscribe((0,W.x)(we,ue=>oe.call(ge,ue,pe++)&&we.next(ue)))})}},4716:(pt,Te,L)=>{"use strict";L.d(Te,{x:()=>W});var a=L(9360);function W(te){return(0,a.e)((oe,ge)=>{try{oe.subscribe(ge)}finally{ge.add(te)}})}},1374:(pt,Te,L)=>{"use strict";L.d(Te,{P:()=>we});var a=L(6973),W=L(2181),te=L(8180),oe=L(3572),ge=L(3026),Ee=L(2737);function we(pe,ue){const ie=arguments.length>=2;return le=>le.pipe(pe?(0,W.h)((_e,Ve)=>pe(_e,Ve,le)):Ee.y,(0,te.q)(1),ie?(0,oe.d)(ue):(0,ge.T)(()=>new a.K))}},7398:(pt,Te,L)=>{"use strict";L.d(Te,{U:()=>te});var a=L(9360),W=L(8251);function te(oe,ge){return(0,a.e)((Ee,we)=>{let pe=0;Ee.subscribe((0,W.x)(we,ue=>{we.next(oe.call(ge,ue,pe++))}))})}},975:(pt,Te,L)=>{"use strict";L.d(Te,{h:()=>W});var a=L(7398);function W(te){return(0,a.U)(()=>te)}},7537:(pt,Te,L)=>{"use strict";L.d(Te,{J:()=>te});var a=L(1631),W=L(2737);function te(oe=1/0){return(0,a.z)(W.y,oe)}},1631:(pt,Te,L)=>{"use strict";L.d(Te,{z:()=>pe});var a=L(7398),W=L(4829),te=L(9360),oe=L(7103),ge=L(8251),we=L(4674);function pe(ue,ie,le=1/0){return(0,we.m)(ie)?pe((_e,Ve)=>(0,a.U)((Fe,de)=>ie(_e,Fe,Ve,de))((0,W.Xf)(ue(_e,Ve))),le):("number"==typeof ie&&(le=ie),(0,te.e)((_e,Ve)=>function Ee(ue,ie,le,_e,Ve,Fe,de,se){const xe=[];let et=0,Ae=0,Je=!1;const ce=()=>{Je&&!xe.length&&!et&&ie.complete()},ye=Le=>et<_e?ke(Le):xe.push(Le),ke=Le=>{Fe&&ie.next(Le),et++;let nt=!1;(0,W.Xf)(le(Le,Ae++)).subscribe((0,ge.x)(ie,it=>{Ve?.(it),Fe?ye(it):ie.next(it)},()=>{nt=!0},void 0,()=>{if(nt)try{for(et--;xe.length&&et<_e;){const it=xe.shift();de?(0,oe.f)(ie,de,()=>ke(it)):ke(it)}ce()}catch(it){ie.error(it)}}))};return ue.subscribe((0,ge.x)(ie,ye,()=>{Je=!0,ce()})),()=>{se?.()}}(_e,Ve,ue,le)))}},6196:(pt,Te,L)=>{"use strict";L.d(Te,{x:()=>te});var a=L(9360),W=L(8251);function te(){return(0,a.e)((oe,ge)=>{let Ee=null;oe._refCount++;const we=(0,W.x)(ge,void 0,void 0,void 0,()=>{if(!oe||oe._refCount<=0||0<--oe._refCount)return void(Ee=null);const pe=oe._connection,ue=Ee;Ee=null,pe&&(!ue||pe===ue)&&pe.unsubscribe(),ge.unsubscribe()});oe.subscribe(we),we.closed||(Ee=oe.connect())})}},6699:(pt,Te,L)=>{"use strict";L.d(Te,{R:()=>oe});var a=L(9360),W=L(8251);function oe(ge,Ee){return(0,a.e)(function te(ge,Ee,we,pe,ue){return(ie,le)=>{let _e=we,Ve=Ee,Fe=0;ie.subscribe((0,W.x)(le,de=>{const se=Fe++;Ve=_e?ge(Ve,de,se):(_e=!0,de),pe&&le.next(Ve)},ue&&(()=>{_e&&le.next(Ve),le.complete()})))}}(ge,Ee,arguments.length>=2,!0))}},3020:(pt,Te,L)=>{"use strict";L.d(Te,{B:()=>ge});var a=L(4829),W=L(8645),te=L(305),oe=L(9360);function ge(we={}){const{connector:pe=(()=>new W.x),resetOnError:ue=!0,resetOnComplete:ie=!0,resetOnRefCountZero:le=!0}=we;return _e=>{let Ve,Fe,de,se=0,xe=!1,et=!1;const Ae=()=>{Fe?.unsubscribe(),Fe=void 0},Je=()=>{Ae(),Ve=de=void 0,xe=et=!1},ce=()=>{const ye=Ve;Je(),ye?.unsubscribe()};return(0,oe.e)((ye,ke)=>{se++,!et&&!xe&&Ae();const Le=de=de??pe();ke.add(()=>{se--,0===se&&!et&&!xe&&(Fe=Ee(ce,le))}),Le.subscribe(ke),!Ve&&se>0&&(Ve=new te.Hp({next:nt=>Le.next(nt),error:nt=>{et=!0,Ae(),Fe=Ee(Je,ue,nt),Le.error(nt)},complete:()=>{xe=!0,Ae(),Fe=Ee(Je,ie),Le.complete()}}),(0,a.Xf)(ye).subscribe(Ve))})(_e)}}function Ee(we,pe,...ue){if(!0===pe)return void we();if(!1===pe)return;const ie=new te.Hp({next:()=>{ie.unsubscribe(),we()}});return(0,a.Xf)(pe(...ue)).subscribe(ie)}},7921:(pt,Te,L)=>{"use strict";L.d(Te,{O:()=>oe});var a=L(5211),W=L(9940),te=L(9360);function oe(...ge){const Ee=(0,W.yG)(ge);return(0,te.e)((we,pe)=>{(Ee?(0,a.z)(ge,we,Ee):(0,a.z)(ge,we)).subscribe(pe)})}},4664:(pt,Te,L)=>{"use strict";L.d(Te,{w:()=>oe});var a=L(4829),W=L(9360),te=L(8251);function oe(ge,Ee){return(0,W.e)((we,pe)=>{let ue=null,ie=0,le=!1;const _e=()=>le&&!ue&&pe.complete();we.subscribe((0,te.x)(pe,Ve=>{ue?.unsubscribe();let Fe=0;const de=ie++;(0,a.Xf)(ge(Ve,de)).subscribe(ue=(0,te.x)(pe,se=>pe.next(Ee?Ee(Ve,se,de,Fe++):se),()=>{ue=null,_e()}))},()=>{le=!0,_e()}))})}},8180:(pt,Te,L)=>{"use strict";L.d(Te,{q:()=>oe});var a=L(6232),W=L(9360),te=L(8251);function oe(ge){return ge<=0?()=>a.E:(0,W.e)((Ee,we)=>{let pe=0;Ee.subscribe((0,te.x)(we,ue=>{++pe<=ge&&(we.next(ue),ge<=pe&&we.complete())}))})}},9397:(pt,Te,L)=>{"use strict";L.d(Te,{b:()=>ge});var a=L(4674),W=L(9360),te=L(8251),oe=L(2737);function ge(Ee,we,pe){const ue=(0,a.m)(Ee)||we||pe?{next:Ee,error:we,complete:pe}:Ee;return ue?(0,W.e)((ie,le)=>{var _e;null===(_e=ue.subscribe)||void 0===_e||_e.call(ue);let Ve=!0;ie.subscribe((0,te.x)(le,Fe=>{var de;null===(de=ue.next)||void 0===de||de.call(ue,Fe),le.next(Fe)},()=>{var Fe;Ve=!1,null===(Fe=ue.complete)||void 0===Fe||Fe.call(ue),le.complete()},Fe=>{var de;Ve=!1,null===(de=ue.error)||void 0===de||de.call(ue,Fe),le.error(Fe)},()=>{var Fe,de;Ve&&(null===(Fe=ue.unsubscribe)||void 0===Fe||Fe.call(ue)),null===(de=ue.finalize)||void 0===de||de.call(ue)}))}):oe.y}},3026:(pt,Te,L)=>{"use strict";L.d(Te,{T:()=>oe});var a=L(6973),W=L(9360),te=L(8251);function oe(Ee=ge){return(0,W.e)((we,pe)=>{let ue=!1;we.subscribe((0,te.x)(pe,ie=>{ue=!0,pe.next(ie)},()=>ue?pe.complete():pe.error(Ee())))})}function ge(){return new a.K}},1954:(pt,Te,L)=>{"use strict";L.d(Te,{o:()=>ge});var a=L(7394);class W extends a.w0{constructor(we,pe){super()}schedule(we,pe=0){return this}}const te={setInterval(Ee,we,...pe){const{delegate:ue}=te;return ue?.setInterval?ue.setInterval(Ee,we,...pe):setInterval(Ee,we,...pe)},clearInterval(Ee){const{delegate:we}=te;return(we?.clearInterval||clearInterval)(Ee)},delegate:void 0};var oe=L(9039);class ge extends W{constructor(we,pe){super(we,pe),this.scheduler=we,this.work=pe,this.pending=!1}schedule(we,pe=0){var ue;if(this.closed)return this;this.state=we;const ie=this.id,le=this.scheduler;return null!=ie&&(this.id=this.recycleAsyncId(le,ie,pe)),this.pending=!0,this.delay=pe,this.id=null!==(ue=this.id)&&void 0!==ue?ue:this.requestAsyncId(le,this.id,pe),this}requestAsyncId(we,pe,ue=0){return te.setInterval(we.flush.bind(we,this),ue)}recycleAsyncId(we,pe,ue=0){if(null!=ue&&this.delay===ue&&!1===this.pending)return pe;null!=pe&&te.clearInterval(pe)}execute(we,pe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ue=this._execute(we,pe);if(ue)return ue;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(we,pe){let ie,ue=!1;try{this.work(we)}catch(le){ue=!0,ie=le||new Error("Scheduled action threw falsy error")}if(ue)return this.unsubscribe(),ie}unsubscribe(){if(!this.closed){const{id:we,scheduler:pe}=this,{actions:ue}=pe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,oe.P)(ue,this),null!=we&&(this.id=this.recycleAsyncId(pe,we,null)),this.delay=null,super.unsubscribe()}}}},2631:(pt,Te,L)=>{"use strict";L.d(Te,{v:()=>te});var a=L(4552);class W{constructor(ge,Ee=W.now){this.schedulerActionCtor=ge,this.now=Ee}schedule(ge,Ee=0,we){return new this.schedulerActionCtor(this,ge).schedule(we,Ee)}}W.now=a.l.now;class te extends W{constructor(ge,Ee=W.now){super(ge,Ee),this.actions=[],this._active=!1}flush(ge){const{actions:Ee}=this;if(this._active)return void Ee.push(ge);let we;this._active=!0;do{if(we=ge.execute(ge.state,ge.delay))break}while(ge=Ee.shift());if(this._active=!1,we){for(;ge=Ee.shift();)ge.unsubscribe();throw we}}}},6321:(pt,Te,L)=>{"use strict";L.d(Te,{P:()=>oe,z:()=>te});var a=L(1954);const te=new(L(2631).v)(a.o),oe=te},4552:(pt,Te,L)=>{"use strict";L.d(Te,{l:()=>a});const a={now:()=>(a.delegate||Date).now(),delegate:void 0}},7599:(pt,Te,L)=>{"use strict";L.d(Te,{z:()=>a});const a={setTimeout(W,te,...oe){const{delegate:ge}=a;return ge?.setTimeout?ge.setTimeout(W,te,...oe):setTimeout(W,te,...oe)},clearTimeout(W){const{delegate:te}=a;return(te?.clearTimeout||clearTimeout)(W)},delegate:void 0}},4971:(pt,Te,L)=>{"use strict";L.d(Te,{h:()=>W});const W=function a(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(pt,Te,L)=>{"use strict";L.d(Te,{L:()=>a});const a="function"==typeof Symbol&&Symbol.observable||"@@observable"},6973:(pt,Te,L)=>{"use strict";L.d(Te,{K:()=>W});const W=(0,L(2306).d)(te=>function(){te(this),this.name="EmptyError",this.message="no elements in sequence"})},9940:(pt,Te,L)=>{"use strict";L.d(Te,{_6:()=>Ee,jO:()=>oe,yG:()=>ge});var a=L(4674),W=L(671);function te(we){return we[we.length-1]}function oe(we){return(0,a.m)(te(we))?we.pop():void 0}function ge(we){return(0,W.K)(te(we))?we.pop():void 0}function Ee(we,pe){return"number"==typeof te(we)?we.pop():pe}},7453:(pt,Te,L)=>{"use strict";L.d(Te,{D:()=>ge});const{isArray:a}=Array,{getPrototypeOf:W,prototype:te,keys:oe}=Object;function ge(we){if(1===we.length){const pe=we[0];if(a(pe))return{args:pe,keys:null};if(function Ee(we){return we&&"object"==typeof we&&W(we)===te}(pe)){const ue=oe(pe);return{args:ue.map(ie=>pe[ie]),keys:ue}}}return{args:we,keys:null}}},9039:(pt,Te,L)=>{"use strict";function a(W,te){if(W){const oe=W.indexOf(te);0<=oe&&W.splice(oe,1)}}L.d(Te,{P:()=>a})},2306:(pt,Te,L)=>{"use strict";function a(W){const oe=W(ge=>{Error.call(ge),ge.stack=(new Error).stack});return oe.prototype=Object.create(Error.prototype),oe.prototype.constructor=oe,oe}L.d(Te,{d:()=>a})},2714:(pt,Te,L)=>{"use strict";function a(W,te){return W.reduce((oe,ge,Ee)=>(oe[ge]=te[Ee],oe),{})}L.d(Te,{n:()=>a})},1441:(pt,Te,L)=>{"use strict";L.d(Te,{O:()=>oe,x:()=>te});var a=L(2653);let W=null;function te(ge){if(a.config.useDeprecatedSynchronousErrorHandling){const Ee=!W;if(Ee&&(W={errorThrown:!1,error:null}),ge(),Ee){const{errorThrown:we,error:pe}=W;if(W=null,we)throw pe}}else ge()}function oe(ge){a.config.useDeprecatedSynchronousErrorHandling&&W&&(W.errorThrown=!0,W.error=ge)}},7103:(pt,Te,L)=>{"use strict";function a(W,te,oe,ge=0,Ee=!1){const we=te.schedule(function(){oe(),Ee?W.add(this.schedule(null,ge)):this.unsubscribe()},ge);if(W.add(we),!Ee)return we}L.d(Te,{f:()=>a})},2737:(pt,Te,L)=>{"use strict";function a(W){return W}L.d(Te,{y:()=>a})},4266:(pt,Te,L)=>{"use strict";L.d(Te,{z:()=>a});const a=W=>W&&"number"==typeof W.length&&"function"!=typeof W},5726:(pt,Te,L)=>{"use strict";L.d(Te,{D:()=>W});var a=L(4674);function W(te){return Symbol.asyncIterator&&(0,a.m)(te?.[Symbol.asyncIterator])}},4674:(pt,Te,L)=>{"use strict";function a(W){return"function"==typeof W}L.d(Te,{m:()=>a})},8382:(pt,Te,L)=>{"use strict";L.d(Te,{c:()=>te});var a=L(4850),W=L(4674);function te(oe){return(0,W.m)(oe[a.L])}},3664:(pt,Te,L)=>{"use strict";L.d(Te,{T:()=>te});var a=L(4971),W=L(4674);function te(oe){return(0,W.m)(oe?.[a.h])}},2664:(pt,Te,L)=>{"use strict";L.d(Te,{b:()=>te});var a=L(5592),W=L(4674);function te(oe){return!!oe&&(oe instanceof a.y||(0,W.m)(oe.lift)&&(0,W.m)(oe.subscribe))}},4026:(pt,Te,L)=>{"use strict";L.d(Te,{t:()=>W});var a=L(4674);function W(te){return(0,a.m)(te?.then)}},541:(pt,Te,L)=>{"use strict";L.d(Te,{L:()=>oe,Q:()=>te});var a=L(7582),W=L(4674);function te(ge){return(0,a.FC)(this,arguments,function*(){const we=ge.getReader();try{for(;;){const{value:pe,done:ue}=yield(0,a.qq)(we.read());if(ue)return yield(0,a.qq)(void 0);yield yield(0,a.qq)(pe)}}finally{we.releaseLock()}})}function oe(ge){return(0,W.m)(ge?.getReader)}},671:(pt,Te,L)=>{"use strict";L.d(Te,{K:()=>W});var a=L(4674);function W(te){return te&&(0,a.m)(te.schedule)}},9360:(pt,Te,L)=>{"use strict";L.d(Te,{A:()=>W,e:()=>te});var a=L(4674);function W(oe){return(0,a.m)(oe?.lift)}function te(oe){return ge=>{if(W(ge))return ge.lift(function(Ee){try{return oe(Ee,this)}catch(we){this.error(we)}});throw new TypeError("Unable to lift unknown Observable type")}}},7400:(pt,Te,L)=>{"use strict";L.d(Te,{Z:()=>oe});var a=L(7398);const{isArray:W}=Array;function oe(ge){return(0,a.U)(Ee=>function te(ge,Ee){return W(Ee)?ge(...Ee):ge(Ee)}(ge,Ee))}},2420:(pt,Te,L)=>{"use strict";function a(){}L.d(Te,{Z:()=>a})},8407:(pt,Te,L)=>{"use strict";L.d(Te,{U:()=>te,z:()=>W});var a=L(2737);function W(...oe){return te(oe)}function te(oe){return 0===oe.length?a.y:1===oe.length?oe[0]:function(Ee){return oe.reduce((we,pe)=>pe(we),Ee)}}},3894:(pt,Te,L)=>{"use strict";L.d(Te,{h:()=>te});var a=L(2653),W=L(7599);function te(oe){W.z.setTimeout(()=>{const{onUnhandledError:ge}=a.config;if(!ge)throw oe;ge(oe)})}},9853:(pt,Te,L)=>{"use strict";function a(W){return new TypeError(`You provided ${null!==W&&"object"==typeof W?"an invalid object":`'${W}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}L.d(Te,{z:()=>a})},6825:(pt,Te,L)=>{"use strict";L.d(Te,{F4:()=>ie,LC:()=>W,SB:()=>ue,X$:()=>oe,ZE:()=>et,ZN:()=>xe,_j:()=>a,eR:()=>le,jt:()=>ge,k1:()=>Ae,l3:()=>te,oB:()=>pe,vP:()=>we});class a{}class W{}const te="*";function oe(Je,ce){return{type:7,name:Je,definitions:ce,options:{}}}function ge(Je,ce=null){return{type:4,styles:ce,timings:Je}}function we(Je,ce=null){return{type:2,steps:Je,options:ce}}function pe(Je){return{type:6,styles:Je,offset:null}}function ue(Je,ce,ye){return{type:0,name:Je,styles:ce,options:ye}}function ie(Je){return{type:5,steps:Je}}function le(Je,ce,ye=null){return{type:1,expr:Je,animation:ce,options:ye}}class xe{constructor(ce=0,ye=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=ce+ye}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(ce=>ce()),this._onDoneFns=[])}onStart(ce){this._originalOnStartFns.push(ce),this._onStartFns.push(ce)}onDone(ce){this._originalOnDoneFns.push(ce),this._onDoneFns.push(ce)}onDestroy(ce){this._onDestroyFns.push(ce)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(ce=>ce()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(ce=>ce()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(ce){this._position=this.totalTime?ce*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(ce){const ye="start"==ce?this._onStartFns:this._onDoneFns;ye.forEach(ke=>ke()),ye.length=0}}class et{constructor(ce){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=ce;let ye=0,ke=0,Le=0;const nt=this.players.length;0==nt?queueMicrotask(()=>this._onFinish()):this.players.forEach(it=>{it.onDone(()=>{++ye==nt&&this._onFinish()}),it.onDestroy(()=>{++ke==nt&&this._onDestroy()}),it.onStart(()=>{++Le==nt&&this._onStart()})}),this.totalTime=this.players.reduce((it,It)=>Math.max(it,It.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(ce=>ce()),this._onDoneFns=[])}init(){this.players.forEach(ce=>ce.init())}onStart(ce){this._onStartFns.push(ce)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(ce=>ce()),this._onStartFns=[])}onDone(ce){this._onDoneFns.push(ce)}onDestroy(ce){this._onDestroyFns.push(ce)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(ce=>ce.play())}pause(){this.players.forEach(ce=>ce.pause())}restart(){this.players.forEach(ce=>ce.restart())}finish(){this._onFinish(),this.players.forEach(ce=>ce.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(ce=>ce.destroy()),this._onDestroyFns.forEach(ce=>ce()),this._onDestroyFns=[])}reset(){this.players.forEach(ce=>ce.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(ce){const ye=ce*this.totalTime;this.players.forEach(ke=>{const Le=ke.totalTime?Math.min(1,ye/ke.totalTime):1;ke.setPosition(Le)})}getPosition(){const ce=this.players.reduce((ye,ke)=>null===ye||ke.totalTime>ye.totalTime?ke:ye,null);return null!=ce?ce.getPosition():0}beforeDestroy(){this.players.forEach(ce=>{ce.beforeDestroy&&ce.beforeDestroy()})}triggerCallback(ce){const ye="start"==ce?this._onStartFns:this._onDoneFns;ye.forEach(ke=>ke()),ye.length=0}}const Ae="!"},6814:(pt,Te,L)=>{"use strict";L.d(Te,{Do:()=>se,EM:()=>Xd,HT:()=>oe,JF:()=>yi,K0:()=>Ee,Mn:()=>Ai,Mx:()=>Qa,NF:()=>qo,O5:()=>xs,OU:()=>es,Ov:()=>qs,PC:()=>tl,PM:()=>nl,RF:()=>Ts,S$:()=>Ve,Tn:()=>it,UT:()=>Ke,V_:()=>pe,Ye:()=>xe,Zx:()=>As,b0:()=>de,bD:()=>ns,ez:()=>ts,fb:()=>ot,mk:()=>zn,n9:()=>_a,q:()=>te,rS:()=>jl,sg:()=>Ws,tM:()=>It,tP:()=>Ul,uU:()=>$n,wS:()=>Tt,w_:()=>ge,x:()=>nt});var a=L(5879);let W=null;function te(){return W}function oe(B){W||(W=B)}class ge{}const Ee=new a.OlP("DocumentToken");let we=(()=>{class B{historyGo(j){throw new Error("Not implemented")}}return B.\u0275fac=function(j){return new(j||B)},B.\u0275prov=a.Yz7({token:B,factory:function(){return(0,a.f3M)(ue)},providedIn:"platform"}),B})();const pe=new a.OlP("Location Initialized");let ue=(()=>{class B extends we{constructor(){super(),this._doc=(0,a.f3M)(Ee),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return te().getBaseHref(this._doc)}onPopState(j){const ee=te().getGlobalEventTarget(this._doc,"window");return ee.addEventListener("popstate",j,!1),()=>ee.removeEventListener("popstate",j)}onHashChange(j){const ee=te().getGlobalEventTarget(this._doc,"window");return ee.addEventListener("hashchange",j,!1),()=>ee.removeEventListener("hashchange",j)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(j){this._location.pathname=j}pushState(j,ee,Se){this._history.pushState(j,ee,Se)}replaceState(j,ee,Se){this._history.replaceState(j,ee,Se)}forward(){this._history.forward()}back(){this._history.back()}historyGo(j=0){this._history.go(j)}getState(){return this._history.state}}return B.\u0275fac=function(j){return new(j||B)},B.\u0275prov=a.Yz7({token:B,factory:function(){return new B},providedIn:"platform"}),B})();function ie(B,K){if(0==B.length)return K;if(0==K.length)return B;let j=0;return B.endsWith("/")&&j++,K.startsWith("/")&&j++,2==j?B+K.substring(1):1==j?B+K:B+"/"+K}function le(B){const K=B.match(/#|\?|$/),j=K&&K.index||B.length;return B.slice(0,j-("/"===B[j-1]?1:0))+B.slice(j)}function _e(B){return B&&"?"!==B[0]?"?"+B:B}let Ve=(()=>{class B{historyGo(j){throw new Error("Not implemented")}}return B.\u0275fac=function(j){return new(j||B)},B.\u0275prov=a.Yz7({token:B,factory:function(){return(0,a.f3M)(de)},providedIn:"root"}),B})();const Fe=new a.OlP("appBaseHref");let de=(()=>{class B extends Ve{constructor(j,ee){super(),this._platformLocation=j,this._removeListenerFns=[],this._baseHref=ee??this._platformLocation.getBaseHrefFromDOM()??(0,a.f3M)(Ee).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(j){this._removeListenerFns.push(this._platformLocation.onPopState(j),this._platformLocation.onHashChange(j))}getBaseHref(){return this._baseHref}prepareExternalUrl(j){return ie(this._baseHref,j)}path(j=!1){const ee=this._platformLocation.pathname+_e(this._platformLocation.search),Se=this._platformLocation.hash;return Se&&j?`${ee}${Se}`:ee}pushState(j,ee,Se,$e){const lt=this.prepareExternalUrl(Se+_e($e));this._platformLocation.pushState(j,ee,lt)}replaceState(j,ee,Se,$e){const lt=this.prepareExternalUrl(Se+_e($e));this._platformLocation.replaceState(j,ee,lt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(j=0){this._platformLocation.historyGo?.(j)}}return B.\u0275fac=function(j){return new(j||B)(a.LFG(we),a.LFG(Fe,8))},B.\u0275prov=a.Yz7({token:B,factory:B.\u0275fac,providedIn:"root"}),B})(),se=(()=>{class B extends Ve{constructor(j,ee){super(),this._platformLocation=j,this._baseHref="",this._removeListenerFns=[],null!=ee&&(this._baseHref=ee)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(j){this._removeListenerFns.push(this._platformLocation.onPopState(j),this._platformLocation.onHashChange(j))}getBaseHref(){return this._baseHref}path(j=!1){let ee=this._platformLocation.hash;return null==ee&&(ee="#"),ee.length>0?ee.substring(1):ee}prepareExternalUrl(j){const ee=ie(this._baseHref,j);return ee.length>0?"#"+ee:ee}pushState(j,ee,Se,$e){let lt=this.prepareExternalUrl(Se+_e($e));0==lt.length&&(lt=this._platformLocation.pathname),this._platformLocation.pushState(j,ee,lt)}replaceState(j,ee,Se,$e){let lt=this.prepareExternalUrl(Se+_e($e));0==lt.length&&(lt=this._platformLocation.pathname),this._platformLocation.replaceState(j,ee,lt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(j=0){this._platformLocation.historyGo?.(j)}}return B.\u0275fac=function(j){return new(j||B)(a.LFG(we),a.LFG(Fe,8))},B.\u0275prov=a.Yz7({token:B,factory:B.\u0275fac}),B})(),xe=(()=>{class B{constructor(j){this._subject=new a.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=j;const ee=this._locationStrategy.getBaseHref();this._basePath=function ce(B){if(new RegExp("^(https?:)?//").test(B)){const[,j]=B.split(/\/\/[^\/]+/);return j}return B}(le(Je(ee))),this._locationStrategy.onPopState(Se=>{this._subject.emit({url:this.path(!0),pop:!0,state:Se.state,type:Se.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(j=!1){return this.normalize(this._locationStrategy.path(j))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(j,ee=""){return this.path()==this.normalize(j+_e(ee))}normalize(j){return B.stripTrailingSlash(function Ae(B,K){if(!B||!K.startsWith(B))return K;const j=K.substring(B.length);return""===j||["/",";","?","#"].includes(j[0])?j:K}(this._basePath,Je(j)))}prepareExternalUrl(j){return j&&"/"!==j[0]&&(j="/"+j),this._locationStrategy.prepareExternalUrl(j)}go(j,ee="",Se=null){this._locationStrategy.pushState(Se,"",j,ee),this._notifyUrlChangeListeners(this.prepareExternalUrl(j+_e(ee)),Se)}replaceState(j,ee="",Se=null){this._locationStrategy.replaceState(Se,"",j,ee),this._notifyUrlChangeListeners(this.prepareExternalUrl(j+_e(ee)),Se)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(j=0){this._locationStrategy.historyGo?.(j)}onUrlChange(j){return this._urlChangeListeners.push(j),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(ee=>{this._notifyUrlChangeListeners(ee.url,ee.state)})),()=>{const ee=this._urlChangeListeners.indexOf(j);this._urlChangeListeners.splice(ee,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(j="",ee){this._urlChangeListeners.forEach(Se=>Se(j,ee))}subscribe(j,ee,Se){return this._subject.subscribe({next:j,error:ee,complete:Se})}}return B.normalizeQueryParams=_e,B.joinWithSlash=ie,B.stripTrailingSlash=le,B.\u0275fac=function(j){return new(j||B)(a.LFG(Ve))},B.\u0275prov=a.Yz7({token:B,factory:function(){return function et(){return new xe((0,a.LFG)(Ve))}()},providedIn:"root"}),B})();function Je(B){return B.replace(/\/index.html$/,"")}var ke=(()=>((ke=ke||{})[ke.Decimal=0]="Decimal",ke[ke.Percent=1]="Percent",ke[ke.Currency=2]="Currency",ke[ke.Scientific=3]="Scientific",ke))(),nt=(()=>((nt=nt||{})[nt.Format=0]="Format",nt[nt.Standalone=1]="Standalone",nt))(),it=(()=>((it=it||{})[it.Narrow=0]="Narrow",it[it.Abbreviated=1]="Abbreviated",it[it.Wide=2]="Wide",it[it.Short=3]="Short",it))(),It=(()=>((It=It||{})[It.Short=0]="Short",It[It.Medium=1]="Medium",It[It.Long=2]="Long",It[It.Full=3]="Full",It))(),qe=(()=>((qe=qe||{})[qe.Decimal=0]="Decimal",qe[qe.Group=1]="Group",qe[qe.List=2]="List",qe[qe.PercentSign=3]="PercentSign",qe[qe.PlusSign=4]="PlusSign",qe[qe.MinusSign=5]="MinusSign",qe[qe.Exponential=6]="Exponential",qe[qe.SuperscriptingExponent=7]="SuperscriptingExponent",qe[qe.PerMille=8]="PerMille",qe[qe.Infinity=9]="Infinity",qe[qe.NaN=10]="NaN",qe[qe.TimeSeparator=11]="TimeSeparator",qe[qe.CurrencyDecimal=12]="CurrencyDecimal",qe[qe.CurrencyGroup=13]="CurrencyGroup",qe))();function Ai(B,K,j){const ee=(0,a.cg1)(B),$e=Li([ee[a.wAp.DaysFormat],ee[a.wAp.DaysStandalone]],K);return Li($e,j)}function Ke(B,K,j){const ee=(0,a.cg1)(B),$e=Li([ee[a.wAp.MonthsFormat],ee[a.wAp.MonthsStandalone]],K);return Li($e,j)}function ot(B){return(0,a.cg1)(B)[a.wAp.FirstDayOfWeek]}function Tt(B,K){return Li((0,a.cg1)(B)[a.wAp.DateFormat],K)}function tt(B,K){return Li((0,a.cg1)(B)[a.wAp.TimeFormat],K)}function ht(B,K){return Li((0,a.cg1)(B)[a.wAp.DateTimeFormat],K)}function Ge(B,K){const j=(0,a.cg1)(B),ee=j[a.wAp.NumberSymbols][K];if(typeof ee>"u"){if(K===qe.CurrencyDecimal)return j[a.wAp.NumberSymbols][qe.Decimal];if(K===qe.CurrencyGroup)return j[a.wAp.NumberSymbols][qe.Group]}return ee}function ln(B){if(!B[a.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${B[a.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Li(B,K){for(let j=K;j>-1;j--)if(typeof B[j]<"u")return B[j];throw new Error("Locale data API: locale data undefined")}function ui(B){const[K,j]=B.split(":");return{hours:+K,minutes:+j}}const ii=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,fr={},Oi=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var wt=(()=>((wt=wt||{})[wt.Short=0]="Short",wt[wt.ShortGMT=1]="ShortGMT",wt[wt.Long=2]="Long",wt[wt.Extended=3]="Extended",wt))(),zt=(()=>((zt=zt||{})[zt.FullYear=0]="FullYear",zt[zt.Month=1]="Month",zt[zt.Date=2]="Date",zt[zt.Hours=3]="Hours",zt[zt.Minutes=4]="Minutes",zt[zt.Seconds=5]="Seconds",zt[zt.FractionalSeconds=6]="FractionalSeconds",zt[zt.Day=7]="Day",zt))(),st=(()=>((st=st||{})[st.DayPeriods=0]="DayPeriods",st[st.Days=1]="Days",st[st.Months=2]="Months",st[st.Eras=3]="Eras",st))();function un(B,K,j,ee){let Se=function at(B){if(De(B))return B;if("number"==typeof B&&!isNaN(B))return new Date(B);if("string"==typeof B){if(B=B.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(B)){const[Se,$e=1,lt=1]=B.split("-").map(Gt=>+Gt);return Dr(Se,$e-1,lt)}const j=parseFloat(B);if(!isNaN(B-j))return new Date(j);let ee;if(ee=B.match(ii))return function Re(B){const K=new Date(0);let j=0,ee=0;const Se=B[8]?K.setUTCFullYear:K.setFullYear,$e=B[8]?K.setUTCHours:K.setHours;B[9]&&(j=Number(B[9]+B[10]),ee=Number(B[9]+B[11])),Se.call(K,Number(B[1]),Number(B[2])-1,Number(B[3]));const lt=Number(B[4]||0)-j,Gt=Number(B[5]||0)-ee,qn=Number(B[6]||0),cn=Math.floor(1e3*parseFloat("0."+(B[7]||0)));return $e.call(K,lt,Gt,qn,cn),K}(ee)}const K=new Date(B);if(!De(K))throw new Error(`Unable to convert "${B}" into a date`);return K}(B);K=mi(j,K)||K;let Gt,lt=[];for(;K;){if(Gt=Oi.exec(K),!Gt){lt.push(K);break}{lt=lt.concat(Gt.slice(1));const Mn=lt.pop();if(!Mn)break;K=Mn}}let qn=Se.getTimezoneOffset();ee&&(qn=Er(ee,qn),Se=function vo(B,K,j){const ee=j?-1:1,Se=B.getTimezoneOffset();return function Dn(B,K){return(B=new Date(B.getTime())).setMinutes(B.getMinutes()+K),B}(B,ee*(Er(K,Se)-Se))}(Se,ee,!0));let cn="";return lt.forEach(Mn=>{const bn=function Xn(B){if(Jr[B])return Jr[B];let K;switch(B){case"G":case"GG":case"GGG":K=ut(st.Eras,it.Abbreviated);break;case"GGGG":K=ut(st.Eras,it.Wide);break;case"GGGGG":K=ut(st.Eras,it.Narrow);break;case"y":K=Yn(zt.FullYear,1,0,!1,!0);break;case"yy":K=Yn(zt.FullYear,2,0,!0,!0);break;case"yyy":K=Yn(zt.FullYear,3,0,!1,!0);break;case"yyyy":K=Yn(zt.FullYear,4,0,!1,!0);break;case"Y":K=tr(1);break;case"YY":K=tr(2,!0);break;case"YYY":K=tr(3);break;case"YYYY":K=tr(4);break;case"M":case"L":K=Yn(zt.Month,1,1);break;case"MM":case"LL":K=Yn(zt.Month,2,1);break;case"MMM":K=ut(st.Months,it.Abbreviated);break;case"MMMM":K=ut(st.Months,it.Wide);break;case"MMMMM":K=ut(st.Months,it.Narrow);break;case"LLL":K=ut(st.Months,it.Abbreviated,nt.Standalone);break;case"LLLL":K=ut(st.Months,it.Wide,nt.Standalone);break;case"LLLLL":K=ut(st.Months,it.Narrow,nt.Standalone);break;case"w":K=Ll(1);break;case"ww":K=Ll(2);break;case"W":K=Ll(1,!0);break;case"d":K=Yn(zt.Date,1);break;case"dd":K=Yn(zt.Date,2);break;case"c":case"cc":K=Yn(zt.Day,1);break;case"ccc":K=ut(st.Days,it.Abbreviated,nt.Standalone);break;case"cccc":K=ut(st.Days,it.Wide,nt.Standalone);break;case"ccccc":K=ut(st.Days,it.Narrow,nt.Standalone);break;case"cccccc":K=ut(st.Days,it.Short,nt.Standalone);break;case"E":case"EE":case"EEE":K=ut(st.Days,it.Abbreviated);break;case"EEEE":K=ut(st.Days,it.Wide);break;case"EEEEE":K=ut(st.Days,it.Narrow);break;case"EEEEEE":K=ut(st.Days,it.Short);break;case"a":case"aa":case"aaa":K=ut(st.DayPeriods,it.Abbreviated);break;case"aaaa":K=ut(st.DayPeriods,it.Wide);break;case"aaaaa":K=ut(st.DayPeriods,it.Narrow);break;case"b":case"bb":case"bbb":K=ut(st.DayPeriods,it.Abbreviated,nt.Standalone,!0);break;case"bbbb":K=ut(st.DayPeriods,it.Wide,nt.Standalone,!0);break;case"bbbbb":K=ut(st.DayPeriods,it.Narrow,nt.Standalone,!0);break;case"B":case"BB":case"BBB":K=ut(st.DayPeriods,it.Abbreviated,nt.Format,!0);break;case"BBBB":K=ut(st.DayPeriods,it.Wide,nt.Format,!0);break;case"BBBBB":K=ut(st.DayPeriods,it.Narrow,nt.Format,!0);break;case"h":K=Yn(zt.Hours,1,-12);break;case"hh":K=Yn(zt.Hours,2,-12);break;case"H":K=Yn(zt.Hours,1);break;case"HH":K=Yn(zt.Hours,2);break;case"m":K=Yn(zt.Minutes,1);break;case"mm":K=Yn(zt.Minutes,2);break;case"s":K=Yn(zt.Seconds,1);break;case"ss":K=Yn(zt.Seconds,2);break;case"S":K=Yn(zt.FractionalSeconds,1);break;case"SS":K=Yn(zt.FractionalSeconds,2);break;case"SSS":K=Yn(zt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":K=ws(wt.Short);break;case"ZZZZZ":K=ws(wt.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":K=ws(wt.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":K=ws(wt.Long);break;default:return null}return Jr[B]=K,K}(Mn);cn+=bn?bn(Se,j,qn):"''"===Mn?"'":Mn.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),cn}function Dr(B,K,j){const ee=new Date(0);return ee.setFullYear(B,K,j),ee.setHours(0,0,0),ee}function mi(B,K){const j=function pn(B){return(0,a.cg1)(B)[a.wAp.LocaleId]}(B);if(fr[j]=fr[j]||{},fr[j][K])return fr[j][K];let ee="";switch(K){case"shortDate":ee=Tt(B,It.Short);break;case"mediumDate":ee=Tt(B,It.Medium);break;case"longDate":ee=Tt(B,It.Long);break;case"fullDate":ee=Tt(B,It.Full);break;case"shortTime":ee=tt(B,It.Short);break;case"mediumTime":ee=tt(B,It.Medium);break;case"longTime":ee=tt(B,It.Long);break;case"fullTime":ee=tt(B,It.Full);break;case"short":const Se=mi(B,"shortTime"),$e=mi(B,"shortDate");ee=Un(ht(B,It.Short),[Se,$e]);break;case"medium":const lt=mi(B,"mediumTime"),Gt=mi(B,"mediumDate");ee=Un(ht(B,It.Medium),[lt,Gt]);break;case"long":const qn=mi(B,"longTime"),cn=mi(B,"longDate");ee=Un(ht(B,It.Long),[qn,cn]);break;case"full":const Mn=mi(B,"fullTime"),bn=mi(B,"fullDate");ee=Un(ht(B,It.Full),[Mn,bn])}return ee&&(fr[j][K]=ee),ee}function Un(B,K){return K&&(B=B.replace(/\{([^}]+)}/g,function(j,ee){return null!=K&&ee in K?K[ee]:j})),B}function zi(B,K,j="-",ee,Se){let $e="";(B<0||Se&&B<=0)&&(Se?B=1-B:(B=-B,$e=j));let lt=String(B);for(;lt.length<K;)lt="0"+lt;return ee&&(lt=lt.slice(lt.length-K)),$e+lt}function Yn(B,K,j=0,ee=!1,Se=!1){return function($e,lt){let Gt=function cs(B,K){switch(B){case zt.FullYear:return K.getFullYear();case zt.Month:return K.getMonth();case zt.Date:return K.getDate();case zt.Hours:return K.getHours();case zt.Minutes:return K.getMinutes();case zt.Seconds:return K.getSeconds();case zt.FractionalSeconds:return K.getMilliseconds();case zt.Day:return K.getDay();default:throw new Error(`Unknown DateType value "${B}".`)}}(B,$e);if((j>0||Gt>-j)&&(Gt+=j),B===zt.Hours)0===Gt&&-12===j&&(Gt=12);else if(B===zt.FractionalSeconds)return function mo(B,K){return zi(B,3).substring(0,K)}(Gt,K);const qn=Ge(lt,qe.MinusSign);return zi(Gt,K,qn,ee,Se)}}function ut(B,K,j=nt.Format,ee=!1){return function(Se,$e){return function dn(B,K,j,ee,Se,$e){switch(j){case st.Months:return Ke(K,Se,ee)[B.getMonth()];case st.Days:return Ai(K,Se,ee)[B.getDay()];case st.DayPeriods:const lt=B.getHours(),Gt=B.getMinutes();if($e){const cn=function Di(B){const K=(0,a.cg1)(B);return ln(K),(K[a.wAp.ExtraData][2]||[]).map(ee=>"string"==typeof ee?ui(ee):[ui(ee[0]),ui(ee[1])])}(K),Mn=function pi(B,K,j){const ee=(0,a.cg1)(B);ln(ee);const $e=Li([ee[a.wAp.ExtraData][0],ee[a.wAp.ExtraData][1]],K)||[];return Li($e,j)||[]}(K,Se,ee),bn=cn.findIndex(wi=>{if(Array.isArray(wi)){const[An,ei]=wi,si=lt>=An.hours&&Gt>=An.minutes,Qt=lt<ei.hours||lt===ei.hours&&Gt<ei.minutes;if(An.hours<ei.hours){if(si&&Qt)return!0}else if(si||Qt)return!0}else if(wi.hours===lt&&wi.minutes===Gt)return!0;return!1});if(-1!==bn)return Mn[bn]}return function Cn(B,K,j){const ee=(0,a.cg1)(B),$e=Li([ee[a.wAp.DayPeriodsFormat],ee[a.wAp.DayPeriodsStandalone]],K);return Li($e,j)}(K,Se,ee)[lt<12?0:1];case st.Eras:return function rt(B,K){return Li((0,a.cg1)(B)[a.wAp.Eras],K)}(K,ee)[B.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${j}`)}}(Se,$e,B,K,j,ee)}}function ws(B){return function(K,j,ee){const Se=-1*ee,$e=Ge(j,qe.MinusSign),lt=Se>0?Math.floor(Se/60):Math.ceil(Se/60);switch(B){case wt.Short:return(Se>=0?"+":"")+zi(lt,2,$e)+zi(Math.abs(Se%60),2,$e);case wt.ShortGMT:return"GMT"+(Se>=0?"+":"")+zi(lt,1,$e);case wt.Long:return"GMT"+(Se>=0?"+":"")+zi(lt,2,$e)+":"+zi(Math.abs(Se%60),2,$e);case wt.Extended:return 0===ee?"Z":(Se>=0?"+":"")+zi(lt,2,$e)+":"+zi(Math.abs(Se%60),2,$e);default:throw new Error(`Unknown zone width "${B}"`)}}}const _o=0,Go=4;function Qr(B){return Dr(B.getFullYear(),B.getMonth(),B.getDate()+(Go-B.getDay()))}function Ll(B,K=!1){return function(j,ee){let Se;if(K){const $e=new Date(j.getFullYear(),j.getMonth(),1).getDay()-1,lt=j.getDate();Se=1+Math.floor((lt+$e)/7)}else{const $e=Qr(j),lt=function pr(B){const K=Dr(B,_o,1).getDay();return Dr(B,0,1+(K<=Go?Go:Go+7)-K)}($e.getFullYear()),Gt=$e.getTime()-lt.getTime();Se=1+Math.round(Gt/6048e5)}return zi(Se,B,Ge(ee,qe.MinusSign))}}function tr(B,K=!1){return function(j,ee){return zi(Qr(j).getFullYear(),B,Ge(ee,qe.MinusSign),K)}}const Jr={};function Er(B,K){B=B.replace(/:/g,"");const j=Date.parse("Jan 01, 1970 00:00:00 "+B)/6e4;return isNaN(j)?K:j}function De(B){return B instanceof Date&&!isNaN(B.valueOf())}const Ze=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function Gs(B){const K=parseInt(B);if(isNaN(K))throw new Error("Invalid integer literal when parsing "+B);return K}function Qa(B,K){K=encodeURIComponent(K);for(const j of B.split(";")){const ee=j.indexOf("="),[Se,$e]=-1==ee?[j,""]:[j.slice(0,ee),j.slice(ee+1)];if(Se.trim()===K)return decodeURIComponent($e)}return null}const Ja=/\s+/,ma=[];let zn=(()=>{class B{constructor(j,ee,Se,$e){this._iterableDiffers=j,this._keyValueDiffers=ee,this._ngEl=Se,this._renderer=$e,this.initialClasses=ma,this.stateMap=new Map}set klass(j){this.initialClasses=null!=j?j.trim().split(Ja):ma}set ngClass(j){this.rawClass="string"==typeof j?j.trim().split(Ja):j}ngDoCheck(){for(const ee of this.initialClasses)this._updateState(ee,!0);const j=this.rawClass;if(Array.isArray(j)||j instanceof Set)for(const ee of j)this._updateState(ee,!0);else if(null!=j)for(const ee of Object.keys(j))this._updateState(ee,!!j[ee]);this._applyStateDiff()}_updateState(j,ee){const Se=this.stateMap.get(j);void 0!==Se?(Se.enabled!==ee&&(Se.changed=!0,Se.enabled=ee),Se.touched=!0):this.stateMap.set(j,{enabled:ee,changed:!0,touched:!0})}_applyStateDiff(){for(const j of this.stateMap){const ee=j[0],Se=j[1];Se.changed?(this._toggleClass(ee,Se.enabled),Se.changed=!1):Se.touched||(Se.enabled&&this._toggleClass(ee,!1),this.stateMap.delete(ee)),Se.touched=!1}}_toggleClass(j,ee){(j=j.trim()).length>0&&j.split(Ja).forEach(Se=>{ee?this._renderer.addClass(this._ngEl.nativeElement,Se):this._renderer.removeClass(this._ngEl.nativeElement,Se)})}}return B.\u0275fac=function(j){return new(j||B)(a.Y36(a.ZZ4),a.Y36(a.aQg),a.Y36(a.SBq),a.Y36(a.Qsj))},B.\u0275dir=a.lG2({type:B,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),B})();class Bl{constructor(K,j,ee,Se){this.$implicit=K,this.ngForOf=j,this.index=ee,this.count=Se}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ws=(()=>{class B{set ngForOf(j){this._ngForOf=j,this._ngForOfDirty=!0}set ngForTrackBy(j){this._trackByFn=j}get ngForTrackBy(){return this._trackByFn}constructor(j,ee,Se){this._viewContainer=j,this._template=ee,this._differs=Se,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(j){j&&(this._template=j)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const j=this._ngForOf;!this._differ&&j&&(this._differ=this._differs.find(j).create(this.ngForTrackBy))}if(this._differ){const j=this._differ.diff(this._ngForOf);j&&this._applyChanges(j)}}_applyChanges(j){const ee=this._viewContainer;j.forEachOperation((Se,$e,lt)=>{if(null==Se.previousIndex)ee.createEmbeddedView(this._template,new Bl(Se.item,this._ngForOf,-1,-1),null===lt?void 0:lt);else if(null==lt)ee.remove(null===$e?void 0:$e);else if(null!==$e){const Gt=ee.get($e);ee.move(Gt,lt),Xa(Gt,Se)}});for(let Se=0,$e=ee.length;Se<$e;Se++){const Gt=ee.get(Se).context;Gt.index=Se,Gt.count=$e,Gt.ngForOf=this._ngForOf}j.forEachIdentityChange(Se=>{Xa(ee.get(Se.currentIndex),Se)})}static ngTemplateContextGuard(j,ee){return!0}}return B.\u0275fac=function(j){return new(j||B)(a.Y36(a.s_b),a.Y36(a.Rgc),a.Y36(a.ZZ4))},B.\u0275dir=a.lG2({type:B,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),B})();function Xa(B,K){B.context.$implicit=K.item}let xs=(()=>{class B{constructor(j,ee){this._viewContainer=j,this._context=new yu,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=ee}set ngIf(j){this._context.$implicit=this._context.ngIf=j,this._updateView()}set ngIfThen(j){Cu("ngIfThen",j),this._thenTemplateRef=j,this._thenViewRef=null,this._updateView()}set ngIfElse(j){Cu("ngIfElse",j),this._elseTemplateRef=j,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(j,ee){return!0}}return B.\u0275fac=function(j){return new(j||B)(a.Y36(a.s_b),a.Y36(a.Rgc))},B.\u0275dir=a.lG2({type:B,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),B})();class yu{constructor(){this.$implicit=null,this.ngIf=null}}function Cu(B,K){if(K&&!K.createEmbeddedView)throw new Error(`${B} must be a TemplateRef, but received '${(0,a.AaK)(K)}'.`)}class Hl{constructor(K,j){this._viewContainerRef=K,this._templateRef=j,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(K){K&&!this._created?this.create():!K&&this._created&&this.destroy()}}let Ts=(()=>{class B{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(j){this._ngSwitch=j,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(j){this._defaultViews.push(j)}_matchCase(j){const ee=j==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||ee,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),ee}_updateDefaultCases(j){if(this._defaultViews.length>0&&j!==this._defaultUsed){this._defaultUsed=j;for(const ee of this._defaultViews)ee.enforceState(j)}}}return B.\u0275fac=function(j){return new(j||B)},B.\u0275dir=a.lG2({type:B,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),B})(),_a=(()=>{class B{constructor(j,ee,Se){this.ngSwitch=Se,Se._addCase(),this._view=new Hl(j,ee)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return B.\u0275fac=function(j){return new(j||B)(a.Y36(a.s_b),a.Y36(a.Rgc),a.Y36(Ts,9))},B.\u0275dir=a.lG2({type:B,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),B})(),tl=(()=>{class B{constructor(j,ee,Se){this._ngEl=j,this._differs=ee,this._renderer=Se,this._ngStyle=null,this._differ=null}set ngStyle(j){this._ngStyle=j,!this._differ&&j&&(this._differ=this._differs.find(j).create())}ngDoCheck(){if(this._differ){const j=this._differ.diff(this._ngStyle);j&&this._applyChanges(j)}}_setStyle(j,ee){const[Se,$e]=j.split("."),lt=-1===Se.indexOf("-")?void 0:a.JOm.DashCase;null!=ee?this._renderer.setStyle(this._ngEl.nativeElement,Se,$e?`${ee}${$e}`:ee,lt):this._renderer.removeStyle(this._ngEl.nativeElement,Se,lt)}_applyChanges(j){j.forEachRemovedItem(ee=>this._setStyle(ee.key,null)),j.forEachAddedItem(ee=>this._setStyle(ee.key,ee.currentValue)),j.forEachChangedItem(ee=>this._setStyle(ee.key,ee.currentValue))}}return B.\u0275fac=function(j){return new(j||B)(a.Y36(a.SBq),a.Y36(a.aQg),a.Y36(a.Qsj))},B.\u0275dir=a.lG2({type:B,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),B})(),Ul=(()=>{class B{constructor(j){this._viewContainerRef=j,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(j){if(j.ngTemplateOutlet||j.ngTemplateOutletInjector){const ee=this._viewContainerRef;if(this._viewRef&&ee.remove(ee.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:Se,ngTemplateOutletContext:$e,ngTemplateOutletInjector:lt}=this;this._viewRef=ee.createEmbeddedView(Se,$e,lt?{injector:lt}:void 0)}else this._viewRef=null}else this._viewRef&&j.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return B.\u0275fac=function(j){return new(j||B)(a.Y36(a.s_b))},B.\u0275dir=a.lG2({type:B,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[a.TTD]}),B})();function _n(B,K){return new a.vHH(2100,!1)}class ir{createSubscription(K,j){return(0,a.rg0)(()=>K.subscribe({next:j,error:ee=>{throw ee}}))}dispose(K){(0,a.rg0)(()=>K.unsubscribe())}}class Zi{createSubscription(K,j){return K.then(j,ee=>{throw ee})}dispose(K){}}const $s=new Zi,_i=new ir;let qs=(()=>{class B{constructor(j){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=j}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(j){return this._obj?j!==this._obj?(this._dispose(),this.transform(j)):this._latestValue:(j&&this._subscribe(j),this._latestValue)}_subscribe(j){this._obj=j,this._strategy=this._selectStrategy(j),this._subscription=this._strategy.createSubscription(j,ee=>this._updateLatestValue(j,ee))}_selectStrategy(j){if((0,a.QGY)(j))return $s;if((0,a.F4k)(j))return _i;throw _n()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(j,ee){j===this._obj&&(this._latestValue=ee,this._ref.markForCheck())}}return B.\u0275fac=function(j){return new(j||B)(a.Y36(a.sBO,16))},B.\u0275pipe=a.Yjl({name:"async",type:B,pure:!1,standalone:!0}),B})();const Co=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g;let jl=(()=>{class B{transform(j){if(null==j)return null;if("string"!=typeof j)throw _n();return j.replace(Co,ee=>ee[0].toUpperCase()+ee.slice(1).toLowerCase())}}return B.\u0275fac=function(j){return new(j||B)},B.\u0275pipe=a.Yjl({name:"titlecase",type:B,pure:!0,standalone:!0}),B})();const Nt=new a.OlP("DATE_PIPE_DEFAULT_TIMEZONE"),hn=new a.OlP("DATE_PIPE_DEFAULT_OPTIONS");let $n=(()=>{class B{constructor(j,ee,Se){this.locale=j,this.defaultTimezone=ee,this.defaultOptions=Se}transform(j,ee,Se,$e){if(null==j||""===j||j!=j)return null;try{return un(j,ee??this.defaultOptions?.dateFormat??"mediumDate",$e||this.locale,Se??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(lt){throw _n()}}}return B.\u0275fac=function(j){return new(j||B)(a.Y36(a.soG,16),a.Y36(Nt,24),a.Y36(hn,24))},B.\u0275pipe=a.Yjl({name:"date",type:B,pure:!0,standalone:!0}),B})(),As=(()=>{class B{constructor(j){this._locale=j}transform(j,ee,Se){if(!function Xr(B){return!(null==B||""===B||B!=B)}(j))return null;Se=Se||this._locale;try{return function _r(B,K,j){return function mr(B,K,j,ee,Se,$e,lt=!1){let Gt="",qn=!1;if(isFinite(B)){let cn=function Ka(B){let ee,Se,$e,lt,Gt,K=Math.abs(B)+"",j=0;for((Se=K.indexOf("."))>-1&&(K=K.replace(".","")),($e=K.search(/e/i))>0?(Se<0&&(Se=$e),Se+=+K.slice($e+1),K=K.substring(0,$e)):Se<0&&(Se=K.length),$e=0;"0"===K.charAt($e);$e++);if($e===(Gt=K.length))ee=[0],Se=1;else{for(Gt--;"0"===K.charAt(Gt);)Gt--;for(Se-=$e,ee=[],lt=0;$e<=Gt;$e++,lt++)ee[lt]=Number(K.charAt($e))}return Se>22&&(ee=ee.splice(0,21),j=Se-1,Se=1),{digits:ee,exponent:j,integerLen:Se}}(B);lt&&(cn=function pa(B){if(0===B.digits[0])return B;const K=B.digits.length-B.integerLen;return B.exponent?B.exponent+=2:(0===K?B.digits.push(0,0):1===K&&B.digits.push(0),B.integerLen+=2),B}(cn));let Mn=K.minInt,bn=K.minFrac,wi=K.maxFrac;if($e){const Ps=$e.match(Ze);if(null===Ps)throw new Error(`${$e} is not a valid digit info`);const ll=Ps[1],fs=Ps[3],Oc=Ps[5];null!=ll&&(Mn=Gs(ll)),null!=fs&&(bn=Gs(fs)),null!=Oc?wi=Gs(Oc):null!=fs&&bn>wi&&(wi=bn)}!function Es(B,K,j){if(K>j)throw new Error(`The minimum number of digits after fraction (${K}) is higher than the maximum (${j}).`);let ee=B.digits,Se=ee.length-B.integerLen;const $e=Math.min(Math.max(K,Se),j);let lt=$e+B.integerLen,Gt=ee[lt];if(lt>0){ee.splice(Math.max(B.integerLen,lt));for(let bn=lt;bn<ee.length;bn++)ee[bn]=0}else{Se=Math.max(0,Se),B.integerLen=1,ee.length=Math.max(1,lt=$e+1),ee[0]=0;for(let bn=1;bn<lt;bn++)ee[bn]=0}if(Gt>=5)if(lt-1<0){for(let bn=0;bn>lt;bn--)ee.unshift(0),B.integerLen++;ee.unshift(1),B.integerLen++}else ee[lt-1]++;for(;Se<Math.max(0,$e);Se++)ee.push(0);let qn=0!==$e;const cn=K+B.integerLen,Mn=ee.reduceRight(function(bn,wi,An,ei){return ei[An]=(wi+=bn)<10?wi:wi-10,qn&&(0===ei[An]&&An>=cn?ei.pop():qn=!1),wi>=10?1:0},0);Mn&&(ee.unshift(Mn),B.integerLen++)}(cn,bn,wi);let An=cn.digits,ei=cn.integerLen;const si=cn.exponent;let Qt=[];for(qn=An.every(Ps=>!Ps);ei<Mn;ei++)An.unshift(0);for(;ei<0;ei++)An.unshift(0);ei>0?Qt=An.splice(ei,An.length):(Qt=An,An=[0]);const To=[];for(An.length>=K.lgSize&&To.unshift(An.splice(-K.lgSize,An.length).join(""));An.length>K.gSize;)To.unshift(An.splice(-K.gSize,An.length).join(""));An.length&&To.unshift(An.join("")),Gt=To.join(Ge(j,ee)),Qt.length&&(Gt+=Ge(j,Se)+Qt.join("")),si&&(Gt+=Ge(j,qe.Exponential)+"+"+si)}else Gt=Ge(j,qe.Infinity);return Gt=B<0&&!qn?K.negPre+Gt+K.negSuf:K.posPre+Gt+K.posSuf,Gt}(B,function us(B,K="-"){const j={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},ee=B.split(";"),Se=ee[0],$e=ee[1],lt=-1!==Se.indexOf(".")?Se.split("."):[Se.substring(0,Se.lastIndexOf("0")+1),Se.substring(Se.lastIndexOf("0")+1)],Gt=lt[0],qn=lt[1]||"";j.posPre=Gt.substring(0,Gt.indexOf("#"));for(let Mn=0;Mn<qn.length;Mn++){const bn=qn.charAt(Mn);"0"===bn?j.minFrac=j.maxFrac=Mn+1:"#"===bn?j.maxFrac=Mn+1:j.posSuf+=bn}const cn=Gt.split(",");if(j.gSize=cn[1]?cn[1].length:0,j.lgSize=cn[2]||cn[1]?(cn[2]||cn[1]).length:0,$e){const Mn=Se.length-j.posPre.length-j.posSuf.length,bn=$e.indexOf("#");j.negPre=$e.substring(0,bn).replace(/'/g,""),j.negSuf=$e.slice(bn+Mn).replace(/'/g,"")}else j.negPre=K+j.posPre,j.negSuf=j.posSuf;return j}(function kt(B,K){return(0,a.cg1)(B)[a.wAp.NumberFormats][K]}(K,ke.Percent),Ge(K,qe.MinusSign)),K,qe.Group,qe.Decimal,j,!0).replace(new RegExp("%","g"),Ge(K,qe.PercentSign))}(function Yt(B){if("string"==typeof B&&!isNaN(Number(B)-parseFloat(B)))return Number(B);if("number"!=typeof B)throw new Error(`${B} is not a number`);return B}(j),Se,ee)}catch($e){throw _n()}}}return B.\u0275fac=function(j){return new(j||B)(a.Y36(a.soG,16))},B.\u0275pipe=a.Yjl({name:"percent",type:B,pure:!0,standalone:!0}),B})();let es=(()=>{class B{transform(j,ee,Se){if(null==j)return null;if(!this.supports(j))throw _n();return j.slice(ee,Se)}supports(j){return"string"==typeof j||Array.isArray(j)}}return B.\u0275fac=function(j){return new(j||B)},B.\u0275pipe=a.Yjl({name:"slice",type:B,pure:!1,standalone:!0}),B})(),ts=(()=>{class B{}return B.\u0275fac=function(j){return new(j||B)},B.\u0275mod=a.oAB({type:B}),B.\u0275inj=a.cJS({}),B})();const ns="browser",va="server";function qo(B){return B===ns}function nl(B){return B===va}let Xd=(()=>{class B{}return B.\u0275prov=(0,a.Yz7)({token:B,providedIn:"root",factory:()=>new Hr((0,a.LFG)(Ee),window)}),B})();class Hr{constructor(K,j){this.document=K,this.window=j,this.offset=()=>[0,0]}setOffset(K){this.offset=Array.isArray(K)?()=>K:K}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(K){this.supportsScrolling()&&this.window.scrollTo(K[0],K[1])}scrollToAnchor(K){if(!this.supportsScrolling())return;const j=function Rs(B,K){const j=B.getElementById(K)||B.getElementsByName(K)[0];if(j)return j;if("function"==typeof B.createTreeWalker&&B.body&&"function"==typeof B.body.attachShadow){const ee=B.createTreeWalker(B.body,NodeFilter.SHOW_ELEMENT);let Se=ee.currentNode;for(;Se;){const $e=Se.shadowRoot;if($e){const lt=$e.getElementById(K)||$e.querySelector(`[name="${K}"]`);if(lt)return lt}Se=ee.nextNode()}}return null}(this.document,K);j&&(this.scrollToElement(j),j.focus())}setHistoryScrollRestoration(K){if(this.supportScrollRestoration()){const j=this.window.history;j&&j.scrollRestoration&&(j.scrollRestoration=K)}}scrollToElement(K){const j=K.getBoundingClientRect(),ee=j.left+this.window.pageXOffset,Se=j.top+this.window.pageYOffset,$e=this.offset();this.window.scrollTo(ee-$e[0],Se-$e[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const K=Ko(this.window.history)||Ko(Object.getPrototypeOf(this.window.history));return!(!K||!K.writable&&!K.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Ko(B){return Object.getOwnPropertyDescriptor(B,"scrollRestoration")}class yi{}},5879:(pt,Te,L)=>{"use strict";L.d(Te,{$8M:()=>np,$WT:()=>$s,$Z:()=>G0,AFp:()=>iw,ALo:()=>Df,AaK:()=>_e,Akn:()=>aa,AsE:()=>mc,BQk:()=>tu,CHM:()=>Rc,CRH:()=>gu,DdM:()=>rv,Dn7:()=>xf,DyG:()=>hm,EJc:()=>Yd,EpF:()=>L_,F$t:()=>iu,F4k:()=>Aw,FYo:()=>i_,FiY:()=>rc,Gf:()=>gv,GfV:()=>L0,GkF:()=>cg,Gpc:()=>de,HDt:()=>Wd,Hsn:()=>Cd,Ikx:()=>Gy,JOm:()=>vl,Jf7:()=>TC,KtG:()=>Pc,LFG:()=>Xn,LSH:()=>Hm,Lbi:()=>so,Lck:()=>yf,MAs:()=>k_,MGl:()=>ki,MMx:()=>iv,MR2:()=>S0,NdJ:()=>Oy,Ojb:()=>sw,OlP:()=>Wn,Oqu:()=>G_,P3R:()=>aC,PXZ:()=>HD,Q6J:()=>lg,QGY:()=>ug,QbO:()=>dC,Qsj:()=>Ph,R0b:()=>ci,RDi:()=>K1,Rgc:()=>If,SBq:()=>Rh,Sil:()=>Bf,Suo:()=>Zg,TTD:()=>jr,TgZ:()=>El,Tol:()=>Fy,Udp:()=>pc,VKq:()=>sv,VuI:()=>PE,W1O:()=>C,WFA:()=>V_,WLB:()=>wf,X6Q:()=>Kg,XFs:()=>wt,Xpm:()=>Ts,Xq5:()=>Sy,Xts:()=>Ap,Y36:()=>sd,YKP:()=>Ya,YNc:()=>Vn,Yjl:()=>Jd,Yz7:()=>ln,Z0I:()=>Li,ZZ4:()=>yv,_Bn:()=>vf,_UZ:()=>Kh,_Vd:()=>Oh,_uU:()=>By,aQg:()=>nE,c2e:()=>Lf,cJS:()=>pi,cg1:()=>lf,d8E:()=>au,dDg:()=>DS,dqk:()=>Un,eJc:()=>X,ekj:()=>U_,eoX:()=>LD,evT:()=>IC,f3M:()=>Dn,g9A:()=>M0,h0i:()=>po,hij:()=>gc,iGM:()=>pS,iPO:()=>aE,ifc:()=>yn,ip1:()=>Yg,jDz:()=>Sc,kL8:()=>Lb,lG2:()=>Ul,lcZ:()=>Bg,lnq:()=>nf,lqb:()=>td,lri:()=>SS,n5z:()=>fh,oAB:()=>yo,oJD:()=>Ip,oxw:()=>Ry,qFp:()=>FE,qLn:()=>id,qOj:()=>S_,qZA:()=>oo,rWj:()=>wS,rg0:()=>$f,s9C:()=>dg,sBO:()=>cD,s_b:()=>Mf,soG:()=>Us,tb:()=>xS,tp0:()=>Bu,uIk:()=>D_,vHH:()=>ce,vpe:()=>da,wAp:()=>fn,xi3:()=>Hd,xp6:()=>o_,ynx:()=>N_,z2F:()=>Wg,zSh:()=>E0,zW0:()=>yy,zs3:()=>_s});var a=L(8645),W=L(7394),te=L(5619),oe=L(5592),ge=L(3019),Ee=L(2096),we=L(3020),pe=L(4664),ue=L(3997);function ie(h){for(let p in h)if(h[p]===ie)return p;throw Error("Could not find renamed property on target object.")}function le(h,p){for(const v in p)p.hasOwnProperty(v)&&!h.hasOwnProperty(v)&&(h[v]=p[v])}function _e(h){if("string"==typeof h)return h;if(Array.isArray(h))return"["+h.map(_e).join(", ")+"]";if(null==h)return""+h;if(h.overriddenName)return`${h.overriddenName}`;if(h.name)return`${h.name}`;const p=h.toString();if(null==p)return""+p;const v=p.indexOf("\n");return-1===v?p:p.substring(0,v)}function Ve(h,p){return null==h||""===h?null===p?"":p:null==p||""===p?h:h+" "+p}const Fe=ie({__forward_ref__:ie});function de(h){return h.__forward_ref__=de,h.toString=function(){return _e(this())},h}function se(h){return xe(h)?h():h}function xe(h){return"function"==typeof h&&h.hasOwnProperty(Fe)&&h.__forward_ref__===de}function et(h){return h&&!!h.\u0275providers}const Je="https://g.co/ng/security#xss";class ce extends Error{constructor(p,v){super(function ye(h,p){return`NG0${Math.abs(h)}${p?": "+p:""}`}(p,v)),this.code=p}}function ke(h){return"string"==typeof h?h:null==h?"":String(h)}function qe(h,p){throw new ce(-201,!1)}function Pe(h,p){null==h&&function Qe(h,p,v,b){throw new Error(`ASSERTION ERROR: ${h}`+(null==b?"":` [Expected=> ${v} ${b} ${p} <=Actual]`))}(p,h,null,"!=")}function ln(h){return{token:h.token,providedIn:h.providedIn||null,factory:h.factory,value:void 0}}function pi(h){return{providers:h.providers||[],imports:h.imports||[]}}function ji(h){return ui(h,gi)||ui(h,fr)}function Li(h){return null!==ji(h)}function ui(h,p){return h.hasOwnProperty(p)?h[p]:null}function fa(h){return h&&(h.hasOwnProperty(ii)||h.hasOwnProperty(Oi))?h[ii]:null}const gi=ie({\u0275prov:ie}),ii=ie({\u0275inj:ie}),fr=ie({ngInjectableDef:ie}),Oi=ie({ngInjectorDef:ie});var wt=(()=>((wt=wt||{})[wt.Default=0]="Default",wt[wt.Host=1]="Host",wt[wt.Self=2]="Self",wt[wt.SkipSelf=4]="SkipSelf",wt[wt.Optional=8]="Optional",wt))();let zt;function un(h){const p=zt;return zt=h,p}function Dr(h,p,v){const b=ji(h);return b&&"root"==b.providedIn?void 0===b.value?b.value=b.factory():b.value:v&wt.Optional?null:void 0!==p?p:void qe(_e(h))}const Un=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),cs={},ut="__NG_DI_FLAG__",dn="ngTempTokenPath",_o=/\n/gm,pr="__source";let Qr;function tr(h){const p=Qr;return Qr=h,p}function Jr(h,p=wt.Default){if(void 0===Qr)throw new ce(-203,!1);return null===Qr?Dr(h,void 0,p):Qr.get(h,p&wt.Optional?null:void 0,p)}function Xn(h,p=wt.Default){return(function st(){return zt}()||Jr)(se(h),p)}function Dn(h,p=wt.Default){return Xn(h,vo(p))}function vo(h){return typeof h>"u"||"number"==typeof h?h:0|(h.optional&&8)|(h.host&&1)|(h.self&&2)|(h.skipSelf&&4)}function at(h){const p=[];for(let v=0;v<h.length;v++){const b=se(h[v]);if(Array.isArray(b)){if(0===b.length)throw new ce(900,!1);let w,x=wt.Default;for(let I=0;I<b.length;I++){const k=b[I],V=De(k);"number"==typeof V?-1===V?w=k.token:x|=V:w=k}p.push(Xn(w,x))}else p.push(Xn(b))}return p}function Re(h,p){return h[ut]=p,h.prototype[ut]=p,h}function De(h){return h[ut]}function At(h){return{toString:h}.toString()}var Pt=(()=>((Pt=Pt||{})[Pt.OnPush=0]="OnPush",Pt[Pt.Default=1]="Default",Pt))(),yn=(()=>{return(h=yn||(yn={}))[h.Emulated=0]="Emulated",h[h.None=2]="None",h[h.ShadowDom=3]="ShadowDom",yn;var h})();const En={},on=[],nr=ie({\u0275cmp:ie}),gr=ie({\u0275dir:ie}),mr=ie({\u0275pipe:ie}),Zs=ie({\u0275mod:ie}),_r=ie({\u0275fac:ie}),Ds=ie({__NG_ELEMENT_ID__:ie}),us=ie({__NG_ENV_ID__:ie});function pa(h,p,v){let b=h.length;for(;;){const w=h.indexOf(p,v);if(-1===w)return w;if(0===w||h.charCodeAt(w-1)<=32){const x=p.length;if(w+x===b||h.charCodeAt(w+x)<=32)return w}v=w+1}}function Ka(h,p,v){let b=0;for(;b<v.length;){const w=v[b];if("number"==typeof w){if(0!==w)break;b++;const x=v[b++],I=v[b++],k=v[b++];h.setAttribute(p,I,k,x)}else{const x=w,I=v[++b];Gs(x)?h.setProperty(p,x,I):h.setAttribute(p,x,I),b++}}return b}function Es(h){return 3===h||4===h||6===h}function Gs(h){return 64===h.charCodeAt(0)}function Vr(h,p){if(null!==p&&0!==p.length)if(null===h||0===h.length)h=p.slice();else{let v=-1;for(let b=0;b<p.length;b++){const w=p[b];"number"==typeof w?v=w:0===v||Vl(h,v,w,null,-1===v||2===v?p[++b]:null)}}return h}function Vl(h,p,v,b,w){let x=0,I=h.length;if(-1===p)I=-1;else for(;x<h.length;){const k=h[x++];if("number"==typeof k){if(k===p){I=-1;break}if(k>p){I=x-1;break}}}for(;x<h.length;){const k=h[x];if("number"==typeof k)break;if(k===v){if(null===b)return void(null!==w&&(h[x+1]=w));if(b===h[x+1])return void(h[x+2]=w)}x++,null!==b&&x++,null!==w&&x++}-1!==I&&(h.splice(I,0,p),x=I+1),h.splice(x++,0,v),null!==b&&h.splice(x++,0,b),null!==w&&h.splice(x++,0,w)}const ga="ng-template";function Zf(h,p,v){let b=0,w=!0;for(;b<h.length;){let x=h[b++];if("string"==typeof x&&w){const I=h[b++];if(v&&"class"===x&&-1!==pa(I.toLowerCase(),p,0))return!0}else{if(1===x){for(;b<h.length&&"string"==typeof(x=h[b++]);)if(x.toLowerCase()===p)return!0;return!1}"number"==typeof x&&(w=!1)}}return!1}function Qa(h){return 4===h.type&&h.value!==ga}function Ja(h,p,v){return p===(4!==h.type||v?h.value:ga)}function ma(h,p,v){let b=4;const w=h.attrs||[],x=function Ws(h){for(let p=0;p<h.length;p++)if(Es(h[p]))return p;return h.length}(w);let I=!1;for(let k=0;k<p.length;k++){const V=p[k];if("number"!=typeof V){if(!I)if(4&b){if(b=2|1&b,""!==V&&!Ja(h,V,v)||""===V&&1===p.length){if(zn(b))return!1;I=!0}}else{const $=8&b?V:p[++k];if(8&b&&null!==h.attrs){if(!Zf(h.attrs,$,v)){if(zn(b))return!1;I=!0}continue}const Ce=Yo(8&b?"class":V,w,Qa(h),v);if(-1===Ce){if(zn(b))return!1;I=!0;continue}if(""!==$){let Oe;Oe=Ce>x?"":w[Ce+1].toLowerCase();const ze=8&b?Oe:null;if(ze&&-1!==pa(ze,$,0)||2&b&&$!==Oe){if(zn(b))return!1;I=!0}}}}else{if(!I&&!zn(b)&&!zn(V))return!1;if(I&&zn(V))continue;I=!1,b=V|1&b}}return zn(b)||I}function zn(h){return 0==(1&h)}function Yo(h,p,v,b){if(null===p)return-1;let w=0;if(b||!v){let x=!1;for(;w<p.length;){const I=p[w];if(I===h)return w;if(3===I||6===I)x=!0;else{if(1===I||2===I){let k=p[++w];for(;"string"==typeof k;)k=p[++w];continue}if(4===I)break;if(0===I){w+=4;continue}}w+=x?1:2}return-1}return function Xa(h,p){let v=h.indexOf(4);if(v>-1)for(v++;v<h.length;){const b=h[v];if("number"==typeof b)return-1;if(b===p)return v;v++}return-1}(p,h)}function Ys(h,p,v=!1){for(let b=0;b<p.length;b++)if(ma(h,p[b],v))return!0;return!1}function el(h,p){e:for(let v=0;v<p.length;v++){const b=p[v];if(h.length===b.length){for(let w=0;w<h.length;w++)if(h[w]!==b[w])continue e;return!0}}return!1}function xs(h,p){return h?":not("+p.trim()+")":p}function yu(h){let p=h[0],v=1,b=2,w="",x=!1;for(;v<h.length;){let I=h[v];if("string"==typeof I)if(2&b){const k=h[++v];w+="["+I+(k.length>0?'="'+k+'"':"")+"]"}else 8&b?w+="."+I:4&b&&(w+=" "+I);else""!==w&&!zn(I)&&(p+=xs(x,w),w=""),b=I,x=x||!zn(b);v++}return""!==w&&(p+=xs(x,w)),p}function Ts(h){return At(()=>{const p=qs(h),v={...p,decls:h.decls,vars:h.vars,template:h.template,consts:h.consts||null,ngContentSelectors:h.ngContentSelectors,onPush:h.changeDetection===Pt.OnPush,directiveDefs:null,pipeDefs:null,dependencies:p.standalone&&h.dependencies||null,getStandaloneInjector:null,signals:h.signals??!1,data:h.data||{},encapsulation:h.encapsulation||yn.Emulated,styles:h.styles||on,_:null,schemas:h.schemas||null,tView:null,id:""};Ks(v);const b=h.dependencies;return v.directiveDefs=Co(b,!1),v.pipeDefs=Co(b,!0),v.id=function bo(h){let p=0;const v=[h.selectors,h.ngContentSelectors,h.hostVars,h.hostAttrs,h.consts,h.vars,h.decls,h.encapsulation,h.standalone,h.signals,h.exportAs,JSON.stringify(h.inputs),JSON.stringify(h.outputs),Object.getOwnPropertyNames(h.type.prototype),!!h.contentQueries,!!h.viewQuery].join("|");for(const w of v)p=Math.imul(31,p)+w.charCodeAt(0)<<0;return p+=2147483648,"c"+p}(v),v})}function Tc(h){return _n(h)||ir(h)}function bu(h){return null!==h}function yo(h){return At(()=>({type:h.type,bootstrap:h.bootstrap||on,declarations:h.declarations||on,imports:h.imports||on,exports:h.exports||on,transitiveCompileScopes:null,schemas:h.schemas||null,id:h.id||null}))}function tl(h,p){if(null==h)return En;const v={};for(const b in h)if(h.hasOwnProperty(b)){let w=h[b],x=w;Array.isArray(w)&&(x=w[1],w=w[0]),v[w]=b,p&&(p[w]=x)}return v}function Ul(h){return At(()=>{const p=qs(h);return Ks(p),p})}function Jd(h){return{type:h.type,name:h.name,factory:null,pure:!1!==h.pure,standalone:!0===h.standalone,onDestroy:h.type.prototype.ngOnDestroy||null}}function _n(h){return h[nr]||null}function ir(h){return h[gr]||null}function Zi(h){return h[mr]||null}function $s(h){const p=_n(h)||ir(h)||Zi(h);return null!==p&&p.standalone}function _i(h,p){const v=h[Zs]||null;if(!v&&!0===p)throw new Error(`Type ${_e(h)} does not have '\u0275mod' property.`);return v}function qs(h){const p={};return{type:h.type,providersResolver:null,factory:null,hostBindings:h.hostBindings||null,hostVars:h.hostVars||0,hostAttrs:h.hostAttrs||null,contentQueries:h.contentQueries||null,declaredInputs:p,inputTransforms:null,inputConfig:h.inputs||En,exportAs:h.exportAs||null,standalone:!0===h.standalone,signals:!0===h.signals,selectors:h.selectors||on,viewQuery:h.viewQuery||null,features:h.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:tl(h.inputs,p),outputs:tl(h.outputs)}}function Ks(h){h.features?.forEach(p=>p(h))}function Co(h,p){if(!h)return null;const v=p?Zi:Tc;return()=>("function"==typeof h?h():h).map(b=>v(b)).filter(bu)}const vi=0,Nt=1,hn=2,$n=3,xr=4,Is=5,Vi=6,Ms=7,ri=8,Wo=9,Tr=10,gn=11,As=12,$o=13,Xr=14,Yt=15,es=16,So=17,ts=18,ns=19,va=20,Br=21,Os=22,qo=23,nl=24,Pn=25,zl=1,Xd=2,Hr=7,Rs=9,yi=11;function sr(h){return Array.isArray(h)&&"object"==typeof h[zl]}function Ir(h){return Array.isArray(h)&&!0===h[zl]}function Gl(h){return 0!=(4&h.flags)}function wo(h){return h.componentOffset>-1}function or(h){return 1==(1&h.flags)}function Ci(h){return!!h.template}function il(h){return 0!=(512&h[hn])}function Y(h,p){return h.hasOwnProperty(_r)?h[_r]:null}let Wt=Un.WeakRef??class Vt{constructor(p){this.ref=p}deref(){return this.ref}},Xs=0,In=null,ea=!1;function bi(h){const p=In;return In=h,p}class Eo{constructor(){this.id=Xs++,this.ref=function Mr(h){return new Wt(h)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[p,v]of this.producers){const b=v.producerNode.deref();if(void 0!==b&&v.atTrackingVersion===this.trackingVersion){if(b.producerPollStatus(v.seenValueVersion))return!0}else this.producers.delete(p),b?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const p=ea;ea=!0;try{for(const[v,b]of this.consumers){const w=b.consumerNode.deref();void 0!==w&&w.trackingVersion===b.atTrackingVersion?w.onConsumerDependencyMayHaveChanged():(this.consumers.delete(v),w?.producers.delete(this.id))}}finally{ea=p}}producerAccessed(){if(ea)throw new Error("");if(null===In)return;let p=In.producers.get(this.id);void 0===p?(p={consumerNode:In.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:In.trackingVersion},In.producers.set(this.id,p),this.consumers.set(In.id,p)):(p.seenValueVersion=this.valueVersion,p.atTrackingVersion=In.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==In?.consumerAllowSignalWrites}producerPollStatus(p){return this.valueVersion!==p||(this.onProducerUpdateValueVersion(),this.valueVersion!==p)}}let eh=null;function $f(h){const p=bi(null);try{return h()}finally{bi(p)}}const Mc=()=>{};class kn extends Eo{constructor(p,v,b){super(),this.watch=p,this.schedule=v,this.dirty=!1,this.cleanupFn=Mc,this.registerOnCleanup=w=>{this.cleanupFn=w},this.consumerAllowSignalWrites=b}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const p=bi(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=Mc,this.watch(this.registerOnCleanup)}finally{bi(p)}}cleanup(){this.cleanupFn()}}class ql{constructor(p,v,b){this.previousValue=p,this.currentValue=v,this.firstChange=b}isFirstChange(){return this.firstChange}}function jr(){return th}function th(h){return h.type.prototype.ngOnChanges&&(h.setInput=Kl),Ac}function Ac(){const h=Bi(this),p=h?.current;if(p){const v=h.previous;if(v===En)h.previous=p;else for(let b in p)v[b]=p[b];h.current=null,this.ngOnChanges(p)}}function Kl(h,p,v,b){const w=this.declaredInputs[v],x=Bi(h)||function im(h,p){return h[Du]=p}(h,{previous:En,current:null}),I=x.current||(x.current={}),k=x.previous,V=k[w];I[w]=new ql(V&&V.currentValue,p,k===En),h[b]=p}jr.ngInherit=!0;const Du="__ngSimpleChanges__";function Bi(h){return h[Du]||null}const zr=function(h,p,v){};function Si(h){for(;Array.isArray(h);)h=h[vi];return h}function B(h,p){return Si(p[h])}function K(h,p){return Si(p[h.index])}function ee(h,p){return h.data[p]}function Se(h,p){return h[p]}function $e(h,p){const v=p[h];return sr(v)?v:v[vi]}function cn(h,p){return null==p?null:h[p]}function Mn(h){h[So]=0}function bn(h){1024&h[hn]||(h[hn]|=1024,An(h,1))}function wi(h){1024&h[hn]&&(h[hn]&=-1025,An(h,-1))}function An(h,p){let v=h[$n];if(null===v)return;v[Is]+=p;let b=v;for(v=v[$n];null!==v&&(1===p&&1===b[Is]||-1===p&&0===b[Is]);)v[Is]+=p,b=v,v=v[$n]}const Qt={lFrame:ec(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Sv(){return Qt.bindingsEnabled}function Io(){return null!==Qt.skipHydrationRootTNode}function _t(){return Qt.lFrame.lView}function Nn(){return Qt.lFrame.tView}function Rc(h){return Qt.lFrame.contextLView=h,h[ri]}function Pc(h){return Qt.lFrame.contextLView=null,h}function ar(){let h=Iu();for(;null!==h&&64===h.type;)h=h.parent;return h}function Iu(){return Qt.lFrame.currentTNode}function ps(h,p){const v=Qt.lFrame;v.currentTNode=h,v.isParent=p}function gs(){return Qt.lFrame.isParent}function wv(){Qt.lFrame.isParent=!1}function Gi(){const h=Qt.lFrame;let p=h.bindingRootIndex;return-1===p&&(p=h.bindingRootIndex=h.tView.bindingStartIndex),p}function to(){return Qt.lFrame.bindingIndex}function vr(){return Qt.lFrame.bindingIndex++}function ms(h){const p=Qt.lFrame,v=p.bindingIndex;return p.bindingIndex=p.bindingIndex+h,v}function qf(h,p){const v=Qt.lFrame;v.bindingIndex=v.bindingRootIndex=h,sh(p)}function sh(h){Qt.lFrame.currentDirectiveIndex=h}function Kf(h){const p=Qt.lFrame.currentDirectiveIndex;return-1===p?null:h[p]}function Yi(){return Qt.lFrame.currentQueryIndex}function Qf(h){Qt.lFrame.currentQueryIndex=h}function Xl(h){const p=h[Nt];return 2===p.type?p.declTNode:1===p.type?h[Vi]:null}function Jf(h,p,v){if(v&wt.SkipSelf){let w=p,x=h;for(;!(w=w.parent,null!==w||v&wt.Host||(w=Xl(x),null===w||(x=x[Xr],10&w.type))););if(null===w)return!1;p=w,h=x}const b=Qt.lFrame=oh();return b.currentTNode=p,b.lView=h,!0}function om(h){const p=oh(),v=h[Nt];Qt.lFrame=p,p.currentTNode=v.firstChild,p.lView=h,p.tView=v,p.contextLView=h,p.bindingIndex=v.bindingStartIndex,p.inI18n=!1}function oh(){const h=Qt.lFrame,p=null===h?null:h.child;return null===p?ec(h):p}function ec(h){const p={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:h,child:null,inI18n:!1};return null!==h&&(h.child=p),p}function no(){const h=Qt.lFrame;return Qt.lFrame=h.parent,h.currentTNode=null,h.lView=null,h}const ah=no;function Ev(){const h=no();h.isParent=!0,h.tView=null,h.selectedIndex=-1,h.contextLView=null,h.elementDepthCount=0,h.currentDirectiveIndex=-1,h.currentNamespace=null,h.bindingRootIndex=-1,h.bindingIndex=-1,h.currentQueryIndex=0}function O(){return Qt.lFrame.selectedIndex}function H(h){Qt.lFrame.selectedIndex=h}function q(){const h=Qt.lFrame;return ee(h.tView,h.selectedIndex)}let Jt=!0;function Kn(){return Jt}function Wi(h){Jt=h}function wa(h,p){for(let v=p.directiveStart,b=p.directiveEnd;v<b;v++){const x=h.data[v].type.prototype,{ngAfterContentInit:I,ngAfterContentChecked:k,ngAfterViewInit:V,ngAfterViewChecked:$,ngOnDestroy:ne}=x;I&&(h.contentHooks??=[]).push(-v,I),k&&((h.contentHooks??=[]).push(v,k),(h.contentCheckHooks??=[]).push(v,k)),V&&(h.viewHooks??=[]).push(-v,V),$&&((h.viewHooks??=[]).push(v,$),(h.viewCheckHooks??=[]).push(v,$)),null!=ne&&(h.destroyHooks??=[]).push(v,ne)}}function Ao(h,p,v){tc(h,p,3,v)}function jn(h,p,v,b){(3&h[hn])===v&&tc(h,p,v,b)}function Da(h,p){let v=h[hn];(3&v)===p&&(v&=8191,v+=1,h[hn]=v)}function tc(h,p,v,b){const x=b??-1,I=p.length-1;let k=0;for(let V=void 0!==b?65535&h[So]:0;V<I;V++)if("number"==typeof p[V+1]){if(k=p[V],null!=b&&k>=b)break}else p[V]<0&&(h[So]+=65536),(k<x||-1==x)&&(yr(h,v,p,V),h[So]=(4294901760&h[So])+V+2),V++}function Ea(h,p){zr(4,h,p);const v=bi(null);try{p.call(h)}finally{bi(v),zr(5,h,p)}}function yr(h,p,v,b){const w=v[b]<0,x=v[b+1],k=h[w?-v[b]:v[b]];w?h[hn]>>13<h[So]>>16&&(3&h[hn])===p&&(h[hn]+=8192,Ea(k,x)):Ea(k,x)}const Zr=-1;class lh{constructor(p,v,b){this.factory=p,this.resolving=!1,this.canSeeViewProviders=v,this.injectImpl=b}}function Iv(h){return h!==Zr}function dh(h){return 32767&h}function Ta(h,p){let v=function hh(h){return h>>16}(h),b=p;for(;v>0;)b=b[Xr],v--;return b}let kc=!0;function ep(h){const p=kc;return kc=h,p}const Av=255,Ou=5;let Ov=0;const lr={};function nc(h,p){const v=O1(h,p);if(-1!==v)return v;const b=p[Nt];b.firstCreatePass&&(h.injectorIndex=p.length,Rv(b.data,h),Rv(p,null),Rv(b.blueprint,null));const w=Pv(h,p),x=h.injectorIndex;if(Iv(w)){const I=dh(w),k=Ta(w,p),V=k[Nt].data;for(let $=0;$<8;$++)p[x+$]=k[I+$]|V[I+$]}return p[x+8]=w,x}function Rv(h,p){h.push(0,0,0,0,0,0,0,0,p)}function O1(h,p){return-1===h.injectorIndex||h.parent&&h.parent.injectorIndex===h.injectorIndex||null===p[h.injectorIndex+8]?-1:h.injectorIndex}function Pv(h,p){if(h.parent&&-1!==h.parent.injectorIndex)return h.parent.injectorIndex;let v=0,b=null,w=p;for(;null!==w;){if(b=k1(w),null===b)return Zr;if(v++,w=w[Xr],-1!==b.injectorIndex)return b.injectorIndex|v<<16}return Zr}function Gr(h,p,v){!function lm(h,p,v){let b;"string"==typeof v?b=v.charCodeAt(0)||0:v.hasOwnProperty(Ds)&&(b=v[Ds]),null==b&&(b=v[Ds]=Ov++);const w=b&Av;p.data[h+(w>>Ou)]|=1<<w}(h,p,v)}function Ru(h,p,v){if(v&wt.Optional||void 0!==h)return h;qe()}function kv(h,p,v,b){if(v&wt.Optional&&void 0===b&&(b=null),!(v&(wt.Self|wt.Host))){const w=h[Wo],x=un(void 0);try{return w?w.get(p,b,v&wt.Optional):Dr(p,b,v&wt.Optional)}finally{un(x)}}return Ru(b,0,v)}function Fv(h,p,v,b=wt.Default,w){if(null!==h){if(2048&p[hn]&&!(b&wt.Self)){const I=function P1(h,p,v,b,w){let x=h,I=p;for(;null!==x&&null!==I&&2048&I[hn]&&!(512&I[hn]);){const k=cm(x,I,v,b|wt.Self,lr);if(k!==lr)return k;let V=x.parent;if(!V){const $=I[va];if($){const ne=$.get(v,lr,b);if(ne!==lr)return ne}V=k1(I),I=I[Xr]}x=V}return w}(h,p,v,b,lr);if(I!==lr)return I}const x=cm(h,p,v,b,lr);if(x!==lr)return x}return kv(p,v,b,w)}function cm(h,p,v,b,w){const x=function Nv(h){if("string"==typeof h)return h.charCodeAt(0)||0;const p=h.hasOwnProperty(Ds)?h[Ds]:void 0;return"number"==typeof p?p>=0?p&Av:PS:p}(v);if("function"==typeof x){if(!Jf(p,h,b))return b&wt.Host?Ru(w,0,b):kv(p,v,b,w);try{const I=x(b);if(null!=I||b&wt.Optional)return I;qe()}finally{ah()}}else if("number"==typeof x){let I=null,k=O1(h,p),V=Zr,$=b&wt.Host?p[Yt][Vi]:null;for((-1===k||b&wt.SkipSelf)&&(V=-1===k?Pv(h,p):p[k+8],V!==Zr&&Pu(b,!1)?(I=p[Nt],k=dh(V),p=Ta(V,p)):k=-1);-1!==k;){const ne=p[Nt];if(Lv(x,k,ne.data)){const Ce=R1(k,p,v,I,b,$);if(Ce!==lr)return Ce}V=p[k+8],V!==Zr&&Pu(b,p[Nt].data[k+8]===$)&&Lv(x,k,p)?(I=ne,k=dh(V),p=Ta(V,p)):k=-1}}return w}function R1(h,p,v,b,w,x){const I=p[Nt],k=I.data[h+8],ne=tp(k,I,v,null==b?wo(k)&&kc:b!=I&&0!=(3&k.type),w&wt.Host&&x===k);return null!==ne?ul(p,I,ne,k):lr}function tp(h,p,v,b,w){const x=h.providerIndexes,I=p.data,k=1048575&x,V=h.directiveStart,ne=x>>20,Oe=w?k+ne:h.directiveEnd;for(let ze=b?k:k+ne;ze<Oe;ze++){const ft=I[ze];if(ze<V&&v===ft||ze>=V&&ft.type===v)return ze}if(w){const ze=I[V];if(ze&&Ci(ze)&&ze.type===v)return V}return null}function ul(h,p,v,b){let w=h[v];const x=p.data;if(function ch(h){return h instanceof lh}(w)){const I=w;I.resolving&&function nt(h,p){const v=p?`. Dependency path: ${p.join(" > ")} > ${h}`:"";throw new ce(-200,`Circular dependency in DI detected for ${h}${v}`)}(function Le(h){return"function"==typeof h?h.name||h.toString():"object"==typeof h&&null!=h&&"function"==typeof h.type?h.type.name||h.type.toString():ke(h)}(x[v]));const k=ep(I.canSeeViewProviders);I.resolving=!0;const V=I.injectImpl?un(I.injectImpl):null;Jf(h,b,wt.Default);try{w=h[v]=I.factory(void 0,x,h,b),p.firstCreatePass&&v>=b.directiveStart&&function Mu(h,p,v){const{ngOnChanges:b,ngOnInit:w,ngDoCheck:x}=p.type.prototype;if(b){const I=th(p);(v.preOrderHooks??=[]).push(h,I),(v.preOrderCheckHooks??=[]).push(h,I)}w&&(v.preOrderHooks??=[]).push(0-h,w),x&&((v.preOrderHooks??=[]).push(h,x),(v.preOrderCheckHooks??=[]).push(h,x))}(v,x[v],p)}finally{null!==V&&un(V),ep(k),I.resolving=!1,ah()}}return w}function Lv(h,p,v){return!!(v[p+(h>>Ou)]&1<<h)}function Pu(h,p){return!(h&wt.Self||h&wt.Host&&p)}class Ia{constructor(p,v){this._tNode=p,this._lView=v}get(p,v,b){return Fv(this._tNode,this._lView,p,vo(b),v)}}function PS(){return new Ia(ar(),_t())}function fh(h){return At(()=>{const p=h.prototype.constructor,v=p[_r]||Vv(p),b=Object.prototype;let w=Object.getPrototypeOf(h.prototype).constructor;for(;w&&w!==b;){const x=w[_r]||Vv(w);if(x&&x!==v)return x;w=Object.getPrototypeOf(w)}return x=>new x})}function Vv(h){return xe(h)?()=>{const p=Vv(se(h));return p&&p()}:Y(h)}function k1(h){const p=h[Nt],v=p.type;return 2===v?p.declTNode:1===v?h[Vi]:null}function np(h){return function RS(h,p){if("class"===p)return h.classes;if("style"===p)return h.styles;const v=h.attrs;if(v){const b=v.length;let w=0;for(;w<b;){const x=v[w];if(Es(x))break;if(0===x)w+=2;else if("number"==typeof x)for(w++;w<b&&"string"==typeof v[w];)w++;else{if(x===p)return v[w+1];w+=2}}}return null}(ar(),h)}const Nc="__parameters__";function ic(h,p,v){return At(()=>{const b=function ku(h){return function(...v){if(h){const b=h(...v);for(const w in b)this[w]=b[w]}}}(p);function w(...x){if(this instanceof w)return b.apply(this,x),this;const I=new w(...x);return k.annotation=I,k;function k(V,$,ne){const Ce=V.hasOwnProperty(Nc)?V[Nc]:Object.defineProperty(V,Nc,{value:[]})[Nc];for(;Ce.length<=ne;)Ce.push(null);return(Ce[ne]=Ce[ne]||[]).push(I),V}}return v&&(w.prototype=Object.create(v.prototype)),w.prototype.ngMetadataName=h,w.annotationCls=w,w})}const hm=Function;function Nu(h,p){h.forEach(v=>Array.isArray(v)?Nu(v,p):p(v))}function rp(h,p,v){p>=h.length?h.push(v):h.splice(p,0,v)}function mh(h,p){return p>=h.length-1?h.pop():h.splice(p,1)[0]}function _h(h,p){const v=[];for(let b=0;b<h;b++)v.push(p);return v}function io(h,p,v){let b=Ma(h,p);return b>=0?h[1|b]=v:(b=~b,function Uv(h,p,v,b){let w=h.length;if(w==p)h.push(v,b);else if(1===w)h.push(b,h[0]),h[0]=v;else{for(w--,h.push(h[w-1],h[w]);w>p;)h[w]=h[w-2],w--;h[p]=v,h[p+1]=b}}(h,b,p,v)),b}function hl(h,p){const v=Ma(h,p);if(v>=0)return h[1|v]}function Ma(h,p){return function Vu(h,p,v){let b=0,w=h.length>>v;for(;w!==b;){const x=b+(w-b>>1),I=h[x<<v];if(p===I)return x<<v;I>p?w=x:b=x+1}return~(w<<v)}(h,p,1)}const rc=Re(ic("Optional"),8),Bu=Re(ic("SkipSelf"),4);function _l(h){return 128==(128&h.flags)}var vl=(()=>((vl=vl||{})[vl.Important=1]="Important",vl[vl.DashCase=2]="DashCase",vl))();const Hc=/^>|^->|<!--|-->|--!>|<!-$/g,Kv=/(<|>)/,cr="\u200b$1\u200b";const Uc=new Map;let gp=0;const ia="__ngContext__";function $i(h,p){sr(p)?(h[ia]=p[ns],function Qv(h){Uc.set(h[ns],h)}(p)):h[ia]=p}let _p;function Tm(h,p){return _p(h,p)}function zc(h){const p=h[$n];return Ir(p)?p[$n]:p}function Zc(h){return VS(h[As])}function j1(h){return VS(h[xr])}function VS(h){for(;null!==h&&!Ir(h);)h=h[xr];return h}function Gu(h,p,v,b,w){if(null!=b){let x,I=!1;Ir(b)?x=b:sr(b)&&(I=!0,b=b[vi]);const k=Si(b);0===h&&null!==v?null==w?yp(p,v,k):Yc(p,v,k,w||null,!0):1===h&&null!==v?Yc(p,v,k,w||null,!0):2===h?function Pm(h,p,v){const b=Sh(h,p);b&&function Om(h,p,v,b){h.removeChild(p,v,b)}(h,b,p,v)}(p,k,I):3===h&&p.destroyNode(k),null!=x&&function Ns(h,p,v,b,w){const x=v[Hr];x!==Si(v)&&Gu(p,h,b,x,w);for(let k=yi;k<v.length;k++){const V=v[k];ro(V[Nt],V,h,p,b,x)}}(p,h,x,v,w)}}function vp(h,p){return h.createComment(function FS(h){return h.replace(Hc,p=>p.replace(Kv,cr))}(p))}function Im(h,p,v){return h.createElement(p,v)}function Oa(h,p){const v=h[Rs],b=v.indexOf(p);wi(p),v.splice(b,1)}function a0(h,p){if(h.length<=yi)return;const v=yi+p,b=h[v];if(b){const w=b[es];null!==w&&w!==h&&Oa(w,b),p>0&&(h[v-1][xr]=b[xr]);const x=mh(h,yi+p);!function Mm(h,p){ro(h,p,p[gn],2,null,null),p[vi]=null,p[Vi]=null}(b[Nt],b);const I=x[ts];null!==I&&I.detachView(x[Nt]),b[$n]=null,b[xr]=null,b[hn]&=-129}return b}function Am(h,p){if(!(256&p[hn])){const v=p[gn];p[qo]?.destroy(),p[nl]?.destroy(),v.destroyNode&&ro(h,p,v,3,null,null),function Z1(h){let p=h[As];if(!p)return Gc(h[Nt],h);for(;p;){let v=null;if(sr(p))v=p[As];else{const b=p[yi];b&&(v=b)}if(!v){for(;p&&!p[xr]&&p!==h;)sr(p)&&Gc(p[Nt],p),p=p[$n];null===p&&(p=h),sr(p)&&Gc(p[Nt],p),v=p&&p[xr]}p=v}}(p)}}function Gc(h,p){if(!(256&p[hn])){p[hn]&=-129,p[hn]|=256,function HS(h,p){let v;if(null!=h&&null!=(v=h.destroyHooks))for(let b=0;b<v.length;b+=2){const w=p[v[b]];if(!(w instanceof lh)){const x=v[b+1];if(Array.isArray(x))for(let I=0;I<x.length;I+=2){const k=w[x[I]],V=x[I+1];zr(4,k,V);try{V.call(k)}finally{zr(5,k,V)}}else{zr(4,w,x);try{x.call(w)}finally{zr(5,w,x)}}}}}(h,p),function Y1(h,p){const v=h.cleanup,b=p[Ms];if(null!==v)for(let x=0;x<v.length-1;x+=2)if("string"==typeof v[x]){const I=v[x+3];I>=0?b[I]():b[-I].unsubscribe(),x+=2}else v[x].call(b[v[x+1]]);null!==b&&(p[Ms]=null);const w=p[Br];if(null!==w){p[Br]=null;for(let x=0;x<w.length;x++)(0,w[x])()}}(h,p),1===p[Nt].type&&p[gn].destroy();const v=p[es];if(null!==v&&Ir(p[$n])){v!==p[$n]&&Oa(v,p);const b=p[ts];null!==b&&b.detachView(h)}!function Jv(h){Uc.delete(h[ns])}(p)}}function l0(h,p,v){return function W1(h,p,v){let b=p;for(;null!==b&&40&b.type;)b=(p=b).parent;if(null===b)return v[vi];{const{componentOffset:w}=b;if(w>-1){const{encapsulation:x}=h.data[b.directiveStart+w];if(x===yn.None||x===yn.Emulated)return null}return K(b,v)}}(h,p.parent,v)}function Yc(h,p,v,b,w){h.insertBefore(p,v,b,w)}function yp(h,p,v){h.appendChild(p,v)}function US(h,p,v,b,w){null!==b?Yc(h,p,v,b,w):yp(h,p,v)}function Sh(h,p){return h.parentNode(p)}function q1(h,p,v){return u0(h,p,v)}let Yr,yl,Fm,Wc,u0=function c0(h,p,v){return 40&h.type?K(h,v):null};function Rm(h,p,v,b){const w=l0(h,b,p),x=p[gn],k=q1(b.parent||p[Vi],b,p);if(null!=w)if(Array.isArray(v))for(let V=0;V<v.length;V++)US(x,w,v[V],k,!1);else US(x,w,v,k,!1);void 0!==Yr&&Yr(x,b,p,v,w)}function Ii(h,p){if(null!==p){const v=p.type;if(3&v)return K(p,h);if(4&v)return bp(-1,h[p.index]);if(8&v){const b=p.child;if(null!==b)return Ii(h,b);{const w=h[p.index];return Ir(w)?bp(-1,w):Si(w)}}if(32&v)return Tm(p,h)()||Si(h[p.index]);{const b=Cp(h,p);return null!==b?Array.isArray(b)?b[0]:Ii(zc(h[Yt]),b):Ii(h,p.next)}}return null}function Cp(h,p){return null!==p?h[Yt][Vi].projection[p.projection]:null}function bp(h,p){const v=yi+h+1;if(v<p.length){const b=p[v],w=b[Nt].firstChild;if(null!==w)return Ii(b,w)}return p[Hr]}function Sp(h,p,v,b,w,x,I){for(;null!=v;){const k=b[v.index],V=v.type;if(I&&0===p&&(k&&$i(Si(k),b),v.flags|=2),32!=(32&v.flags))if(8&V)Sp(h,p,v.child,b,w,x,!1),Gu(p,h,w,k,x);else if(32&V){const $=Tm(v,b);let ne;for(;ne=$();)Gu(p,h,w,ne,x);Gu(p,h,w,k,x)}else 16&V?Dh(h,p,b,v,w,x):Gu(p,h,w,k,x);v=I?v.projectionNext:v.next}}function ro(h,p,v,b,w,x){Sp(v,b,h.firstChild,p,w,x,!1)}function Dh(h,p,v,b,w,x){const I=v[Yt],V=I[Vi].projection[b.projection];if(Array.isArray(V))for(let $=0;$<V.length;$++)Gu(p,h,w,V[$],x);else{let $=V;const ne=I[$n];_l(b)&&($.flags|=128),Sp(h,p,$,ne,w,x,!0)}}function $u(h,p,v){""===v?h.removeAttribute(p,"class"):h.setAttribute(p,"class",v)}function qu(h,p,v){const{mergedAttrs:b,classes:w,styles:x}=v;null!==b&&Ka(h,p,b),null!==w&&$u(h,p,w),null!==x&&function Eh(h,p,v){h.setAttribute(p,"style",v)}(h,p,x)}function Ra(h){return function Cl(){if(void 0===yl&&(yl=null,Un.trustedTypes))try{yl=Un.trustedTypes.createPolicy("angular",{createHTML:h=>h,createScript:h=>h,createScriptURL:h=>h})}catch{}return yl}()?.createHTML(h)||h}function K1(h){Fm=h}function Qu(){if(void 0!==Fm)return Fm;if(typeof document<"u")return document;throw new ce(210,!1)}function wp(){if(void 0===Wc&&(Wc=null,Un.trustedTypes))try{Wc=Un.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:h=>h,createScript:h=>h,createScriptURL:h=>h})}catch{}return Wc}function f0(h){return wp()?.createHTML(h)||h}function p0(h){return wp()?.createScriptURL(h)||h}class g0{constructor(p){this.changingThisBreaksApplicationSecurity=p}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Je})`}}function ra(h){return h instanceof g0?h.changingThisBreaksApplicationSecurity:h}function Dp(h,p){const v=function ac(h){return h instanceof g0&&h.getTypeName()||null}(h);if(null!=v&&v!==p){if("ResourceURL"===v&&"URL"===p)return!0;throw new Error(`Required a safe ${p}, got a ${v} (see ${Je})`)}return v===p}class bl{constructor(p){this.inertDocumentHelper=p}getInertBodyElement(p){p="<body><remove></remove>"+p;try{const v=(new window.DOMParser).parseFromString(Ra(p),"text/html").body;return null===v?this.inertDocumentHelper.getInertBodyElement(p):(v.removeChild(v.firstChild),v)}catch{return null}}}class is{constructor(p){this.defaultDoc=p,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(p){const v=this.inertDocument.createElement("template");return v.innerHTML=Ra(p),v}}const ZS=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function ko(h){return(h=String(h)).match(ZS)?h:"unsafe:"+h}function Xt(h){const p={};for(const v of h.split(","))p[v]=!0;return p}function xp(...h){const p={};for(const v of h)for(const b in v)v.hasOwnProperty(b)&&(p[b]=!0);return p}const y0=Xt("area,br,col,hr,img,wbr"),eC=Xt("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),tC=Xt("rp,rt"),Lm=xp(y0,xp(eC,Xt("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),xp(tC,Xt("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),xp(tC,eC)),Vm=Xt("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),xh=xp(Vm,Xt("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Xt("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),lc=Xt("script,style,template");class iC{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(p){let v=p.firstChild,b=!0;for(;v;)if(v.nodeType===Node.ELEMENT_NODE?b=this.startElement(v):v.nodeType===Node.TEXT_NODE?this.chars(v.nodeValue):this.sanitizedSomething=!0,b&&v.firstChild)v=v.firstChild;else for(;v;){v.nodeType===Node.ELEMENT_NODE&&this.endElement(v);let w=this.checkClobberedElement(v,v.nextSibling);if(w){v=w;break}v=this.checkClobberedElement(v,v.parentNode)}return this.buf.join("")}startElement(p){const v=p.nodeName.toLowerCase();if(!Lm.hasOwnProperty(v))return this.sanitizedSomething=!0,!lc.hasOwnProperty(v);this.buf.push("<"),this.buf.push(v);const b=p.attributes;for(let w=0;w<b.length;w++){const x=b.item(w),I=x.name,k=I.toLowerCase();if(!xh.hasOwnProperty(k)){this.sanitizedSomething=!0;continue}let V=x.value;Vm[k]&&(V=ko(V)),this.buf.push(" ",I,'="',Ju(V),'"')}return this.buf.push(">"),!0}endElement(p){const v=p.nodeName.toLowerCase();Lm.hasOwnProperty(v)&&!y0.hasOwnProperty(v)&&(this.buf.push("</"),this.buf.push(v),this.buf.push(">"))}chars(p){this.buf.push(Ju(p))}checkClobberedElement(p,v){if(v&&(p.compareDocumentPosition(v)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${p.outerHTML}`);return v}}const rC=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Bm=/([^\#-~ |!])/g;function Ju(h){return h.replace(/&/g,"&amp;").replace(rC,function(p){return"&#"+(1024*(p.charCodeAt(0)-55296)+(p.charCodeAt(1)-56320)+65536)+";"}).replace(Bm,function(p){return"&#"+p.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let ka;function Tp(h){return"content"in h&&function an(h){return h.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===h.nodeName}(h)?h.content:null}var Pi=(()=>((Pi=Pi||{})[Pi.NONE=0]="NONE",Pi[Pi.HTML=1]="HTML",Pi[Pi.STYLE=2]="STYLE",Pi[Pi.SCRIPT=3]="SCRIPT",Pi[Pi.URL=4]="URL",Pi[Pi.RESOURCE_URL=5]="RESOURCE_URL",Pi))();function Ip(h){const p=Mp();return p?f0(p.sanitize(Pi.HTML,h)||""):Dp(h,"HTML")?f0(ra(h)):function sC(h,p){let v=null;try{ka=ka||function X1(h){const p=new is(h);return function Ep(){try{return!!(new window.DOMParser).parseFromString(Ra(""),"text/html")}catch{return!1}}()?new bl(p):p}(h);let b=p?String(p):"";v=ka.getInertBodyElement(b);let w=5,x=b;do{if(0===w)throw new Error("Failed to sanitize html because the input is unstable");w--,b=x,x=v.innerHTML,v=ka.getInertBodyElement(b)}while(b!==x);return Ra((new iC).sanitizeChildren(Tp(v)||v))}finally{if(v){const b=Tp(v)||v;for(;b.firstChild;)b.removeChild(b.firstChild)}}}(Qu(),ke(h))}function Hm(h){const p=Mp();return p?p.sanitize(Pi.URL,h)||"":Dp(h,"URL")?ra(h):ko(ke(h))}function Um(h){const p=Mp();if(p)return p0(p.sanitize(Pi.RESOURCE_URL,h)||"");if(Dp(h,"ResourceURL"))return p0(ra(h));throw new ce(904,!1)}function aC(h,p,v){return function C0(h,p){return"src"===p&&("embed"===h||"frame"===h||"iframe"===h||"media"===h||"script"===h)||"href"===p&&("base"===h||"link"===h)?Um:Hm}(p,v)(h)}function Mp(){const h=_t();return h&&h[Tr].sanitizer}class Wn{constructor(p,v){this._desc=p,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof v?this.__NG_ELEMENT_ID__=v:void 0!==v&&(this.\u0275prov=ln({token:this,providedIn:v.providedIn||"root",factory:v.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Ap=new Wn("ENVIRONMENT_INITIALIZER"),b0=new Wn("INJECTOR",-1),zm=new Wn("INJECTOR_DEF_TYPES");class Op{get(p,v=cs){if(v===cs){const b=new Error(`NullInjectorError: No provider for ${_e(p)}!`);throw b.name="NullInjectorError",b}return v}}function S0(h){return{\u0275providers:h}}function KS(...h){return{\u0275providers:w0(0,h),\u0275fromNgModule:!0}}function w0(h,...p){const v=[],b=new Set;let w;return Nu(p,x=>{const I=x;Zm(I,v,[],b)&&(w||=[],w.push(I))}),void 0!==w&&D0(w,v),v}function D0(h,p){for(let v=0;v<h.length;v++){const{providers:w}=h[v];Gm(w,x=>{p.push(x)})}}function Zm(h,p,v,b){if(!(h=se(h)))return!1;let w=null,x=fa(h);const I=!x&&_n(h);if(x||I){if(I&&!I.standalone)return!1;w=h}else{const V=h.ngModule;if(x=fa(V),!x)return!1;w=V}const k=b.has(w);if(I){if(k)return!1;if(b.add(w),I.dependencies){const V="function"==typeof I.dependencies?I.dependencies():I.dependencies;for(const $ of V)Zm($,p,v,b)}}else{if(!x)return!1;{if(null!=x.imports&&!k){let $;b.add(w);try{Nu(x.imports,ne=>{Zm(ne,p,v,b)&&($||=[],$.push(ne))})}finally{}void 0!==$&&D0($,p)}if(!k){const $=Y(w)||(()=>new w);p.push({provide:w,useFactory:$,deps:on},{provide:zm,useValue:w,multi:!0},{provide:Ap,useValue:()=>Xn(w),multi:!0})}const V=x.providers;null==V||k||Gm(V,ne=>{p.push(ne)})}}return w!==h&&void 0!==h.providers}function Gm(h,p){for(let v of h)et(v)&&(v=v.\u0275providers),Array.isArray(v)?Gm(v,p):p(v)}const lC=ie({provide:String,useValue:ie});function Ym(h){return null!==h&&"object"==typeof h&&lC in h}function Xu(h){return"function"==typeof h}const E0=new Wn("Set Injector scope."),Wm={},ed={};let x0;function $m(){return void 0===x0&&(x0=new Op),x0}class td{}class qm extends td{get destroyed(){return this._destroyed}constructor(p,v,b,w){super(),this.parent=v,this.source=b,this.scopes=w,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,T0(p,I=>this.processProvider(I)),this.records.set(b0,Ih(void 0,this)),w.has("environment")&&this.records.set(td,Ih(void 0,this));const x=this.records.get(E0);null!=x&&"string"==typeof x.value&&this.scopes.add(x.value),this.injectorDefTypes=new Set(this.get(zm.multi,on,wt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const v of this._ngOnDestroyHooks)v.ngOnDestroy();const p=this._onDestroyHooks;this._onDestroyHooks=[];for(const v of p)v()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(p){return this.assertNotDestroyed(),this._onDestroyHooks.push(p),()=>this.removeOnDestroy(p)}runInContext(p){this.assertNotDestroyed();const v=tr(this),b=un(void 0);try{return p()}finally{tr(v),un(b)}}get(p,v=cs,b=wt.Default){if(this.assertNotDestroyed(),p.hasOwnProperty(us))return p[us](this);b=vo(b);const w=tr(this),x=un(void 0);try{if(!(b&wt.SkipSelf)){let k=this.records.get(p);if(void 0===k){const V=function nw(h){return"function"==typeof h||"object"==typeof h&&h instanceof Wn}(p)&&ji(p);k=V&&this.injectableDefInScope(V)?Ih(Km(p),Wm):null,this.records.set(p,k)}if(null!=k)return this.hydrate(p,k)}return(b&wt.Self?$m():this.parent).get(p,v=b&wt.Optional&&v===cs?null:v)}catch(I){if("NullInjectorError"===I.name){if((I[dn]=I[dn]||[]).unshift(_e(p)),w)throw I;return function Ze(h,p,v,b){const w=h[dn];throw p[pr]&&w.unshift(p[pr]),h.message=function mt(h,p,v,b=null){h=h&&"\n"===h.charAt(0)&&"\u0275"==h.charAt(1)?h.slice(2):h;let w=_e(p);if(Array.isArray(p))w=p.map(_e).join(" -> ");else if("object"==typeof p){let x=[];for(let I in p)if(p.hasOwnProperty(I)){let k=p[I];x.push(I+":"+("string"==typeof k?JSON.stringify(k):_e(k)))}w=`{${x.join(", ")}}`}return`${v}${b?"("+b+")":""}[${w}]: ${h.replace(_o,"\n  ")}`}("\n"+h.message,w,v,b),h.ngTokenPath=w,h[dn]=null,h}(I,p,"R3InjectorError",this.source)}throw I}finally{un(x),tr(w)}}resolveInjectorInitializers(){const p=tr(this),v=un(void 0);try{const b=this.get(Ap.multi,on,wt.Self);for(const w of b)w()}finally{tr(p),un(v)}}toString(){const p=[],v=this.records;for(const b of v.keys())p.push(_e(b));return`R3Injector[${p.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ce(205,!1)}processProvider(p){let v=Xu(p=se(p))?p:se(p&&p.provide);const b=function XS(h){return Ym(h)?Ih(void 0,h.useValue):Ih(uC(h),Wm)}(p);if(Xu(p)||!0!==p.multi)this.records.get(v);else{let w=this.records.get(v);w||(w=Ih(void 0,Wm,!0),w.factory=()=>at(w.multi),this.records.set(v,w)),v=p,w.multi.push(p)}this.records.set(v,b)}hydrate(p,v){return v.value===Wm&&(v.value=ed,v.value=v.factory()),"object"==typeof v.value&&v.value&&function tw(h){return null!==h&&"object"==typeof h&&"function"==typeof h.ngOnDestroy}(v.value)&&this._ngOnDestroyHooks.add(v.value),v.value}injectableDefInScope(p){if(!p.providedIn)return!1;const v=se(p.providedIn);return"string"==typeof v?"any"===v||this.scopes.has(v):this.injectorDefTypes.has(v)}removeOnDestroy(p){const v=this._onDestroyHooks.indexOf(p);-1!==v&&this._onDestroyHooks.splice(v,1)}}function Km(h){const p=ji(h),v=null!==p?p.factory:Y(h);if(null!==v)return v;if(h instanceof Wn)throw new ce(204,!1);if(h instanceof Function)return function cC(h){const p=h.length;if(p>0)throw _h(p,"?"),new ce(204,!1);const v=function Kr(h){return h&&(h[gi]||h[fr])||null}(h);return null!==v?()=>v.factory(h):()=>new h}(h);throw new ce(204,!1)}function uC(h,p,v){let b;if(Xu(h)){const w=se(h);return Y(w)||Km(w)}if(Ym(h))b=()=>se(h.useValue);else if(function Rp(h){return!(!h||!h.useFactory)}(h))b=()=>h.useFactory(...at(h.deps||[]));else if(function Th(h){return!(!h||!h.useExisting)}(h))b=()=>Xn(se(h.useExisting));else{const w=se(h&&(h.useClass||h.provide));if(!function ew(h){return!!h.deps}(h))return Y(w)||Km(w);b=()=>new w(...at(h.deps))}return b}function Ih(h,p,v=!1){return{factory:h,value:p,multi:v?[]:void 0}}function T0(h,p){for(const v of h)Array.isArray(v)?T0(v,p):v&&et(v)?T0(v.\u0275providers,p):p(v)}const iw=new Wn("AppId",{providedIn:"root",factory:()=>I0}),I0="ng",M0=new Wn("Platform Initializer"),so=new Wn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),dC=new Wn("AnimationModuleType"),sw=new Wn("CSP nonce",{providedIn:"root",factory:()=>Qu().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let gC=(h,p)=>null;function _C(h,p){return gC(h,p)}class yC{}class Lp{}class bC{resolveComponentFactory(p){throw function F0(h){const p=Error(`No component factory found for ${_e(h)}.`);return p.ngComponent=h,p}(p)}}let Oh=(()=>{class h{}return h.NULL=new bC,h})();function SC(){return cc(ar(),_t())}function cc(h,p){return new Rh(K(h,p))}let Rh=(()=>{class h{constructor(v){this.nativeElement=v}}return h.__NG_ELEMENT_ID__=SC,h})();function wC(h){return h instanceof Rh?h.nativeElement:h}class i_{}let Ph=(()=>{class h{constructor(){this.destroyNode=null}}return h.__NG_ELEMENT_ID__=()=>function N0(){const h=_t(),v=$e(ar().index,h);return(sr(v)?v:h)[gn]}(),h})(),hw=(()=>{class h{}return h.\u0275prov=ln({token:h,providedIn:"root",factory:()=>null}),h})();class L0{constructor(p){this.full=p,this.major=p.split(".")[0],this.minor=p.split(".")[1],this.patch=p.split(".").slice(2).join(".")}}const fw=new L0("16.1.4"),V0={};function Vp(h){for(;h;){h[hn]|=64;const p=zc(h);if(il(h)&&!p)return h;h=p}return null}function H0(h){return h.ngOriginalError}class id{constructor(){this._console=console}handleError(p){const v=this._findOriginalError(p);this._console.error("ERROR",p),v&&this._console.error("ORIGINAL ERROR",v)}_findOriginalError(p){let v=p&&H0(p);for(;v&&H0(v);)v=H0(v);return v||null}}const Sl=new Wn("",{providedIn:"root",factory:()=>!1});function TC(h){return h.ownerDocument.defaultView}function IC(h){return h.ownerDocument}function Fa(h){return h instanceof Function?h():h}class r_ extends Eo{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(p){this._lView=p}onConsumerDependencyMayHaveChanged(){Vp(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(p,v,b){const w=bi(this);this.trackingVersion++;try{p(v,b)}finally{bi(w)}}destroy(){this.trackingVersion++}}let s_=null;function OC(){return s_??=new r_,s_}function RC(h,p){return h[p]??OC()}function PC(h,p){const v=OC();v.hasReadASignal&&(h[p]=s_,v.lView=h,s_=new r_)}const Sn={};function o_(h){a_(Nn(),_t(),O()+h,!1)}function a_(h,p,v,b){if(!b)if(3==(3&p[hn])){const x=h.preOrderCheckHooks;null!==x&&Ao(p,x,v)}else{const x=h.preOrderHooks;null!==x&&jn(p,x,0,v)}H(v)}function c_(h,p=null,v=null,b){const w=LC(h,p,v,b);return w.resolveInjectorInitializers(),w}function LC(h,p=null,v=null,b,w=new Set){const x=[v||on,KS(h)];return b=b||("object"==typeof h?void 0:_e(h)),new qm(x,p||$m(),b||null,w)}let _s=(()=>{class h{static create(v,b){if(Array.isArray(v))return c_({name:""},b,v,"");{const w=v.name??"";return c_({name:w},v.parent,v.providers,w)}}}return h.THROW_IF_NOT_FOUND=cs,h.NULL=new Op,h.\u0275prov=ln({token:h,providedIn:"any",factory:()=>Xn(b0)}),h.__NG_ELEMENT_ID__=-1,h})();function sd(h,p=wt.Default){const v=_t();return null===v?Xn(h,p):Fv(ar(),v,se(h),p)}function G0(){throw new Error("invalid")}function Fh(h,p,v,b,w,x,I,k,V,$,ne){const Ce=p.blueprint.slice();return Ce[vi]=w,Ce[hn]=140|b,(null!==$||h&&2048&h[hn])&&(Ce[hn]|=2048),Mn(Ce),Ce[$n]=Ce[Xr]=h,Ce[ri]=v,Ce[Tr]=I||h&&h[Tr],Ce[gn]=k||h&&h[gn],Ce[Wo]=V||h&&h[Wo]||null,Ce[Vi]=x,Ce[ns]=function B1(){return gp++}(),Ce[Os]=ne,Ce[va]=$,Ce[Yt]=2==p.type?h[Yt]:Ce,Ce}function vs(h,p,v,b,w){let x=h.data[p];if(null===x)x=function Nh(h,p,v,b,w){const x=Iu(),I=gs(),V=h.data[p]=function Bh(h,p,v,b,w,x){let I=p?p.injectorIndex:-1,k=0;return Io()&&(k|=128),{type:v,index:b,insertBeforeIndex:null,injectorIndex:I,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:k,providerIndexes:0,value:w,attrs:x,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:p,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,I?x:x&&x.parent,v,p,b,w);return null===h.firstChild&&(h.firstChild=V),null!==x&&(I?null==x.child&&null!==V.parent&&(x.child=V):null===x.next&&(x.next=V,V.prev=x)),V}(h,p,v,b,w),function rm(){return Qt.lFrame.inI18n}()&&(x.flags|=32);else if(64&x.type){x.type=v,x.value=b,x.attrs=w;const I=function ks(){const h=Qt.lFrame,p=h.currentTNode;return h.isParent?p:p.parent}();x.injectorIndex=null===I?-1:I.injectorIndex}return ps(x,!0),x}function od(h,p,v,b){if(0===v)return-1;const w=p.length;for(let x=0;x<v;x++)p.push(b),h.blueprint.push(b),h.data.push(null);return w}function Hp(h,p,v,b,w){const x=RC(p,qo),I=O(),k=2&b;try{if(H(-1),k&&p.length>Pn&&a_(h,p,Pn,!1),zr(k?2:0,w),k)x.runInContext(v,b,w);else{const $=bi(null);try{v(b,w)}finally{bi($)}}}finally{k&&null===p[qo]&&PC(p,qo),H(I),zr(k?3:1,w)}}function Up(h,p,v){if(Gl(p)){const b=bi(null);try{const x=p.directiveEnd;for(let I=p.directiveStart;I<x;I++){const k=h.data[I];k.contentQueries&&k.contentQueries(1,v[I],I)}}finally{bi(b)}}}function Lh(h,p,v){Sv()&&(function HC(h,p,v,b){const w=v.directiveStart,x=v.directiveEnd;wo(v)&&function ty(h,p,v){const b=K(p,h),w=jp(v);let I=16;v.signals?I=4096:v.onPush&&(I=64);const k=Yp(h,Fh(h,w,null,I,b,p,null,h[Tr].rendererFactory.createRenderer(b,v),null,null,null));h[p.index]=k}(p,v,h.data[w+v.componentOffset]),h.firstCreatePass||nc(v,p),$i(b,p);const I=v.initialInputs;for(let k=w;k<x;k++){const V=h.data[k],$=ul(p,h,k,v);$i($,p),null!==I&&ny(0,k-w,$,V,0,I),Ci(V)&&($e(v.index,p)[ri]=ul(p,h,k,v))}}(h,p,v,K(v,p)),64==(64&v.flags)&&J0(h,p,v))}function Vh(h,p,v=K){const b=p.localNames;if(null!==b){let w=p.index+1;for(let x=0;x<b.length;x+=2){const I=b[x+1],k=-1===I?v(p,h):h[I];h[w++]=k}}}function jp(h){const p=h.tView;return null===p||p.incompleteFirstPass?h.tView=zp(1,null,h.template,h.decls,h.vars,h.directiveDefs,h.pipeDefs,h.viewQuery,h.schemas,h.consts,h.id):p}function zp(h,p,v,b,w,x,I,k,V,$,ne){const Ce=Pn+b,Oe=Ce+w,ze=function uc(h,p){const v=[];for(let b=0;b<p;b++)v.push(b<h?null:Sn);return v}(Ce,Oe),ft="function"==typeof $?$():$;return ze[Nt]={type:h,blueprint:ze,template:v,queries:null,viewQuery:k,declTNode:p,data:ze.slice().fill(null,Ce),bindingStartIndex:Ce,expandoStartIndex:Oe,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof x?x():x,pipeRegistry:"function"==typeof I?I():I,firstChild:null,schemas:V,consts:ft,incompleteFirstPass:!1,ssrId:ne}}let Y0=h=>null;function $0(h,p,v,b){for(let w in h)if(h.hasOwnProperty(w)){v=null===v?{}:v;const x=h[w];null===b?q0(v,p,w,x):b.hasOwnProperty(w)&&q0(v,p,b[w],x)}return v}function q0(h,p,v,b){h.hasOwnProperty(v)?h[v].push(p,b):h[v]=[p,b]}function ys(h,p,v,b,w,x,I,k){const V=K(p,v);let ne,$=p.inputs;!k&&null!=$&&(ne=$[b])?(y_(h,v,ne,b,w),wo(p)&&function h_(h,p){const v=$e(p,h);16&v[hn]||(v[hn]|=64)}(v,p.index)):3&p.type&&(b=function K0(h){return"class"===h?"className":"for"===h?"htmlFor":"formaction"===h?"formAction":"innerHtml"===h?"innerHTML":"readonly"===h?"readOnly":"tabindex"===h?"tabIndex":h}(b),w=null!=I?I(w,p.value||"",b):w,x.setProperty(V,b,w))}function f_(h,p,v,b){if(Sv()){const w=null===b?null:{"":-1},x=function ey(h,p){const v=h.directiveRegistry;let b=null,w=null;if(v)for(let x=0;x<v.length;x++){const I=v[x];if(Ys(p,I.selectors,!1))if(b||(b=[]),Ci(I))if(null!==I.findHostDirectiveDefs){const k=[];w=w||new Map,I.findHostDirectiveDefs(I,k,w),b.unshift(...k,I),g_(h,p,k.length)}else b.unshift(I),g_(h,p,0);else w=w||new Map,I.findHostDirectiveDefs?.(I,b,w),b.push(I)}return null===b?null:[b,w]}(h,v);let I,k;null===x?I=k=null:[I,k]=x,null!==I&&p_(h,p,v,I,w,k),w&&function jh(h,p,v){if(p){const b=h.localNames=[];for(let w=0;w<p.length;w+=2){const x=v[p[w+1]];if(null==x)throw new ce(-301,!1);b.push(p[w],x)}}}(v,b,w)}v.mergedAttrs=Vr(v.mergedAttrs,v.attrs)}function p_(h,p,v,b,w,x){for(let $=0;$<b.length;$++)Gr(nc(v,p),h,b[$].type);!function dc(h,p,v){h.flags|=1,h.directiveStart=p,h.directiveEnd=p+v,h.providerIndexes=p}(v,h.data.length,b.length);for(let $=0;$<b.length;$++){const ne=b[$];ne.providersResolver&&ne.providersResolver(ne)}let I=!1,k=!1,V=od(h,p,b.length,null);for(let $=0;$<b.length;$++){const ne=b[$];v.mergedAttrs=Vr(v.mergedAttrs,ne.hostAttrs),Jc(h,v,p,V,ne),Gp(V,ne,w),null!==ne.contentQueries&&(v.flags|=4),(null!==ne.hostBindings||null!==ne.hostAttrs||0!==ne.hostVars)&&(v.flags|=64);const Ce=ne.type.prototype;!I&&(Ce.ngOnChanges||Ce.ngOnInit||Ce.ngDoCheck)&&((h.preOrderHooks??=[]).push(v.index),I=!0),!k&&(Ce.ngOnChanges||Ce.ngDoCheck)&&((h.preOrderCheckHooks??=[]).push(v.index),k=!0),V++}!function bw(h,p,v){const w=p.directiveEnd,x=h.data,I=p.attrs,k=[];let V=null,$=null;for(let ne=p.directiveStart;ne<w;ne++){const Ce=x[ne],Oe=v?v.get(Ce):null,ft=Oe?Oe.outputs:null;V=$0(Ce.inputs,ne,V,Oe?Oe.inputs:null),$=$0(Ce.outputs,ne,$,ft);const xt=null===V||null===I||Qa(p)?null:zh(V,ne,I);k.push(xt)}null!==V&&(V.hasOwnProperty("class")&&(p.flags|=8),V.hasOwnProperty("style")&&(p.flags|=16)),p.initialInputs=k,p.inputs=V,p.outputs=$}(h,v,x)}function J0(h,p,v){const b=v.directiveStart,w=v.directiveEnd,x=v.index,I=function Dv(){return Qt.lFrame.currentDirectiveIndex}();try{H(x);for(let k=b;k<w;k++){const V=h.data[k],$=p[k];sh(k),(null!==V.hostBindings||0!==V.hostVars||null!==V.hostAttrs)&&X0(V,$)}}finally{H(-1),sh(I)}}function X0(h,p){null!==h.hostBindings&&h.hostBindings(1,p)}function g_(h,p,v){p.componentOffset=v,(h.components??=[]).push(p.index)}function Gp(h,p,v){if(v){if(p.exportAs)for(let b=0;b<p.exportAs.length;b++)v[p.exportAs[b]]=h;Ci(p)&&(v[""]=h)}}function Jc(h,p,v,b,w){h.data[b]=w;const x=w.factory||(w.factory=Y(w.type)),I=new lh(x,Ci(w),sd);h.blueprint[b]=I,v[b]=I,function Hh(h,p,v,b,w){const x=w.hostBindings;if(x){let I=h.hostBindingOpCodes;null===I&&(I=h.hostBindingOpCodes=[]);const k=~p.index;(function Uh(h){let p=h.length;for(;p>0;){const v=h[--p];if("number"==typeof v&&v<0)return v}return 0})(I)!=k&&I.push(k),I.push(v,b,x)}}(h,p,b,od(h,v,w.hostVars,Sn),w)}function en(h,p,v,b,w,x){const I=K(h,p);!function m_(h,p,v,b,w,x,I){if(null==x)h.removeAttribute(p,w,v);else{const k=null==I?ke(x):I(x,b||"",w);h.setAttribute(p,w,k,v)}}(p[gn],I,x,h.value,v,b,w)}function ny(h,p,v,b,w,x){const I=x[p];if(null!==I)for(let k=0;k<I.length;)iy(b,v,I[k++],I[k++],I[k++])}function iy(h,p,v,b,w){const x=bi(null);try{const I=h.inputTransforms;null!==I&&I.hasOwnProperty(b)&&(w=I[b].call(p,w)),null!==h.setInput?h.setInput(p,w,v,b):p[b]=w}finally{bi(x)}}function zh(h,p,v){let b=null,w=0;for(;w<v.length;){const x=v[w];if(0!==x)if(5!==x){if("number"==typeof x)break;if(h.hasOwnProperty(x)){null===b&&(b=[]);const I=h[x];for(let k=0;k<I.length;k+=2)if(I[k]===p){b.push(x,I[k+1],v[w+1]);break}}w+=2}else w+=2;else w+=4}return b}function ry(h,p,v,b){return[h,!0,!1,p,null,0,b,v,null,null,null]}function sy(h,p){const v=h.contentQueries;if(null!==v)for(let b=0;b<v.length;b+=2){const x=v[b+1];if(-1!==x){const I=h.data[x];Qf(v[b]),I.contentQueries(2,p[x],x)}}}function Yp(h,p){return h[As]?h[$o][xr]=p:h[As]=p,h[$o]=p,p}function __(h,p,v){Qf(0);const b=bi(null);try{p(h,v)}finally{bi(b)}}function v_(h){return h[Ms]||(h[Ms]=[])}function oy(h){return h.cleanup||(h.cleanup=[])}function ay(h,p,v){return(null===h||Ci(h))&&(v=function eo(h){for(;Array.isArray(h);){if("object"==typeof h[zl])return h;h=h[vi]}return null}(v[p.index])),v[gn]}function ad(h,p){const v=h[Wo],b=v?v.get(id,null):null;b&&b.handleError(p)}function y_(h,p,v,b,w){for(let x=0;x<v.length;){const I=v[x++],k=v[x++];iy(h.data[I],p[I],b,k,w)}}function hc(h,p,v){const b=B(p,h);!function z1(h,p,v){h.setValue(p,v)}(h[gn],b,v)}function UC(h,p){const v=$e(p,h),b=v[Nt];!function jC(h,p){for(let v=p.length;v<h.blueprint.length;v++)p.push(h.blueprint[v])}(b,v);const w=v[vi];null!==w&&null===v[Os]&&(v[Os]=_C(w,v[Wo])),Wp(b,v,v[ri])}function Wp(h,p,v){om(p);try{const b=h.viewQuery;null!==b&&__(1,b,v);const w=h.template;null!==w&&Hp(h,p,w,1,v),h.firstCreatePass&&(h.firstCreatePass=!1),h.staticContentQueries&&sy(h,p),h.staticViewQueries&&__(2,h.viewQuery,v);const x=h.components;null!==x&&function zC(h,p){for(let v=0;v<p.length;v++)UC(h,p[v])}(p,x)}catch(b){throw h.firstCreatePass&&(h.incompleteFirstPass=!0,h.firstCreatePass=!1),b}finally{p[hn]&=-5,Ev()}}let wl=(()=>{class h{constructor(){this.all=new Set,this.queue=new Map}create(v,b,w){const x=typeof Zone>"u"?null:Zone.current,I=new kn(v,$=>{this.all.has($)&&this.queue.set($,x)},w);let k;this.all.add(I),I.notify();const V=()=>{I.cleanup(),k?.(),this.all.delete(I),this.queue.delete(I)};return k=b?.onDestroy(V),{destroy:V}}flush(){if(0!==this.queue.size)for(const[v,b]of this.queue)this.queue.delete(v),b?b.run(()=>v.run()):v.run()}get isQueueEmpty(){return 0===this.queue.size}}return h.\u0275prov=ln({token:h,providedIn:"root",factory:()=>new h}),h})();function No(h,p,v){let b=v?h.styles:null,w=v?h.classes:null,x=0;if(null!==p)for(let I=0;I<p.length;I++){const k=p[I];"number"==typeof k?x=k:1==x?w=Ve(w,k):2==x&&(b=Ve(b,k+": "+p[++I]+";"))}v?h.styles=b:h.stylesWithoutHost=b,v?h.classes=w:h.classesWithoutHost=w}function Lo(h,p,v,b,w=!1){for(;null!==v;){const x=p[v.index];if(null!==x&&b.push(Si(x)),Ir(x)){for(let k=yi;k<x.length;k++){const V=x[k],$=V[Nt].firstChild;null!==$&&Lo(V[Nt],V,$,b)}x[Hr]!==x[vi]&&b.push(x[Hr])}const I=v.type;if(8&I)Lo(h,p,v.child,b);else if(32&I){const k=Tm(v,p);let V;for(;V=k();)b.push(V)}else if(16&I){const k=Cp(p,v);if(Array.isArray(k))b.push(...k);else{const V=zc(p[Yt]);Lo(V[Nt],V,k,b,!0)}}v=w?v.projectionNext:v.next}return b}function Gh(h,p,v,b=!0){const w=p[Tr].rendererFactory;w.begin&&w.begin();try{uy(h,p,h.template,v)}catch(I){throw b&&ad(p,I),I}finally{w.end&&w.end(),p[Tr].effectManager?.flush()}}function uy(h,p,v,b){const w=p[hn];if(256!=(256&w)){p[Tr].effectManager?.flush(),om(p);try{Mn(p),function oi(h){return Qt.lFrame.bindingIndex=h}(h.bindingStartIndex),null!==v&&Hp(h,p,v,2,b);const I=3==(3&w);if(I){const $=h.preOrderCheckHooks;null!==$&&Ao(p,$,null)}else{const $=h.preOrderHooks;null!==$&&jn(p,$,0,null),Da(p,0)}if(function ZC(h){for(let p=Zc(h);null!==p;p=j1(p)){if(!p[Xd])continue;const v=p[Rs];for(let b=0;b<v.length;b++){bn(v[b])}}}(p),dy(p,2),null!==h.contentQueries&&sy(h,p),I){const $=h.contentCheckHooks;null!==$&&Ao(p,$)}else{const $=h.contentHooks;null!==$&&jn(p,$,1),Da(p,1)}!function u_(h,p){const v=h.hostBindingOpCodes;if(null===v)return;const b=RC(p,nl);try{for(let w=0;w<v.length;w++){const x=v[w];if(x<0)H(~x);else{const I=x,k=v[++w],V=v[++w];qf(k,I),b.runInContext(V,2,p[I])}}}finally{null===p[nl]&&PC(p,nl),H(-1)}}(h,p);const k=h.components;null!==k&&$p(p,k,0);const V=h.viewQuery;if(null!==V&&__(2,V,b),I){const $=h.viewCheckHooks;null!==$&&Ao(p,$)}else{const $=h.viewHooks;null!==$&&jn(p,$,2),Da(p,2)}!0===h.firstUpdatePass&&(h.firstUpdatePass=!1),p[hn]&=-73,wi(p)}finally{Ev()}}}function dy(h,p){for(let v=Zc(h);null!==v;v=j1(v))for(let b=yi;b<v.length;b++)hy(v[b],p)}function C_(h,p,v){hy($e(p,h),v)}function hy(h,p){if(!function Gt(h){return 128==(128&h[hn])}(h))return;const v=h[Nt];if(80&h[hn]&&0===p||1024&h[hn]||2===p)uy(v,h,v.template,h[ri]);else if(h[Is]>0){dy(h,1);const w=h[Nt].components;null!==w&&$p(h,w,1)}}function $p(h,p,v){for(let b=0;b<p.length;b++)C_(h,p[b],v)}class Yh{get rootNodes(){const p=this._lView,v=p[Nt];return Lo(v,p,v.firstChild,[])}constructor(p,v){this._lView=p,this._cdRefInjectingView=v,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[ri]}set context(p){this._lView[ri]=p}get destroyed(){return 256==(256&this._lView[hn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const p=this._lView[$n];if(Ir(p)){const v=p[8],b=v?v.indexOf(this):-1;b>-1&&(a0(p,b),mh(v,b))}this._attachedToViewContainer=!1}Am(this._lView[Nt],this._lView)}onDestroy(p){!function ei(h,p){if(256==(256&h[hn]))throw new ce(911,!1);null===h[Br]&&(h[Br]=[]),h[Br].push(p)}(this._lView,p)}markForCheck(){Vp(this._cdRefInjectingView||this._lView)}detach(){this._lView[hn]&=-129}reattach(){this._lView[hn]|=128}detectChanges(){Gh(this._lView[Nt],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ce(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function BS(h,p){ro(h,p,p[gn],2,null,null)}(this._lView[Nt],this._lView)}attachToAppRef(p){if(this._attachedToViewContainer)throw new ce(902,!1);this._appRef=p}}class fy extends Yh{constructor(p){super(p),this._view=p}detectChanges(){const p=this._view;Gh(p[Nt],p,p[ri],!1)}checkNoChanges(){}get context(){return null}}class py extends Oh{constructor(p){super(),this.ngModule=p}resolveComponentFactory(p){const v=_n(p);return new Wh(v,this.ngModule)}}function gy(h){const p=[];for(let v in h)h.hasOwnProperty(v)&&p.push({propName:h[v],templateName:v});return p}class GC{constructor(p,v){this.injector=p,this.parentInjector=v}get(p,v,b){b=vo(b);const w=this.injector.get(p,V0,b);return w!==V0||v===V0?w:this.parentInjector.get(p,v,b)}}class Wh extends Lp{get inputs(){const p=this.componentDef,v=p.inputTransforms,b=gy(p.inputs);if(null!==v)for(const w of b)v.hasOwnProperty(w.propName)&&(w.transform=v[w.propName]);return b}get outputs(){return gy(this.componentDef.outputs)}constructor(p,v){super(),this.componentDef=p,this.ngModule=v,this.componentType=p.type,this.selector=function Cu(h){return h.map(yu).join(",")}(p.selectors),this.ngContentSelectors=p.ngContentSelectors?p.ngContentSelectors:[],this.isBoundToModule=!!v}create(p,v,b,w){let x=(w=w||this.ngModule)instanceof td?w:w?.injector;x&&null!==this.componentDef.getStandaloneInjector&&(x=this.componentDef.getStandaloneInjector(x)||x);const I=x?new GC(p,x):p,k=I.get(i_,null);if(null===k)throw new ce(407,!1);const ne={rendererFactory:k,sanitizer:I.get(hw,null),effectManager:I.get(wl,null)},Ce=k.createRenderer(null,this.componentDef),Oe=this.componentDef.selectors[0][0]||"div",ze=b?function VC(h,p,v,b){const x=b.get(Sl,!1)||v===yn.ShadowDom,I=h.selectRootElement(p,x);return function d_(h){Y0(h)}(I),I}(Ce,b,this.componentDef.encapsulation,I):Im(Ce,Oe,function Na(h){const p=h.toLowerCase();return"svg"===p?"svg":"math"===p?"math":null}(Oe)),Bt=this.componentDef.signals?4608:this.componentDef.onPush?576:528,tn=zp(0,null,null,1,0,null,null,null,null,null,null),vt=Fh(null,tn,null,Bt,null,null,ne,Ce,I,null,null);let Tn,Gn;om(vt);try{const Jn=this.componentDef;let Zo,gD=null;Jn.findHostDirectiveDefs?(Zo=[],gD=new Map,Jn.findHostDirectiveDefs(Jn,Zo,gD),Zo.push(Jn)):Zo=[Jn];const NE=function $C(h,p){const v=h[Nt],b=Pn;return h[b]=p,vs(v,b,2,"#host",null)}(vt,ze),LE=function qC(h,p,v,b,w,x,I){const k=w[Nt];!function b_(h,p,v,b){for(const w of h)p.mergedAttrs=Vr(p.mergedAttrs,w.hostAttrs);null!==p.mergedAttrs&&(No(p,p.mergedAttrs,!0),null!==v&&qu(b,v,p))}(b,h,p,I);let V=null;null!==p&&(V=_C(p,w[Wo]));const $=x.rendererFactory.createRenderer(p,v);let ne=16;v.signals?ne=4096:v.onPush&&(ne=64);const Ce=Fh(w,jp(v),null,ne,w[h.index],h,x,$,null,null,V);return k.firstCreatePass&&g_(k,h,b.length-1),Yp(w,Ce),w[h.index]=Ce}(NE,ze,Jn,Zo,vt,ne,Ce);Gn=ee(tn,Pn),ze&&function my(h,p,v,b){if(b)Ka(h,v,["ng-version",fw.full]);else{const{attrs:w,classes:x}=function Hl(h){const p=[],v=[];let b=1,w=2;for(;b<h.length;){let x=h[b];if("string"==typeof x)2===w?""!==x&&p.push(x,h[++b]):8===w&&v.push(x);else{if(!zn(w))break;w=x}b++}return{attrs:p,classes:v}}(p.selectors[0]);w&&Ka(h,v,w),x&&x.length>0&&$u(h,v,x.join(" "))}}(Ce,Jn,ze,b),void 0!==v&&function QC(h,p,v){const b=h.projection=[];for(let w=0;w<p.length;w++){const x=v[w];b.push(null!=x?Array.from(x):null)}}(Gn,this.ngContentSelectors,v),Tn=function KC(h,p,v,b,w,x){const I=ar(),k=w[Nt],V=K(I,w);p_(k,w,I,v,null,b);for(let ne=0;ne<v.length;ne++)$i(ul(w,k,I.directiveStart+ne,I),w);J0(k,w,I),V&&$i(V,w);const $=ul(w,k,I.directiveStart+I.componentOffset,I);if(h[ri]=w[ri]=$,null!==x)for(const ne of x)ne($,p);return Up(k,I,h),$}(LE,Jn,Zo,gD,vt,[_y]),Wp(tn,vt,null)}finally{Ev()}return new YC(this.componentType,Tn,cc(Gn,vt),vt,Gn)}}class YC extends yC{constructor(p,v,b,w,x){super(),this.location=b,this._rootLView=w,this._tNode=x,this.previousInputValues=null,this.instance=v,this.hostView=this.changeDetectorRef=new fy(w),this.componentType=p}setInput(p,v){const b=this._tNode.inputs;let w;if(null!==b&&(w=b[p])){if(this.previousInputValues??=new Map,this.previousInputValues.has(p)&&Object.is(this.previousInputValues.get(p),v))return;const x=this._rootLView;y_(x[Nt],x,w,p,v),this.previousInputValues.set(p,v),Vp($e(this._tNode.index,x))}}get injector(){return new Ia(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(p){this.hostView.onDestroy(p)}}function _y(){const h=ar();wa(_t()[Nt],h)}function S_(h){let p=function vy(h){return Object.getPrototypeOf(h.prototype).constructor}(h.type),v=!0;const b=[h];for(;p;){let w;if(Ci(h))w=p.\u0275cmp||p.\u0275dir;else{if(p.\u0275cmp)throw new ce(903,!1);w=p.\u0275dir}if(w){if(v){b.push(w);const I=h;I.inputs=qp(h.inputs),I.inputTransforms=qp(h.inputTransforms),I.declaredInputs=qp(h.declaredInputs),I.outputs=qp(h.outputs);const k=w.hostBindings;k&&tb(h,k);const V=w.viewQuery,$=w.contentQueries;if(V&&XC(h,V),$&&eb(h,$),le(h.inputs,w.inputs),le(h.declaredInputs,w.declaredInputs),le(h.outputs,w.outputs),null!==w.inputTransforms&&(null===I.inputTransforms&&(I.inputTransforms={}),le(I.inputTransforms,w.inputTransforms)),Ci(w)&&w.data.animation){const ne=h.data;ne.animation=(ne.animation||[]).concat(w.data.animation)}}const x=w.features;if(x)for(let I=0;I<x.length;I++){const k=x[I];k&&k.ngInherit&&k(h),k===S_&&(v=!1)}}p=Object.getPrototypeOf(p)}!function JC(h){let p=0,v=null;for(let b=h.length-1;b>=0;b--){const w=h[b];w.hostVars=p+=w.hostVars,w.hostAttrs=Vr(w.hostAttrs,v=Vr(v,w.hostAttrs))}}(b)}function qp(h){return h===En?{}:h===on?[]:h}function XC(h,p){const v=h.viewQuery;h.viewQuery=v?(b,w)=>{p(b,w),v(b,w)}:p}function eb(h,p){const v=h.contentQueries;h.contentQueries=v?(b,w,x)=>{p(b,w,x),v(b,w,x)}:p}function tb(h,p){const v=h.hostBindings;h.hostBindings=v?(b,w)=>{p(b,w),v(b,w)}:p}function yy(h){return p=>{p.findHostDirectiveDefs=Kp,p.hostDirectives=(Array.isArray(h)?h:h()).map(v=>"function"==typeof v?{directive:se(v),inputs:En,outputs:En}:{directive:se(v.directive),inputs:Cy(v.inputs),outputs:Cy(v.outputs)})}}function Kp(h,p,v){if(null!==h.hostDirectives)for(const b of h.hostDirectives){const w=ir(b.directive);sb(w.declaredInputs,b.inputs),Kp(w,p,v),v.set(w,b),p.push(w)}}function Cy(h){if(void 0===h||0===h.length)return En;const p={};for(let v=0;v<h.length;v+=2)p[h[v]]=h[v+1];return p}function sb(h,p){for(const v in p)p.hasOwnProperty(v)&&(h[p[v]]=h[v])}function Sy(h){const p=h.inputConfig,v={};for(const b in p)if(p.hasOwnProperty(b)){const w=p[b];Array.isArray(w)&&w[2]&&(v[b]=w[2])}h.inputTransforms=v}function Qp(h){return!!w_(h)&&(Array.isArray(h)||!(h instanceof Map)&&Symbol.iterator in h)}function w_(h){return null!==h&&("function"==typeof h||"object"==typeof h)}function La(h,p,v){return h[p]=v}function rs(h,p,v){return!Object.is(h[p],v)&&(h[p]=v,!0)}function Xc(h,p,v,b){const w=rs(h,p,v);return rs(h,p+1,b)||w}function Jp(h,p,v,b,w){const x=Xc(h,p,v,b);return rs(h,p+2,w)||x}function D_(h,p,v,b){const w=_t();return rs(w,vr(),p)&&(Nn(),en(q(),w,h,p,v,b)),D_}function cd(h,p,v,b){return rs(h,vr(),v)?p+ke(v)+b:Sn}function Vn(h,p,v,b,w,x,I,k){const V=_t(),$=Nn(),ne=h+Pn,Ce=$.firstCreatePass?function ag(h,p,v,b,w,x,I,k,V){const $=p.consts,ne=vs(p,h,4,I||null,cn($,k));f_(p,v,ne,cn($,V)),wa(p,ne);const Ce=ne.tView=zp(2,ne,b,w,x,p.directiveRegistry,p.pipeRegistry,null,p.schemas,$,null);return null!==p.queries&&(p.queries.template(p,ne),Ce.queries=p.queries.embeddedTView(ne)),ne}(ne,$,V,p,v,b,w,x,I):$.data[ne];ps(Ce,!1);const Oe=Va($,V,Ce,h);Kn()&&Rm($,V,Oe,Ce),$i(Oe,V),Yp(V,V[ne]=ry(Oe,V,Oe,Ce)),or(Ce)&&Lh($,V,Ce),null!=I&&Vh(V,Ce,k)}let Va=function hb(h,p,v,b){return Wi(!0),p[gn].createComment("")};function k_(h){return Se(function cl(){return Qt.lFrame.contextLView}(),Pn+h)}function lg(h,p,v){const b=_t();return rs(b,vr(),p)&&ys(Nn(),q(),b,h,p,b[gn],v,!1),lg}function F_(h,p,v,b,w){const I=w?"class":"style";y_(h,v,p.inputs[I],I,b)}function El(h,p,v,b){const w=_t(),x=Nn(),I=Pn+h,k=w[gn],V=x.firstCreatePass?function pb(h,p,v,b,w,x){const I=p.consts,V=vs(p,h,2,b,cn(I,w));return f_(p,v,V,cn(I,x)),null!==V.attrs&&No(V,V.attrs,!1),null!==V.mergedAttrs&&No(V,V.mergedAttrs,!0),null!==p.queries&&p.queries.elementStart(p,V),V}(I,x,w,p,v,b):x.data[I],$=gb(x,w,V,k,p,h);w[I]=$;const ne=or(V);return ps(V,!0),qu(k,$,V),32!=(32&V.flags)&&Kn()&&Rm(x,w,$,V),0===function ll(){return Qt.lFrame.elementDepthCount}()&&$i($,w),function fs(){Qt.lFrame.elementDepthCount++}(),ne&&(Lh(x,w,V),Up(x,V,w)),null!==b&&Vh(w,V),El}function oo(){let h=ar();gs()?wv():(h=h.parent,ps(h,!1));const p=h;(function ih(h){return Qt.skipHydrationRootTNode===h})(p)&&function Mo(){Qt.skipHydrationRootTNode=null}(),function Oc(){Qt.lFrame.elementDepthCount--}();const v=Nn();return v.firstCreatePass&&(wa(v,h),Gl(h)&&v.queries.elementEnd(h)),null!=p.classesWithoutHost&&function Tv(h){return 0!=(8&h.flags)}(p)&&F_(v,p,_t(),p.classesWithoutHost,!0),null!=p.stylesWithoutHost&&function am(h){return 0!=(16&h.flags)}(p)&&F_(v,p,_t(),p.stylesWithoutHost,!1),oo}function Kh(h,p,v,b){return El(h,p,v,b),oo(),Kh}let gb=(h,p,v,b,w,x)=>(Wi(!0),Im(b,w,function $t(){return Qt.lFrame.currentNamespace}()));function N_(h,p,v){const b=_t(),w=Nn(),x=h+Pn,I=w.firstCreatePass?function vb(h,p,v,b,w){const x=p.consts,I=cn(x,b),k=vs(p,h,8,"ng-container",I);return null!==I&&No(k,I,!0),f_(p,v,k,cn(x,w)),null!==p.queries&&p.queries.elementStart(p,k),k}(x,w,b,p,v):w.data[x];ps(I,!0);const k=nu(w,b,I,h);return b[x]=k,Kn()&&Rm(w,b,k,I),$i(k,b),or(I)&&(Lh(w,b,I),Up(w,I,b)),null!=v&&Vh(b,I),N_}function tu(){let h=ar();const p=Nn();return gs()?wv():(h=h.parent,ps(h,!1)),p.firstCreatePass&&(wa(p,h),Gl(h)&&p.queries.elementEnd(h)),tu}function cg(h,p,v){return N_(h,p,v),tu(),cg}let nu=(h,p,v,b)=>(Wi(!0),vp(p[gn],""));function L_(){return _t()}function ug(h){return!!h&&"function"==typeof h.then}function Aw(h){return!!h&&"function"==typeof h.subscribe}function Oy(h,p,v,b){const w=_t(),x=Nn(),I=ar();return Pr(x,w,w[gn],I,h,p,b),Oy}function V_(h,p){const v=ar(),b=_t(),w=Nn();return Pr(w,b,ay(Kf(w.data),v,b),v,h,p),V_}function Pr(h,p,v,b,w,x,I){const k=or(b),$=h.firstCreatePass&&oy(h),ne=p[ri],Ce=v_(p);let Oe=!0;if(3&b.type||I){const xt=K(b,p),Bt=I?I(xt):xt,tn=Ce.length,vt=I?Gn=>I(Si(Gn[b.index])):b.index;let Tn=null;if(!I&&k&&(Tn=function Ft(h,p,v,b){const w=h.cleanup;if(null!=w)for(let x=0;x<w.length-1;x+=2){const I=w[x];if(I===v&&w[x+1]===b){const k=p[Ms],V=w[x+2];return k.length>V?k[V]:null}"string"==typeof I&&(x+=2)}return null}(h,p,w,b.index)),null!==Tn)(Tn.__ngLastListenerFn__||Tn).__ngNextListenerFn__=x,Tn.__ngLastListenerFn__=x,Oe=!1;else{x=Qh(b,p,ne,x,!1);const Gn=v.listen(Bt,w,x);Ce.push(x,Gn),$&&$.push(w,vt,tn,tn+1)}}else x=Qh(b,p,ne,x,!1);const ze=b.outputs;let ft;if(Oe&&null!==ze&&(ft=ze[w])){const xt=ft.length;if(xt)for(let Bt=0;Bt<xt;Bt+=2){const Jn=p[ft[Bt]][ft[Bt+1]].subscribe(x),Zo=Ce.length;Ce.push(x,Jn),$&&$.push(w,b.index,Zo,-(Zo+1))}}}function ao(h,p,v,b){try{return zr(6,p,v),!1!==v(b)}catch(w){return ad(h,w),!1}finally{zr(7,p,v)}}function Qh(h,p,v,b,w){return function x(I){if(I===Function)return b;Vp(h.componentOffset>-1?$e(h.index,p):p);let V=ao(p,v,b,I),$=x.__ngNextListenerFn__;for(;$;)V=ao(p,v,$,I)&&V,$=$.__ngNextListenerFn__;return w&&!1===V&&I.preventDefault(),V}}function Ry(h=1){return function P(h){return(Qt.lFrame.contextLView=function F(h,p){for(;h>0;)p=p[Xr],h--;return p}(h,Qt.lFrame.contextLView))[ri]}(h)}function Ei(h,p){let v=null;const b=function Bl(h){const p=h.attrs;if(null!=p){const v=p.indexOf(5);if(!(1&v))return p[v+1]}return null}(h);for(let w=0;w<p.length;w++){const x=p[w];if("*"!==x){if(null===b?Ys(h,x,!0):el(b,x))return w}else v=w}return v}function iu(h){const p=_t()[Yt][Vi];if(!p.projection){const b=p.projection=_h(h?h.length:1,null),w=b.slice();let x=p.child;for(;null!==x;){const I=h?Ei(x,h):0;null!==I&&(w[I]?w[I].projectionNext=x:b[I]=x,w[I]=x),x=x.next}}}function Cd(h,p=0,v){const b=_t(),w=Nn(),x=vs(w,Pn+h,16,null,v||null);null===x.projection&&(x.projection=p),wv(),(!b[Os]||Io())&&32!=(32&x.flags)&&function wh(h,p,v){Dh(p[gn],0,p,v,l0(h,v,p),q1(v.parent||p[Vi],v,p))}(w,b,x)}function dg(h,p,v){return ki(h,"",p,"",v),dg}function ki(h,p,v,b,w){const x=_t(),I=cd(x,p,v,b);return I!==Sn&&ys(Nn(),q(),x,h,I,x[gn],w,!1),ki}function hg(h,p){return h<<17|p<<2}function ru(h){return h>>17&32767}function Sd(h){return 2|h}function Ba(h){return(131068&h)>>2}function fc(h,p){return-131069&h|p<<2}function pg(h){return 1|h}function ur(h,p,v,b,w){const x=h[v+1],I=null===p;let k=b?ru(x):Ba(x),V=!1;for(;0!==k&&(!1===V||I);){const ne=h[k+1];Cs(h[k],p)&&(V=!0,h[k+1]=b?pg(ne):Sd(ne)),k=b?ru(ne):Ba(ne)}V&&(h[v+1]=b?Sd(x):pg(x))}function Cs(h,p){return null===h||null==p||(Array.isArray(h)?h[1]:h)===p||!(!Array.isArray(h)||"string"!=typeof p)&&Ma(h,p)>=0}const Qi={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function B_(h){return h.substring(Qi.key,Qi.keyEnd)}function Il(h){return h.substring(Qi.value,Qi.valueEnd)}function oa(h,p){const v=Qi.textEnd;return v===p?-1:(p=Qi.keyEnd=function Pw(h,p,v){for(;p<v&&h.charCodeAt(p)>32;)p++;return p}(h,Qi.key=p,v),Xh(h,p,v))}function Ha(h,p){const v=Qi.textEnd;let b=Qi.key=Xh(h,p,v);return v===b?-1:(b=Qi.keyEnd=function kw(h,p,v){let b;for(;p<v&&(45===(b=h.charCodeAt(p))||95===b||(-33&b)>=65&&(-33&b)<=90||b>=48&&b<=57);)p++;return p}(h,b,v),b=Db(h,b,v),b=Qi.value=Xh(h,b,v),b=Qi.valueEnd=function Fw(h,p,v){let b=-1,w=-1,x=-1,I=p,k=I;for(;I<v;){const V=h.charCodeAt(I++);if(59===V)return k;34===V||39===V?k=I=ef(h,V,I,v):p===I-4&&85===x&&82===w&&76===b&&40===V?k=I=ef(h,41,I,v):V>32&&(k=I),x=w,w=b,b=-33&V}return k}(h,b,v),Db(h,b,v))}function Jh(h){Qi.key=0,Qi.keyEnd=0,Qi.value=0,Qi.valueEnd=0,Qi.textEnd=h.length}function Xh(h,p,v){for(;p<v&&h.charCodeAt(p)<=32;)p++;return p}function Db(h,p,v,b){return(p=Xh(h,p,v))<v&&p++,p}function ef(h,p,v,b){let w=-1,x=v;for(;x<b;){const I=h.charCodeAt(x++);if(I==p&&92!==w)return x;w=92==I&&92===w?0:I}throw new Error}function pc(h,p,v){return Ua(h,p,v,!1),pc}function U_(h,p){return Ua(h,p,null,!0),U_}function aa(h){ja(Ib,su,h,!1)}function su(h,p){for(let v=function Rw(h){return Jh(h),Ha(h,Xh(h,0,Qi.textEnd))}(p);v>=0;v=Ha(p,v))Ib(h,B_(p),Il(p))}function Fy(h){ja(Vw,la,h,!0)}function la(h,p){for(let v=function H_(h){return Jh(h),oa(h,Xh(h,0,Qi.textEnd))}(p);v>=0;v=oa(p,v))io(h,B_(p),!0)}function Ua(h,p,v,b){const w=_t(),x=Nn(),I=ms(2);x.firstUpdatePass&&j_(x,h,I,b),p!==Sn&&rs(w,I,p)&&Ny(x,x.data[O()],w,w[gn],h,w[I+1]=function Ly(h,p){return null==h||""===h||("string"==typeof p?h+=p:"object"==typeof h&&(h=_e(ra(h)))),h}(p,v),b,I)}function ja(h,p,v,b){const w=Nn(),x=ms(2);w.firstUpdatePass&&j_(w,null,x,b);const I=_t();if(v!==Sn&&rs(I,x,v)){const k=w.data[O()];if(Vy(k,b)&&!Vs(w,x)){let V=b?k.classesWithoutHost:k.stylesWithoutHost;null!==V&&(v=Ve(V,v||"")),F_(w,k,I,v,b)}else!function Mb(h,p,v,b,w,x,I,k){w===Sn&&(w=on);let V=0,$=0,ne=0<w.length?w[0]:null,Ce=0<x.length?x[0]:null;for(;null!==ne||null!==Ce;){const Oe=V<w.length?w[V+1]:void 0,ze=$<x.length?x[$+1]:void 0;let xt,ft=null;ne===Ce?(V+=2,$+=2,Oe!==ze&&(ft=Ce,xt=ze)):null===Ce||null!==ne&&ne<Ce?(V+=2,ft=ne):($+=2,ft=Ce,xt=ze),null!==ft&&Ny(h,p,v,b,ft,xt,I,k),ne=V<w.length?w[V]:null,Ce=$<x.length?x[$]:null}}(w,k,I,I[gn],I[x+1],I[x+1]=function Tb(h,p,v){if(null==v||""===v)return on;const b=[],w=ra(v);if(Array.isArray(w))for(let x=0;x<w.length;x++)h(b,w[x],!0);else if("object"==typeof w)for(const x in w)w.hasOwnProperty(x)&&h(b,x,w[x]);else"string"==typeof w&&p(b,w);return b}(h,p,v),b,x)}}function Vs(h,p){return p>=h.expandoStartIndex}function j_(h,p,v,b){const w=h.data;if(null===w[v+1]){const x=w[O()],I=Vs(h,v);Vy(x,b)&&null===p&&!I&&(p=!1),p=function Eb(h,p,v,b){const w=Kf(h);let x=b?p.residualClasses:p.residualStyles;if(null===w)0===(b?p.classBindings:p.styleBindings)&&(v=wd(v=mg(null,h,p,v,b),p.attrs,b),x=null);else{const I=p.directiveStylingLast;if(-1===I||h[I]!==w)if(v=mg(w,h,p,v,b),null===x){let V=function xb(h,p,v){const b=v?p.classBindings:p.styleBindings;if(0!==Ba(b))return h[ru(b)]}(h,p,b);void 0!==V&&Array.isArray(V)&&(V=mg(null,h,p,V[1],b),V=wd(V,p.attrs,b),function Lw(h,p,v,b){h[ru(v?p.classBindings:p.styleBindings)]=b}(h,p,b,V))}else x=function gg(h,p,v){let b;const w=p.directiveEnd;for(let x=1+p.directiveStylingLast;x<w;x++)b=wd(b,h[x].hostAttrs,v);return wd(b,p.attrs,v)}(h,p,b)}return void 0!==x&&(b?p.residualClasses=x:p.residualStyles=x),v}(w,x,p,b),function Sb(h,p,v,b,w,x){let I=x?p.classBindings:p.styleBindings,k=ru(I),V=Ba(I);h[b]=v;let ne,$=!1;if(Array.isArray(v)?(ne=v[1],(null===ne||Ma(v,ne)>0)&&($=!0)):ne=v,w)if(0!==V){const Oe=ru(h[k+1]);h[b+1]=hg(Oe,k),0!==Oe&&(h[Oe+1]=fc(h[Oe+1],b)),h[k+1]=function fg(h,p){return 131071&h|p<<17}(h[k+1],b)}else h[b+1]=hg(k,0),0!==k&&(h[k+1]=fc(h[k+1],b)),k=b;else h[b+1]=hg(V,0),0===k?k=b:h[V+1]=fc(h[V+1],b),V=b;$&&(h[b+1]=Sd(h[b+1])),ur(h,ne,b,!0),ur(h,ne,b,!1),function wb(h,p,v,b,w){const x=w?h.residualClasses:h.residualStyles;null!=x&&"string"==typeof p&&Ma(x,p)>=0&&(v[b+1]=pg(v[b+1]))}(p,ne,h,b,x),I=hg(k,V),x?p.classBindings=I:p.styleBindings=I}(w,x,p,v,I,b)}}function mg(h,p,v,b,w){let x=null;const I=v.directiveEnd;let k=v.directiveStylingLast;for(-1===k?k=v.directiveStart:k++;k<I&&(x=p[k],b=wd(b,x.hostAttrs,w),x!==h);)k++;return null!==h&&(v.directiveStylingLast=k),b}function wd(h,p,v){const b=v?1:2;let w=-1;if(null!==p)for(let x=0;x<p.length;x++){const I=p[x];"number"==typeof I?w=I:w===b&&(Array.isArray(h)||(h=void 0===h?[]:["",h]),io(h,I,!!v||p[++x]))}return void 0===h?null:h}function Ib(h,p,v){io(h,p,ra(v))}function Vw(h,p,v){const b=String(p);""!==b&&!b.includes(" ")&&io(h,b,v)}function Ny(h,p,v,b,w,x,I,k){if(!(3&p.type))return;const V=h.data,$=V[k+1],ne=function ky(h){return 1==(1&h)}($)?z_(V,p,v,w,Ba($),I):void 0;Z_(ne)||(Z_(x)||function bb(h){return 2==(2&h)}($)&&(x=z_(V,null,v,w,k,I)),function Wu(h,p,v,b,w){if(p)w?h.addClass(v,b):h.removeClass(v,b);else{let x=-1===b.indexOf("-")?void 0:vl.DashCase;null==w?h.removeStyle(v,b,x):("string"==typeof w&&w.endsWith("!important")&&(w=w.slice(0,-10),x|=vl.Important),h.setStyle(v,b,w,x))}}(b,I,B(O(),v),w,x))}function z_(h,p,v,b,w,x){const I=null===p;let k;for(;w>0;){const V=h[w],$=Array.isArray(V),ne=$?V[1]:V,Ce=null===ne;let Oe=v[w+1];Oe===Sn&&(Oe=Ce?on:void 0);let ze=Ce?hl(Oe,b):ne===b?Oe:void 0;if($&&!Z_(ze)&&(ze=hl(V,b)),Z_(ze)&&(k=ze,I))return k;const ft=h[w+1];w=I?ru(ft):Ba(ft)}if(null!==p){let V=x?p.residualClasses:p.residualStyles;null!=V&&(k=hl(V,b))}return k}function Z_(h){return void 0!==h}function Vy(h,p){return 0!=(h.flags&(p?8:16))}function By(h,p=""){const v=_t(),b=Nn(),w=h+Pn,x=b.firstCreatePass?vs(b,w,1,p,null):b.data[w],I=tf(b,v,x,p,h);v[w]=I,Kn()&&Rm(b,v,I,x),ps(x,!1)}let tf=(h,p,v,b,w)=>(Wi(!0),function r0(h,p){return h.createText(p)}(p[gn],b));function G_(h){return gc("",h,""),G_}function gc(h,p,v){const b=_t(),w=cd(b,h,p,v);return w!==Sn&&hc(b,O(),w),gc}function mc(h,p,v,b,w){const x=_t(),I=function ud(h,p,v,b,w,x){const k=Xc(h,to(),v,w);return ms(2),k?p+ke(v)+b+ke(w)+x:Sn}(x,h,p,v,b,w);return I!==Sn&&hc(x,O(),I),mc}function nf(h,p,v,b,w,x,I){const k=_t(),V=function dd(h,p,v,b,w,x,I,k){const $=Jp(h,to(),v,w,I);return ms(3),$?p+ke(v)+b+ke(w)+x+ke(I)+k:Sn}(k,h,p,v,b,w,x,I);return V!==Sn&&hc(k,O(),V),nf}function Gy(h,p,v){const b=_t();return rs(b,vr(),p)&&ys(Nn(),q(),b,h,p,b[gn],v,!0),Gy}function au(h,p,v){const b=_t();if(rs(b,vr(),p)){const x=Nn(),I=q();ys(x,I,b,h,p,ay(Kf(x.data),I,b),v,!0)}return au}const Sr=void 0;var Ed=["en",[["a","p"],["AM","PM"],Sr],[["AM","PM"],Sr,Sr],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Sr,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Sr,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Sr,"{1} 'at' {0}",Sr],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Yy(h){const v=Math.floor(Math.abs(h)),b=h.toString().replace(/^[^.]*\.?/,"").length;return 1===v&&0===b?1:5}];let af={};function lf(h){const p=function Sg(h){return h.toLowerCase().replace(/_/g,"-")}(h);let v=Wy(p);if(v)return v;const b=p.split("-")[0];if(v=Wy(b),v)return v;if("en"===b)return Ed;throw new ce(701,!1)}function Lb(h){return lf(h)[fn.PluralCase]}function Wy(h){return h in af||(af[h]=Un.ng&&Un.ng.common&&Un.ng.common.locales&&Un.ng.common.locales[h]),af[h]}var fn=(()=>((fn=fn||{})[fn.LocaleId=0]="LocaleId",fn[fn.DayPeriodsFormat=1]="DayPeriodsFormat",fn[fn.DayPeriodsStandalone=2]="DayPeriodsStandalone",fn[fn.DaysFormat=3]="DaysFormat",fn[fn.DaysStandalone=4]="DaysStandalone",fn[fn.MonthsFormat=5]="MonthsFormat",fn[fn.MonthsStandalone=6]="MonthsStandalone",fn[fn.Eras=7]="Eras",fn[fn.FirstDayOfWeek=8]="FirstDayOfWeek",fn[fn.WeekendRange=9]="WeekendRange",fn[fn.DateFormat=10]="DateFormat",fn[fn.TimeFormat=11]="TimeFormat",fn[fn.DateTimeFormat=12]="DateTimeFormat",fn[fn.NumberSymbols=13]="NumberSymbols",fn[fn.NumberFormats=14]="NumberFormats",fn[fn.CurrencyCode=15]="CurrencyCode",fn[fn.CurrencySymbol=16]="CurrencySymbol",fn[fn.CurrencyName=17]="CurrencyName",fn[fn.Currencies=18]="Currencies",fn[fn.Directionality=19]="Directionality",fn[fn.PluralCase=20]="PluralCase",fn[fn.ExtraData=21]="ExtraData",fn))();const cf="en-US";let q_=cf;function hu(h,p,v,b,w){if(h=se(h),Array.isArray(h))for(let x=0;x<h.length;x++)hu(h[x],p,v,b,w);else{const x=Nn(),I=_t();let k=Xu(h)?h:se(h.provide),V=uC(h);const $=ar(),ne=1048575&$.providerIndexes,Ce=$.directiveStart,Oe=$.providerIndexes>>20;if(Xu(h)||!h.multi){const ze=new lh(V,w,sd),ft=nv(k,p,w?ne:ne+Oe,Ce);-1===ft?(Gr(nc($,I),x,k),Fd(x,h,p.length),p.push(k),$.directiveStart++,$.directiveEnd++,w&&($.providerIndexes+=1048576),v.push(ze),I.push(ze)):(v[ft]=ze,I[ft]=ze)}else{const ze=nv(k,p,ne+Oe,Ce),ft=nv(k,p,ne,ne+Oe),Bt=ft>=0&&v[ft];if(w&&!Bt||!w&&!(ze>=0&&v[ze])){Gr(nc($,I),x,k);const tn=function Nd(h,p,v,b,w){const x=new lh(h,v,sd);return x.multi=[],x.index=p,x.componentProviders=0,_f(x,w,b&&!v),x}(w?Jw:nS,v.length,w,b,V);!w&&Bt&&(v[ft].providerFactory=tn),Fd(x,h,p.length,0),p.push(k),$.directiveStart++,$.directiveEnd++,w&&($.providerIndexes+=1048576),v.push(tn),I.push(tn)}else Fd(x,h,ze>-1?ze:ft,_f(v[w?ft:ze],V,!w&&b));!w&&b&&Bt&&v[ft].componentProviders++}}}function Fd(h,p,v,b){const w=Xu(p),x=function JS(h){return!!h.useClass}(p);if(w||x){const V=(x?se(p.useClass):p).prototype.ngOnDestroy;if(V){const $=h.destroyHooks||(h.destroyHooks=[]);if(!w&&p.multi){const ne=$.indexOf(v);-1===ne?$.push(v,[b,V]):$[ne+1].push(b,V)}else $.push(v,V)}}}function _f(h,p,v){return v&&h.componentProviders++,h.multi.push(p)-1}function nv(h,p,v,b){for(let w=v;w<b;w++)if(p[w]===h)return w;return-1}function nS(h,p,v,b){return u1(this.multi,[])}function Jw(h,p,v,b){const w=this.multi;let x;if(this.providerFactory){const I=this.providerFactory.componentProviders,k=ul(v,v[Nt],this.providerFactory.index,b);x=k.slice(0,I),u1(w,x);for(let V=I;V<k.length;V++)x.push(k[V])}else x=[],u1(w,x);return x}function u1(h,p){for(let v=0;v<h.length;v++)p.push((0,h[v])());return p}function vf(h,p=[]){return v=>{v.providersResolver=(b,w)=>function tS(h,p,v){const b=Nn();if(b.firstCreatePass){const w=Ci(h);hu(v,b.data,b.blueprint,w,!0),hu(p,b.data,b.blueprint,w,!1)}}(b,w?w(h):h,p)}}class po{}class Ya{}function yf(h,p){return new Cc(h,p??null,[])}class Cc extends po{constructor(p,v,b){super(),this._parent=v,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new py(this);const w=_i(p);this._bootstrapComponents=Fa(w.bootstrap),this._r3Injector=LC(p,v,[{provide:po,useValue:this},{provide:Oh,useValue:this.componentFactoryResolver},...b],_e(p),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(p)}get injector(){return this._r3Injector}destroy(){const p=this._r3Injector;!p.destroyed&&p.destroy(),this.destroyCbs.forEach(v=>v()),this.destroyCbs=null}onDestroy(p){this.destroyCbs.push(p)}}class Ag extends Ya{constructor(p){super(),this.moduleType=p}create(p){return new Cc(this.moduleType,p,[])}}class bc extends po{constructor(p){super(),this.componentFactoryResolver=new py(this),this.instance=null;const v=new qm([...p.providers,{provide:po,useValue:this},{provide:Oh,useValue:this.componentFactoryResolver}],p.parent||$m(),p.debugName,new Set(["environment"]));this.injector=v,p.runEnvironmentInitializers&&v.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(p){this.injector.onDestroy(p)}}function iv(h,p,v=null){return new bc({providers:h,parent:p,debugName:v,runEnvironmentInitializers:!0}).injector}let Rg=(()=>{class h{constructor(v){this._injector=v,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(v){if(!v.standalone)return null;if(!this.cachedInjectors.has(v.id)){const b=w0(0,v.type),w=b.length>0?iv([b],this._injector,`Standalone[${v.type.name}]`):null;this.cachedInjectors.set(v.id,w)}return this.cachedInjectors.get(v.id)}ngOnDestroy(){try{for(const v of this.cachedInjectors.values())null!==v&&v.destroy()}finally{this.cachedInjectors.clear()}}}return h.\u0275prov=ln({token:h,providedIn:"environment",factory:()=>new h(Xn(td))}),h})();function Sc(h){h.getStandaloneInjector=p=>p.get(Rg).getOrCreateStandaloneInjector(h)}function rv(h,p,v){const b=Gi()+h,w=_t();return w[b]===Sn?La(w,b,v?p.call(v):p()):function $h(h,p){return h[p]}(w,b)}function sv(h,p,v,b){return Ol(_t(),Gi(),h,p,v,b)}function wf(h,p,v,b,w){return lv(_t(),Gi(),h,p,v,b,w)}function Lr(h,p){const v=h[p];return v===Sn?void 0:v}function Ol(h,p,v,b,w,x){const I=p+v;return rs(h,I,w)?La(h,I+1,x?b.call(x,w):b(w)):Lr(h,I+1)}function lv(h,p,v,b,w,x,I){const k=p+v;return Xc(h,k,w,x)?La(h,k+2,I?b.call(I,w,x):b(w,x)):Lr(h,k+2)}function Df(h,p){const v=Nn();let b;const w=h+Pn;v.firstCreatePass?(b=function Vg(h,p){if(p)for(let v=p.length-1;v>=0;v--){const b=p[v];if(h===b.name)return b}}(p,v.pipeRegistry),v.data[w]=b,b.onDestroy&&(v.destroyHooks??=[]).push(w,b.onDestroy)):b=v.data[w];const x=b.factory||(b.factory=Y(b.type)),I=un(sd);try{const k=ep(!1),V=x();return ep(k),function yd(h,p,v,b){v>=h.data.length&&(h.data[v]=null,h.blueprint[v]=null),p[v]=b}(v,_t(),w,V),V}finally{un(I)}}function Bg(h,p,v){const b=h+Pn,w=_t(),x=Se(w,b);return Ud(w,b)?Ol(w,Gi(),p,x.transform,v,x):x.transform(v)}function Hd(h,p,v,b){const w=h+Pn,x=_t(),I=Se(x,w);return Ud(x,w)?lv(x,Gi(),p,I.transform,v,b,I):I.transform(v,b)}function xf(h,p,v,b,w){const x=h+Pn,I=_t(),k=Se(I,x);return Ud(I,x)?function Bd(h,p,v,b,w,x,I,k){const V=p+v;return Jp(h,V,w,x,I)?La(h,V+3,k?b.call(k,w,x,I):b(w,x,I)):Lr(h,V+3)}(I,Gi(),p,k.transform,v,b,w,k):k.transform(v,b,w)}function Ud(h,p){return h[Nt].data[p].pure}function Hg(h){return p=>{setTimeout(h,void 0,p)}}const da=class Rl extends a.x{constructor(p=!1){super(),this.__isAsync=p}emit(p){super.next(p)}subscribe(p,v,b){let w=p,x=v||(()=>null),I=b;if(p&&"object"==typeof p){const V=p;w=V.next?.bind(V),x=V.error?.bind(V),I=V.complete?.bind(V)}this.__isAsync&&(x=Hg(x),w&&(w=Hg(w)),I&&(I=Hg(I)));const k=super.subscribe({next:w,error:x,complete:I});return p instanceof W.w0&&p.add(k),k}};function Tf(){return this._results[Symbol.iterator]()}class Ug{get changes(){return this._changes||(this._changes=new da)}constructor(p=!1){this._emitDistinctChangesOnly=p,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const v=Ug.prototype;v[Symbol.iterator]||(v[Symbol.iterator]=Tf)}get(p){return this._results[p]}map(p){return this._results.map(p)}filter(p){return this._results.filter(p)}find(p){return this._results.find(p)}reduce(p,v){return this._results.reduce(p,v)}forEach(p){this._results.forEach(p)}some(p){return this._results.some(p)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(p,v){const b=this;b.dirty=!1;const w=function di(h){return h.flat(Number.POSITIVE_INFINITY)}(p);(this._changesDetected=!function Ti(h,p,v){if(h.length!==p.length)return!1;for(let b=0;b<h.length;b++){let w=h[b],x=p[b];if(v&&(w=v(w),x=v(x)),x!==w)return!1}return!0}(b._results,w,v))&&(b._results=w,b.length=w.length,b.last=w[this.length-1],b.first=w[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let If=(()=>{class h{}return h.__NG_ELEMENT_ID__=m1,h})();const g1=If,rS=class extends g1{constructor(p,v,b){super(),this._declarationLView=p,this._declarationTContainer=v,this.elementRef=b}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(p,v){return this.createEmbeddedViewImpl(p,v,null)}createEmbeddedViewImpl(p,v,b){const I=this._declarationTContainer.tView,k=Fh(this._declarationLView,I,p,4096&this._declarationLView[hn]?4096:16,null,I.declTNode,null,null,null,v||null,b||null);k[es]=this._declarationLView[this._declarationTContainer.index];const $=this._declarationLView[ts];return null!==$&&(k[ts]=$.createEmbeddedView(I)),Wp(I,k,p),new Yh(k)}};function m1(){return jd(ar(),_t())}function jd(h,p){return 4&h.type?new rS(p,h,cc(h,p)):null}let Mf=(()=>{class h{}return h.__NG_ELEMENT_ID__=y1,h})();function y1(){return S1(ar(),_t())}const C1=Mf,Pl=class extends C1{constructor(p,v,b){super(),this._lContainer=p,this._hostTNode=v,this._hostLView=b}get element(){return cc(this._hostTNode,this._hostLView)}get injector(){return new Ia(this._hostTNode,this._hostLView)}get parentInjector(){const p=Pv(this._hostTNode,this._hostLView);if(Iv(p)){const v=Ta(p,this._hostLView),b=dh(p);return new Ia(v[Nt].data[b+8],v)}return new Ia(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(p){const v=cS(this._lContainer);return null!==v&&v[p]||null}get length(){return this._lContainer.length-yi}createEmbeddedView(p,v,b){let w,x;"number"==typeof b?w=b:null!=b&&(w=b.index,x=b.injector);const k=p.createEmbeddedViewImpl(v||{},x,null);return this.insertImpl(k,w,false),k}createComponent(p,v,b,w,x){const I=p&&!function Fu(h){return"function"==typeof h}(p);let k;if(I)k=v;else{const xt=v||{};k=xt.index,b=xt.injector,w=xt.projectableNodes,x=xt.environmentInjector||xt.ngModuleRef}const V=I?p:new Wh(_n(p)),$=b||this.parentInjector;if(!x&&null==V.ngModule){const Bt=(I?$:this.parentInjector).get(td,null);Bt&&(x=Bt)}_n(V.componentType??{});const ze=V.create($,w,null,x);return this.insertImpl(ze.hostView,k,false),ze}insert(p,v){return this.insertImpl(p,v,!1)}insertImpl(p,v,b){const w=p._lView,x=w[Nt];if(function qn(h){return Ir(h[$n])}(w)){const V=this.indexOf(p);if(-1!==V)this.detach(V);else{const $=w[$n],ne=new Pl($,$[Vi],$[$n]);ne.detach(ne.indexOf(p))}}const I=this._adjustIndex(v),k=this._lContainer;if(function G1(h,p,v,b){const w=yi+b,x=v.length;b>0&&(v[w-1][xr]=p),b<x-yi?(p[xr]=v[w],rp(v,yi+b,p)):(v.push(p),p[xr]=null),p[$n]=v;const I=p[es];null!==I&&v!==I&&function o0(h,p){const v=h[Rs];p[Yt]!==p[$n][$n][Yt]&&(h[Xd]=!0),null===v?h[Rs]=[p]:v.push(p)}(I,p);const k=p[ts];null!==k&&k.insertView(h),p[hn]|=128}(x,w,k,I),!b){const V=bp(I,k),$=w[gn],ne=Sh($,k[Hr]);null!==ne&&function s0(h,p,v,b,w,x){b[vi]=w,b[Vi]=p,ro(h,b,v,1,w,x)}(x,k[Vi],$,w,ne,V)}return p.attachToViewContainerRef(),rp(b1(k),I,p),p}move(p,v){return this.insert(p,v)}indexOf(p){const v=cS(this._lContainer);return null!==v?v.indexOf(p):-1}remove(p){const v=this._adjustIndex(p,-1),b=a0(this._lContainer,v);b&&(mh(b1(this._lContainer),v),Am(b[Nt],b))}detach(p){const v=this._adjustIndex(p,-1),b=a0(this._lContainer,v);return b&&null!=mh(b1(this._lContainer),v)?new Yh(b):null}_adjustIndex(p,v=0){return p??this.length+v}};function cS(h){return h[8]}function b1(h){return h[8]||(h[8]=[])}function S1(h,p){let v;const b=p[h.index];return Ir(b)?v=b:(v=ry(b,p,null,h),p[h.index]=v,Yp(p,v)),Af(v,p,h,b),new Pl(v,h,p)}let Af=function zg(h,p,v,b){if(h[Hr])return;let w;w=8&v.type?Si(b):function zd(h,p){const v=h[gn],b=v.createComment(""),w=K(p,h);return Yc(v,Sh(v,w),b,function $1(h,p){return h.nextSibling(p)}(v,w),!1),b}(p,v),h[Hr]=w};class kl{constructor(p){this.queryList=p,this.matches=null}clone(){return new kl(this.queryList)}setDirty(){this.queryList.setDirty()}}class hv{constructor(p=[]){this.queries=p}createEmbeddedView(p){const v=p.queries;if(null!==v){const b=null!==p.contentQueries?p.contentQueries[0]:v.length,w=[];for(let x=0;x<b;x++){const I=v.getByIndex(x);w.push(this.queries[I.indexInDeclarationView].clone())}return new hv(w)}return null}insertView(p){this.dirtyQueriesWithMatches(p)}detachView(p){this.dirtyQueriesWithMatches(p)}dirtyQueriesWithMatches(p){for(let v=0;v<this.queries.length;v++)null!==g(p,v).matches&&this.queries[v].setDirty()}}class Of{constructor(p,v,b=null){this.predicate=p,this.flags=v,this.read=b}}class D1{constructor(p=[]){this.queries=p}elementStart(p,v){for(let b=0;b<this.queries.length;b++)this.queries[b].elementStart(p,v)}elementEnd(p){for(let v=0;v<this.queries.length;v++)this.queries[v].elementEnd(p)}embeddedTView(p){let v=null;for(let b=0;b<this.length;b++){const w=null!==v?v.length:0,x=this.getByIndex(b).embeddedTView(p,w);x&&(x.indexInDeclarationView=b,null!==v?v.push(x):v=[x])}return null!==v?new D1(v):null}template(p,v){for(let b=0;b<this.queries.length;b++)this.queries[b].template(p,v)}getByIndex(p){return this.queries[p]}get length(){return this.queries.length}track(p){this.queries.push(p)}}class Rf{constructor(p,v=-1){this.metadata=p,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=v}elementStart(p,v){this.isApplyingToNode(v)&&this.matchTNode(p,v)}elementEnd(p){this._declarationNodeIndex===p.index&&(this._appliesToNextNode=!1)}template(p,v){this.elementStart(p,v)}embeddedTView(p,v){return this.isApplyingToNode(p)?(this.crossesNgTemplate=!0,this.addMatch(-p.index,v),new Rf(this.metadata)):null}isApplyingToNode(p){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const v=this._declarationNodeIndex;let b=p.parent;for(;null!==b&&8&b.type&&b.index!==v;)b=b.parent;return v===(null!==b?b.index:-1)}return this._appliesToNextNode}matchTNode(p,v){const b=this.metadata.predicate;if(Array.isArray(b))for(let w=0;w<b.length;w++){const x=b[w];this.matchTNodeWithReadOption(p,v,dS(v,x)),this.matchTNodeWithReadOption(p,v,tp(v,p,x,!1,!1))}else b===If?4&v.type&&this.matchTNodeWithReadOption(p,v,-1):this.matchTNodeWithReadOption(p,v,tp(v,p,b,!1,!1))}matchTNodeWithReadOption(p,v,b){if(null!==b){const w=this.metadata.read;if(null!==w)if(w===Rh||w===Mf||w===If&&4&v.type)this.addMatch(v.index,-2);else{const x=tp(v,p,w,!1,!1);null!==x&&this.addMatch(v.index,x)}else this.addMatch(v.index,b)}}addMatch(p,v){null===this.matches?this.matches=[p,v]:this.matches.push(p,v)}}function dS(h,p){const v=h.localNames;if(null!==v)for(let b=0;b<v.length;b+=2)if(v[b]===p)return v[b+1];return null}function fv(h,p,v,b){return-1===v?function hS(h,p){return 11&h.type?cc(h,p):4&h.type?jd(h,p):null}(p,h):-2===v?function fS(h,p,v){return v===Rh?cc(p,h):v===If?jd(p,h):v===Mf?S1(p,h):void 0}(h,p,b):ul(h,h[Nt],v,p)}function pv(h,p,v,b){const w=p[ts].queries[b];if(null===w.matches){const x=h.data,I=v.matches,k=[];for(let V=0;V<I.length;V+=2){const $=I[V];k.push($<0?null:fv(p,x[$],I[V+1],v.metadata.read))}w.matches=k}return w.matches}function Pf(h,p,v,b){const w=h.queries.getByIndex(v),x=w.matches;if(null!==x){const I=pv(h,p,w,v);for(let k=0;k<x.length;k+=2){const V=x[k];if(V>0)b.push(I[k/2]);else{const $=x[k+1],ne=p[-V];for(let Ce=yi;Ce<ne.length;Ce++){const Oe=ne[Ce];Oe[es]===Oe[$n]&&Pf(Oe[Nt],Oe,$,b)}if(null!==ne[Rs]){const Ce=ne[Rs];for(let Oe=0;Oe<Ce.length;Oe++){const ze=Ce[Oe];Pf(ze[Nt],ze,$,b)}}}}}return b}function pS(h){const p=_t(),v=Nn(),b=Yi();Qf(b+1);const w=g(v,b);if(h.dirty&&function lt(h){return 4==(4&h[hn])}(p)===(2==(2&w.metadata.flags))){if(null===w.matches)h.reset([]);else{const x=w.crossesNgTemplate?Pf(v,p,b,[]):pv(v,p,w,b);h.reset(x,wC),h.notifyOnChanges()}return!0}return!1}function gv(h,p,v){const b=Nn();b.firstCreatePass&&(l(b,new Of(h,p,v),-1),2==(2&p)&&(b.staticViewQueries=!0)),m(b,_t(),p)}function Zg(h,p,v,b){const w=Nn();if(w.firstCreatePass){const x=ar();l(w,new Of(p,v,b),x.index),function d(h,p){const v=h.contentQueries||(h.contentQueries=[]);p!==(v.length?v[v.length-1]:-1)&&v.push(h.queries.length-1,p)}(w,h),2==(2&v)&&(w.staticContentQueries=!0)}m(w,_t(),v)}function gu(){return function gS(h,p){return h[ts].queries[p].queryList}(_t(),Yi())}function m(h,p,v){const b=new Ug(4==(4&v));(function Zp(h,p,v,b){const w=v_(p);w.push(v),h.firstCreatePass&&oy(h).push(b,w.length-1)})(h,p,b,b.destroy),null===p[ts]&&(p[ts]=new hv),p[ts].queries.push(new kl(b))}function l(h,p,v){null===h.queries&&(h.queries=new D1),h.queries.track(new Rf(p,v))}function g(h,p){return h.queries.getByIndex(p)}function C(h,p){return jd(h,p)}function X(h){return!!_i(h)}const Yg=new Wn("Application Initializer");let qr=(()=>{class h{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((v,b)=>{this.resolve=v,this.reject=b}),this.appInits=Dn(Yg,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const v=[];for(const w of this.appInits){const x=w();if(ug(x))v.push(x);else if(Aw(x)){const I=new Promise((k,V)=>{x.subscribe({complete:k,error:V})});v.push(I)}}const b=()=>{this.done=!0,this.resolve()};Promise.all(v).then(()=>{b()}).catch(w=>{this.reject(w)}),0===v.length&&b(),this.initialized=!0}}return h.\u0275fac=function(v){return new(v||h)},h.\u0275prov=ln({token:h,factory:h.\u0275fac,providedIn:"root"}),h})(),Lf=(()=>{class h{log(v){console.log(v)}warn(v){console.warn(v)}}return h.\u0275fac=function(v){return new(v||h)},h.\u0275prov=ln({token:h,factory:h.\u0275fac,providedIn:"platform"}),h})();const Us=new Wn("LocaleId",{providedIn:"root",factory:()=>Dn(Us,wt.Optional|wt.SkipSelf)||function mS(){return typeof $localize<"u"&&$localize.locale||cf}()}),Yd=new Wn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let Wd=(()=>{class h{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new te.X(!1)}add(){this.hasPendingTasks.next(!0);const v=this.taskId++;return this.pendingTasks.add(v),v}remove(v){this.pendingTasks.delete(v),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return h.\u0275fac=function(v){return new(v||h)},h.\u0275prov=ln({token:h,factory:h.\u0275fac,providedIn:"root"}),h})();class Vf{constructor(p,v){this.ngModuleFactory=p,this.componentFactories=v}}let Bf=(()=>{class h{compileModuleSync(v){return new Ag(v)}compileModuleAsync(v){return Promise.resolve(this.compileModuleSync(v))}compileModuleAndAllComponentsSync(v){const b=this.compileModuleSync(v),x=Fa(_i(v).declarations).reduce((I,k)=>{const V=_n(k);return V&&I.push(new Wh(V)),I},[]);return new Vf(b,x)}compileModuleAndAllComponentsAsync(v){return Promise.resolve(this.compileModuleAndAllComponentsSync(v))}clearCache(){}clearCacheFor(v){}getModuleId(v){}}return h.\u0275fac=function(v){return new(v||h)},h.\u0275prov=ln({token:h,factory:h.\u0275fac,providedIn:"root"}),h})();function ls(...h){}class ci{constructor({enableLongStackTrace:p=!1,shouldCoalesceEventChangeDetection:v=!1,shouldCoalesceRunChangeDetection:b=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new da(!1),this.onMicrotaskEmpty=new da(!1),this.onStable=new da(!1),this.onError=new da(!1),typeof Zone>"u")throw new ce(908,!1);Zone.assertZonePatched();const w=this;w._nesting=0,w._outer=w._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(w._inner=w._inner.fork(new Zone.TaskTrackingZoneSpec)),p&&Zone.longStackTraceZoneSpec&&(w._inner=w._inner.fork(Zone.longStackTraceZoneSpec)),w.shouldCoalesceEventChangeDetection=!b&&v,w.shouldCoalesceRunChangeDetection=b,w.lastRequestAnimationFrameId=-1,w.nativeRequestAnimationFrame=function qd(){const h="function"==typeof Un.requestAnimationFrame;let p=Un[h?"requestAnimationFrame":"setTimeout"],v=Un[h?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&p&&v){const b=p[Zone.__symbol__("OriginalDelegate")];b&&(p=b);const w=v[Zone.__symbol__("OriginalDelegate")];w&&(v=w)}return{nativeRequestAnimationFrame:p,nativeCancelAnimationFrame:v}}().nativeRequestAnimationFrame,function ND(h){const p=()=>{!function Nl(h){h.isCheckStableRunning||-1!==h.lastRequestAnimationFrameId||(h.lastRequestAnimationFrameId=h.nativeRequestAnimationFrame.call(Un,()=>{h.fakeTopEventTask||(h.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{h.lastRequestAnimationFrameId=-1,yS(h),h.isCheckStableRunning=!0,Ss(h),h.isCheckStableRunning=!1},void 0,()=>{},()=>{})),h.fakeTopEventTask.invoke()}),yS(h))}(h)};h._inner=h._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(v,b,w,x,I,k)=>{try{return CS(h),v.invokeTask(w,x,I,k)}finally{(h.shouldCoalesceEventChangeDetection&&"eventTask"===x.type||h.shouldCoalesceRunChangeDetection)&&p(),bS(h)}},onInvoke:(v,b,w,x,I,k,V)=>{try{return CS(h),v.invoke(w,x,I,k,V)}finally{h.shouldCoalesceRunChangeDetection&&p(),bS(h)}},onHasTask:(v,b,w,x)=>{v.hasTask(w,x),b===w&&("microTask"==x.change?(h._hasPendingMicrotasks=x.microTask,yS(h),Ss(h)):"macroTask"==x.change&&(h.hasPendingMacrotasks=x.macroTask))},onHandleError:(v,b,w,x)=>(v.handleError(w,x),h.runOutsideAngular(()=>h.onError.emit(x)),!1)})}(w)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ci.isInAngularZone())throw new ce(909,!1)}static assertNotInAngularZone(){if(ci.isInAngularZone())throw new ce(909,!1)}run(p,v,b){return this._inner.run(p,v,b)}runTask(p,v,b,w){const x=this._inner,I=x.scheduleEventTask("NgZoneEvent: "+w,p,js,ls,ls);try{return x.runTask(I,v,b)}finally{x.cancelTask(I)}}runGuarded(p,v,b){return this._inner.runGuarded(p,v,b)}runOutsideAngular(p){return this._outer.run(p)}}const js={};function Ss(h){if(0==h._nesting&&!h.hasPendingMicrotasks&&!h.isStable)try{h._nesting++,h.onMicrotaskEmpty.emit(null)}finally{if(h._nesting--,!h.hasPendingMicrotasks)try{h.runOutsideAngular(()=>h.onStable.emit(null))}finally{h.isStable=!0}}}function yS(h){h.hasPendingMicrotasks=!!(h._hasPendingMicrotasks||(h.shouldCoalesceEventChangeDetection||h.shouldCoalesceRunChangeDetection)&&-1!==h.lastRequestAnimationFrameId)}function CS(h){h._nesting++,h.isStable&&(h.isStable=!1,h.onUnstable.emit(null))}function bS(h){h._nesting--,Ss(h)}const eD=new Wn("",{providedIn:"root",factory:tD});function tD(){const h=Dn(ci);let p=!0;const v=new oe.y(w=>{p=h.isStable&&!h.hasPendingMacrotasks&&!h.hasPendingMicrotasks,h.runOutsideAngular(()=>{w.next(p),w.complete()})}),b=new oe.y(w=>{let x;h.runOutsideAngular(()=>{x=h.onStable.subscribe(()=>{ci.assertNotInAngularZone(),queueMicrotask(()=>{!p&&!h.hasPendingMacrotasks&&!h.hasPendingMicrotasks&&(p=!0,w.next(!0))})})});const I=h.onUnstable.subscribe(()=>{ci.assertInAngularZone(),p&&(p=!1,h.runOutsideAngular(()=>{w.next(!1)}))});return()=>{x.unsubscribe(),I.unsubscribe()}});return(0,ge.T)(v,b.pipe((0,we.B)()))}const SS=new Wn(""),wS=new Wn("");let ES,DS=(()=>{class h{constructor(v,b,w){this._ngZone=v,this.registry=b,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,ES||(function nD(h){ES=h}(w),w.addToWindow(b)),this._watchAngularEvents(),v.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ci.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let v=this._callbacks.pop();clearTimeout(v.timeoutId),v.doneCb(this._didWork)}this._didWork=!1});else{let v=this.getPendingTasks();this._callbacks=this._callbacks.filter(b=>!b.updateCb||!b.updateCb(v)||(clearTimeout(b.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(v=>({source:v.source,creationLocation:v.creationLocation,data:v.data})):[]}addCallback(v,b,w){let x=-1;b&&b>0&&(x=setTimeout(()=>{this._callbacks=this._callbacks.filter(I=>I.timeoutId!==x),v(this._didWork,this.getPendingTasks())},b)),this._callbacks.push({doneCb:v,timeoutId:x,updateCb:w})}whenStable(v,b,w){if(w&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(v,b,w),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(v){this.registry.registerApplication(v,this)}unregisterApplication(v){this.registry.unregisterApplication(v)}findProviders(v,b,w){return[]}}return h.\u0275fac=function(v){return new(v||h)(Xn(ci),Xn(LD),Xn(wS))},h.\u0275prov=ln({token:h,factory:h.\u0275fac}),h})(),LD=(()=>{class h{constructor(){this._applications=new Map}registerApplication(v,b){this._applications.set(v,b)}unregisterApplication(v){this._applications.delete(v)}unregisterAllApplications(){this._applications.clear()}getTestability(v){return this._applications.get(v)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(v,b=!0){return ES?.findTestabilityInTree(this,v,b)??null}}return h.\u0275fac=function(v){return new(v||h)},h.\u0275prov=ln({token:h,factory:h.\u0275fac,providedIn:"platform"}),h})(),Kd=null;const iD=new Wn("PlatformDestroyListeners"),xS=new Wn("appBootstrapListener");class HD{constructor(p,v){this.name=p,this.token=v}}function aE(h){try{const{rootComponent:p,appProviders:v,platformProviders:b}=h,w=function oD(h=[]){if(Kd)return Kd;const p=function aD(h=[],p){return _s.create({name:p,providers:[{provide:E0,useValue:"platform"},{provide:iD,useValue:new Set([()=>Kd=null])},...h]})}(h);return Kd=p,function sD(){!function bv(h){eh=h}(()=>{throw new ce(600,!1)})}(),function IS(h){h.get(M0,null)?.forEach(v=>v())}(p),p}(b),x=[qg(),...v||[]],k=new bc({providers:x,parent:w,debugName:"",runEnvironmentInitializers:!1}).injector,V=k.get(ci);return V.run(()=>{k.resolveInjectorInitializers();const $=k.get(id,null);let ne;V.runOutsideAngular(()=>{ne=V.onError.subscribe({next:ze=>{$.handleError(ze)}})});const Ce=()=>k.destroy(),Oe=w.get(iD);return Oe.add(Ce),k.onDestroy(()=>{ne.unsubscribe(),Oe.delete(Ce)}),function zs(h,p,v){try{const b=v();return ug(b)?b.catch(w=>{throw p.runOutsideAngular(()=>h.handleError(w)),w}):b}catch(b){throw p.runOutsideAngular(()=>h.handleError(b)),b}}($,V,()=>{const ze=k.get(qr);return ze.runInitializers(),ze.donePromise.then(()=>{!function K_(h){Pe(h,"Expected localeId to be defined"),"string"==typeof h&&(q_=h.toLowerCase().replace(/_/g,"-"))}(k.get(Us,cf)||cf);const xt=k.get(Wg);return void 0!==p&&xt.bootstrap(p),xt})})})}catch(p){return Promise.reject(p)}}let Wg=(()=>{class h{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Dn(ZD),this.zoneIsStable=Dn(eD),this.componentTypes=[],this.components=[],this.isStable=Dn(Wd).hasPendingTasks.pipe((0,pe.w)(v=>v?(0,Ee.of)(!1):this.zoneIsStable),(0,ue.x)(),(0,we.B)()),this._injector=Dn(td)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(v,b){const w=v instanceof Lp;if(!this._injector.get(qr).done)throw!w&&$s(v),new ce(405,!1);let I;I=w?v:this._injector.get(Oh).resolveComponentFactory(v),this.componentTypes.push(I.componentType);const k=function BD(h){return h.isBoundToModule}(I)?void 0:this._injector.get(po),$=I.create(_s.NULL,[],b||I.selector,k),ne=$.location.nativeElement,Ce=$.injector.get(SS,null);return Ce?.registerApplication(ne),$.onDestroy(()=>{this.detachView($.hostView),vv(this.components,$),Ce?.unregisterApplication(ne)}),this._loadComponent($),$}tick(){if(this._runningTick)throw new ce(101,!1);try{this._runningTick=!0;for(let v of this._views)v.detectChanges()}catch(v){this.internalErrorHandler(v)}finally{this._runningTick=!1}}attachView(v){const b=v;this._views.push(b),b.attachToAppRef(this)}detachView(v){const b=v;vv(this._views,b),b.detachFromAppRef()}_loadComponent(v){this.attachView(v.hostView),this.tick(),this.components.push(v);const b=this._injector.get(xS,[]);b.push(...this._bootstrapListeners),b.forEach(w=>w(v))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(v=>v()),this._views.slice().forEach(v=>v.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(v){return this._destroyListeners.push(v),()=>vv(this._destroyListeners,v)}destroy(){if(this._destroyed)throw new ce(406,!1);const v=this._injector;v.destroy&&!v.destroyed&&v.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return h.\u0275fac=function(v){return new(v||h)},h.\u0275prov=ln({token:h,factory:h.\u0275fac,providedIn:"root"}),h})();function vv(h,p){const v=h.indexOf(p);v>-1&&h.splice(v,1)}const ZD=new Wn("",{providedIn:"root",factory:()=>Dn(id).handleError.bind(void 0)});function uE(){const h=Dn(ci),p=Dn(id);return v=>h.runOutsideAngular(()=>p.handleError(v))}let dE=(()=>{class h{constructor(){this.zone=Dn(ci),this.applicationRef=Dn(Wg)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return h.\u0275fac=function(v){return new(v||h)},h.\u0275prov=ln({token:h,factory:h.\u0275fac,providedIn:"root"}),h})();function $g(h){return[{provide:ci,useFactory:h},{provide:Ap,multi:!0,useFactory:()=>{const p=Dn(dE,{optional:!0});return()=>p.initialize()}},{provide:ZD,useFactory:uE},{provide:eD,useFactory:tD}]}function qg(h){return S0([[],$g(()=>new ci(function lD(h){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:h?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:h?.runCoalescing??!1}}(h)))])}function Kg(){return!1}let cD=(()=>{class h{}return h.__NG_ELEMENT_ID__=uD,h})();function uD(h){return function dD(h,p,v){if(wo(h)&&!v){const b=$e(h.index,p);return new Yh(b,b)}return 47&h.type?new Yh(p[Yt],p):null}(ar(),_t(),16==(16&h))}class Ie{constructor(){}supports(p){return Qp(p)}create(p){return new Et(p)}}const Ue=(h,p)=>p;class Et{constructor(p){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=p||Ue}forEachItem(p){let v;for(v=this._itHead;null!==v;v=v._next)p(v)}forEachOperation(p){let v=this._itHead,b=this._removalsHead,w=0,x=null;for(;v||b;){const I=!b||v&&v.currentIndex<ni(b,w,x)?v:b,k=ni(I,w,x),V=I.currentIndex;if(I===b)w--,b=b._nextRemoved;else if(v=v._next,null==I.previousIndex)w++;else{x||(x=[]);const $=k-w,ne=V-w;if($!=ne){for(let Oe=0;Oe<$;Oe++){const ze=Oe<x.length?x[Oe]:x[Oe]=0,ft=ze+Oe;ne<=ft&&ft<$&&(x[Oe]=ze+1)}x[I.previousIndex]=ne-$}}k!==V&&p(I,k,V)}}forEachPreviousItem(p){let v;for(v=this._previousItHead;null!==v;v=v._nextPrevious)p(v)}forEachAddedItem(p){let v;for(v=this._additionsHead;null!==v;v=v._nextAdded)p(v)}forEachMovedItem(p){let v;for(v=this._movesHead;null!==v;v=v._nextMoved)p(v)}forEachRemovedItem(p){let v;for(v=this._removalsHead;null!==v;v=v._nextRemoved)p(v)}forEachIdentityChange(p){let v;for(v=this._identityChangesHead;null!==v;v=v._nextIdentityChange)p(v)}diff(p){if(null==p&&(p=[]),!Qp(p))throw new ce(900,!1);return this.check(p)?this:null}onDestroy(){}check(p){this._reset();let w,x,I,v=this._itHead,b=!1;if(Array.isArray(p)){this.length=p.length;for(let k=0;k<this.length;k++)x=p[k],I=this._trackByFn(k,x),null!==v&&Object.is(v.trackById,I)?(b&&(v=this._verifyReinsertion(v,x,I,k)),Object.is(v.item,x)||this._addIdentityChange(v,x)):(v=this._mismatch(v,x,I,k),b=!0),v=v._next}else w=0,function lb(h,p){if(Array.isArray(h))for(let v=0;v<h.length;v++)p(h[v]);else{const v=h[Symbol.iterator]();let b;for(;!(b=v.next()).done;)p(b.value)}}(p,k=>{I=this._trackByFn(w,k),null!==v&&Object.is(v.trackById,I)?(b&&(v=this._verifyReinsertion(v,k,I,w)),Object.is(v.item,k)||this._addIdentityChange(v,k)):(v=this._mismatch(v,k,I,w),b=!0),v=v._next,w++}),this.length=w;return this._truncate(v),this.collection=p,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let p;for(p=this._previousItHead=this._itHead;null!==p;p=p._next)p._nextPrevious=p._next;for(p=this._additionsHead;null!==p;p=p._nextAdded)p.previousIndex=p.currentIndex;for(this._additionsHead=this._additionsTail=null,p=this._movesHead;null!==p;p=p._nextMoved)p.previousIndex=p.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(p,v,b,w){let x;return null===p?x=this._itTail:(x=p._prev,this._remove(p)),null!==(p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(b,null))?(Object.is(p.item,v)||this._addIdentityChange(p,v),this._reinsertAfter(p,x,w)):null!==(p=null===this._linkedRecords?null:this._linkedRecords.get(b,w))?(Object.is(p.item,v)||this._addIdentityChange(p,v),this._moveAfter(p,x,w)):p=this._addAfter(new Ht(v,b),x,w),p}_verifyReinsertion(p,v,b,w){let x=null===this._unlinkedRecords?null:this._unlinkedRecords.get(b,null);return null!==x?p=this._reinsertAfter(x,p._prev,w):p.currentIndex!=w&&(p.currentIndex=w,this._addToMoves(p,w)),p}_truncate(p){for(;null!==p;){const v=p._next;this._addToRemovals(this._unlink(p)),p=v}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(p,v,b){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(p);const w=p._prevRemoved,x=p._nextRemoved;return null===w?this._removalsHead=x:w._nextRemoved=x,null===x?this._removalsTail=w:x._prevRemoved=w,this._insertAfter(p,v,b),this._addToMoves(p,b),p}_moveAfter(p,v,b){return this._unlink(p),this._insertAfter(p,v,b),this._addToMoves(p,b),p}_addAfter(p,v,b){return this._insertAfter(p,v,b),this._additionsTail=null===this._additionsTail?this._additionsHead=p:this._additionsTail._nextAdded=p,p}_insertAfter(p,v,b){const w=null===v?this._itHead:v._next;return p._next=w,p._prev=v,null===w?this._itTail=p:w._prev=p,null===v?this._itHead=p:v._next=p,null===this._linkedRecords&&(this._linkedRecords=new Rn),this._linkedRecords.put(p),p.currentIndex=b,p}_remove(p){return this._addToRemovals(this._unlink(p))}_unlink(p){null!==this._linkedRecords&&this._linkedRecords.remove(p);const v=p._prev,b=p._next;return null===v?this._itHead=b:v._next=b,null===b?this._itTail=v:b._prev=v,p}_addToMoves(p,v){return p.previousIndex===v||(this._movesTail=null===this._movesTail?this._movesHead=p:this._movesTail._nextMoved=p),p}_addToRemovals(p){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Rn),this._unlinkedRecords.put(p),p.currentIndex=null,p._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=p,p._prevRemoved=null):(p._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=p),p}_addIdentityChange(p,v){return p.item=v,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=p:this._identityChangesTail._nextIdentityChange=p,p}}class Ht{constructor(p,v){this.item=p,this.trackById=v,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Kt{constructor(){this._head=null,this._tail=null}add(p){null===this._head?(this._head=this._tail=p,p._nextDup=null,p._prevDup=null):(this._tail._nextDup=p,p._prevDup=this._tail,p._nextDup=null,this._tail=p)}get(p,v){let b;for(b=this._head;null!==b;b=b._nextDup)if((null===v||v<=b.currentIndex)&&Object.is(b.trackById,p))return b;return null}remove(p){const v=p._prevDup,b=p._nextDup;return null===v?this._head=b:v._nextDup=b,null===b?this._tail=v:b._prevDup=v,null===this._head}}class Rn{constructor(){this.map=new Map}put(p){const v=p.trackById;let b=this.map.get(v);b||(b=new Kt,this.map.set(v,b)),b.add(p)}get(p,v){const w=this.map.get(p);return w?w.get(p,v):null}remove(p){const v=p.trackById;return this.map.get(v).remove(p)&&this.map.delete(v),p}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function ni(h,p,v){const b=h.previousIndex;if(null===b)return b;let w=0;return v&&b<v.length&&(w=v[b]),b+p+w}class Ni{constructor(){}supports(p){return p instanceof Map||w_(p)}create(){return new zo}}class zo{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(p){let v;for(v=this._mapHead;null!==v;v=v._next)p(v)}forEachPreviousItem(p){let v;for(v=this._previousMapHead;null!==v;v=v._nextPrevious)p(v)}forEachChangedItem(p){let v;for(v=this._changesHead;null!==v;v=v._nextChanged)p(v)}forEachAddedItem(p){let v;for(v=this._additionsHead;null!==v;v=v._nextAdded)p(v)}forEachRemovedItem(p){let v;for(v=this._removalsHead;null!==v;v=v._nextRemoved)p(v)}diff(p){if(p){if(!(p instanceof Map||w_(p)))throw new ce(900,!1)}else p=new Map;return this.check(p)?this:null}onDestroy(){}check(p){this._reset();let v=this._mapHead;if(this._appendAfter=null,this._forEach(p,(b,w)=>{if(v&&v.key===w)this._maybeAddToChanges(v,b),this._appendAfter=v,v=v._next;else{const x=this._getOrCreateRecordForKey(w,b);v=this._insertBeforeOrAppend(v,x)}}),v){v._prev&&(v._prev._next=null),this._removalsHead=v;for(let b=v;null!==b;b=b._nextRemoved)b===this._mapHead&&(this._mapHead=null),this._records.delete(b.key),b._nextRemoved=b._next,b.previousValue=b.currentValue,b.currentValue=null,b._prev=null,b._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(p,v){if(p){const b=p._prev;return v._next=p,v._prev=b,p._prev=v,b&&(b._next=v),p===this._mapHead&&(this._mapHead=v),this._appendAfter=p,p}return this._appendAfter?(this._appendAfter._next=v,v._prev=this._appendAfter):this._mapHead=v,this._appendAfter=v,null}_getOrCreateRecordForKey(p,v){if(this._records.has(p)){const w=this._records.get(p);this._maybeAddToChanges(w,v);const x=w._prev,I=w._next;return x&&(x._next=I),I&&(I._prev=x),w._next=null,w._prev=null,w}const b=new OS(p);return this._records.set(p,b),b.currentValue=v,this._addToAdditions(b),b}_reset(){if(this.isDirty){let p;for(this._previousMapHead=this._mapHead,p=this._previousMapHead;null!==p;p=p._next)p._nextPrevious=p._next;for(p=this._changesHead;null!==p;p=p._nextChanged)p.previousValue=p.currentValue;for(p=this._additionsHead;null!=p;p=p._nextAdded)p.previousValue=p.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(p,v){Object.is(v,p.currentValue)||(p.previousValue=p.currentValue,p.currentValue=v,this._addToChanges(p))}_addToAdditions(p){null===this._additionsHead?this._additionsHead=this._additionsTail=p:(this._additionsTail._nextAdded=p,this._additionsTail=p)}_addToChanges(p){null===this._changesHead?this._changesHead=this._changesTail=p:(this._changesTail._nextChanged=p,this._changesTail=p)}_forEach(p,v){p instanceof Map?p.forEach(v):Object.keys(p).forEach(b=>v(p[b],b))}}class OS{constructor(p){this.key=p,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Qg(){return new yv([new Ie])}let yv=(()=>{class h{constructor(v){this.factories=v}static create(v,b){if(null!=b){const w=b.factories.slice();v=v.concat(w)}return new h(v)}static extend(v){return{provide:h,useFactory:b=>h.create(v,b||Qg()),deps:[[h,new Bu,new rc]]}}find(v){const b=this.factories.find(w=>w.supports(v));if(null!=b)return b;throw new ce(901,!1)}}return h.\u0275prov=ln({token:h,providedIn:"root",factory:Qg}),h})();function gE(){return new nE([new Ni])}let nE=(()=>{class h{constructor(v){this.factories=v}static create(v,b){if(b){const w=b.factories.slice();v=v.concat(w)}return new h(v)}static extend(v){return{provide:h,useFactory:b=>h.create(v,b||gE()),deps:[[h,new Bu,new rc]]}}find(v){const b=this.factories.find(w=>w.supports(v));if(b)return b;throw new ce(901,!1)}}return h.\u0275prov=ln({token:h,providedIn:"root",factory:gE}),h})();function PE(h){return"boolean"==typeof h?h:null!=h&&"false"!==h}function FE(h){const p=_n(h);if(!p)return null;const v=new Wh(p);return{get selector(){return v.selector},get type(){return v.componentType},get inputs(){return v.inputs},get outputs(){return v.outputs},get ngContentSelectors(){return v.ngContentSelectors},get isStandalone(){return p.standalone},get isSignal(){return p.signals}}}},95:(pt,Te,L)=>{"use strict";L.d(Te,{Wl:()=>xe,Fj:()=>ce,Oe:()=>Ca,CE:()=>es,NI:()=>yo,oH:()=>Tr,u:()=>ns,cw:()=>yn,sg:()=>As,x0:()=>Xr,u5:()=>nn,Cf:()=>Le,a5:()=>ii,JJ:()=>zt,JL:()=>st,F:()=>_a,On:()=>Co,Mq:()=>_i,YN:()=>nl,wV:()=>vi,_:()=>Is,UX:()=>Ic,Q7:()=>Ci,EJ:()=>qo,_Y:()=>jl,Kr:()=>Ko});var a=L(5879),W=L(6814),te=L(7715),oe=L(5592),ge=L(7453),Ee=L(4829),we=L(9940),pe=L(8251),ue=L(7400),ie=L(2714),_e=L(7398);let Ve=(()=>{class Y{constructor(U,re){this._renderer=U,this._elementRef=re,this.onChange=je=>{},this.onTouched=()=>{}}setProperty(U,re){this._renderer.setProperty(this._elementRef.nativeElement,U,re)}registerOnTouched(U){this.onTouched=U}registerOnChange(U){this.onChange=U}setDisabledState(U){this.setProperty("disabled",U)}}return Y.\u0275fac=function(U){return new(U||Y)(a.Y36(a.Qsj),a.Y36(a.SBq))},Y.\u0275dir=a.lG2({type:Y}),Y})(),Fe=(()=>{class Y extends Ve{}return Y.\u0275fac=function(){let G;return function(re){return(G||(G=a.n5z(Y)))(re||Y)}}(),Y.\u0275dir=a.lG2({type:Y,features:[a.qOj]}),Y})();const de=new a.OlP("NgValueAccessor"),se={provide:de,useExisting:(0,a.Gpc)(()=>xe),multi:!0};let xe=(()=>{class Y extends Fe{writeValue(U){this.setProperty("checked",U)}}return Y.\u0275fac=function(){let G;return function(re){return(G||(G=a.n5z(Y)))(re||Y)}}(),Y.\u0275dir=a.lG2({type:Y,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(U,re){1&U&&a.NdJ("change",function(Vt){return re.onChange(Vt.target.checked)})("blur",function(){return re.onTouched()})},features:[a._Bn([se]),a.qOj]}),Y})();const et={provide:de,useExisting:(0,a.Gpc)(()=>ce),multi:!0},Je=new a.OlP("CompositionEventMode");let ce=(()=>{class Y extends Ve{constructor(U,re,je){super(U,re),this._compositionMode=je,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Ae(){const Y=(0,W.q)()?(0,W.q)().getUserAgent():"";return/android (\d+)/.test(Y.toLowerCase())}())}writeValue(U){this.setProperty("value",U??"")}_handleInput(U){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(U)}_compositionStart(){this._composing=!0}_compositionEnd(U){this._composing=!1,this._compositionMode&&this.onChange(U)}}return Y.\u0275fac=function(U){return new(U||Y)(a.Y36(a.Qsj),a.Y36(a.SBq),a.Y36(Je,8))},Y.\u0275dir=a.lG2({type:Y,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(U,re){1&U&&a.NdJ("input",function(Vt){return re._handleInput(Vt.target.value)})("blur",function(){return re.onTouched()})("compositionstart",function(){return re._compositionStart()})("compositionend",function(Vt){return re._compositionEnd(Vt.target.value)})},features:[a._Bn([et]),a.qOj]}),Y})();const Le=new a.OlP("NgValidators"),nt=new a.OlP("NgAsyncValidators");function pn(Y){return function ye(Y){return null==Y||("string"==typeof Y||Array.isArray(Y))&&0===Y.length}(Y.value)?{required:!0}:null}function yt(Y){return null}function Tt(Y){return null!=Y}function tt(Y){return(0,a.QGY)(Y)?(0,te.D)(Y):Y}function ht(Y){let G={};return Y.forEach(U=>{G=null!=U?{...G,...U}:G}),0===Object.keys(G).length?null:G}function Ge(Y,G){return G.map(U=>U(Y))}function Pe(Y){return Y.map(G=>function kt(Y){return!Y.validate}(G)?G:U=>G.validate(U))}function jt(Y){return null!=Y?function Qe(Y){if(!Y)return null;const G=Y.filter(Tt);return 0==G.length?null:function(U){return ht(Ge(U,G))}}(Pe(Y)):null}function Fn(Y){return null!=Y?function Lt(Y){if(!Y)return null;const G=Y.filter(Tt);return 0==G.length?null:function(U){return function le(...Y){const G=(0,we.jO)(Y),{args:U,keys:re}=(0,ge.D)(Y),je=new oe.y(Vt=>{const{length:Wt}=U;if(!Wt)return void Vt.complete();const Mr=new Array(Wt);let Ur=Wt,Xs=Wt;for(let In=0;In<Wt;In++){let ea=!1;(0,Ee.Xf)(U[In]).subscribe((0,pe.x)(Vt,bi=>{ea||(ea=!0,Xs--),Mr[In]=bi},()=>Ur--,void 0,()=>{(!Ur||!ea)&&(Xs||Vt.next(re?(0,ie.n)(re,Mr):Mr),Vt.complete())}))}});return G?je.pipe((0,ue.Z)(G)):je}(Ge(U,G).map(tt)).pipe((0,_e.U)(ht))}}(Pe(Y)):null}function ln(Y,G){return null===Y?[G]:Array.isArray(Y)?[...Y,G]:[Y,G]}function Di(Y){return Y._rawValidators}function pi(Y){return Y._rawAsyncValidators}function ji(Y){return Y?Array.isArray(Y)?Y:[Y]:[]}function Li(Y,G){return Array.isArray(Y)?Y.includes(G):Y===G}function ui(Y,G){const U=ji(G);return ji(Y).forEach(je=>{Li(U,je)||U.push(je)}),U}function Kr(Y,G){return ji(G).filter(U=>!Li(Y,U))}class fa{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(G){this._rawValidators=G||[],this._composedValidatorFn=jt(this._rawValidators)}_setAsyncValidators(G){this._rawAsyncValidators=G||[],this._composedAsyncValidatorFn=Fn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(G){this._onDestroyCallbacks.push(G)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(G=>G()),this._onDestroyCallbacks=[]}reset(G=void 0){this.control&&this.control.reset(G)}hasError(G,U){return!!this.control&&this.control.hasError(G,U)}getError(G,U){return this.control?this.control.getError(G,U):null}}class gi extends fa{get formDirective(){return null}get path(){return null}}class ii extends fa{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class fr{constructor(G){this._cd=G}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let zt=(()=>{class Y extends fr{constructor(U){super(U)}}return Y.\u0275fac=function(U){return new(U||Y)(a.Y36(ii,2))},Y.\u0275dir=a.lG2({type:Y,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(U,re){2&U&&a.ekj("ng-untouched",re.isUntouched)("ng-touched",re.isTouched)("ng-pristine",re.isPristine)("ng-dirty",re.isDirty)("ng-valid",re.isValid)("ng-invalid",re.isInvalid)("ng-pending",re.isPending)},features:[a.qOj]}),Y})(),st=(()=>{class Y extends fr{constructor(U){super(U)}}return Y.\u0275fac=function(U){return new(U||Y)(a.Y36(gi,10))},Y.\u0275dir=a.lG2({type:Y,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(U,re){2&U&&a.ekj("ng-untouched",re.isUntouched)("ng-touched",re.isTouched)("ng-pristine",re.isPristine)("ng-dirty",re.isDirty)("ng-valid",re.isValid)("ng-invalid",re.isInvalid)("ng-pending",re.isPending)("ng-submitted",re.isSubmitted)},features:[a.qOj]}),Y})();const Jr="VALID",Xn="INVALID",Er="PENDING",Dn="DISABLED";function vo(Y){return(Ze(Y)?Y.validators:Y)||null}function Re(Y,G){return(Ze(G)?G.asyncValidators:Y)||null}function Ze(Y){return null!=Y&&!Array.isArray(Y)&&"object"==typeof Y}function mt(Y,G,U){const re=Y.controls;if(!(G?Object.keys(re):re).length)throw new a.vHH(1e3,"");if(!re[U])throw new a.vHH(1001,"")}function At(Y,G,U){Y._forEachChild((re,je)=>{if(void 0===U[je])throw new a.vHH(1002,"")})}class Pt{constructor(G,U){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(G),this._assignAsyncValidators(U)}get validator(){return this._composedValidatorFn}set validator(G){this._rawValidators=this._composedValidatorFn=G}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(G){this._rawAsyncValidators=this._composedAsyncValidatorFn=G}get parent(){return this._parent}get valid(){return this.status===Jr}get invalid(){return this.status===Xn}get pending(){return this.status==Er}get disabled(){return this.status===Dn}get enabled(){return this.status!==Dn}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(G){this._assignValidators(G)}setAsyncValidators(G){this._assignAsyncValidators(G)}addValidators(G){this.setValidators(ui(G,this._rawValidators))}addAsyncValidators(G){this.setAsyncValidators(ui(G,this._rawAsyncValidators))}removeValidators(G){this.setValidators(Kr(G,this._rawValidators))}removeAsyncValidators(G){this.setAsyncValidators(Kr(G,this._rawAsyncValidators))}hasValidator(G){return Li(this._rawValidators,G)}hasAsyncValidator(G){return Li(this._rawAsyncValidators,G)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(G={}){this.touched=!0,this._parent&&!G.onlySelf&&this._parent.markAsTouched(G)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(G=>G.markAllAsTouched())}markAsUntouched(G={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(U=>{U.markAsUntouched({onlySelf:!0})}),this._parent&&!G.onlySelf&&this._parent._updateTouched(G)}markAsDirty(G={}){this.pristine=!1,this._parent&&!G.onlySelf&&this._parent.markAsDirty(G)}markAsPristine(G={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(U=>{U.markAsPristine({onlySelf:!0})}),this._parent&&!G.onlySelf&&this._parent._updatePristine(G)}markAsPending(G={}){this.status=Er,!1!==G.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!G.onlySelf&&this._parent.markAsPending(G)}disable(G={}){const U=this._parentMarkedDirty(G.onlySelf);this.status=Dn,this.errors=null,this._forEachChild(re=>{re.disable({...G,onlySelf:!0})}),this._updateValue(),!1!==G.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...G,skipPristineCheck:U}),this._onDisabledChange.forEach(re=>re(!0))}enable(G={}){const U=this._parentMarkedDirty(G.onlySelf);this.status=Jr,this._forEachChild(re=>{re.enable({...G,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:G.emitEvent}),this._updateAncestors({...G,skipPristineCheck:U}),this._onDisabledChange.forEach(re=>re(!1))}_updateAncestors(G){this._parent&&!G.onlySelf&&(this._parent.updateValueAndValidity(G),G.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(G){this._parent=G}getRawValue(){return this.value}updateValueAndValidity(G={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Jr||this.status===Er)&&this._runAsyncValidator(G.emitEvent)),!1!==G.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!G.onlySelf&&this._parent.updateValueAndValidity(G)}_updateTreeValidity(G={emitEvent:!0}){this._forEachChild(U=>U._updateTreeValidity(G)),this.updateValueAndValidity({onlySelf:!0,emitEvent:G.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Dn:Jr}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(G){if(this.asyncValidator){this.status=Er,this._hasOwnPendingAsyncValidator=!0;const U=tt(this.asyncValidator(this));this._asyncValidationSubscription=U.subscribe(re=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(re,{emitEvent:G})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(G,U={}){this.errors=G,this._updateControlsErrors(!1!==U.emitEvent)}get(G){let U=G;return null==U||(Array.isArray(U)||(U=U.split(".")),0===U.length)?null:U.reduce((re,je)=>re&&re._find(je),this)}getError(G,U){const re=U?this.get(U):this;return re&&re.errors?re.errors[G]:null}hasError(G,U){return!!this.getError(G,U)}get root(){let G=this;for(;G._parent;)G=G._parent;return G}_updateControlsErrors(G){this.status=this._calculateStatus(),G&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(G)}_initObservables(){this.valueChanges=new a.vpe,this.statusChanges=new a.vpe}_calculateStatus(){return this._allControlsDisabled()?Dn:this.errors?Xn:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Er)?Er:this._anyControlsHaveStatus(Xn)?Xn:Jr}_anyControlsHaveStatus(G){return this._anyControls(U=>U.status===G)}_anyControlsDirty(){return this._anyControls(G=>G.dirty)}_anyControlsTouched(){return this._anyControls(G=>G.touched)}_updatePristine(G={}){this.pristine=!this._anyControlsDirty(),this._parent&&!G.onlySelf&&this._parent._updatePristine(G)}_updateTouched(G={}){this.touched=this._anyControlsTouched(),this._parent&&!G.onlySelf&&this._parent._updateTouched(G)}_registerOnCollectionChange(G){this._onCollectionChange=G}_setUpdateStrategy(G){Ze(G)&&null!=G.updateOn&&(this._updateOn=G.updateOn)}_parentMarkedDirty(G){return!G&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(G){return null}_assignValidators(G){this._rawValidators=Array.isArray(G)?G.slice():G,this._composedValidatorFn=function at(Y){return Array.isArray(Y)?jt(Y):Y||null}(this._rawValidators)}_assignAsyncValidators(G){this._rawAsyncValidators=Array.isArray(G)?G.slice():G,this._composedAsyncValidatorFn=function De(Y){return Array.isArray(Y)?Fn(Y):Y||null}(this._rawAsyncValidators)}}class yn extends Pt{constructor(G,U,re){super(vo(U),Re(re,U)),this.controls=G,this._initObservables(),this._setUpdateStrategy(U),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(G,U){return this.controls[G]?this.controls[G]:(this.controls[G]=U,U.setParent(this),U._registerOnCollectionChange(this._onCollectionChange),U)}addControl(G,U,re={}){this.registerControl(G,U),this.updateValueAndValidity({emitEvent:re.emitEvent}),this._onCollectionChange()}removeControl(G,U={}){this.controls[G]&&this.controls[G]._registerOnCollectionChange(()=>{}),delete this.controls[G],this.updateValueAndValidity({emitEvent:U.emitEvent}),this._onCollectionChange()}setControl(G,U,re={}){this.controls[G]&&this.controls[G]._registerOnCollectionChange(()=>{}),delete this.controls[G],U&&this.registerControl(G,U),this.updateValueAndValidity({emitEvent:re.emitEvent}),this._onCollectionChange()}contains(G){return this.controls.hasOwnProperty(G)&&this.controls[G].enabled}setValue(G,U={}){At(this,0,G),Object.keys(G).forEach(re=>{mt(this,!0,re),this.controls[re].setValue(G[re],{onlySelf:!0,emitEvent:U.emitEvent})}),this.updateValueAndValidity(U)}patchValue(G,U={}){null!=G&&(Object.keys(G).forEach(re=>{const je=this.controls[re];je&&je.patchValue(G[re],{onlySelf:!0,emitEvent:U.emitEvent})}),this.updateValueAndValidity(U))}reset(G={},U={}){this._forEachChild((re,je)=>{re.reset(G[je],{onlySelf:!0,emitEvent:U.emitEvent})}),this._updatePristine(U),this._updateTouched(U),this.updateValueAndValidity(U)}getRawValue(){return this._reduceChildren({},(G,U,re)=>(G[re]=U.getRawValue(),G))}_syncPendingControls(){let G=this._reduceChildren(!1,(U,re)=>!!re._syncPendingControls()||U);return G&&this.updateValueAndValidity({onlySelf:!0}),G}_forEachChild(G){Object.keys(this.controls).forEach(U=>{const re=this.controls[U];re&&G(re,U)})}_setUpControls(){this._forEachChild(G=>{G.setParent(this),G._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(G){for(const[U,re]of Object.entries(this.controls))if(this.contains(U)&&G(re))return!0;return!1}_reduceValue(){return this._reduceChildren({},(U,re,je)=>((re.enabled||this.disabled)&&(U[je]=re.value),U))}_reduceChildren(G,U){let re=G;return this._forEachChild((je,Vt)=>{re=U(re,je,Vt)}),re}_allControlsDisabled(){for(const G of Object.keys(this.controls))if(this.controls[G].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(G){return this.controls.hasOwnProperty(G)?this.controls[G]:null}}const mr=new a.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>Zs}),Zs="always";function _r(Y,G){return[...G.path,Y]}function Ds(Y,G,U=Zs){Es(Y,G),G.valueAccessor.writeValue(Y.value),(Y.disabled||"always"===U)&&G.valueAccessor.setDisabledState?.(Y.disabled),function Vr(Y,G){G.valueAccessor.registerOnChange(U=>{Y._pendingValue=U,Y._pendingChange=!0,Y._pendingDirty=!0,"change"===Y.updateOn&&ga(Y,G)})}(Y,G),function Zf(Y,G){const U=(re,je)=>{G.valueAccessor.writeValue(re),je&&G.viewToModelUpdate(re)};Y.registerOnChange(U),G._registerOnDestroy(()=>{Y._unregisterOnChange(U)})}(Y,G),function Vl(Y,G){G.valueAccessor.registerOnTouched(()=>{Y._pendingTouched=!0,"blur"===Y.updateOn&&Y._pendingChange&&ga(Y,G),"submit"!==Y.updateOn&&Y.markAsTouched()})}(Y,G),function Ka(Y,G){if(G.valueAccessor.setDisabledState){const U=re=>{G.valueAccessor.setDisabledState(re)};Y.registerOnDisabledChange(U),G._registerOnDestroy(()=>{Y._unregisterOnDisabledChange(U)})}}(Y,G)}function us(Y,G,U=!0){const re=()=>{};G.valueAccessor&&(G.valueAccessor.registerOnChange(re),G.valueAccessor.registerOnTouched(re)),Gs(Y,G),Y&&(G._invokeOnDestroyCallbacks(),Y._registerOnCollectionChange(()=>{}))}function pa(Y,G){Y.forEach(U=>{U.registerOnValidatorChange&&U.registerOnValidatorChange(G)})}function Es(Y,G){const U=Di(Y);null!==G.validator?Y.setValidators(ln(U,G.validator)):"function"==typeof U&&Y.setValidators([U]);const re=pi(Y);null!==G.asyncValidator?Y.setAsyncValidators(ln(re,G.asyncValidator)):"function"==typeof re&&Y.setAsyncValidators([re]);const je=()=>Y.updateValueAndValidity();pa(G._rawValidators,je),pa(G._rawAsyncValidators,je)}function Gs(Y,G){let U=!1;if(null!==Y){if(null!==G.validator){const je=Di(Y);if(Array.isArray(je)&&je.length>0){const Vt=je.filter(Wt=>Wt!==G.validator);Vt.length!==je.length&&(U=!0,Y.setValidators(Vt))}}if(null!==G.asyncValidator){const je=pi(Y);if(Array.isArray(je)&&je.length>0){const Vt=je.filter(Wt=>Wt!==G.asyncValidator);Vt.length!==je.length&&(U=!0,Y.setAsyncValidators(Vt))}}}const re=()=>{};return pa(G._rawValidators,re),pa(G._rawAsyncValidators,re),U}function ga(Y,G){Y._pendingDirty&&Y.markAsDirty(),Y.setValue(Y._pendingValue,{emitModelToViewChange:!1}),G.viewToModelUpdate(Y._pendingValue),Y._pendingChange=!1}function Qa(Y,G){Es(Y,G)}function Ws(Y,G){if(!Y.hasOwnProperty("model"))return!1;const U=Y.model;return!!U.isFirstChange()||!Object.is(G,U.currentValue)}function el(Y,G){Y._syncPendingControls(),G.forEach(U=>{const re=U.control;"submit"===re.updateOn&&re._pendingChange&&(U.viewToModelUpdate(re._pendingValue),re._pendingChange=!1)})}function xs(Y,G){if(!G)return null;let U,re,je;return Array.isArray(G),G.forEach(Vt=>{Vt.constructor===ce?U=Vt:function Xa(Y){return Object.getPrototypeOf(Y.constructor)===Fe}(Vt)?re=Vt:je=Vt}),je||re||U||null}const Hl={provide:gi,useExisting:(0,a.Gpc)(()=>_a)},Ts=(()=>Promise.resolve())();let _a=(()=>{class Y extends gi{constructor(U,re,je){super(),this.callSetDisabledState=je,this.submitted=!1,this._directives=new Set,this.ngSubmit=new a.vpe,this.form=new yn({},jt(U),Fn(re))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(U){Ts.then(()=>{const re=this._findContainer(U.path);U.control=re.registerControl(U.name,U.control),Ds(U.control,U,this.callSetDisabledState),U.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(U)})}getControl(U){return this.form.get(U.path)}removeControl(U){Ts.then(()=>{const re=this._findContainer(U.path);re&&re.removeControl(U.name),this._directives.delete(U)})}addFormGroup(U){Ts.then(()=>{const re=this._findContainer(U.path),je=new yn({});Qa(je,U),re.registerControl(U.name,je),je.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(U){Ts.then(()=>{const re=this._findContainer(U.path);re&&re.removeControl(U.name)})}getFormGroup(U){return this.form.get(U.path)}updateModel(U,re){Ts.then(()=>{this.form.get(U.path).setValue(re)})}setValue(U){this.control.setValue(U)}onSubmit(U){return this.submitted=!0,el(this.form,this._directives),this.ngSubmit.emit(U),"dialog"===U?.target?.method}onReset(){this.resetForm()}resetForm(U=void 0){this.form.reset(U),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(U){return U.pop(),U.length?this.form.get(U):this.form}}return Y.\u0275fac=function(U){return new(U||Y)(a.Y36(Le,10),a.Y36(nt,10),a.Y36(mr,8))},Y.\u0275dir=a.lG2({type:Y,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(U,re){1&U&&a.NdJ("submit",function(Vt){return re.onSubmit(Vt)})("reset",function(){return re.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[a._Bn([Hl]),a.qOj]}),Y})();function Tc(Y,G){const U=Y.indexOf(G);U>-1&&Y.splice(U,1)}function bu(Y){return"object"==typeof Y&&null!==Y&&2===Object.keys(Y).length&&"value"in Y&&"disabled"in Y}const yo=class extends Pt{constructor(G=null,U,re){super(vo(U),Re(re,U)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(G),this._setUpdateStrategy(U),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Ze(U)&&(U.nonNullable||U.initialValueIsDefault)&&(this.defaultValue=bu(G)?G.value:G)}setValue(G,U={}){this.value=this._pendingValue=G,this._onChange.length&&!1!==U.emitModelToViewChange&&this._onChange.forEach(re=>re(this.value,!1!==U.emitViewToModelChange)),this.updateValueAndValidity(U)}patchValue(G,U={}){this.setValue(G,U)}reset(G=this.defaultValue,U={}){this._applyFormState(G),this.markAsPristine(U),this.markAsUntouched(U),this.setValue(this.value,U),this._pendingChange=!1}_updateValue(){}_anyControls(G){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(G){this._onChange.push(G)}_unregisterOnChange(G){Tc(this._onChange,G)}registerOnDisabledChange(G){this._onDisabledChange.push(G)}_unregisterOnDisabledChange(G){Tc(this._onDisabledChange,G)}_forEachChild(G){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(G){bu(G)?(this.value=this._pendingValue=G.value,G.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=G}};let Ul=(()=>{class Y extends gi{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return _r(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}}return Y.\u0275fac=function(){let G;return function(re){return(G||(G=a.n5z(Y)))(re||Y)}}(),Y.\u0275dir=a.lG2({type:Y,features:[a.qOj]}),Y})();const $s={provide:gi,useExisting:(0,a.Gpc)(()=>_i)};let _i=(()=>{class Y extends Ul{constructor(U,re,je){super(),this.name="",this._parent=U,this._setValidators(re),this._setAsyncValidators(je)}_checkParentType(){}}return Y.\u0275fac=function(U){return new(U||Y)(a.Y36(gi,5),a.Y36(Le,10),a.Y36(nt,10))},Y.\u0275dir=a.lG2({type:Y,selectors:[["","ngModelGroup",""]],inputs:{name:["ngModelGroup","name"]},exportAs:["ngModelGroup"],features:[a._Bn([$s]),a.qOj]}),Y})();const qs={provide:ii,useExisting:(0,a.Gpc)(()=>Co)},Ks=(()=>Promise.resolve())();let Co=(()=>{class Y extends ii{constructor(U,re,je,Vt,Wt,Mr){super(),this._changeDetectorRef=Wt,this.callSetDisabledState=Mr,this.control=new yo,this._registered=!1,this.name="",this.update=new a.vpe,this._parent=U,this._setValidators(re),this._setAsyncValidators(je),this.valueAccessor=xs(0,Vt)}ngOnChanges(U){if(this._checkForErrors(),!this._registered||"name"in U){if(this._registered&&(this._checkName(),this.formDirective)){const re=U.name.previousValue;this.formDirective.removeControl({name:re,path:this._getPath(re)})}this._setUpControl()}"isDisabled"in U&&this._updateDisabled(U),Ws(U,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(U){this.viewModel=U,this.update.emit(U)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Ds(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(U){Ks.then(()=>{this.control.setValue(U,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(U){const re=U.isDisabled.currentValue,je=0!==re&&(0,a.VuI)(re);Ks.then(()=>{je&&!this.control.disabled?this.control.disable():!je&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(U){return this._parent?_r(U,this._parent):[U]}}return Y.\u0275fac=function(U){return new(U||Y)(a.Y36(gi,9),a.Y36(Le,10),a.Y36(nt,10),a.Y36(de,10),a.Y36(a.sBO,8),a.Y36(mr,8))},Y.\u0275dir=a.lG2({type:Y,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[a._Bn([qs]),a.qOj,a.TTD]}),Y})(),jl=(()=>{class Y{}return Y.\u0275fac=function(U){return new(U||Y)},Y.\u0275dir=a.lG2({type:Y,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),Y})();const bo={provide:de,useExisting:(0,a.Gpc)(()=>vi),multi:!0};let vi=(()=>{class Y extends Fe{writeValue(U){this.setProperty("value",U??"")}registerOnChange(U){this.onChange=re=>{U(""==re?null:parseFloat(re))}}}return Y.\u0275fac=function(){let G;return function(re){return(G||(G=a.n5z(Y)))(re||Y)}}(),Y.\u0275dir=a.lG2({type:Y,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(U,re){1&U&&a.NdJ("input",function(Vt){return re.onChange(Vt.target.value)})("blur",function(){return re.onTouched()})},features:[a._Bn([bo]),a.qOj]}),Y})();const Nt={provide:de,useExisting:(0,a.Gpc)(()=>Is),multi:!0};let $n=(()=>{class Y{}return Y.\u0275fac=function(U){return new(U||Y)},Y.\u0275mod=a.oAB({type:Y}),Y.\u0275inj=a.cJS({}),Y})(),xr=(()=>{class Y{constructor(){this._accessors=[]}add(U,re){this._accessors.push([U,re])}remove(U){for(let re=this._accessors.length-1;re>=0;--re)if(this._accessors[re][1]===U)return void this._accessors.splice(re,1)}select(U){this._accessors.forEach(re=>{this._isSameGroup(re,U)&&re[1]!==U&&re[1].fireUncheck(U.value)})}_isSameGroup(U,re){return!!U[0].control&&U[0]._parent===re._control._parent&&U[1].name===re.name}}return Y.\u0275fac=function(U){return new(U||Y)},Y.\u0275prov=a.Yz7({token:Y,factory:Y.\u0275fac,providedIn:$n}),Y})(),Is=(()=>{class Y extends Fe{constructor(U,re,je,Vt){super(U,re),this._registry=je,this._injector=Vt,this.setDisabledStateFired=!1,this.onChange=()=>{},this.callSetDisabledState=(0,a.f3M)(mr,{optional:!0})??Zs}ngOnInit(){this._control=this._injector.get(ii),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(U){this._state=U===this.value,this.setProperty("checked",this._state)}registerOnChange(U){this._fn=U,this.onChange=()=>{U(this.value),this._registry.select(this)}}setDisabledState(U){(this.setDisabledStateFired||U||"whenDisabledForLegacyCode"===this.callSetDisabledState)&&this.setProperty("disabled",U),this.setDisabledStateFired=!0}fireUncheck(U){this.writeValue(U)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return Y.\u0275fac=function(U){return new(U||Y)(a.Y36(a.Qsj),a.Y36(a.SBq),a.Y36(xr),a.Y36(a.zs3))},Y.\u0275dir=a.lG2({type:Y,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(U,re){1&U&&a.NdJ("change",function(){return re.onChange()})("blur",function(){return re.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[a._Bn([Nt]),a.qOj]}),Y})();const ri=new a.OlP("NgModelWithFormControlWarning"),Wo={provide:ii,useExisting:(0,a.Gpc)(()=>Tr)};let Tr=(()=>{class Y extends ii{set isDisabled(U){}constructor(U,re,je,Vt,Wt){super(),this._ngModelWarningConfig=Vt,this.callSetDisabledState=Wt,this.update=new a.vpe,this._ngModelWarningSent=!1,this._setValidators(U),this._setAsyncValidators(re),this.valueAccessor=xs(0,je)}ngOnChanges(U){if(this._isControlChanged(U)){const re=U.form.previousValue;re&&us(re,this,!1),Ds(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}Ws(U,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&us(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(U){this.viewModel=U,this.update.emit(U)}_isControlChanged(U){return U.hasOwnProperty("form")}}return Y._ngModelWarningSentOnce=!1,Y.\u0275fac=function(U){return new(U||Y)(a.Y36(Le,10),a.Y36(nt,10),a.Y36(de,10),a.Y36(ri,8),a.Y36(mr,8))},Y.\u0275dir=a.lG2({type:Y,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[a._Bn([Wo]),a.qOj,a.TTD]}),Y})();const gn={provide:gi,useExisting:(0,a.Gpc)(()=>As)};let As=(()=>{class Y extends gi{constructor(U,re,je){super(),this.callSetDisabledState=je,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new a.vpe,this._setValidators(U),this._setAsyncValidators(re)}ngOnChanges(U){this._checkFormPresent(),U.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Gs(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(U){const re=this.form.get(U.path);return Ds(re,U,this.callSetDisabledState),re.updateValueAndValidity({emitEvent:!1}),this.directives.push(U),re}getControl(U){return this.form.get(U.path)}removeControl(U){us(U.control||null,U,!1),function yu(Y,G){const U=Y.indexOf(G);U>-1&&Y.splice(U,1)}(this.directives,U)}addFormGroup(U){this._setUpFormContainer(U)}removeFormGroup(U){this._cleanUpFormContainer(U)}getFormGroup(U){return this.form.get(U.path)}addFormArray(U){this._setUpFormContainer(U)}removeFormArray(U){this._cleanUpFormContainer(U)}getFormArray(U){return this.form.get(U.path)}updateModel(U,re){this.form.get(U.path).setValue(re)}onSubmit(U){return this.submitted=!0,el(this.form,this.directives),this.ngSubmit.emit(U),"dialog"===U?.target?.method}onReset(){this.resetForm()}resetForm(U=void 0){this.form.reset(U),this.submitted=!1}_updateDomValue(){this.directives.forEach(U=>{const re=U.control,je=this.form.get(U.path);re!==je&&(us(re||null,U),(Y=>Y instanceof yo)(je)&&(Ds(je,U,this.callSetDisabledState),U.control=je))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(U){const re=this.form.get(U.path);Qa(re,U),re.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(U){if(this.form){const re=this.form.get(U.path);re&&function Ja(Y,G){return Gs(Y,G)}(re,U)&&re.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Es(this.form,this),this._oldForm&&Gs(this._oldForm,this)}_checkFormPresent(){}}return Y.\u0275fac=function(U){return new(U||Y)(a.Y36(Le,10),a.Y36(nt,10),a.Y36(mr,8))},Y.\u0275dir=a.lG2({type:Y,selectors:[["","formGroup",""]],hostBindings:function(U,re){1&U&&a.NdJ("submit",function(Vt){return re.onSubmit(Vt)})("reset",function(){return re.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[a._Bn([gn]),a.qOj,a.TTD]}),Y})();const $o={provide:gi,useExisting:(0,a.Gpc)(()=>Xr)};let Xr=(()=>{class Y extends Ul{constructor(U,re,je){super(),this.name=null,this._parent=U,this._setValidators(re),this._setAsyncValidators(je)}_checkParentType(){So(this._parent)}}return Y.\u0275fac=function(U){return new(U||Y)(a.Y36(gi,13),a.Y36(Le,10),a.Y36(nt,10))},Y.\u0275dir=a.lG2({type:Y,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[a._Bn([$o]),a.qOj]}),Y})();const Yt={provide:gi,useExisting:(0,a.Gpc)(()=>es)};let es=(()=>{class Y extends gi{constructor(U,re,je){super(),this.name=null,this._parent=U,this._setValidators(re),this._setAsyncValidators(je)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return _r(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){So(this._parent)}}return Y.\u0275fac=function(U){return new(U||Y)(a.Y36(gi,13),a.Y36(Le,10),a.Y36(nt,10))},Y.\u0275dir=a.lG2({type:Y,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[a._Bn([Yt]),a.qOj]}),Y})();function So(Y){return!(Y instanceof Xr||Y instanceof As||Y instanceof es)}const ts={provide:ii,useExisting:(0,a.Gpc)(()=>ns)};let ns=(()=>{class Y extends ii{set isDisabled(U){}constructor(U,re,je,Vt,Wt){super(),this._ngModelWarningConfig=Wt,this._added=!1,this.name=null,this.update=new a.vpe,this._ngModelWarningSent=!1,this._parent=U,this._setValidators(re),this._setAsyncValidators(je),this.valueAccessor=xs(0,Vt)}ngOnChanges(U){this._added||this._setUpControl(),Ws(U,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(U){this.viewModel=U,this.update.emit(U)}get path(){return _r(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return Y._ngModelWarningSentOnce=!1,Y.\u0275fac=function(U){return new(U||Y)(a.Y36(gi,13),a.Y36(Le,10),a.Y36(nt,10),a.Y36(de,10),a.Y36(ri,8))},Y.\u0275dir=a.lG2({type:Y,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[a._Bn([ts]),a.qOj,a.TTD]}),Y})();const va={provide:de,useExisting:(0,a.Gpc)(()=>qo),multi:!0};function Br(Y,G){return null==Y?`${G}`:(G&&"object"==typeof G&&(G="Object"),`${Y}: ${G}`.slice(0,50))}let qo=(()=>{class Y extends Fe{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(U){this._compareWith=U}writeValue(U){this.value=U;const je=Br(this._getOptionId(U),U);this.setProperty("value",je)}registerOnChange(U){this.onChange=re=>{this.value=this._getOptionValue(re),U(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(U){for(const re of this._optionMap.keys())if(this._compareWith(this._optionMap.get(re),U))return re;return null}_getOptionValue(U){const re=function Os(Y){return Y.split(":")[0]}(U);return this._optionMap.has(re)?this._optionMap.get(re):U}}return Y.\u0275fac=function(){let G;return function(re){return(G||(G=a.n5z(Y)))(re||Y)}}(),Y.\u0275dir=a.lG2({type:Y,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(U,re){1&U&&a.NdJ("change",function(Vt){return re.onChange(Vt.target.value)})("blur",function(){return re.onTouched()})},inputs:{compareWith:"compareWith"},features:[a._Bn([va]),a.qOj]}),Y})(),nl=(()=>{class Y{constructor(U,re,je){this._element=U,this._renderer=re,this._select=je,this._select&&(this.id=this._select._registerOption())}set ngValue(U){null!=this._select&&(this._select._optionMap.set(this.id,U),this._setElementValue(Br(this.id,U)),this._select.writeValue(this._select.value))}set value(U){this._setElementValue(U),this._select&&this._select.writeValue(this._select.value)}_setElementValue(U){this._renderer.setProperty(this._element.nativeElement,"value",U)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return Y.\u0275fac=function(U){return new(U||Y)(a.Y36(a.SBq),a.Y36(a.Qsj),a.Y36(qo,9))},Y.\u0275dir=a.lG2({type:Y,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),Y})();const Pn={provide:de,useExisting:(0,a.Gpc)(()=>Hr),multi:!0};function Gf(Y,G){return null==Y?`${G}`:("string"==typeof G&&(G=`'${G}'`),G&&"object"==typeof G&&(G="Object"),`${Y}: ${G}`.slice(0,50))}let Hr=(()=>{class Y extends Fe{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(U){this._compareWith=U}writeValue(U){let re;if(this.value=U,Array.isArray(U)){const je=U.map(Vt=>this._getOptionId(Vt));re=(Vt,Wt)=>{Vt._setSelected(je.indexOf(Wt.toString())>-1)}}else re=(je,Vt)=>{je._setSelected(!1)};this._optionMap.forEach(re)}registerOnChange(U){this.onChange=re=>{const je=[],Vt=re.selectedOptions;if(void 0!==Vt){const Wt=Vt;for(let Mr=0;Mr<Wt.length;Mr++){const Xs=this._getOptionValue(Wt[Mr].value);je.push(Xs)}}else{const Wt=re.options;for(let Mr=0;Mr<Wt.length;Mr++){const Ur=Wt[Mr];if(Ur.selected){const Xs=this._getOptionValue(Ur.value);je.push(Xs)}}}this.value=je,U(je)}}_registerOption(U){const re=(this._idCounter++).toString();return this._optionMap.set(re,U),re}_getOptionId(U){for(const re of this._optionMap.keys())if(this._compareWith(this._optionMap.get(re)._value,U))return re;return null}_getOptionValue(U){const re=function zl(Y){return Y.split(":")[0]}(U);return this._optionMap.has(re)?this._optionMap.get(re)._value:U}}return Y.\u0275fac=function(){let G;return function(re){return(G||(G=a.n5z(Y)))(re||Y)}}(),Y.\u0275dir=a.lG2({type:Y,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(U,re){1&U&&a.NdJ("change",function(Vt){return re.onChange(Vt.target)})("blur",function(){return re.onTouched()})},inputs:{compareWith:"compareWith"},features:[a._Bn([Pn]),a.qOj]}),Y})(),Ko=(()=>{class Y{constructor(U,re,je){this._element=U,this._renderer=re,this._select=je,this._select&&(this.id=this._select._registerOption(this))}set ngValue(U){null!=this._select&&(this._value=U,this._setElementValue(Gf(this.id,U)),this._select.writeValue(this._select.value))}set value(U){this._select?(this._value=U,this._setElementValue(Gf(this.id,U)),this._select.writeValue(this._select.value)):this._setElementValue(U)}_setElementValue(U){this._renderer.setProperty(this._element.nativeElement,"value",U)}_setSelected(U){this._renderer.setProperty(this._element.nativeElement,"selected",U)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return Y.\u0275fac=function(U){return new(U||Y)(a.Y36(a.SBq),a.Y36(a.Qsj),a.Y36(Hr,9))},Y.\u0275dir=a.lG2({type:Y,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),Y})(),yi=(()=>{class Y{constructor(){this._validator=yt}ngOnChanges(U){if(this.inputName in U){const re=this.normalizeInput(U[this.inputName].currentValue);this._enabled=this.enabled(re),this._validator=this._enabled?this.createValidator(re):yt,this._onChange&&this._onChange()}}validate(U){return this._validator(U)}registerOnValidatorChange(U){this._onChange=U}enabled(U){return null!=U}}return Y.\u0275fac=function(U){return new(U||Y)},Y.\u0275dir=a.lG2({type:Y,features:[a.TTD]}),Y})();const wo={provide:Le,useExisting:(0,a.Gpc)(()=>Ci),multi:!0};let Ci=(()=>{class Y extends yi{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=a.VuI,this.createValidator=U=>pn}enabled(U){return U}}return Y.\u0275fac=function(){let G;return function(re){return(G||(G=a.n5z(Y)))(re||Y)}}(),Y.\u0275dir=a.lG2({type:Y,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(U,re){2&U&&a.uIk("required",re._enabled?"":null)},inputs:{required:"required"},features:[a._Bn([wo]),a.qOj]}),Y})(),sl=(()=>{class Y{}return Y.\u0275fac=function(U){return new(U||Y)},Y.\u0275mod=a.oAB({type:Y}),Y.\u0275inj=a.cJS({imports:[$n]}),Y})();class Ca extends Pt{constructor(G,U,re){super(vo(U),Re(re,U)),this.controls=G,this._initObservables(),this._setUpdateStrategy(U),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(G){return this.controls[this._adjustIndex(G)]}push(G,U={}){this.controls.push(G),this._registerControl(G),this.updateValueAndValidity({emitEvent:U.emitEvent}),this._onCollectionChange()}insert(G,U,re={}){this.controls.splice(G,0,U),this._registerControl(U),this.updateValueAndValidity({emitEvent:re.emitEvent})}removeAt(G,U={}){let re=this._adjustIndex(G);re<0&&(re=0),this.controls[re]&&this.controls[re]._registerOnCollectionChange(()=>{}),this.controls.splice(re,1),this.updateValueAndValidity({emitEvent:U.emitEvent})}setControl(G,U,re={}){let je=this._adjustIndex(G);je<0&&(je=0),this.controls[je]&&this.controls[je]._registerOnCollectionChange(()=>{}),this.controls.splice(je,1),U&&(this.controls.splice(je,0,U),this._registerControl(U)),this.updateValueAndValidity({emitEvent:re.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(G,U={}){At(this,0,G),G.forEach((re,je)=>{mt(this,!1,je),this.at(je).setValue(re,{onlySelf:!0,emitEvent:U.emitEvent})}),this.updateValueAndValidity(U)}patchValue(G,U={}){null!=G&&(G.forEach((re,je)=>{this.at(je)&&this.at(je).patchValue(re,{onlySelf:!0,emitEvent:U.emitEvent})}),this.updateValueAndValidity(U))}reset(G=[],U={}){this._forEachChild((re,je)=>{re.reset(G[je],{onlySelf:!0,emitEvent:U.emitEvent})}),this._updatePristine(U),this._updateTouched(U),this.updateValueAndValidity(U)}getRawValue(){return this.controls.map(G=>G.getRawValue())}clear(G={}){this.controls.length<1||(this._forEachChild(U=>U._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:G.emitEvent}))}_adjustIndex(G){return G<0?G+this.length:G}_syncPendingControls(){let G=this.controls.reduce((U,re)=>!!re._syncPendingControls()||U,!1);return G&&this.updateValueAndValidity({onlySelf:!0}),G}_forEachChild(G){this.controls.forEach((U,re)=>{G(U,re)})}_updateValue(){this.value=this.controls.filter(G=>G.enabled||this.disabled).map(G=>G.value)}_anyControls(G){return this.controls.some(U=>U.enabled&&G(U))}_setUpControls(){this._forEachChild(G=>this._registerControl(G))}_allControlsDisabled(){for(const G of this.controls)if(G.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(G){G.setParent(this),G._registerOnCollectionChange(this._onCollectionChange)}_find(G){return this.at(G)??null}}let nn=(()=>{class Y{static withConfig(U){return{ngModule:Y,providers:[{provide:mr,useValue:U.callSetDisabledState??Zs}]}}}return Y.\u0275fac=function(U){return new(U||Y)},Y.\u0275mod=a.oAB({type:Y}),Y.\u0275inj=a.cJS({imports:[sl]}),Y})(),Ic=(()=>{class Y{static withConfig(U){return{ngModule:Y,providers:[{provide:ri,useValue:U.warnOnNgModelWithFormControl??"always"},{provide:mr,useValue:U.callSetDisabledState??Zs}]}}}return Y.\u0275fac=function(U){return new(U||Y)},Y.\u0275mod=a.oAB({type:Y}),Y.\u0275inj=a.cJS({imports:[sl]}),Y})()},6593:(pt,Te,L)=>{"use strict";L.d(Te,{Cg:()=>ht,Dx:()=>ii,se:()=>it});var a=L(5879),W=L(6814);class te extends W.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class oe extends te{static makeCurrent(){(0,W.HT)(new oe)}onAndCancel(Re,De,Ze){return Re.addEventListener(De,Ze),()=>{Re.removeEventListener(De,Ze)}}dispatchEvent(Re,De){Re.dispatchEvent(De)}remove(Re){Re.parentNode&&Re.parentNode.removeChild(Re)}createElement(Re,De){return(De=De||this.getDefaultDocument()).createElement(Re)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(Re){return Re.nodeType===Node.ELEMENT_NODE}isShadowRoot(Re){return Re instanceof DocumentFragment}getGlobalEventTarget(Re,De){return"window"===De?window:"document"===De?Re:"body"===De?Re.body:null}getBaseHref(Re){const De=function Ee(){return ge=ge||document.querySelector("base"),ge?ge.getAttribute("href"):null}();return null==De?null:function pe(at){we=we||document.createElement("a"),we.setAttribute("href",at);const Re=we.pathname;return"/"===Re.charAt(0)?Re:`/${Re}`}(De)}resetBaseElement(){ge=null}getUserAgent(){return window.navigator.userAgent}getCookie(Re){return(0,W.Mx)(document.cookie,Re)}}let we,ge=null,ie=(()=>{class at{build(){return new XMLHttpRequest}}return at.\u0275fac=function(De){return new(De||at)},at.\u0275prov=a.Yz7({token:at,factory:at.\u0275fac}),at})();const le=new a.OlP("EventManagerPlugins");let _e=(()=>{class at{constructor(De,Ze){this._zone=Ze,this._eventNameToPlugin=new Map,De.forEach(mt=>{mt.manager=this}),this._plugins=De.slice().reverse()}addEventListener(De,Ze,mt){return this._findPluginFor(Ze).addEventListener(De,Ze,mt)}getZone(){return this._zone}_findPluginFor(De){let Ze=this._eventNameToPlugin.get(De);if(Ze)return Ze;if(Ze=this._plugins.find(At=>At.supports(De)),!Ze)throw new a.vHH(5101,!1);return this._eventNameToPlugin.set(De,Ze),Ze}}return at.\u0275fac=function(De){return new(De||at)(a.LFG(le),a.LFG(a.R0b))},at.\u0275prov=a.Yz7({token:at,factory:at.\u0275fac}),at})();class Ve{constructor(Re){this._doc=Re}}const Fe="ng-app-id";let de=(()=>{class at{constructor(De,Ze,mt,At={}){this.doc=De,this.appId=Ze,this.nonce=mt,this.platformId=At,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,W.PM)(At),this.resetHostNodes()}addStyles(De){for(const Ze of De)1===this.changeUsageCount(Ze,1)&&this.onStyleAdded(Ze)}removeStyles(De){for(const Ze of De)this.changeUsageCount(Ze,-1)<=0&&this.onStyleRemoved(Ze)}ngOnDestroy(){const De=this.styleNodesInDOM;De&&(De.forEach(Ze=>Ze.remove()),De.clear());for(const Ze of this.getAllStyles())this.onStyleRemoved(Ze);this.resetHostNodes()}addHost(De){this.hostNodes.add(De);for(const Ze of this.getAllStyles())this.addStyleToHost(De,Ze)}removeHost(De){this.hostNodes.delete(De)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(De){for(const Ze of this.hostNodes)this.addStyleToHost(Ze,De)}onStyleRemoved(De){const Ze=this.styleRef;Ze.get(De)?.elements?.forEach(mt=>mt.remove()),Ze.delete(De)}collectServerRenderedStyles(){const De=this.doc.head?.querySelectorAll(`style[${Fe}="${this.appId}"]`);if(De?.length){const Ze=new Map;return De.forEach(mt=>{null!=mt.textContent&&Ze.set(mt.textContent,mt)}),Ze}return null}changeUsageCount(De,Ze){const mt=this.styleRef;if(mt.has(De)){const At=mt.get(De);return At.usage+=Ze,At.usage}return mt.set(De,{usage:Ze,elements:[]}),Ze}getStyleElement(De,Ze){const mt=this.styleNodesInDOM,At=mt?.get(Ze);if(At?.parentNode===De)return mt.delete(Ze),At.removeAttribute(Fe),At;{const Pt=this.doc.createElement("style");return this.nonce&&Pt.setAttribute("nonce",this.nonce),Pt.textContent=Ze,this.platformIsServer&&Pt.setAttribute(Fe,this.appId),Pt}}addStyleToHost(De,Ze){const mt=this.getStyleElement(De,Ze);De.appendChild(mt);const At=this.styleRef,Pt=At.get(Ze)?.elements;Pt?Pt.push(mt):At.set(Ze,{elements:[mt],usage:1})}resetHostNodes(){const De=this.hostNodes;De.clear(),De.add(this.doc.head)}}return at.\u0275fac=function(De){return new(De||at)(a.LFG(W.K0),a.LFG(a.AFp),a.LFG(a.Ojb,8),a.LFG(a.Lbi))},at.\u0275prov=a.Yz7({token:at,factory:at.\u0275fac}),at})();const se={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},xe=/%COMP%/g,ye=new a.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function nt(at,Re){return Re.map(De=>De.replace(xe,at))}let it=(()=>{class at{constructor(De,Ze,mt,At,Pt,yn,En,on=null){this.eventManager=De,this.sharedStylesHost=Ze,this.appId=mt,this.removeStylesOnCompDestroy=At,this.doc=Pt,this.platformId=yn,this.ngZone=En,this.nonce=on,this.rendererByCompId=new Map,this.platformIsServer=(0,W.PM)(yn),this.defaultRenderer=new It(De,Pt,En,this.platformIsServer)}createRenderer(De,Ze){if(!De||!Ze)return this.defaultRenderer;this.platformIsServer&&Ze.encapsulation===a.ifc.ShadowDom&&(Ze={...Ze,encapsulation:a.ifc.Emulated});const mt=this.getOrCreateRenderer(De,Ze);return mt instanceof Ke?mt.applyToHost(De):mt instanceof Ai&&mt.applyStyles(),mt}getOrCreateRenderer(De,Ze){const mt=this.rendererByCompId;let At=mt.get(Ze.id);if(!At){const Pt=this.doc,yn=this.ngZone,En=this.eventManager,on=this.sharedStylesHost,nr=this.removeStylesOnCompDestroy,gr=this.platformIsServer;switch(Ze.encapsulation){case a.ifc.Emulated:At=new Ke(En,on,Ze,this.appId,nr,Pt,yn,gr);break;case a.ifc.ShadowDom:return new Cn(En,on,De,Ze,Pt,yn,this.nonce,gr);default:At=new Ai(En,on,Ze,nr,Pt,yn,gr)}At.onDestroy=()=>mt.delete(Ze.id),mt.set(Ze.id,At)}return At}ngOnDestroy(){this.rendererByCompId.clear()}}return at.\u0275fac=function(De){return new(De||at)(a.LFG(_e),a.LFG(de),a.LFG(a.AFp),a.LFG(ye),a.LFG(W.K0),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(a.Ojb))},at.\u0275prov=a.Yz7({token:at,factory:at.\u0275fac}),at})();class It{constructor(Re,De,Ze,mt){this.eventManager=Re,this.doc=De,this.ngZone=Ze,this.platformIsServer=mt,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(Re,De){return De?this.doc.createElementNS(se[De]||De,Re):this.doc.createElement(Re)}createComment(Re){return this.doc.createComment(Re)}createText(Re){return this.doc.createTextNode(Re)}appendChild(Re,De){(pn(Re)?Re.content:Re).appendChild(De)}insertBefore(Re,De,Ze){Re&&(pn(Re)?Re.content:Re).insertBefore(De,Ze)}removeChild(Re,De){Re&&Re.removeChild(De)}selectRootElement(Re,De){let Ze="string"==typeof Re?this.doc.querySelector(Re):Re;if(!Ze)throw new a.vHH(-5104,!1);return De||(Ze.textContent=""),Ze}parentNode(Re){return Re.parentNode}nextSibling(Re){return Re.nextSibling}setAttribute(Re,De,Ze,mt){if(mt){De=mt+":"+De;const At=se[mt];At?Re.setAttributeNS(At,De,Ze):Re.setAttribute(De,Ze)}else Re.setAttribute(De,Ze)}removeAttribute(Re,De,Ze){if(Ze){const mt=se[Ze];mt?Re.removeAttributeNS(mt,De):Re.removeAttribute(`${Ze}:${De}`)}else Re.removeAttribute(De)}addClass(Re,De){Re.classList.add(De)}removeClass(Re,De){Re.classList.remove(De)}setStyle(Re,De,Ze,mt){mt&(a.JOm.DashCase|a.JOm.Important)?Re.style.setProperty(De,Ze,mt&a.JOm.Important?"important":""):Re.style[De]=Ze}removeStyle(Re,De,Ze){Ze&a.JOm.DashCase?Re.style.removeProperty(De):Re.style[De]=""}setProperty(Re,De,Ze){Re[De]=Ze}setValue(Re,De){Re.nodeValue=De}listen(Re,De,Ze){if("string"==typeof Re&&!(Re=(0,W.q)().getGlobalEventTarget(this.doc,Re)))throw new Error(`Unsupported event target ${Re} for event ${De}`);return this.eventManager.addEventListener(Re,De,this.decoratePreventDefault(Ze))}decoratePreventDefault(Re){return De=>{if("__ngUnwrap__"===De)return Re;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>Re(De)):Re(De))&&De.preventDefault()}}}function pn(at){return"TEMPLATE"===at.tagName&&void 0!==at.content}class Cn extends It{constructor(Re,De,Ze,mt,At,Pt,yn,En){super(Re,At,Pt,En),this.sharedStylesHost=De,this.hostEl=Ze,this.shadowRoot=Ze.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const on=nt(mt.id,mt.styles);for(const nr of on){const gr=document.createElement("style");yn&&gr.setAttribute("nonce",yn),gr.textContent=nr,this.shadowRoot.appendChild(gr)}}nodeOrShadowRoot(Re){return Re===this.hostEl?this.shadowRoot:Re}appendChild(Re,De){return super.appendChild(this.nodeOrShadowRoot(Re),De)}insertBefore(Re,De,Ze){return super.insertBefore(this.nodeOrShadowRoot(Re),De,Ze)}removeChild(Re,De){return super.removeChild(this.nodeOrShadowRoot(Re),De)}parentNode(Re){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(Re)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Ai extends It{constructor(Re,De,Ze,mt,At,Pt,yn,En){super(Re,At,Pt,yn),this.sharedStylesHost=De,this.removeStylesOnCompDestroy=mt,this.rendererUsageCount=0,this.styles=En?nt(En,Ze.styles):Ze.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestroy&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class Ke extends Ai{constructor(Re,De,Ze,mt,At,Pt,yn,En){const on=mt+"-"+Ze.id;super(Re,De,Ze,At,Pt,yn,En,on),this.contentAttr=function ke(at){return"_ngcontent-%COMP%".replace(xe,at)}(on),this.hostAttr=function Le(at){return"_nghost-%COMP%".replace(xe,at)}(on)}applyToHost(Re){this.applyStyles(),this.setAttribute(Re,this.hostAttr,"")}createElement(Re,De){const Ze=super.createElement(Re,De);return super.setAttribute(Ze,this.contentAttr,""),Ze}}let rt=(()=>{class at extends Ve{constructor(De){super(De)}supports(De){return!0}addEventListener(De,Ze,mt){return De.addEventListener(Ze,mt,!1),()=>this.removeEventListener(De,Ze,mt)}removeEventListener(De,Ze,mt){return De.removeEventListener(Ze,mt)}}return at.\u0275fac=function(De){return new(De||at)(a.LFG(W.K0))},at.\u0275prov=a.Yz7({token:at,factory:at.\u0275fac}),at})();const ot=["alt","control","meta","shift"],yt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Tt={alt:at=>at.altKey,control:at=>at.ctrlKey,meta:at=>at.metaKey,shift:at=>at.shiftKey};let tt=(()=>{class at extends Ve{constructor(De){super(De)}supports(De){return null!=at.parseEventName(De)}addEventListener(De,Ze,mt){const At=at.parseEventName(Ze),Pt=at.eventCallback(At.fullKey,mt,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,W.q)().onAndCancel(De,At.domEventName,Pt))}static parseEventName(De){const Ze=De.toLowerCase().split("."),mt=Ze.shift();if(0===Ze.length||"keydown"!==mt&&"keyup"!==mt)return null;const At=at._normalizeKey(Ze.pop());let Pt="",yn=Ze.indexOf("code");if(yn>-1&&(Ze.splice(yn,1),Pt="code."),ot.forEach(on=>{const nr=Ze.indexOf(on);nr>-1&&(Ze.splice(nr,1),Pt+=on+".")}),Pt+=At,0!=Ze.length||0===At.length)return null;const En={};return En.domEventName=mt,En.fullKey=Pt,En}static matchEventFullKeyCode(De,Ze){let mt=yt[De.key]||De.key,At="";return Ze.indexOf("code.")>-1&&(mt=De.code,At="code."),!(null==mt||!mt)&&(mt=mt.toLowerCase()," "===mt?mt="space":"."===mt&&(mt="dot"),ot.forEach(Pt=>{Pt!==mt&&(0,Tt[Pt])(De)&&(At+=Pt+".")}),At+=mt,At===Ze)}static eventCallback(De,Ze,mt){return At=>{at.matchEventFullKeyCode(At,De)&&mt.runGuarded(()=>Ze(At))}}static _normalizeKey(De){return"esc"===De?"escape":De}}return at.\u0275fac=function(De){return new(De||at)(a.LFG(W.K0))},at.\u0275prov=a.Yz7({token:at,factory:at.\u0275fac}),at})();function ht(at,Re){return(0,a.iPO)({rootComponent:at,...kt(Re)})}function kt(at){return{appProviders:[...ji,...at?.providers??[]],platformProviders:Fn}}const Fn=[{provide:a.Lbi,useValue:W.bD},{provide:a.g9A,useValue:function Qe(){oe.makeCurrent()},multi:!0},{provide:W.K0,useFactory:function Lt(){return(0,a.RDi)(document),document},deps:[]}],ji=[{provide:a.zSh,useValue:"root"},{provide:a.qLn,useFactory:function jt(){return new a.qLn},deps:[]},{provide:le,useClass:rt,multi:!0,deps:[W.K0,a.R0b,a.Lbi]},{provide:le,useClass:tt,multi:!0,deps:[W.K0]},it,de,_e,{provide:a.FYo,useExisting:it},{provide:W.JF,useClass:ie,deps:[]},[]];let ii=(()=>{class at{constructor(De){this._doc=De}getTitle(){return this._doc.title}setTitle(De){this._doc.title=De||""}}return at.\u0275fac=function(De){return new(De||at)(a.LFG(W.K0))},at.\u0275prov=a.Yz7({token:at,factory:function(De){let Ze=null;return Ze=De?new De:function gi(){return new ii((0,a.LFG)(W.K0))}(),Ze},providedIn:"root"}),at})();typeof window<"u"&&window},4190:(pt,Te,L)=>{"use strict";L.d(Te,{gz:()=>bo,OD:()=>Yo,wN:()=>ee,F0:()=>si,rH:()=>To,Od:()=>Ps,Bz:()=>qf,lC:()=>ri,bU:()=>Ql});var a=L(5879),W=L(2664),te=L(7715),oe=L(2096),ge=L(5619),Ee=L(2572),we=L(6973),pe=L(5211),ue=L(4911),ie=L(8407),le=L(8504),_e=L(6232),Ve=L(3168),Fe=L(8645),de=L(6814),se=L(7398),xe=L(4664),et=L(8180),Ae=L(7921),Je=L(2181),ce=L(1631),ye=L(1374),ke=L(6328),Le=L(9397),nt=L(6306),it=L(6699),It=L(3572),qe=L(9360),St=L(8251);function pn(P){return P<=0?()=>_e.E:(0,qe.e)((F,O)=>{let H=[];F.subscribe((0,St.x)(O,q=>{H.push(q),P<H.length&&H.shift()},()=>{for(const q of H)O.next(q);O.complete()},void 0,()=>{H=null}))})}var Cn=L(3026),Ai=L(2737),rt=L(975),ot=L(4716),yt=L(6196),Tt=L(7537),tt=L(6593);const ht="primary",Ge=Symbol("RouteTitle");class kt{constructor(F){this.params=F||{}}has(F){return Object.prototype.hasOwnProperty.call(this.params,F)}get(F){if(this.has(F)){const O=this.params[F];return Array.isArray(O)?O[0]:O}return null}getAll(F){if(this.has(F)){const O=this.params[F];return Array.isArray(O)?O:[O]}return[]}get keys(){return Object.keys(this.params)}}function Pe(P){return new kt(P)}function Qe(P,F,O){const H=O.path.split("/");if(H.length>P.length||"full"===O.pathMatch&&(F.hasChildren()||H.length<P.length))return null;const q={};for(let ae=0;ae<H.length;ae++){const he=H[ae],Be=P[ae];if(he.startsWith(":"))q[he.substring(1)]=Be;else if(he!==Be.path)return null}return{consumed:P.slice(0,H.length),posParams:q}}function Lt(P,F){const O=P?Object.keys(P):void 0,H=F?Object.keys(F):void 0;if(!O||!H||O.length!=H.length)return!1;let q;for(let ae=0;ae<O.length;ae++)if(q=O[ae],!Fn(P[q],F[q]))return!1;return!0}function Fn(P,F){if(Array.isArray(P)&&Array.isArray(F)){if(P.length!==F.length)return!1;const O=[...P].sort(),H=[...F].sort();return O.every((q,ae)=>H[ae]===q)}return P===F}function ln(P){return P.length>0?P[P.length-1]:null}function Di(P){return(0,W.b)(P)?P:(0,a.QGY)(P)?(0,te.D)(Promise.resolve(P)):(0,oe.of)(P)}const pi={exact:function Kr(P,F,O){if(!un(P.segments,F.segments)||!fr(P.segments,F.segments,O)||P.numberOfChildren!==F.numberOfChildren)return!1;for(const H in F.children)if(!P.children[H]||!Kr(P.children[H],F.children[H],O))return!1;return!0},subset:gi},ji={exact:function ui(P,F){return Lt(P,F)},subset:function fa(P,F){return Object.keys(F).length<=Object.keys(P).length&&Object.keys(F).every(O=>Fn(P[O],F[O]))},ignored:()=>!0};function Li(P,F,O){return pi[O.paths](P.root,F.root,O.matrixParams)&&ji[O.queryParams](P.queryParams,F.queryParams)&&!("exact"===O.fragment&&P.fragment!==F.fragment)}function gi(P,F,O){return ii(P,F,F.segments,O)}function ii(P,F,O,H){if(P.segments.length>O.length){const q=P.segments.slice(0,O.length);return!(!un(q,O)||F.hasChildren()||!fr(q,O,H))}if(P.segments.length===O.length){if(!un(P.segments,O)||!fr(P.segments,O,H))return!1;for(const q in F.children)if(!P.children[q]||!gi(P.children[q],F.children[q],H))return!1;return!0}{const q=O.slice(0,P.segments.length),ae=O.slice(P.segments.length);return!!(un(P.segments,q)&&fr(P.segments,q,H)&&P.children[ht])&&ii(P.children[ht],F,ae,H)}}function fr(P,F,O){return F.every((H,q)=>ji[O](P[q].parameters,H.parameters))}class Oi{constructor(F=new wt([],{}),O={},H=null){this.root=F,this.queryParams=O,this.fragment=H}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Pe(this.queryParams)),this._queryParamMap}toString(){return zi.serialize(this)}}class wt{constructor(F,O){this.segments=F,this.children=O,this.parent=null,Object.values(O).forEach(H=>H.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return mo(this)}}class zt{constructor(F,O){this.path=F,this.parameters=O}get parameterMap(){return this._parameterMap||(this._parameterMap=Pe(this.parameters)),this._parameterMap}toString(){return pr(this)}}function un(P,F){return P.length===F.length&&P.every((O,H)=>O.path===F[H].path)}let mi=(()=>{class P{}return P.\u0275fac=function(O){return new(O||P)},P.\u0275prov=a.Yz7({token:P,factory:function(){return new Un},providedIn:"root"}),P})();class Un{parse(F){const O=new De(F);return new Oi(O.parseRootSegment(),O.parseQueryParams(),O.parseFragment())}serialize(F){const O=`/${Yn(F.root,!0)}`,H=function Ll(P){const F=Object.keys(P).map(O=>{const H=P[O];return Array.isArray(H)?H.map(q=>`${ut(O)}=${ut(q)}`).join("&"):`${ut(O)}=${ut(H)}`}).filter(O=>!!O);return F.length?`?${F.join("&")}`:""}(F.queryParams);return`${O}${H}${"string"==typeof F.fragment?`#${function dn(P){return encodeURI(P)}(F.fragment)}`:""}`}}const zi=new Un;function mo(P){return P.segments.map(F=>pr(F)).join("/")}function Yn(P,F){if(!P.hasChildren())return mo(P);if(F){const O=P.children[ht]?Yn(P.children[ht],!1):"",H=[];return Object.entries(P.children).forEach(([q,ae])=>{q!==ht&&H.push(`${q}:${Yn(ae,!1)}`)}),H.length>0?`${O}(${H.join("//")})`:O}{const O=function Dr(P,F){let O=[];return Object.entries(P.children).forEach(([H,q])=>{H===ht&&(O=O.concat(F(q,H)))}),Object.entries(P.children).forEach(([H,q])=>{H!==ht&&(O=O.concat(F(q,H)))}),O}(P,(H,q)=>q===ht?[Yn(P.children[ht],!1)]:[`${q}:${Yn(H,!1)}`]);return 1===Object.keys(P.children).length&&null!=P.children[ht]?`${mo(P)}/${O[0]}`:`${mo(P)}/(${O.join("//")})`}}function cs(P){return encodeURIComponent(P).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ut(P){return cs(P).replace(/%3B/gi,";")}function ws(P){return cs(P).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function _o(P){return decodeURIComponent(P)}function Go(P){return _o(P.replace(/\+/g,"%20"))}function pr(P){return`${ws(P.path)}${function Qr(P){return Object.keys(P).map(F=>`;${ws(F)}=${ws(P[F])}`).join("")}(P.parameters)}`}const tr=/^[^\/()?;#]+/;function Jr(P){const F=P.match(tr);return F?F[0]:""}const Xn=/^[^\/()?;=#]+/,Dn=/^[^=?&#]+/,at=/^[^&#]+/;class De{constructor(F){this.url=F,this.remaining=F}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new wt([],{}):new wt([],this.parseChildren())}parseQueryParams(){const F={};if(this.consumeOptional("?"))do{this.parseQueryParam(F)}while(this.consumeOptional("&"));return F}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const F=[];for(this.peekStartsWith("(")||F.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),F.push(this.parseSegment());let O={};this.peekStartsWith("/(")&&(this.capture("/"),O=this.parseParens(!0));let H={};return this.peekStartsWith("(")&&(H=this.parseParens(!1)),(F.length>0||Object.keys(O).length>0)&&(H[ht]=new wt(F,O)),H}parseSegment(){const F=Jr(this.remaining);if(""===F&&this.peekStartsWith(";"))throw new a.vHH(4009,!1);return this.capture(F),new zt(_o(F),this.parseMatrixParams())}parseMatrixParams(){const F={};for(;this.consumeOptional(";");)this.parseParam(F);return F}parseParam(F){const O=function Er(P){const F=P.match(Xn);return F?F[0]:""}(this.remaining);if(!O)return;this.capture(O);let H="";if(this.consumeOptional("=")){const q=Jr(this.remaining);q&&(H=q,this.capture(H))}F[_o(O)]=_o(H)}parseQueryParam(F){const O=function vo(P){const F=P.match(Dn);return F?F[0]:""}(this.remaining);if(!O)return;this.capture(O);let H="";if(this.consumeOptional("=")){const he=function Re(P){const F=P.match(at);return F?F[0]:""}(this.remaining);he&&(H=he,this.capture(H))}const q=Go(O),ae=Go(H);if(F.hasOwnProperty(q)){let he=F[q];Array.isArray(he)||(he=[he],F[q]=he),he.push(ae)}else F[q]=ae}parseParens(F){const O={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const H=Jr(this.remaining),q=this.remaining[H.length];if("/"!==q&&")"!==q&&";"!==q)throw new a.vHH(4010,!1);let ae;H.indexOf(":")>-1?(ae=H.slice(0,H.indexOf(":")),this.capture(ae),this.capture(":")):F&&(ae=ht);const he=this.parseChildren();O[ae]=1===Object.keys(he).length?he[ht]:new wt([],he),this.consumeOptional("//")}return O}peekStartsWith(F){return this.remaining.startsWith(F)}consumeOptional(F){return!!this.peekStartsWith(F)&&(this.remaining=this.remaining.substring(F.length),!0)}capture(F){if(!this.consumeOptional(F))throw new a.vHH(4011,!1)}}function Ze(P){return P.segments.length>0?new wt([],{[ht]:P}):P}function mt(P){const F={};for(const H of Object.keys(P.children)){const ae=mt(P.children[H]);if(H===ht&&0===ae.segments.length&&ae.hasChildren())for(const[he,Be]of Object.entries(ae.children))F[he]=Be;else(ae.segments.length>0||ae.hasChildren())&&(F[H]=ae)}return function At(P){if(1===P.numberOfChildren&&P.children[ht]){const F=P.children[ht];return new wt(P.segments.concat(F.segments),F.children)}return P}(new wt(P.segments,F))}function Pt(P){return P instanceof Oi}function En(P){let F;const q=Ze(function O(ae){const he={};for(const bt of ae.children){const $t=O(bt);he[bt.outlet]=$t}const Be=new wt(ae.url,he);return ae===P&&(F=Be),Be}(P.root));return F??q}function on(P,F,O,H){let q=P;for(;q.parent;)q=q.parent;if(0===F.length)return mr(q,q,q,O,H);const ae=function Ds(P){if("string"==typeof P[0]&&1===P.length&&"/"===P[0])return new _r(!0,0,P);let F=0,O=!1;const H=P.reduce((q,ae,he)=>{if("object"==typeof ae&&null!=ae){if(ae.outlets){const Be={};return Object.entries(ae.outlets).forEach(([bt,$t])=>{Be[bt]="string"==typeof $t?$t.split("/"):$t}),[...q,{outlets:Be}]}if(ae.segmentPath)return[...q,ae.segmentPath]}return"string"!=typeof ae?[...q,ae]:0===he?(ae.split("/").forEach((Be,bt)=>{0==bt&&"."===Be||(0==bt&&""===Be?O=!0:".."===Be?F++:""!=Be&&q.push(Be))}),q):[...q,ae]},[]);return new _r(O,F,H)}(F);if(ae.toRoot())return mr(q,q,new wt([],{}),O,H);const he=function pa(P,F,O){if(P.isAbsolute)return new us(F,!0,0);if(!O)return new us(F,!1,NaN);if(null===O.parent)return new us(O,!0,0);const H=nr(P.commands[0])?0:1;return function Ka(P,F,O){let H=P,q=F,ae=O;for(;ae>q;){if(ae-=q,H=H.parent,!H)throw new a.vHH(4005,!1);q=H.segments.length}return new us(H,!1,q-ae)}(O,O.segments.length-1+H,P.numberOfDoubleDots)}(ae,q,P),Be=he.processChildren?Vr(he.segmentGroup,he.index,ae.commands):Gs(he.segmentGroup,he.index,ae.commands);return mr(q,he.segmentGroup,Be,O,H)}function nr(P){return"object"==typeof P&&null!=P&&!P.outlets&&!P.segmentPath}function gr(P){return"object"==typeof P&&null!=P&&P.outlets}function mr(P,F,O,H,q){let he,ae={};H&&Object.entries(H).forEach(([bt,$t])=>{ae[bt]=Array.isArray($t)?$t.map(Jt=>`${Jt}`):`${$t}`}),he=P===F?O:Zs(P,F,O);const Be=Ze(mt(he));return new Oi(Be,ae,q)}function Zs(P,F,O){const H={};return Object.entries(P.children).forEach(([q,ae])=>{H[q]=ae===F?O:Zs(ae,F,O)}),new wt(P.segments,H)}class _r{constructor(F,O,H){if(this.isAbsolute=F,this.numberOfDoubleDots=O,this.commands=H,F&&H.length>0&&nr(H[0]))throw new a.vHH(4003,!1);const q=H.find(gr);if(q&&q!==ln(H))throw new a.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class us{constructor(F,O,H){this.segmentGroup=F,this.processChildren=O,this.index=H}}function Gs(P,F,O){if(P||(P=new wt([],{})),0===P.segments.length&&P.hasChildren())return Vr(P,F,O);const H=function Vl(P,F,O){let H=0,q=F;const ae={match:!1,pathIndex:0,commandIndex:0};for(;q<P.segments.length;){if(H>=O.length)return ae;const he=P.segments[q],Be=O[H];if(gr(Be))break;const bt=`${Be}`,$t=H<O.length-1?O[H+1]:null;if(q>0&&void 0===bt)break;if(bt&&$t&&"object"==typeof $t&&void 0===$t.outlets){if(!Ja(bt,$t,he))return ae;H+=2}else{if(!Ja(bt,{},he))return ae;H++}q++}return{match:!0,pathIndex:q,commandIndex:H}}(P,F,O),q=O.slice(H.commandIndex);if(H.match&&H.pathIndex<P.segments.length){const ae=new wt(P.segments.slice(0,H.pathIndex),{});return ae.children[ht]=new wt(P.segments.slice(H.pathIndex),P.children),Vr(ae,0,q)}return H.match&&0===q.length?new wt(P.segments,{}):H.match&&!P.hasChildren()?ga(P,F,O):H.match?Vr(P,0,q):ga(P,F,O)}function Vr(P,F,O){if(0===O.length)return new wt(P.segments,{});{const H=function Es(P){return gr(P[0])?P[0].outlets:{[ht]:P}}(O),q={};if(!H[ht]&&P.children[ht]&&1===P.numberOfChildren&&0===P.children[ht].segments.length){const ae=Vr(P.children[ht],F,O);return new wt(P.segments,ae.children)}return Object.entries(H).forEach(([ae,he])=>{"string"==typeof he&&(he=[he]),null!==he&&(q[ae]=Gs(P.children[ae],F,he))}),Object.entries(P.children).forEach(([ae,he])=>{void 0===H[ae]&&(q[ae]=he)}),new wt(P.segments,q)}}function ga(P,F,O){const H=P.segments.slice(0,F);let q=0;for(;q<O.length;){const ae=O[q];if(gr(ae)){const bt=Zf(ae.outlets);return new wt(H,bt)}if(0===q&&nr(O[0])){H.push(new zt(P.segments[F].path,Qa(O[0]))),q++;continue}const he=gr(ae)?ae.outlets[ht]:`${ae}`,Be=q<O.length-1?O[q+1]:null;he&&Be&&nr(Be)?(H.push(new zt(he,Qa(Be))),q+=2):(H.push(new zt(he,{})),q++)}return new wt(H,{})}function Zf(P){const F={};return Object.entries(P).forEach(([O,H])=>{"string"==typeof H&&(H=[H]),null!==H&&(F[O]=ga(new wt([],{}),0,H))}),F}function Qa(P){const F={};return Object.entries(P).forEach(([O,H])=>F[O]=`${H}`),F}function Ja(P,F,O){return P==O.path&&Lt(F,O.parameters)}const ma="imperative";class zn{constructor(F,O){this.id=F,this.url=O}}class Yo extends zn{constructor(F,O,H="imperative",q=null){super(F,O),this.type=0,this.navigationTrigger=H,this.restoredState=q}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ys extends zn{constructor(F,O,H){super(F,O),this.urlAfterRedirects=H,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Bl extends zn{constructor(F,O,H,q){super(F,O),this.reason=H,this.code=q,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ws extends zn{constructor(F,O,H,q){super(F,O),this.reason=H,this.code=q,this.type=16}}class Xa extends zn{constructor(F,O,H,q){super(F,O),this.error=H,this.target=q,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class el extends zn{constructor(F,O,H,q){super(F,O),this.urlAfterRedirects=H,this.state=q,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xs extends zn{constructor(F,O,H,q){super(F,O),this.urlAfterRedirects=H,this.state=q,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class yu extends zn{constructor(F,O,H,q,ae){super(F,O),this.urlAfterRedirects=H,this.state=q,this.shouldActivate=ae,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Cu extends zn{constructor(F,O,H,q){super(F,O),this.urlAfterRedirects=H,this.state=q,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Hl extends zn{constructor(F,O,H,q){super(F,O),this.urlAfterRedirects=H,this.state=q,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ts{constructor(F){this.route=F,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class _a{constructor(F){this.route=F,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Tc{constructor(F){this.snapshot=F,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class bu{constructor(F){this.snapshot=F,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class yo{constructor(F){this.snapshot=F,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Qd{constructor(F){this.snapshot=F,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class tl{constructor(F,O,H){this.routerEvent=F,this.position=O,this.anchor=H,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Jd{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new _n,this.attachRef=null}}let _n=(()=>{class P{constructor(){this.contexts=new Map}onChildOutletCreated(O,H){const q=this.getOrCreateContext(O);q.outlet=H,this.contexts.set(O,q)}onChildOutletDestroyed(O){const H=this.getContext(O);H&&(H.outlet=null,H.attachRef=null)}onOutletDeactivated(){const O=this.contexts;return this.contexts=new Map,O}onOutletReAttached(O){this.contexts=O}getOrCreateContext(O){let H=this.getContext(O);return H||(H=new Jd,this.contexts.set(O,H)),H}getContext(O){return this.contexts.get(O)||null}}return P.\u0275fac=function(O){return new(O||P)},P.\u0275prov=a.Yz7({token:P,factory:P.\u0275fac,providedIn:"root"}),P})();class ir{constructor(F){this._root=F}get root(){return this._root.value}parent(F){const O=this.pathFromRoot(F);return O.length>1?O[O.length-2]:null}children(F){const O=Zi(F,this._root);return O?O.children.map(H=>H.value):[]}firstChild(F){const O=Zi(F,this._root);return O&&O.children.length>0?O.children[0].value:null}siblings(F){const O=$s(F,this._root);return O.length<2?[]:O[O.length-2].children.map(q=>q.value).filter(q=>q!==F)}pathFromRoot(F){return $s(F,this._root).map(O=>O.value)}}function Zi(P,F){if(P===F.value)return F;for(const O of F.children){const H=Zi(P,O);if(H)return H}return null}function $s(P,F){if(P===F.value)return[F];for(const O of F.children){const H=$s(P,O);if(H.length)return H.unshift(F),H}return[]}class _i{constructor(F,O){this.value=F,this.children=O}toString(){return`TreeNode(${this.value})`}}function qs(P){const F={};return P&&P.children.forEach(O=>F[O.value.outlet]=O),F}class Ks extends ir{constructor(F,O){super(F),this.snapshot=O,xr(this,F)}toString(){return this.snapshot.toString()}}function Co(P,F){const O=function jl(P,F){const he=new hn([],{},{},"",{},ht,F,null,{});return new $n("",new _i(he,[]))}(0,F),H=new ge.X([new zt("",{})]),q=new ge.X({}),ae=new ge.X({}),he=new ge.X({}),Be=new ge.X(""),bt=new bo(H,q,he,Be,ae,ht,F,O.root);return bt.snapshot=O.root,new Ks(new _i(bt,[]),O)}class bo{constructor(F,O,H,q,ae,he,Be,bt){this.urlSubject=F,this.paramsSubject=O,this.queryParamsSubject=H,this.fragmentSubject=q,this.dataSubject=ae,this.outlet=he,this.component=Be,this._futureSnapshot=bt,this.title=this.dataSubject?.pipe((0,se.U)($t=>$t[Ge]))??(0,oe.of)(void 0),this.url=F,this.params=O,this.queryParams=H,this.fragment=q,this.data=ae}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,se.U)(F=>Pe(F)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,se.U)(F=>Pe(F)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function vi(P,F="emptyOnly"){const O=P.pathFromRoot;let H=0;if("always"!==F)for(H=O.length-1;H>=1;){const q=O[H],ae=O[H-1];if(q.routeConfig&&""===q.routeConfig.path)H--;else{if(ae.component)break;H--}}return function Nt(P){return P.reduce((F,O)=>({params:{...F.params,...O.params},data:{...F.data,...O.data},resolve:{...O.data,...F.resolve,...O.routeConfig?.data,...O._resolvedData}}),{params:{},data:{},resolve:{}})}(O.slice(H))}class hn{get title(){return this.data?.[Ge]}constructor(F,O,H,q,ae,he,Be,bt,$t){this.url=F,this.params=O,this.queryParams=H,this.fragment=q,this.data=ae,this.outlet=he,this.component=Be,this.routeConfig=bt,this._resolve=$t}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Pe(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Pe(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(H=>H.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class $n extends ir{constructor(F,O){super(O),this.url=F,xr(this,O)}toString(){return Is(this._root)}}function xr(P,F){F.value._routerState=P,F.children.forEach(O=>xr(P,O))}function Is(P){const F=P.children.length>0?` { ${P.children.map(Is).join(", ")} } `:"";return`${P.value}${F}`}function Vi(P){if(P.snapshot){const F=P.snapshot,O=P._futureSnapshot;P.snapshot=O,Lt(F.queryParams,O.queryParams)||P.queryParamsSubject.next(O.queryParams),F.fragment!==O.fragment&&P.fragmentSubject.next(O.fragment),Lt(F.params,O.params)||P.paramsSubject.next(O.params),function jt(P,F){if(P.length!==F.length)return!1;for(let O=0;O<P.length;++O)if(!Lt(P[O],F[O]))return!1;return!0}(F.url,O.url)||P.urlSubject.next(O.url),Lt(F.data,O.data)||P.dataSubject.next(O.data)}else P.snapshot=P._futureSnapshot,P.dataSubject.next(P._futureSnapshot.data)}function Ms(P,F){const O=Lt(P.params,F.params)&&function st(P,F){return un(P,F)&&P.every((O,H)=>Lt(O.parameters,F[H].parameters))}(P.url,F.url);return O&&!(!P.parent!=!F.parent)&&(!P.parent||Ms(P.parent,F.parent))}let ri=(()=>{class P{constructor(){this.activated=null,this._activatedRoute=null,this.name=ht,this.activateEvents=new a.vpe,this.deactivateEvents=new a.vpe,this.attachEvents=new a.vpe,this.detachEvents=new a.vpe,this.parentContexts=(0,a.f3M)(_n),this.location=(0,a.f3M)(a.s_b),this.changeDetector=(0,a.f3M)(a.sBO),this.environmentInjector=(0,a.f3M)(a.lqb),this.inputBinder=(0,a.f3M)(Tr,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(O){if(O.name){const{firstChange:H,previousValue:q}=O.name;if(H)return;this.isTrackedInParentContexts(q)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(q)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(O){return this.parentContexts.getContext(O)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const O=this.parentContexts.getContext(this.name);O?.route&&(O.attachRef?this.attach(O.attachRef,O.route):this.activateWith(O.route,O.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new a.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new a.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new a.vHH(4012,!1);this.location.detach();const O=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(O.instance),O}attach(O,H){this.activated=O,this._activatedRoute=H,this.location.insert(O.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(O.instance)}deactivate(){if(this.activated){const O=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(O)}}activateWith(O,H){if(this.isActivated)throw new a.vHH(4013,!1);this._activatedRoute=O;const q=this.location,he=O.snapshot.component,Be=this.parentContexts.getOrCreateContext(this.name).children,bt=new Wo(O,Be,q.injector);this.activated=q.createComponent(he,{index:q.length,injector:bt,environmentInjector:H??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return P.\u0275fac=function(O){return new(O||P)},P.\u0275dir=a.lG2({type:P,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[a.TTD]}),P})();class Wo{constructor(F,O,H){this.route=F,this.childContexts=O,this.parent=H}get(F,O){return F===bo?this.route:F===_n?this.childContexts:this.parent.get(F,O)}}const Tr=new a.OlP("");let gn=(()=>{class P{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(O){this.unsubscribeFromRouteData(O),this.subscribeToRouteData(O)}unsubscribeFromRouteData(O){this.outletDataSubscriptions.get(O)?.unsubscribe(),this.outletDataSubscriptions.delete(O)}subscribeToRouteData(O){const{activatedRoute:H}=O,q=(0,Ee.a)([H.queryParams,H.params,H.data]).pipe((0,xe.w)(([ae,he,Be],bt)=>(Be={...ae,...he,...Be},0===bt?(0,oe.of)(Be):Promise.resolve(Be)))).subscribe(ae=>{if(!O.isActivated||!O.activatedComponentRef||O.activatedRoute!==H||null===H.component)return void this.unsubscribeFromRouteData(O);const he=(0,a.qFp)(H.component);if(he)for(const{templateName:Be}of he.inputs)O.activatedComponentRef.setInput(Be,ae[Be]);else this.unsubscribeFromRouteData(O)});this.outletDataSubscriptions.set(O,q)}}return P.\u0275fac=function(O){return new(O||P)},P.\u0275prov=a.Yz7({token:P,factory:P.\u0275fac}),P})();function $o(P,F,O){if(O&&P.shouldReuseRoute(F.value,O.value.snapshot)){const H=O.value;H._futureSnapshot=F.value;const q=function Xr(P,F,O){return F.children.map(H=>{for(const q of O.children)if(P.shouldReuseRoute(H.value,q.value.snapshot))return $o(P,H,q);return $o(P,H)})}(P,F,O);return new _i(H,q)}{if(P.shouldAttach(F.value)){const ae=P.retrieve(F.value);if(null!==ae){const he=ae.route;return he.value._futureSnapshot=F.value,he.children=F.children.map(Be=>$o(P,Be)),he}}const H=function Yt(P){return new bo(new ge.X(P.url),new ge.X(P.params),new ge.X(P.queryParams),new ge.X(P.fragment),new ge.X(P.data),P.outlet,P.component,P)}(F.value),q=F.children.map(ae=>$o(P,ae));return new _i(H,q)}}const es="ngNavigationCancelingError";function So(P,F){const{redirectTo:O,navigationBehaviorOptions:H}=Pt(F)?{redirectTo:F,navigationBehaviorOptions:void 0}:F,q=ts(!1,0,F);return q.url=O,q.navigationBehaviorOptions=H,q}function ts(P,F,O){const H=new Error("NavigationCancelingError: "+(P||""));return H[es]=!0,H.cancellationCode=F,O&&(H.url=O),H}function ns(P){return va(P)&&Pt(P.url)}function va(P){return P&&P[es]}let Br=(()=>{class P{}return P.\u0275fac=function(O){return new(O||P)},P.\u0275cmp=a.Xpm({type:P,selectors:[["ng-component"]],standalone:!0,features:[a.jDz],decls:1,vars:0,template:function(O,H){1&O&&a._UZ(0,"router-outlet")},dependencies:[ri],encapsulation:2}),P})();function Rs(P){const F=P.children&&P.children.map(Rs),O=F?{...P,children:F}:{...P};return!O.component&&!O.loadComponent&&(F||O.loadChildren)&&O.outlet&&O.outlet!==ht&&(O.component=Br),O}function rr(P){return P.outlet||ht}function Zl(P){if(!P)return null;if(P.routeConfig?._injector)return P.routeConfig._injector;for(let F=P.parent;F;F=F.parent){const O=F.routeConfig;if(O?._loadedInjector)return O._loadedInjector;if(O?._injector)return O._injector}return null}class Gl{constructor(F,O,H,q,ae){this.routeReuseStrategy=F,this.futureState=O,this.currState=H,this.forwardEvent=q,this.inputBindingEnabled=ae}activate(F){const O=this.futureState._root,H=this.currState?this.currState._root:null;this.deactivateChildRoutes(O,H,F),Vi(this.futureState.root),this.activateChildRoutes(O,H,F)}deactivateChildRoutes(F,O,H){const q=qs(O);F.children.forEach(ae=>{const he=ae.value.outlet;this.deactivateRoutes(ae,q[he],H),delete q[he]}),Object.values(q).forEach(ae=>{this.deactivateRouteAndItsChildren(ae,H)})}deactivateRoutes(F,O,H){const q=F.value,ae=O?O.value:null;if(q===ae)if(q.component){const he=H.getContext(q.outlet);he&&this.deactivateChildRoutes(F,O,he.children)}else this.deactivateChildRoutes(F,O,H);else ae&&this.deactivateRouteAndItsChildren(O,H)}deactivateRouteAndItsChildren(F,O){F.value.component&&this.routeReuseStrategy.shouldDetach(F.value.snapshot)?this.detachAndStoreRouteSubtree(F,O):this.deactivateRouteAndOutlet(F,O)}detachAndStoreRouteSubtree(F,O){const H=O.getContext(F.value.outlet),q=H&&F.value.component?H.children:O,ae=qs(F);for(const he of Object.keys(ae))this.deactivateRouteAndItsChildren(ae[he],q);if(H&&H.outlet){const he=H.outlet.detach(),Be=H.children.onOutletDeactivated();this.routeReuseStrategy.store(F.value.snapshot,{componentRef:he,route:F,contexts:Be})}}deactivateRouteAndOutlet(F,O){const H=O.getContext(F.value.outlet),q=H&&F.value.component?H.children:O,ae=qs(F);for(const he of Object.keys(ae))this.deactivateRouteAndItsChildren(ae[he],q);H&&(H.outlet&&(H.outlet.deactivate(),H.children.onOutletDeactivated()),H.attachRef=null,H.route=null)}activateChildRoutes(F,O,H){const q=qs(O);F.children.forEach(ae=>{this.activateRoutes(ae,q[ae.value.outlet],H),this.forwardEvent(new Qd(ae.value.snapshot))}),F.children.length&&this.forwardEvent(new bu(F.value.snapshot))}activateRoutes(F,O,H){const q=F.value,ae=O?O.value:null;if(Vi(q),q===ae)if(q.component){const he=H.getOrCreateContext(q.outlet);this.activateChildRoutes(F,O,he.children)}else this.activateChildRoutes(F,O,H);else if(q.component){const he=H.getOrCreateContext(q.outlet);if(this.routeReuseStrategy.shouldAttach(q.snapshot)){const Be=this.routeReuseStrategy.retrieve(q.snapshot);this.routeReuseStrategy.store(q.snapshot,null),he.children.onOutletReAttached(Be.contexts),he.attachRef=Be.componentRef,he.route=Be.route.value,he.outlet&&he.outlet.attach(Be.componentRef,Be.route.value),Vi(Be.route.value),this.activateChildRoutes(F,null,he.children)}else{const Be=Zl(q.snapshot);he.attachRef=null,he.route=q,he.injector=Be,he.outlet&&he.outlet.activateWith(q,he.injector),this.activateChildRoutes(F,null,he.children)}}else this.activateChildRoutes(F,null,H)}}class wo{constructor(F){this.path=F,this.route=this.path[this.path.length-1]}}class or{constructor(F,O){this.component=F,this.route=O}}function Ci(P,F,O){const H=P._root;return ya(H,F?F._root:null,O,[H.value])}function Do(P,F){const O=Symbol(),H=F.get(P,O);return H===O?"function"!=typeof P||(0,a.Z0I)(P)?F.get(P):P:H}function ya(P,F,O,H,q={canDeactivateChecks:[],canActivateChecks:[]}){const ae=qs(F);return P.children.forEach(he=>{(function Qo(P,F,O,H,q={canDeactivateChecks:[],canActivateChecks:[]}){const ae=P.value,he=F?F.value:null,Be=O?O.getContext(P.value.outlet):null;if(he&&ae.routeConfig===he.routeConfig){const bt=function Yl(P,F,O){if("function"==typeof O)return O(P,F);switch(O){case"pathParamsChange":return!un(P.url,F.url);case"pathParamsOrQueryParamsChange":return!un(P.url,F.url)||!Lt(P.queryParams,F.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ms(P,F)||!Lt(P.queryParams,F.queryParams);default:return!Ms(P,F)}}(he,ae,ae.routeConfig.runGuardsAndResolvers);bt?q.canActivateChecks.push(new wo(H)):(ae.data=he.data,ae._resolvedData=he._resolvedData),ya(P,F,ae.component?Be?Be.children:null:O,H,q),bt&&Be&&Be.outlet&&Be.outlet.isActivated&&q.canDeactivateChecks.push(new or(Be.outlet.component,he))}else he&&rl(F,Be,q),q.canActivateChecks.push(new wo(H)),ya(P,null,ae.component?Be?Be.children:null:O,H,q)})(he,ae[he.value.outlet],O,H.concat([he.value]),q),delete ae[he.value.outlet]}),Object.entries(ae).forEach(([he,Be])=>rl(Be,O.getContext(he),q)),q}function rl(P,F,O){const H=qs(P),q=P.value;Object.entries(H).forEach(([ae,he])=>{rl(he,q.component?F?F.children.getContext(ae):null:F,O)}),O.canDeactivateChecks.push(new or(q.component&&F&&F.outlet&&F.outlet.isActivated?F.outlet.component:null,q))}function Jo(P){return"function"==typeof P}function em(P){return P instanceof we.K||"EmptyError"===P?.name}const Xo=Symbol("INITIAL_VALUE");function Js(){return(0,xe.w)(P=>(0,Ee.a)(P.map(F=>F.pipe((0,et.q)(1),(0,Ae.O)(Xo)))).pipe((0,se.U)(F=>{for(const O of F)if(!0!==O){if(O===Xo)return Xo;if(!1===O||O instanceof Oi)return O}return!0}),(0,Je.h)(F=>F!==Xo),(0,et.q)(1)))}function je(P){return(0,ie.z)((0,Le.b)(F=>{if(Pt(F))throw So(0,F)}),(0,se.U)(F=>!0===F))}class Wt{constructor(F){this.segmentGroup=F||null}}class Mr{constructor(F){this.urlTree=F}}function Ur(P){return(0,le._)(new Wt(P))}function Xs(P){return(0,le._)(new Mr(P))}class bi{constructor(F,O){this.urlSerializer=F,this.urlTree=O}noMatchError(F){return new a.vHH(4002,!1)}lineralizeSegments(F,O){let H=[],q=O.root;for(;;){if(H=H.concat(q.segments),0===q.numberOfChildren)return(0,oe.of)(H);if(q.numberOfChildren>1||!q.children[ht])return(0,le._)(new a.vHH(4e3,!1));q=q.children[ht]}}applyRedirectCommands(F,O,H){return this.applyRedirectCreateUrlTree(O,this.urlSerializer.parse(O),F,H)}applyRedirectCreateUrlTree(F,O,H,q){const ae=this.createSegmentGroup(F,O.root,H,q);return new Oi(ae,this.createQueryParams(O.queryParams,this.urlTree.queryParams),O.fragment)}createQueryParams(F,O){const H={};return Object.entries(F).forEach(([q,ae])=>{if("string"==typeof ae&&ae.startsWith(":")){const Be=ae.substring(1);H[q]=O[Be]}else H[q]=ae}),H}createSegmentGroup(F,O,H,q){const ae=this.createSegments(F,O.segments,H,q);let he={};return Object.entries(O.children).forEach(([Be,bt])=>{he[Be]=this.createSegmentGroup(F,bt,H,q)}),new wt(ae,he)}createSegments(F,O,H,q){return O.map(ae=>ae.path.startsWith(":")?this.findPosParam(F,ae,q):this.findOrReturn(ae,H))}findPosParam(F,O,H){const q=H[O.path.substring(1)];if(!q)throw new a.vHH(4001,!1);return q}findOrReturn(F,O){let H=0;for(const q of O){if(q.path===F.path)return O.splice(H),q;H++}return F}}const Eo={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ds(P,F,O,H,q){const ae=ba(P,F,O);return ae.matched?(H=function Os(P,F){return P.providers&&!P._injector&&(P._injector=(0,a.MMx)(P.providers,F,`Route: ${P.path}`)),P._injector??F}(F,H),function Vt(P,F,O,H){const q=F.canMatch;if(!q||0===q.length)return(0,oe.of)(!0);const ae=q.map(he=>{const Be=Do(he,P);return Di(function sl(P){return P&&Jo(P.canMatch)}(Be)?Be.canMatch(F,O):P.runInContext(()=>Be(F,O)))});return(0,oe.of)(ae).pipe(Js(),je())}(H,F,O).pipe((0,se.U)(he=>!0===he?ae:{...Eo}))):(0,oe.of)(ae)}function ba(P,F,O){if(""===F.path)return"full"===F.pathMatch&&(P.hasChildren()||O.length>0)?{...Eo}:{matched:!0,consumedSegments:[],remainingSegments:O,parameters:{},positionalParamSegments:{}};const q=(F.matcher||Qe)(O,P,F);if(!q)return{...Eo};const ae={};Object.entries(q.posParams??{}).forEach(([Be,bt])=>{ae[Be]=bt.path});const he=q.consumed.length>0?{...ae,...q.consumed[q.consumed.length-1].parameters}:ae;return{matched:!0,consumedSegments:q.consumed,remainingSegments:O.slice(q.consumed.length),parameters:he,positionalParamSegments:q.posParams??{}}}function ta(P,F,O,H){return O.length>0&&function Sa(P,F,O){return O.some(H=>al(P,F,H)&&rr(H)!==ht)}(P,O,H)?{segmentGroup:new wt(F,xo(H,new wt(O,P.children))),slicedSegments:[]}:0===O.length&&function eh(P,F,O){return O.some(H=>al(P,F,H))}(P,O,H)?{segmentGroup:new wt(P.segments,ol(P,0,O,H,P.children)),slicedSegments:O}:{segmentGroup:new wt(P.segments,P.children),slicedSegments:O}}function ol(P,F,O,H,q){const ae={};for(const he of H)if(al(P,O,he)&&!q[rr(he)]){const Be=new wt([],{});ae[rr(he)]=Be}return{...q,...ae}}function xo(P,F){const O={};O[ht]=F;for(const H of P)if(""===H.path&&rr(H)!==ht){const q=new wt([],{});O[rr(H)]=q}return O}function al(P,F,O){return(!(P.hasChildren()||F.length>0)||"full"!==O.pathMatch)&&""===O.path}class nm{constructor(F,O,H,q,ae,he,Be){this.injector=F,this.configLoader=O,this.rootComponentType=H,this.config=q,this.urlTree=ae,this.paramsInheritanceStrategy=he,this.urlSerializer=Be,this.allowRedirects=!0,this.applyRedirects=new bi(this.urlSerializer,this.urlTree)}noMatchError(F){return new a.vHH(4002,!1)}recognize(){const F=ta(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,F,ht).pipe((0,nt.K)(O=>{if(O instanceof Mr)return this.allowRedirects=!1,this.urlTree=O.urlTree,this.match(O.urlTree);throw O instanceof Wt?this.noMatchError(O):O}),(0,se.U)(O=>{const H=new hn([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},ht,this.rootComponentType,null,{}),q=new _i(H,O),ae=new $n("",q),he=function yn(P,F,O=null,H=null){return on(En(P),F,O,H)}(H,[],this.urlTree.queryParams,this.urlTree.fragment);return he.queryParams=this.urlTree.queryParams,ae.url=this.urlSerializer.serialize(he),this.inheritParamsAndData(ae._root),{state:ae,tree:he}}))}match(F){return this.processSegmentGroup(this.injector,this.config,F.root,ht).pipe((0,nt.K)(H=>{throw H instanceof Wt?this.noMatchError(H):H}))}inheritParamsAndData(F){const O=F.value,H=vi(O,this.paramsInheritanceStrategy);O.params=Object.freeze(H.params),O.data=Object.freeze(H.data),F.children.forEach(q=>this.inheritParamsAndData(q))}processSegmentGroup(F,O,H,q){return 0===H.segments.length&&H.hasChildren()?this.processChildren(F,O,H):this.processSegment(F,O,H,H.segments,q,!0)}processChildren(F,O,H){const q=[];for(const ae of Object.keys(H.children))"primary"===ae?q.unshift(ae):q.push(ae);return(0,te.D)(q).pipe((0,ke.b)(ae=>{const he=H.children[ae],Be=function yi(P,F){const O=P.filter(H=>rr(H)===F);return O.push(...P.filter(H=>rr(H)!==F)),O}(O,ae);return this.processSegmentGroup(F,Be,he,ae)}),(0,it.R)((ae,he)=>(ae.push(...he),ae)),(0,It.d)(null),function Ke(P,F){const O=arguments.length>=2;return H=>H.pipe(P?(0,Je.h)((q,ae)=>P(q,ae,H)):Ai.y,pn(1),O?(0,It.d)(F):(0,Cn.T)(()=>new we.K))}(),(0,ce.z)(ae=>{if(null===ae)return Ur(H);const he=Mc(ae);return function Wf(P){P.sort((F,O)=>F.value.outlet===ht?-1:O.value.outlet===ht?1:F.value.outlet.localeCompare(O.value.outlet))}(he),(0,oe.of)(he)}))}processSegment(F,O,H,q,ae,he){return(0,te.D)(O).pipe((0,ke.b)(Be=>this.processSegmentAgainstRoute(Be._injector??F,O,Be,H,q,ae,he).pipe((0,nt.K)(bt=>{if(bt instanceof Wt)return(0,oe.of)(null);throw bt}))),(0,ye.P)(Be=>!!Be),(0,nt.K)(Be=>{if(em(Be))return function wu(P,F,O){return 0===F.length&&!P.children[O]}(H,q,ae)?(0,oe.of)([]):Ur(H);throw Be}))}processSegmentAgainstRoute(F,O,H,q,ae,he,Be){return function bv(P,F,O,H){return!!(rr(P)===H||H!==ht&&al(F,O,P))&&("**"===P.path||ba(F,P,O).matched)}(H,q,ae,he)?void 0===H.redirectTo?this.matchSegmentAgainstRoute(F,q,H,ae,he,Be):Be&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(F,q,O,H,ae,he):Ur(q):Ur(q)}expandSegmentAgainstRouteUsingRedirect(F,O,H,q,ae,he){return"**"===q.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(F,H,q,he):this.expandRegularSegmentAgainstRouteUsingRedirect(F,O,H,q,ae,he)}expandWildCardWithParamsAgainstRouteUsingRedirect(F,O,H,q){const ae=this.applyRedirects.applyRedirectCommands([],H.redirectTo,{});return H.redirectTo.startsWith("/")?Xs(ae):this.applyRedirects.lineralizeSegments(H,ae).pipe((0,ce.z)(he=>{const Be=new wt(he,{});return this.processSegment(F,O,Be,he,q,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(F,O,H,q,ae,he){const{matched:Be,consumedSegments:bt,remainingSegments:$t,positionalParamSegments:Jt}=ba(O,q,ae);if(!Be)return Ur(O);const Kn=this.applyRedirects.applyRedirectCommands(bt,q.redirectTo,Jt);return q.redirectTo.startsWith("/")?Xs(Kn):this.applyRedirects.lineralizeSegments(q,Kn).pipe((0,ce.z)(Wi=>this.processSegment(F,H,O,Wi.concat($t),he,!1)))}matchSegmentAgainstRoute(F,O,H,q,ae,he){let Be;if("**"===H.path){const bt=q.length>0?ln(q).parameters:{},$t=new hn(q,bt,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ql(H),rr(H),H.component??H._loadedComponent??null,H,jr(H));Be=(0,oe.of)({snapshot:$t,consumedSegments:[],remainingSegments:[]}),O.children={}}else Be=ds(O,H,q,F).pipe((0,se.U)(({matched:bt,consumedSegments:$t,remainingSegments:Jt,parameters:Kn})=>bt?{snapshot:new hn($t,Kn,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ql(H),rr(H),H.component??H._loadedComponent??null,H,jr(H)),consumedSegments:$t,remainingSegments:Jt}:null));return Be.pipe((0,xe.w)(bt=>null===bt?Ur(O):this.getChildConfig(F=H._injector??F,H,q).pipe((0,xe.w)(({routes:$t})=>{const Jt=H._loadedInjector??F,{snapshot:Kn,consumedSegments:Wi,remainingSegments:Mu}=bt,{segmentGroup:wa,slicedSegments:Ao}=ta(O,Wi,Mu,$t);if(0===Ao.length&&wa.hasChildren())return this.processChildren(Jt,$t,wa).pipe((0,se.U)(Da=>null===Da?null:[new _i(Kn,Da)]));if(0===$t.length&&0===Ao.length)return(0,oe.of)([new _i(Kn,[])]);const jn=rr(H)===ae;return this.processSegment(Jt,$t,wa,Ao,jn?ht:ae,!0).pipe((0,se.U)(Da=>[new _i(Kn,Da)]))}))))}getChildConfig(F,O,H){return O.children?(0,oe.of)({routes:O.children,injector:F}):O.loadChildren?void 0!==O._loadedRoutes?(0,oe.of)({routes:O._loadedRoutes,injector:O._loadedInjector}):function re(P,F,O,H){const q=F.canLoad;if(void 0===q||0===q.length)return(0,oe.of)(!0);const ae=q.map(he=>{const Be=Do(he,P);return Di(function Qs(P){return P&&Jo(P.canLoad)}(Be)?Be.canLoad(F,O):P.runInContext(()=>Be(F,O)))});return(0,oe.of)(ae).pipe(Js(),je())}(F,O,H).pipe((0,ce.z)(q=>q?this.configLoader.loadChildren(F,O).pipe((0,Le.b)(ae=>{O._loadedRoutes=ae.routes,O._loadedInjector=ae.injector})):function ea(P){return(0,le._)(ts(!1,3))}())):(0,oe.of)({routes:[],injector:F})}}function $f(P){const F=P.value.routeConfig;return F&&""===F.path}function Mc(P){const F=[],O=new Set;for(const H of P){if(!$f(H)){F.push(H);continue}const q=F.find(ae=>H.value.routeConfig===ae.value.routeConfig);void 0!==q?(q.children.push(...H.children),O.add(q)):F.push(H)}for(const H of O){const q=Mc(H.children);F.push(new _i(H.value,q))}return F.filter(H=>!O.has(H))}function ql(P){return P.data||{}}function jr(P){return P.resolve||{}}function Eu(P){return"string"==typeof P.title||null===P.title}function xu(P){return(0,xe.w)(F=>{const O=P(F);return O?(0,te.D)(O).pipe((0,se.U)(()=>F)):(0,oe.of)(F)})}const zr=new a.OlP("ROUTES");let hs=(()=>{class P{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,a.f3M)(a.Sil)}loadComponent(O){if(this.componentLoaders.get(O))return this.componentLoaders.get(O);if(O._loadedComponent)return(0,oe.of)(O._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(O);const H=Di(O.loadComponent()).pipe((0,se.U)(Si),(0,Le.b)(ae=>{this.onLoadEndListener&&this.onLoadEndListener(O),O._loadedComponent=ae}),(0,ot.x)(()=>{this.componentLoaders.delete(O)})),q=new Ve.c(H,()=>new Fe.x).pipe((0,yt.x)());return this.componentLoaders.set(O,q),q}loadChildren(O,H){if(this.childrenLoaders.get(H))return this.childrenLoaders.get(H);if(H._loadedRoutes)return(0,oe.of)({routes:H._loadedRoutes,injector:H._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(H);const ae=this.loadModuleFactoryOrRoutes(H.loadChildren).pipe((0,se.U)(Be=>{this.onLoadEndListener&&this.onLoadEndListener(H);let bt,$t;return Array.isArray(Be)?$t=Be:(bt=Be.create(O).injector,$t=bt.get(zr,[],a.XFs.Self|a.XFs.Optional).flat()),{routes:$t.map(Rs),injector:bt}}),(0,ot.x)(()=>{this.childrenLoaders.delete(H)})),he=new Ve.c(ae,()=>new Fe.x).pipe((0,yt.x)());return this.childrenLoaders.set(H,he),he}loadModuleFactoryOrRoutes(O){return Di(O()).pipe((0,se.U)(Si),(0,ce.z)(H=>H instanceof a.YKP||Array.isArray(H)?(0,oe.of)(H):(0,te.D)(this.compiler.compileModuleAsync(H))))}}return P.\u0275fac=function(O){return new(O||P)},P.\u0275prov=a.Yz7({token:P,factory:P.\u0275fac,providedIn:"root"}),P})();function Si(P){return function nh(P){return P&&"object"==typeof P&&"default"in P}(P)?P.default:P}let eo=(()=>{class P{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Fe.x,this.configLoader=(0,a.f3M)(hs),this.environmentInjector=(0,a.f3M)(a.lqb),this.urlSerializer=(0,a.f3M)(mi),this.rootContexts=(0,a.f3M)(_n),this.inputBindingEnabled=null!==(0,a.f3M)(Tr,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,oe.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=q=>this.events.next(new _a(q)),this.configLoader.onLoadStartListener=q=>this.events.next(new Ts(q))}complete(){this.transitions?.complete()}handleNavigationRequest(O){const H=++this.navigationId;this.transitions?.next({...this.transitions.value,...O,id:H})}setupNavigations(O){return this.transitions=new ge.X({id:0,currentUrlTree:O.currentUrlTree,currentRawUrl:O.currentUrlTree,extractedUrl:O.urlHandlingStrategy.extract(O.currentUrlTree),urlAfterRedirects:O.urlHandlingStrategy.extract(O.currentUrlTree),rawUrl:O.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:ma,restoredState:null,currentSnapshot:O.routerState.snapshot,targetSnapshot:null,currentRouterState:O.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,Je.h)(H=>0!==H.id),(0,se.U)(H=>({...H,extractedUrl:O.urlHandlingStrategy.extract(H.rawUrl)})),(0,xe.w)(H=>{let q=!1,ae=!1;return(0,oe.of)(H).pipe((0,Le.b)(he=>{this.currentNavigation={id:he.id,initialUrl:he.rawUrl,extractedUrl:he.extractedUrl,trigger:he.source,extras:he.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,xe.w)(he=>{const Be=O.browserUrlTree.toString(),bt=!O.navigated||he.extractedUrl.toString()!==Be||Be!==O.currentUrlTree.toString();if(!bt&&"reload"!==(he.extras.onSameUrlNavigation??O.onSameUrlNavigation)){const Jt="";return this.events.next(new Ws(he.id,O.serializeUrl(H.rawUrl),Jt,0)),O.rawUrlTree=he.rawUrl,he.resolve(null),_e.E}if(O.urlHandlingStrategy.shouldProcessUrl(he.rawUrl))return B(he.source)&&(O.browserUrlTree=he.extractedUrl),(0,oe.of)(he).pipe((0,xe.w)(Jt=>{const Kn=this.transitions?.getValue();return this.events.next(new Yo(Jt.id,this.urlSerializer.serialize(Jt.extractedUrl),Jt.source,Jt.restoredState)),Kn!==this.transitions?.getValue()?_e.E:Promise.resolve(Jt)}),function th(P,F,O,H,q,ae){return(0,ce.z)(he=>function tm(P,F,O,H,q,ae,he="emptyOnly"){return new nm(P,F,O,H,q,he,ae).recognize()}(P,F,O,H,he.extractedUrl,q,ae).pipe((0,se.U)(({state:Be,tree:bt})=>({...he,targetSnapshot:Be,urlAfterRedirects:bt}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,O.config,this.urlSerializer,O.paramsInheritanceStrategy),(0,Le.b)(Jt=>{if(H.targetSnapshot=Jt.targetSnapshot,H.urlAfterRedirects=Jt.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Jt.urlAfterRedirects},"eager"===O.urlUpdateStrategy){if(!Jt.extras.skipLocationChange){const Wi=O.urlHandlingStrategy.merge(Jt.urlAfterRedirects,Jt.rawUrl);O.setBrowserUrl(Wi,Jt)}O.browserUrlTree=Jt.urlAfterRedirects}const Kn=new el(Jt.id,this.urlSerializer.serialize(Jt.extractedUrl),this.urlSerializer.serialize(Jt.urlAfterRedirects),Jt.targetSnapshot);this.events.next(Kn)}));if(bt&&O.urlHandlingStrategy.shouldProcessUrl(O.rawUrlTree)){const{id:Jt,extractedUrl:Kn,source:Wi,restoredState:Mu,extras:wa}=he,Ao=new Yo(Jt,this.urlSerializer.serialize(Kn),Wi,Mu);this.events.next(Ao);const jn=Co(0,this.rootComponentType).snapshot;return H={...he,targetSnapshot:jn,urlAfterRedirects:Kn,extras:{...wa,skipLocationChange:!1,replaceUrl:!1}},(0,oe.of)(H)}{const Jt="";return this.events.next(new Ws(he.id,O.serializeUrl(H.extractedUrl),Jt,1)),O.rawUrlTree=he.rawUrl,he.resolve(null),_e.E}}),(0,Le.b)(he=>{const Be=new xs(he.id,this.urlSerializer.serialize(he.extractedUrl),this.urlSerializer.serialize(he.urlAfterRedirects),he.targetSnapshot);this.events.next(Be)}),(0,se.U)(he=>H={...he,guards:Ci(he.targetSnapshot,he.currentSnapshot,this.rootContexts)}),function Su(P,F){return(0,ce.z)(O=>{const{targetSnapshot:H,currentSnapshot:q,guards:{canActivateChecks:ae,canDeactivateChecks:he}}=O;return 0===he.length&&0===ae.length?(0,oe.of)({...O,guardsResult:!0}):function $l(P,F,O,H){return(0,te.D)(P).pipe((0,ce.z)(q=>function U(P,F,O,H,q){const ae=F&&F.routeConfig?F.routeConfig.canDeactivate:null;if(!ae||0===ae.length)return(0,oe.of)(!0);const he=ae.map(Be=>{const bt=Zl(F)??q,$t=Do(Be,bt);return Di(function Wl(P){return P&&Jo(P.canDeactivate)}($t)?$t.canDeactivate(P,F,O,H):bt.runInContext(()=>$t(P,F,O,H))).pipe((0,ye.P)())});return(0,oe.of)(he).pipe(Js())}(q.component,q.route,O,F,H)),(0,ye.P)(q=>!0!==q,!0))}(he,H,q,P).pipe((0,ce.z)(Be=>Be&&function Yf(P){return"boolean"==typeof P}(Be)?function xn(P,F,O,H){return(0,te.D)(F).pipe((0,ke.b)(q=>(0,pe.z)(function Ic(P,F){return null!==P&&F&&F(new Tc(P)),(0,oe.of)(!0)}(q.route.parent,H),function nn(P,F){return null!==P&&F&&F(new yo(P)),(0,oe.of)(!0)}(q.route,H),function G(P,F,O){const H=F[F.length-1],ae=F.slice(0,F.length-1).reverse().map(he=>function il(P){const F=P.routeConfig?P.routeConfig.canActivateChild:null;return F&&0!==F.length?{node:P,guards:F}:null}(he)).filter(he=>null!==he).map(he=>(0,ue.P)(()=>{const Be=he.guards.map(bt=>{const $t=Zl(he.node)??O,Jt=Do(bt,$t);return Di(function Jg(P){return P&&Jo(P.canActivateChild)}(Jt)?Jt.canActivateChild(H,P):$t.runInContext(()=>Jt(H,P))).pipe((0,ye.P)())});return(0,oe.of)(Be).pipe(Js())}));return(0,oe.of)(ae).pipe(Js())}(P,q.path,O),function Y(P,F,O){const H=F.routeConfig?F.routeConfig.canActivate:null;if(!H||0===H.length)return(0,oe.of)(!0);const q=H.map(ae=>(0,ue.P)(()=>{const he=Zl(F)??O,Be=Do(ae,he);return Di(function Cv(P){return P&&Jo(P.canActivate)}(Be)?Be.canActivate(F,P):he.runInContext(()=>Be(F,P))).pipe((0,ye.P)())}));return(0,oe.of)(q).pipe(Js())}(P,q.route,O))),(0,ye.P)(q=>!0!==q,!0))}(H,ae,P,F):(0,oe.of)(Be)),(0,se.U)(Be=>({...O,guardsResult:Be})))})}(this.environmentInjector,he=>this.events.next(he)),(0,Le.b)(he=>{if(H.guardsResult=he.guardsResult,Pt(he.guardsResult))throw So(0,he.guardsResult);const Be=new yu(he.id,this.urlSerializer.serialize(he.extractedUrl),this.urlSerializer.serialize(he.urlAfterRedirects),he.targetSnapshot,!!he.guardsResult);this.events.next(Be)}),(0,Je.h)(he=>!!he.guardsResult||(O.restoreHistory(he),this.cancelNavigationTransition(he,"",3),!1)),xu(he=>{if(he.guards.canActivateChecks.length)return(0,oe.of)(he).pipe((0,Le.b)(Be=>{const bt=new Cu(Be.id,this.urlSerializer.serialize(Be.extractedUrl),this.urlSerializer.serialize(Be.urlAfterRedirects),Be.targetSnapshot);this.events.next(bt)}),(0,xe.w)(Be=>{let bt=!1;return(0,oe.of)(Be).pipe(function Ac(P,F){return(0,ce.z)(O=>{const{targetSnapshot:H,guards:{canActivateChecks:q}}=O;if(!q.length)return(0,oe.of)(O);let ae=0;return(0,te.D)(q).pipe((0,ke.b)(he=>function Kl(P,F,O,H){const q=P.routeConfig,ae=P._resolve;return void 0!==q?.title&&!Eu(q)&&(ae[Ge]=q.title),function Du(P,F,O,H){const q=function Bi(P){return[...Object.keys(P),...Object.getOwnPropertySymbols(P)]}(P);if(0===q.length)return(0,oe.of)({});const ae={};return(0,te.D)(q).pipe((0,ce.z)(he=>function im(P,F,O,H){const q=Zl(F)??H,ae=Do(P,q);return Di(ae.resolve?ae.resolve(F,O):q.runInContext(()=>ae(F,O)))}(P[he],F,O,H).pipe((0,ye.P)(),(0,Le.b)(Be=>{ae[he]=Be}))),pn(1),(0,rt.h)(ae),(0,nt.K)(he=>em(he)?_e.E:(0,le._)(he)))}(ae,P,F,H).pipe((0,se.U)(he=>(P._resolvedData=he,P.data=vi(P,O).resolve,q&&Eu(q)&&(P.data[Ge]=q.title),null)))}(he.route,H,P,F)),(0,Le.b)(()=>ae++),pn(1),(0,ce.z)(he=>ae===q.length?(0,oe.of)(O):_e.E))})}(O.paramsInheritanceStrategy,this.environmentInjector),(0,Le.b)({next:()=>bt=!0,complete:()=>{bt||(O.restoreHistory(Be),this.cancelNavigationTransition(Be,"",2))}}))}),(0,Le.b)(Be=>{const bt=new Hl(Be.id,this.urlSerializer.serialize(Be.extractedUrl),this.urlSerializer.serialize(Be.urlAfterRedirects),Be.targetSnapshot);this.events.next(bt)}))}),xu(he=>{const Be=bt=>{const $t=[];bt.routeConfig?.loadComponent&&!bt.routeConfig._loadedComponent&&$t.push(this.configLoader.loadComponent(bt.routeConfig).pipe((0,Le.b)(Jt=>{bt.component=Jt}),(0,se.U)(()=>{})));for(const Jt of bt.children)$t.push(...Be(Jt));return $t};return(0,Ee.a)(Be(he.targetSnapshot.root)).pipe((0,It.d)(),(0,et.q)(1))}),xu(()=>this.afterPreactivation()),(0,se.U)(he=>{const Be=function As(P,F,O){const H=$o(P,F._root,O?O._root:void 0);return new Ks(H,F)}(O.routeReuseStrategy,he.targetSnapshot,he.currentRouterState);return H={...he,targetRouterState:Be}}),(0,Le.b)(he=>{O.currentUrlTree=he.urlAfterRedirects,O.rawUrlTree=O.urlHandlingStrategy.merge(he.urlAfterRedirects,he.rawUrl),O.routerState=he.targetRouterState,"deferred"===O.urlUpdateStrategy&&(he.extras.skipLocationChange||O.setBrowserUrl(O.rawUrlTree,he),O.browserUrlTree=he.urlAfterRedirects)}),((P,F,O,H)=>(0,se.U)(q=>(new Gl(F,q.targetRouterState,q.currentRouterState,O,H).activate(P),q)))(this.rootContexts,O.routeReuseStrategy,he=>this.events.next(he),this.inputBindingEnabled),(0,et.q)(1),(0,Le.b)({next:he=>{q=!0,this.lastSuccessfulNavigation=this.currentNavigation,O.navigated=!0,this.events.next(new Ys(he.id,this.urlSerializer.serialize(he.extractedUrl),this.urlSerializer.serialize(O.currentUrlTree))),O.titleStrategy?.updateTitle(he.targetRouterState.snapshot),he.resolve(!0)},complete:()=>{q=!0}}),(0,ot.x)(()=>{q||ae||this.cancelNavigationTransition(H,"",1),this.currentNavigation?.id===H.id&&(this.currentNavigation=null)}),(0,nt.K)(he=>{if(ae=!0,va(he)){ns(he)||(O.navigated=!0,O.restoreHistory(H,!0));const Be=new Bl(H.id,this.urlSerializer.serialize(H.extractedUrl),he.message,he.cancellationCode);if(this.events.next(Be),ns(he)){const bt=O.urlHandlingStrategy.merge(he.url,O.rawUrlTree),$t={skipLocationChange:H.extras.skipLocationChange,replaceUrl:"eager"===O.urlUpdateStrategy||B(H.source)};O.scheduleNavigation(bt,ma,null,$t,{resolve:H.resolve,reject:H.reject,promise:H.promise})}else H.resolve(!1)}else{O.restoreHistory(H,!0);const Be=new Xa(H.id,this.urlSerializer.serialize(H.extractedUrl),he,H.targetSnapshot??void 0);this.events.next(Be);try{H.resolve(O.errorHandler(he))}catch(bt){H.reject(bt)}}return _e.E}))}))}cancelNavigationTransition(O,H,q){const ae=new Bl(O.id,this.urlSerializer.serialize(O.extractedUrl),H,q);this.events.next(ae),O.resolve(!1)}}return P.\u0275fac=function(O){return new(O||P)},P.\u0275prov=a.Yz7({token:P,factory:P.\u0275fac,providedIn:"root"}),P})();function B(P){return P!==ma}let K=(()=>{class P{buildTitle(O){let H,q=O.root;for(;void 0!==q;)H=this.getResolvedTitleForRoute(q)??H,q=q.children.find(ae=>ae.outlet===ht);return H}getResolvedTitleForRoute(O){return O.data[Ge]}}return P.\u0275fac=function(O){return new(O||P)},P.\u0275prov=a.Yz7({token:P,factory:function(){return(0,a.f3M)(j)},providedIn:"root"}),P})(),j=(()=>{class P extends K{constructor(O){super(),this.title=O}updateTitle(O){const H=this.buildTitle(O);void 0!==H&&this.title.setTitle(H)}}return P.\u0275fac=function(O){return new(O||P)(a.LFG(tt.Dx))},P.\u0275prov=a.Yz7({token:P,factory:P.\u0275fac,providedIn:"root"}),P})(),ee=(()=>{class P{}return P.\u0275fac=function(O){return new(O||P)},P.\u0275prov=a.Yz7({token:P,factory:function(){return(0,a.f3M)($e)},providedIn:"root"}),P})();class Se{shouldDetach(F){return!1}store(F,O){}shouldAttach(F){return!1}retrieve(F){return null}shouldReuseRoute(F,O){return F.routeConfig===O.routeConfig}}let $e=(()=>{class P extends Se{}return P.\u0275fac=function(){let F;return function(H){return(F||(F=a.n5z(P)))(H||P)}}(),P.\u0275prov=a.Yz7({token:P,factory:P.\u0275fac,providedIn:"root"}),P})();const lt=new a.OlP("",{providedIn:"root",factory:()=>({})});let Gt=(()=>{class P{}return P.\u0275fac=function(O){return new(O||P)},P.\u0275prov=a.Yz7({token:P,factory:function(){return(0,a.f3M)(qn)},providedIn:"root"}),P})(),qn=(()=>{class P{shouldProcessUrl(O){return!0}extract(O){return O}merge(O,H){return O}}return P.\u0275fac=function(O){return new(O||P)},P.\u0275prov=a.Yz7({token:P,factory:P.\u0275fac,providedIn:"root"}),P})();var cn=(()=>((cn=cn||{})[cn.COMPLETE=0]="COMPLETE",cn[cn.FAILED=1]="FAILED",cn[cn.REDIRECTING=2]="REDIRECTING",cn))();function Mn(P,F){P.events.pipe((0,Je.h)(O=>O instanceof Ys||O instanceof Bl||O instanceof Xa||O instanceof Ws),(0,se.U)(O=>O instanceof Ys||O instanceof Ws?cn.COMPLETE:O instanceof Bl&&(0===O.code||1===O.code)?cn.REDIRECTING:cn.FAILED),(0,Je.h)(O=>O!==cn.REDIRECTING),(0,et.q)(1)).subscribe(()=>{F()})}function bn(P){throw P}function wi(P,F,O){return F.parse("/")}const An={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ei={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let si=(()=>{class P{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,a.f3M)(a.c2e),this.isNgZoneEnabled=!1,this.options=(0,a.f3M)(lt,{optional:!0})||{},this.pendingTasks=(0,a.f3M)(a.HDt),this.errorHandler=this.options.errorHandler||bn,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||wi,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,a.f3M)(Gt),this.routeReuseStrategy=(0,a.f3M)(ee),this.titleStrategy=(0,a.f3M)(K),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,a.f3M)(zr,{optional:!0})?.flat()??[],this.navigationTransitions=(0,a.f3M)(eo),this.urlSerializer=(0,a.f3M)(mi),this.location=(0,a.f3M)(de.Ye),this.componentInputBindingEnabled=!!(0,a.f3M)(Tr,{optional:!0}),this.isNgZoneEnabled=(0,a.f3M)(a.R0b)instanceof a.R0b&&a.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Oi,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Co(0,null),this.navigationTransitions.setupNavigations(this).subscribe(O=>{this.lastSuccessfulId=O.id,this.currentPageId=this.browserPageId??0},O=>{this.console.warn(`Unhandled Navigation Error: ${O}`)})}resetRootComponentType(O){this.routerState.root.component=O,this.navigationTransitions.rootComponentType=O}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const O=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),ma,O)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(O=>{const H="popstate"===O.type?"popstate":"hashchange";"popstate"===H&&setTimeout(()=>{this.navigateToSyncWithBrowser(O.url,H,O.state)},0)}))}navigateToSyncWithBrowser(O,H,q){const ae={replaceUrl:!0},he=q?.navigationId?q:null;if(q){const bt={...q};delete bt.navigationId,delete bt.\u0275routerPageId,0!==Object.keys(bt).length&&(ae.state=bt)}const Be=this.parseUrl(O);this.scheduleNavigation(Be,H,he,ae)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(O){this.config=O.map(Rs),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(O,H={}){const{relativeTo:q,queryParams:ae,fragment:he,queryParamsHandling:Be,preserveFragment:bt}=H,$t=bt?this.currentUrlTree.fragment:he;let Kn,Jt=null;switch(Be){case"merge":Jt={...this.currentUrlTree.queryParams,...ae};break;case"preserve":Jt=this.currentUrlTree.queryParams;break;default:Jt=ae||null}null!==Jt&&(Jt=this.removeEmptyProps(Jt));try{Kn=En(q?q.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof O[0]||!O[0].startsWith("/"))&&(O=[]),Kn=this.currentUrlTree.root}return on(Kn,O,Jt,$t??null)}navigateByUrl(O,H={skipLocationChange:!1}){const q=Pt(O)?O:this.parseUrl(O),ae=this.urlHandlingStrategy.merge(q,this.rawUrlTree);return this.scheduleNavigation(ae,ma,null,H)}navigate(O,H={skipLocationChange:!1}){return function Qt(P){for(let F=0;F<P.length;F++)if(null==P[F])throw new a.vHH(4008,!1)}(O),this.navigateByUrl(this.createUrlTree(O,H),H)}serializeUrl(O){return this.urlSerializer.serialize(O)}parseUrl(O){let H;try{H=this.urlSerializer.parse(O)}catch(q){H=this.malformedUriErrorHandler(q,this.urlSerializer,O)}return H}isActive(O,H){let q;if(q=!0===H?{...An}:!1===H?{...ei}:H,Pt(O))return Li(this.currentUrlTree,O,q);const ae=this.parseUrl(O);return Li(this.currentUrlTree,ae,q)}removeEmptyProps(O){return Object.keys(O).reduce((H,q)=>{const ae=O[q];return null!=ae&&(H[q]=ae),H},{})}scheduleNavigation(O,H,q,ae,he){if(this.disposed)return Promise.resolve(!1);let Be,bt,$t;he?(Be=he.resolve,bt=he.reject,$t=he.promise):$t=new Promise((Kn,Wi)=>{Be=Kn,bt=Wi});const Jt=this.pendingTasks.add();return Mn(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(Jt))}),this.navigationTransitions.handleNavigationRequest({source:H,restoredState:q,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:O,extras:ae,resolve:Be,reject:bt,promise:$t,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),$t.catch(Kn=>Promise.reject(Kn))}setBrowserUrl(O,H){const q=this.urlSerializer.serialize(O);if(this.location.isCurrentPathEqualTo(q)||H.extras.replaceUrl){const he={...H.extras.state,...this.generateNgRouterState(H.id,this.browserPageId)};this.location.replaceState(q,"",he)}else{const ae={...H.extras.state,...this.generateNgRouterState(H.id,(this.browserPageId??0)+1)};this.location.go(q,"",ae)}}restoreHistory(O,H=!1){if("computed"===this.canceledNavigationResolution){const ae=this.currentPageId-(this.browserPageId??this.currentPageId);0!==ae?this.location.historyGo(ae):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===ae&&(this.resetState(O),this.browserUrlTree=O.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(H&&this.resetState(O),this.resetUrlToCurrentUrlTree())}resetState(O){this.routerState=O.currentRouterState,this.currentUrlTree=O.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,O.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(O,H){return"computed"===this.canceledNavigationResolution?{navigationId:O,\u0275routerPageId:H}:{navigationId:O}}}return P.\u0275fac=function(O){return new(O||P)},P.\u0275prov=a.Yz7({token:P,factory:P.\u0275fac,providedIn:"root"}),P})(),To=(()=>{class P{constructor(O,H,q,ae,he,Be){this.router=O,this.route=H,this.tabIndexAttribute=q,this.renderer=ae,this.el=he,this.locationStrategy=Be,this.href=null,this.commands=null,this.onChanges=new Fe.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const bt=he.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===bt||"area"===bt,this.isAnchorElement?this.subscription=O.events.subscribe($t=>{$t instanceof Ys&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(O){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",O)}ngOnChanges(O){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(O){null!=O?(this.commands=Array.isArray(O)?O:[O],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(O,H,q,ae,he){return!!(null===this.urlTree||this.isAnchorElement&&(0!==O||H||q||ae||he||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const O=null===this.href?null:(0,a.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",O)}applyAttributeValue(O,H){const q=this.renderer,ae=this.el.nativeElement;null!==H?q.setAttribute(ae,O,H):q.removeAttribute(ae,O)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return P.\u0275fac=function(O){return new(O||P)(a.Y36(si),a.Y36(bo),a.$8M("tabindex"),a.Y36(a.Qsj),a.Y36(a.SBq),a.Y36(de.S$))},P.\u0275dir=a.lG2({type:P,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(O,H){1&O&&a.NdJ("click",function(ae){return H.onClick(ae.button,ae.ctrlKey,ae.shiftKey,ae.altKey,ae.metaKey)}),2&O&&a.uIk("target",H.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",a.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",a.VuI],replaceUrl:["replaceUrl","replaceUrl",a.VuI],routerLink:"routerLink"},standalone:!0,features:[a.Xq5,a.TTD]}),P})(),Ps=(()=>{class P{get isActive(){return this._isActive}constructor(O,H,q,ae,he){this.router=O,this.element=H,this.renderer=q,this.cdr=ae,this.link=he,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new a.vpe,this.routerEventsSubscription=O.events.subscribe(Be=>{Be instanceof Ys&&this.update()})}ngAfterContentInit(){(0,oe.of)(this.links.changes,(0,oe.of)(null)).pipe((0,Tt.J)()).subscribe(O=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const O=[...this.links.toArray(),this.link].filter(H=>!!H).map(H=>H.onChanges);this.linkInputChangesSubscription=(0,te.D)(O).pipe((0,Tt.J)()).subscribe(H=>{this._isActive!==this.isLinkActive(this.router)(H)&&this.update()})}set routerLinkActive(O){const H=Array.isArray(O)?O:O.split(" ");this.classes=H.filter(q=>!!q)}ngOnChanges(O){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const O=this.hasActiveLinks();this._isActive!==O&&(this._isActive=O,this.cdr.markForCheck(),this.classes.forEach(H=>{O?this.renderer.addClass(this.element.nativeElement,H):this.renderer.removeClass(this.element.nativeElement,H)}),O&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(O))})}isLinkActive(O){const H=function ll(P){return!!P.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return q=>!!q.urlTree&&O.isActive(q.urlTree,H)}hasActiveLinks(){const O=this.isLinkActive(this.router);return this.link&&O(this.link)||this.links.some(O)}}return P.\u0275fac=function(O){return new(O||P)(a.Y36(si),a.Y36(a.SBq),a.Y36(a.Qsj),a.Y36(a.sBO),a.Y36(To,8))},P.\u0275dir=a.lG2({type:P,selectors:[["","routerLinkActive",""]],contentQueries:function(O,H,q){if(1&O&&a.Suo(q,To,5),2&O){let ae;a.iGM(ae=a.CRH())&&(H.links=ae)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[a.TTD]}),P})();class fs{}let Io=(()=>{class P{constructor(O,H,q,ae,he){this.router=O,this.injector=q,this.preloadingStrategy=ae,this.loader=he}setUpPreloading(){this.subscription=this.router.events.pipe((0,Je.h)(O=>O instanceof Ys),(0,ke.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(O,H){const q=[];for(const ae of H){ae.providers&&!ae._injector&&(ae._injector=(0,a.MMx)(ae.providers,O,`Route: ${ae.path}`));const he=ae._injector??O,Be=ae._loadedInjector??he;(ae.loadChildren&&!ae._loadedRoutes&&void 0===ae.canLoad||ae.loadComponent&&!ae._loadedComponent)&&q.push(this.preloadConfig(he,ae)),(ae.children||ae._loadedRoutes)&&q.push(this.processRoutes(Be,ae.children??ae._loadedRoutes))}return(0,te.D)(q).pipe((0,Tt.J)())}preloadConfig(O,H){return this.preloadingStrategy.preload(H,()=>{let q;q=H.loadChildren&&void 0===H.canLoad?this.loader.loadChildren(O,H):(0,oe.of)(null);const ae=q.pipe((0,ce.z)(he=>null===he?(0,oe.of)(void 0):(H._loadedRoutes=he.routes,H._loadedInjector=he.injector,this.processRoutes(he.injector??O,he.routes))));if(H.loadComponent&&!H._loadedComponent){const he=this.loader.loadComponent(H);return(0,te.D)([ae,he]).pipe((0,Tt.J)())}return ae})}}return P.\u0275fac=function(O){return new(O||P)(a.LFG(si),a.LFG(a.Sil),a.LFG(a.lqb),a.LFG(fs),a.LFG(hs))},P.\u0275prov=a.Yz7({token:P,factory:P.\u0275fac,providedIn:"root"}),P})();const ih=new a.OlP("");let Tu=(()=>{class P{constructor(O,H,q,ae,he={}){this.urlSerializer=O,this.transitions=H,this.viewportScroller=q,this.zone=ae,this.options=he,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},he.scrollPositionRestoration=he.scrollPositionRestoration||"disabled",he.anchorScrolling=he.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(O=>{O instanceof Yo?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=O.navigationTrigger,this.restoredId=O.restoredState?O.restoredState.navigationId:0):O instanceof Ys?(this.lastId=O.id,this.scheduleScrollEvent(O,this.urlSerializer.parse(O.urlAfterRedirects).fragment)):O instanceof Ws&&0===O.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(O,this.urlSerializer.parse(O.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(O=>{O instanceof tl&&(O.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(O.position):O.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(O.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(O,H){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new tl(O,"popstate"===this.lastSource?this.store[this.restoredId]:null,H))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return P.\u0275fac=function(O){a.$Z()},P.\u0275prov=a.Yz7({token:P,factory:P.\u0275fac}),P})();function Ql(P,...F){return(0,a.MR2)([{provide:zr,multi:!0,useValue:P},[],{provide:bo,useFactory:Jl,deps:[si]},{provide:a.tb,multi:!0,useFactory:ar},F.map(O=>O.\u0275providers)])}function Jl(P){return P.routerState.root}function Mo(P,F){return{\u0275kind:P,\u0275providers:F}}function ar(){const P=(0,a.f3M)(a.zs3);return F=>{const O=P.get(a.z2F);if(F!==O.components[0])return;const H=P.get(si),q=P.get(Iu);1===P.get(ks)&&H.initialNavigation(),P.get(cl,null,a.XFs.Optional)?.setUpPreloading(),P.get(ih,null,a.XFs.Optional)?.init(),H.resetRootComponentType(O.componentTypes[0]),q.closed||(q.next(),q.complete(),q.unsubscribe())}}const Iu=new a.OlP("",{factory:()=>new Fe.x}),ks=new a.OlP("",{providedIn:"root",factory:()=>1}),cl=new a.OlP("");function A1(P){return Mo(0,[{provide:cl,useExisting:Io},{provide:fs,useExisting:P}])}const ms=new a.OlP("ROUTER_FORROOT_GUARD"),rm=[de.Ye,{provide:mi,useClass:Un},si,_n,{provide:bo,useFactory:Jl,deps:[si]},hs,[]];function sm(){return new a.PXZ("Router",si)}let qf=(()=>{class P{constructor(O){}static forRoot(O,H){return{ngModule:P,providers:[rm,[],{provide:zr,multi:!0,useValue:O},{provide:ms,useFactory:Yi,deps:[[si,new a.FiY,new a.tp0]]},{provide:lt,useValue:H||{}},H?.useHash?{provide:de.S$,useClass:de.Do}:{provide:de.S$,useClass:de.b0},{provide:ih,useFactory:()=>{const P=(0,a.f3M)(de.EM),F=(0,a.f3M)(a.R0b),O=(0,a.f3M)(lt),H=(0,a.f3M)(eo),q=(0,a.f3M)(mi);return O.scrollOffset&&P.setOffset(O.scrollOffset),new Tu(q,H,P,F,O)}},H?.preloadingStrategy?A1(H.preloadingStrategy).\u0275providers:[],{provide:a.PXZ,multi:!0,useFactory:sm},H?.initialNavigation?Qf(H):[],H?.bindToComponentInputs?Mo(8,[gn,{provide:Tr,useExisting:gn}]).\u0275providers:[],[{provide:Xl,useFactory:ar},{provide:a.tb,multi:!0,useExisting:Xl}]]}}static forChild(O){return{ngModule:P,providers:[{provide:zr,multi:!0,useValue:O}]}}}return P.\u0275fac=function(O){return new(O||P)(a.LFG(ms,8))},P.\u0275mod=a.oAB({type:P}),P.\u0275inj=a.cJS({}),P})();function Yi(P){return"guarded"}function Qf(P){return["disabled"===P.initialNavigation?Mo(3,[{provide:a.ip1,multi:!0,useFactory:()=>{const F=(0,a.f3M)(si);return()=>{F.setUpLocationChangeListener()}}},{provide:ks,useValue:2}]).\u0275providers:[],"enabledBlocking"===P.initialNavigation?Mo(2,[{provide:ks,useValue:0},{provide:a.ip1,multi:!0,deps:[a.zs3],useFactory:F=>{const O=F.get(de.V_,Promise.resolve());return()=>O.then(()=>new Promise(H=>{const q=F.get(si),ae=F.get(Iu);Mn(q,()=>{H(!0)}),F.get(eo).afterPreactivation=()=>(H(!0),ae.closed?(0,oe.of)(void 0):ae),q.initialNavigation()}))}}]).\u0275providers:[]]}const Xl=new a.OlP("")},9482:(pt,Te,L)=>{"use strict";function a(W){return W}L.d(Te,{h:()=>a})},4893:(pt,Te,L)=>{"use strict";L.d(Te,{Q:()=>ge});var a=L(2309);const oe=["unknown",(0,L(9482).h)({outline:'<circle class="cds-internal-dot-3" cx="31.1" cy="18" r="2.9"/><circle class="cds-internal-dot-2" cx="18" cy="18" r="2.9"/><circle class="cds-internal-dot-1" cx="4.9" cy="18" r="2.9"/>'})];class ge{static get registry(){return{unknown:oe[1],...a.O.state.iconRegistry}}static addIcons(...we){a.O.state.iconRegistry={...a.O.state.iconRegistry,...Object.fromEntries(we.filter(([pe])=>!ge.registry[pe]))}}static addAliases(...we){const pe=we.filter(([ue])=>ge.registry[ue]).flatMap(([ue,ie])=>ie.map(le=>[le,ge.registry[ue]]));a.O.state.iconRegistry={...a.O.state.iconRegistry,...Object.fromEntries(pe)}}static getIconNameFromShape(we){return we[0]}}},3259:(pt,Te,L)=>{"use strict";L.d(Te,{i:()=>te});const te=["angle",(0,L(9482).h)({outline:'<path d="M29.52,22.52,18,10.6,6.48,22.52a1.7,1.7,0,0,0,2.45,2.36L18,15.49l9.08,9.39a1.7,1.7,0,0,0,2.45-2.36Z"/>'})]},3697:(pt,Te,L)=>{"use strict";L.d(Te,{V:()=>te});const te=["arrow",(0,L(9482).h)({outline:'<path d="M27.66,15.61,18,6,8.34,15.61A1,1,0,1,0,9.75,17L17,9.81V28.94a1,1,0,1,0,2,0V9.81L26.25,17a1,1,0,0,0,1.41-1.42Z"/>'})]},1179:(pt,Te,L)=>{"use strict";L.d(Te,{M:()=>te});const te=["check-circle",(0,L(9482).h)({outline:'<path d="M18,6A12,12,0,1,0,30,18,12,12,0,0,0,18,6Zm0,22A10,10,0,1,1,28,18,10,10,0,0,1,18,28Z"/><path d="M16.34,23.74l-5-5a1,1,0,0,1,1.41-1.41l3.59,3.59,6.78-6.78a1,1,0,0,1,1.41,1.41Z"/>',solid:'<path d="M30,18A12,12,0,1,1,18,6,12,12,0,0,1,30,18Zm-4.77-2.16a1.4,1.4,0,0,0-2-2l-6.77,6.77L13,17.16a1.4,1.4,0,0,0-2,2l5.45,5.45Z"/>'})]},5392:(pt,Te,L)=>{"use strict";L.d(Te,{c:()=>te});const te=["eye",(0,L(9482).h)({outline:'<path d="M33.62,17.53c-3.37-6.23-9.28-10-15.82-10S5.34,11.3,2,17.53L1.72,18l.26.48c3.37,6.23,9.28,10,15.82,10s12.46-3.72,15.82-10l.26-.48ZM17.8,26.43C12.17,26.43,7,23.29,4,18c3-5.29,8.17-8.43,13.8-8.43S28.54,12.72,31.59,18C28.54,23.29,23.42,26.43,17.8,26.43Z"/><path d="M18.09,11.17A6.86,6.86,0,1,0,25,18,6.86,6.86,0,0,0,18.09,11.17Zm0,11.72A4.86,4.86,0,1,1,23,18,4.87,4.87,0,0,1,18.09,22.89Z"/>',solid:'<path d="M33.62,17.53c-3.37-6.23-9.28-10-15.82-10S5.34,11.3,2,17.53L1.72,18l.26.48c3.37,6.23,9.28,10,15.82,10s12.46-3.72,15.82-10l.26-.48ZM17.8,26.43C12.17,26.43,7,23.29,4,18c3-5.29,8.17-8.43,13.8-8.43S28.54,12.72,31.59,18C28.54,23.29,23.42,26.43,17.8,26.43Z"/><circle cx="18.09" cy="18.03" r="6.86"/>'})]},8295:(pt,Te,L)=>{"use strict";L.d(Te,{g:()=>te});const te=["filter-grid",(0,L(9482).h)({outline:'<path d="M15,25.86l2,1V20.27a1,1,0,0,0-.29-.7L10.23,13H25.79l-6.47,6.57a1,1,0,0,0-.29.7L19,28l2,1V20.68L27.58,14A1.46,1.46,0,0,0,28,13V12a1,1,0,0,0-1-1H9a1,1,0,0,0-1,1v1a1.46,1.46,0,0,0,.42,1L15,20.68Z"/>',solid:'<path d="M8,11v1.12a.5.5,0,0,0,.15.35l7.28,7.36a.5.5,0,0,1,.15.35v6.89a.5.5,0,0,0,.28.45l3.95,1.41a.5.5,0,0,0,.72-.45l0-8.39a.54.54,0,0,1,.18-.35l7.12-7.25a.5.5,0,0,0,.15-.35V11Z"/>'})]},2409:(pt,Te,L)=>{"use strict";L.d(Te,{D:()=>te});const te=["times",(0,L(9482).h)({outline:'<path d="M19.41,18l8.29-8.29a1,1,0,0,0-1.41-1.41L18,16.59,9.71,8.29A1,1,0,0,0,8.29,9.71L16.59,18,8.29,26.29a1,1,0,1,0,1.41,1.41L18,19.41l8.29,8.29a1,1,0,0,0,1.41-1.41Z"/>'})]},2309:(pt,Te,L)=>{"use strict";L.d(Te,{O:()=>Ee});class a{constructor(pe,ue){this.fn=pe,this.subscriptions=ue}unsubscribe(){const pe=this.subscriptions.indexOf(this);-1!==pe&&this.subscriptions.splice(pe,1)}}var te=L(60),oe=L(3257);const ge=new class W{constructor(){this.subscriptions=[]}subscribe(pe){const ue=new a(pe,this.subscriptions);return this.subscriptions.push(ue),ue}emit(pe){this.subscriptions.forEach(ue=>ue.fn(pe))}toEventObservable(){return this}};ge.listener=document.addEventListener("CDS_STATE_UPDATE",we=>ge.emit(we.detail));class Ee{static get state(){return(0,te.q)(),window.CDS._state}static getValue(pe){return Ee.state[pe]}static setValue(pe,ue){Ee.state[pe]=ue}static log(){oe.$.log(JSON.stringify(Ee.state,null,2))}}Ee.stateUpdates=ge.toEventObservable()},3257:(pt,Te,L)=>{"use strict";L.d(Te,{$:()=>W});var a=L(9596);class W{static log(...Ee){oe()&&te()&&console.log(...Ee)}static warn(...Ee){oe()&&te()&&console.warn(...Ee)}static error(...Ee){oe()&&te()&&console.error(...Ee)}}function te(){return!(0,a.Yl)(["jasmine"])}function oe(){return!window.CDS.environment.production}},7938:(pt,Te,L)=>{"use strict";L.d(Te,{j:()=>W});var a=L(7706);function W(oe=window){return!(0,a.kK)(oe)}},9596:(pt,Te,L)=>{"use strict";L.d(Te,{px:()=>Ve,Yl:()=>Fe});var a=L(862),W=L(3021);const te=Number.isInteger||function(se){return se<<0===se};var oe=L(82);const Ee=(0,W.Z)(function(se,xe){var et=se<0?xe.length+se:se;return(0,oe.Z)(xe)?xe.charAt(et):xe[et]}),pe=(0,W.Z)(function(se,xe){return se.map(function(et){for(var ce,Ae=xe,Je=0;Je<et.length;){if(null==Ae)return;Ae=te(ce=et[Je])?Ee(ce,Ae):Ae[ce],Je+=1}return Ae})}),ie=(0,W.Z)(function(se,xe){return pe([se],xe)[0]});function Ve(de,se){return se||(se=window&&window.customElements),!se||!!se.get(de)}const Fe=(0,a.Z)(2,(de,se)=>void 0!==ie(de,se))({"@@functional/placeholder":!0},window)},2948:(pt,Te,L)=>{"use strict";let a,W,te,oe;function ge(ie=!0){if(!ie||!a){const le=document&&document.querySelector("[ng-version]");a=le?""+le.getAttribute("ng-version"):void 0}return a}function Ee(ie=!0){return ie&&a||(W=window?.angular?.version?.full),W}function we(ie=!0){return ie&&te||(te=window?.CDS?._react?.version?window.CDS._react.version:document.querySelector("[data-reactroot], [data-reactid]")?"unknown version":void 0),te}function pe(ie=!0){if(!ie||!oe){const le=document.querySelectorAll("*");let _e;for(let Ve=0;Ve<le.length;Ve++)if(le[Ve].__vue__){_e=le[Ve];break}oe=_e?"unknown version":void 0}return oe}function ue(){return window?.location?.href?.includes("localhost:6006")}L.d(Te,{B_:()=>Ee,Et:()=>we,Wy:()=>ue,nd:()=>pe,tR:()=>ge})},60:(pt,Te,L)=>{"use strict";L.d(Te,{q:()=>Ee});var a=L(7938),W=L(2948),te=L(7548);const oe=new class{constructor(){if(this.supports={js:!0},!document.body.hasAttribute("cds-supports")||"no-js"===document.body.getAttribute("cds-supports")){const ue=(0,te.w9)(Object.keys(this.supports).reduce((ie,le)=>`${ie} ${this.supports[le]?le:"no-"+le}`,"")).trim();document.body.setAttribute("cds-supports",ue)}}};var ge=L(3257);function Ee(){(0,a.j)()&&(window.CDS=window.CDS||{_version:[],_react:{version:void 0},_supports:oe.supports,_isStateProxied:!1,_state:{focusTrapItems:[],layerElements:[],i18nRegistry:{},elementRegistry:{},iconRegistry:{},motionRegistry:{}},environment:{production:!1},getDetails:we,logDetails:pe},window.CDS._version.indexOf("6.4.3")<0&&(window.CDS._version.push("6.4.3"),document.querySelector("body")?.setAttribute("cds-version",window.CDS._version.join(" "))),window.CDS._version.length>1&&ge.$.warn("Running more than one version of Clarity can cause unexpected issues. Please ensure only one version is loaded."),window.CDS._isStateProxied||(window.CDS._isStateProxied=!0,window.CDS._state=new Proxy(window.CDS._state,{set:(ue,ie,le)=>{const _e={key:ie,prev:window.CDS._state[ie],current:le};return ue[ie]=le,document.dispatchEvent(new CustomEvent("CDS_STATE_UPDATE",{detail:_e})),!0}})))}function we(){return{versions:window.CDS._version,environment:window.CDS.environment,userAgent:navigator.userAgent,supports:window.CDS._supports,angularVersion:(0,W.tR)(!1),angularJSVersion:(0,W.B_)(!1),reactVersion:(0,W.Et)(!1),vueVersion:(0,W.nd)(!1),state:{...window.CDS._state,iconRegistry:Object.keys(window.CDS._state.iconRegistry),motionRegistry:Object.keys(window.CDS._state.motionRegistry),focusTrapRegistry:Object.keys(window.CDS._state.focusTrapItems.map(ue=>ue.focusTrapId))}}}function pe(){ge.$.log(JSON.stringify(we(),null,2))}},7706:(pt,Te,L)=>{"use strict";L.d(Te,{I8:()=>Ai,Uv:()=>pn,V1:()=>nt,OD:()=>it,kK:()=>de,KN:()=>se,Hv:()=>et,HD:()=>xe,PM:()=>kt,$u:()=>St});const te=(0,L(3021).Z)(function(Qe,jt){return jt instanceof Qe||null!=jt&&(jt.constructor===Qe||"Object"===Qe.name&&"object"==typeof jt)});var oe=L(7144),ge=L(6819),Ee=L(6954),pe=L(82);const le=(0,oe.Z)(function(Qe){return null!=Qe&&"function"==typeof Qe["fantasy-land/empty"]?Qe["fantasy-land/empty"]():null!=Qe&&null!=Qe.constructor&&"function"==typeof Qe.constructor["fantasy-land/empty"]?Qe.constructor["fantasy-land/empty"]():null!=Qe&&"function"==typeof Qe.empty?Qe.empty():null!=Qe&&null!=Qe.constructor&&"function"==typeof Qe.constructor.empty?Qe.constructor.empty():(0,Ee.Z)(Qe)?[]:(0,pe.Z)(Qe)?"":function we(Pe){return"[object Object]"===Object.prototype.toString.call(Pe)}(Qe)?{}:(0,ge.Z)(Qe)?function(){return arguments}():function ue(Pe){var Qe=Object.prototype.toString.call(Pe);return"[object Uint8ClampedArray]"===Qe||"[object Int8Array]"===Qe||"[object Uint8Array]"===Qe||"[object Int16Array]"===Qe||"[object Uint16Array]"===Qe||"[object Int32Array]"===Qe||"[object Uint32Array]"===Qe||"[object Float32Array]"===Qe||"[object Float64Array]"===Qe||"[object BigInt64Array]"===Qe||"[object BigUint64Array]"===Qe}(Qe)?Qe.constructor.from(""):void 0});var _e=L(3982);const Fe=(0,oe.Z)(function(Qe){return null!=Qe&&(0,_e.Z)(Qe,le(Qe))});function de(Pe){return null==Pe}function se(Pe){return de(Pe)||Fe(Pe)}function xe(Pe){return te(String,Pe)}function et(Pe){return xe(Pe)&&!Fe(Pe.trim())&&+Pe==+Pe}function ce(Pe){return te(Object,Pe)}function ye(Pe){return te(Map,Pe)}function Le(Pe,Qe){return Pe!==Qe}function nt(Pe,Qe){return function Ae(Pe){return te(String,Pe)||de(Pe)}(Pe)&&Le(Pe,Qe)}function it(Pe,Qe){return!se(Pe)&&Le(Pe,Qe)}function St(Pe,Qe){return JSON.stringify(Pe)===JSON.stringify(Qe)}function pn(Pe,Qe,jt=`\${${Pe}}`){return Pe.split(".").reduce((Lt,Fn)=>{try{const ln=Lt[Fn];switch(!0){case null===ln:case!1===ln:case""===ln:case 0===ln:return ln;default:return ln||jt}}catch{return jt}},Qe)}function Cn(Pe){const Qe=new Map;for(const[jt,Lt]of Pe)ye(Lt)?Qe.set(jt,Cn(Lt)):Qe.set(jt,Lt);return Qe}function Ai(Pe){switch(!0){case ye(Pe):return Cn(Pe);case ce(Pe)&&!Array.isArray(Pe):return kt({},Pe);default:return JSON.parse(JSON.stringify(Pe))}}function kt(...Pe){const Qe={};return Pe.map(jt=>ce(jt)?{...jt}:{}).forEach(jt=>{Object.keys(jt).forEach(Lt=>{const Fn=jt[Lt];Qe[Lt]=Array.isArray(Fn)?Array.from(Fn):ce(Fn)?kt(Qe[Lt]||{},Fn):Fn})}),Qe}},7548:(pt,Te,L)=>{"use strict";L.d(Te,{Oc:()=>ce,fm:()=>le,gC:()=>we,k8:()=>It,w9:()=>ge});var a=L(7706);function ge(qe){return qe.replace(/[A-Z]/g,St=>"-"+St.toLowerCase())}function we(qe){return le(function Ee(qe){return qe.split("-").map((St,pn)=>pn?St.charAt(0).toUpperCase()+St.slice(1).toLowerCase():St).join("")}(qe))}function le(qe){return qe.charAt(0).toUpperCase()+qe.slice(1)}function ce(qe,St,pn=""){const Cn=qe.split(" "),Ai=""===pn?Cn.filter(Ke=>Ke!==St):Cn.map(Ke=>Ke===St?pn:Ke);return Ai.length>0?Ai.join(" "):""}function It(qe,St,pn){return qe.replace(/\$\{.+?\}/g,Cn=>{const Ai=Cn.substr(2,Cn.length-3).trim();return(0,a.Uv)(Ai,St,pn)})}},406:(pt,Te,L)=>{"use strict";L.d(Te,{nkF:()=>hi,K6A:()=>hD,VqA:()=>Y_,q0d:()=>jd,f_W:()=>Ot,lU3:()=>Bn,zwp:()=>vn,ZUS:()=>ti,YAP:()=>Pb,nqY:()=>la,MgK:()=>Bs,mIp:()=>kb,cCV:()=>vd,MPb:()=>z_,xp5:()=>ai,QoI:()=>Ff,VLi:()=>DS,B0r:()=>I1,XE5:()=>tv,LAP:()=>c1,fzC:()=>ci,ogR:()=>CS,zYX:()=>bS,zuD:()=>bs});var a=L(5879),W=L(6814),te=L(4893),oe=L(3259),ge=L(9482);const we=["exclamation-circle",(0,ge.h)({outline:'<path d="M18,6A12,12,0,1,0,30,18,12,12,0,0,0,18,6Zm0,22A10,10,0,1,1,28,18,10,10,0,0,1,18,28Z"/><path d="M18,20.07a1.3,1.3,0,0,1-1.3-1.3v-6a1.3,1.3,0,1,1,2.6,0v6A1.3,1.3,0,0,1,18,20.07Z"/><circle cx="17.95" cy="23.02" r="1.5"/>',solid:'<path d="M18,6A12,12,0,1,0,30,18,12,12,0,0,0,18,6Zm-1.49,6a1.49,1.49,0,0,1,3,0v6.89a1.49,1.49,0,1,1-3,0ZM18,25.5a1.72,1.72,0,1,1,1.72-1.72A1.72,1.72,0,0,1,18,25.5Z"/>'})];var pe=L(1179);const ie=["ellipsis-horizontal",(0,ge.h)({outline:'<circle cx="31.1" cy="18" r="2.9"/><circle cx="18" cy="18" r="2.9"/><circle cx="4.9" cy="18" r="2.9"/>',outlineBadged:'<circle cx="31.1" cy="18" r="2.9"/><circle cx="18" cy="18" r="2.9"/><circle cx="4.9" cy="18" r="2.9"/>'})],_e=["window-close",(0,ge.h)({outline:'<path d="M19.41,18l7.29-7.29a1,1,0,0,0-1.41-1.41L18,16.59,10.71,9.29a1,1,0,0,0-1.41,1.41L16.59,18,9.29,25.29a1,1,0,1,0,1.41,1.41L18,19.41l7.29,7.29a1,1,0,0,0,1.41-1.41Z"/>'})],Fe=["event",(0,ge.h)({outline:'<path d="M16.17,25.86,10.81,20.5a1,1,0,0,1,1.41-1.41L16.17,23l8.64-8.64a1,1,0,0,1,1.41,1.41Z"/><path d="M32.25,6H29V8h3V30H4V8H7V6H3.75A1.78,1.78,0,0,0,2,7.81V30.19A1.78,1.78,0,0,0,3.75,32h28.5A1.78,1.78,0,0,0,34,30.19V7.81A1.78,1.78,0,0,0,32.25,6Z"/><path d="M10,10a1,1,0,0,0,1-1V3A1,1,0,0,0,9,3V9A1,1,0,0,0,10,10Z"/><path d="M26,10a1,1,0,0,0,1-1V3a1,1,0,0,0-2,0V9A1,1,0,0,0,26,10Z"/><rect x="13" y="6" width="10" height="2"/>',outlineAlerted:'<path d="M10,10a1,1,0,0,0,1-1V3A1,1,0,0,0,9,3V9A1,1,0,0,0,10,10Z"/><path d="M10.81,20.5l5.36,5.36L26.22,15.81a1,1,0,0,0,.23-.41H23.8L16.17,23l-3.94-3.94a1,1,0,0,0-1.41,1.41Z"/><polygon points="21.29 6 13 6 13 8 20.14 8 21.29 6"/><path d="M33.68,15.4H32V30H4V8H7V6H3.75A1.78,1.78,0,0,0,2,7.81V30.19A1.78,1.78,0,0,0,3.75,32h28.5A1.78,1.78,0,0,0,34,30.19V15.38Z"/>',outlineBadged:'<path d="M10.81,20.5l5.36,5.36L26.22,15.81a1,1,0,0,0-1.41-1.41L16.17,23l-3.94-3.94a1,1,0,0,0-1.41,1.41Z"/><path d="M10,10a1,1,0,0,0,1-1V3A1,1,0,0,0,9,3V9A1,1,0,0,0,10,10Z"/><path d="M32,13.22V30H4V8H7V6H3.75A1.78,1.78,0,0,0,2,7.81V30.19A1.78,1.78,0,0,0,3.75,32h28.5A1.78,1.78,0,0,0,34,30.19V12.34A7.45,7.45,0,0,1,32,13.22Z"/><path d="M22.5,6H13V8h9.78A7.49,7.49,0,0,1,22.5,6Z"/>',solid:'<path d="M10,10a1,1,0,0,0,1-1V3A1,1,0,0,0,9,3V9A1,1,0,0,0,10,10Z"/><path d="M26,10a1,1,0,0,0,1-1V3a1,1,0,0,0-2,0V9A1,1,0,0,0,26,10Z"/><path d="M32.25,6h-4V9a2.2,2.2,0,0,1-4.4,0V6H12.2V9A2.2,2.2,0,0,1,7.8,9V6h-4A1.78,1.78,0,0,0,2,7.81V30.19A1.78,1.78,0,0,0,3.75,32h28.5A1.78,1.78,0,0,0,34,30.19V7.81A1.78,1.78,0,0,0,32.25,6ZM25.94,16.58l-9.67,9.67L11,20.94A1.36,1.36,0,0,1,12.9,19l3.38,3.38L24,14.66a1.36,1.36,0,1,1,1.93,1.93Z"/>',solidAlerted:'<path d="M10,10a1,1,0,0,0,1-1V3A1,1,0,0,0,9,3V9A1,1,0,0,0,10,10Z"/><path d="M33.68,15.4H26.3a1.34,1.34,0,0,1-.36,1.18l-9.67,9.67L11,20.94A1.36,1.36,0,0,1,12.9,19l3.38,3.38,7-7h-1A3.68,3.68,0,0,1,19,9.89L21.29,6H12.2V9A2.2,2.2,0,0,1,7.8,9V6h-4A1.78,1.78,0,0,0,2,7.81V30.19A1.78,1.78,0,0,0,3.75,32h28.5A1.78,1.78,0,0,0,34,30.19V15.38Z"/>',solidBadged:'<path d="M10,10a1,1,0,0,0,1-1V3A1,1,0,0,0,9,3V9A1,1,0,0,0,10,10Z"/><path d="M30,13.5A7.5,7.5,0,0,1,22.5,6H12.2V9A2.2,2.2,0,0,1,7.8,9V6h-4A1.78,1.78,0,0,0,2,7.81V30.19A1.78,1.78,0,0,0,3.75,32h28.5A1.78,1.78,0,0,0,34,30.19V12.34A7.45,7.45,0,0,1,30,13.5Zm-4.06,3.08-9.67,9.67L11,20.94A1.36,1.36,0,0,1,12.9,19l3.38,3.38L24,14.66a1.36,1.36,0,1,1,1.93,1.93Z"/>'})],se=["calendar",(0,ge.h)({outline:'<path d="M32.25,6H29V8h3V30H4V8H7V6H3.75A1.78,1.78,0,0,0,2,7.81V30.19A1.78,1.78,0,0,0,3.75,32h28.5A1.78,1.78,0,0,0,34,30.19V7.81A1.78,1.78,0,0,0,32.25,6Z"/><rect x="8" y="14" width="2" height="2"/><rect x="14" y="14" width="2" height="2"/><rect x="20" y="14" width="2" height="2"/><rect x="26" y="14" width="2" height="2"/><rect x="8" y="19" width="2" height="2"/><rect x="14" y="19" width="2" height="2"/><rect x="20" y="19" width="2" height="2"/><rect x="26" y="19" width="2" height="2"/><rect x="8" y="24" width="2" height="2"/><rect" x="14" y="24" width="2" height="2"/><rect x="20" y="24" width="2" height="2"/><rect x="26" y="24" width="2" height="2"/><path d="M10,10a1,1,0,0,0,1-1V3A1,1,0,0,0,9,3V9A1,1,0,0,0,10,10Z"/><path d="M26,10a1,1,0,0,0,1-1V3a1,1,0,0,0-2,0V9A1,1,0,0,0,26,10Z"/><rect x="13" y="6" width="10" height="2"/>',outlineAlerted:'<path d="M33.68,15.4H32V30H4V8H7V6H3.75A1.78,1.78,0,0,0,2,7.81V30.19A1.78,1.78,0,0,0,3.75,32h28.5A1.78,1.78,0,0,0,34,30.19V15.38Z"/><rect x="8" y="14" width="2" height="2"/><rect x="14" y="14" width="2" height="2"/><rect x="8" y="19" width="2" height="2"/><rect x="14" y="19" width="2" height="2"/><rect x="20" y="19" width="2" height="2"/><rect x="26" y="19" width="2" height="2"/><rect x="8" y="24" width="2" height="2"/><rect x="14" y="24" width="2" height="2"/><rect x="20" y="24" width="2" height="2"/><rect x="26" y="24" width="2" height="2"/><path d="M10,10a1,1,0,0,0,1-1V3A1,1,0,0,0,9,3V9A1,1,0,0,0,10,10Z"/><polygon points="21.29 6 13 6 13 8 20.14 8 21.29 6"/>',outlineBadged:'<path d="M32,13.22V30H4V8H7V6H3.75A1.78,1.78,0,0,0,2,7.81V30.19A1.78,1.78,0,0,0,3.75,32h28.5A1.78,1.78,0,0,0,34,30.19V12.34A7.45,7.45,0,0,1,32,13.22Z"/><rect x="8" y="14" width="2" height="2"/><rect x="14" y="14" width="2" height="2"/><rect x="20" y="14" width="2" height="2"/><rect x="26" y="14" width="2" height="2"/><rect x="8" y="19" width="2" height="2"/><rect x="14" y="19" width="2" height="2"/><rect x="20" y="19" width="2" height="2"/><rect x="26" y="19" width="2" height="2"/><rect x="8" y="24" width="2" height="2"/><rect x="14" y="24" width="2" height="2"/><rect x="20" y="24" width="2" height="2"/><rect x="26" y="24" width="2" height="2"/><path d="M10,10a1,1,0,0,0,1-1V3A1,1,0,0,0,9,3V9A1,1,0,0,0,10,10Z"/><path d="M22.5,6H13V8h9.78A7.49,7.49,0,0,1,22.5,6Z"/>',solid:'<path d="M32.25,6h-4V9a2.2,2.2,0,1,1-4.4,0V6H12.2V9A2.2,2.2,0,0,1,7.8,9V6h-4A1.78,1.78,0,0,0,2,7.81V30.19A1.78,1.78,0,0,0,3.75,32h28.5A1.78,1.78,0,0,0,34,30.19V7.81A1.78,1.78,0,0,0,32.25,6ZM10,26H8V24h2Zm0-5H8V19h2Zm0-5H8V14h2Zm6,10H14V24h2Zm0-5H14V19h2Zm0-5H14V14h2Zm6,10H20V24h2Zm0-5H20V19h2Zm0-5H20V14h2Zm6,10H26V24h2Zm0-5H26V19h2Zm0-5H26V14h2Z"/><path d="M10,10a1,1,0,0,0,1-1V3A1,1,0,0,0,9,3V9A1,1,0,0,0,10,10Z"/><path d="M26,10a1,1,0,0,0,1-1V3a1,1,0,0,0-2,0V9A1,1,0,0,0,26,10Z"/>',solidAlerted:'<path d="M33.68,15.4H22.23A3.68,3.68,0,0,1,19,9.89L21.29,6H12.2V9A2.2,2.2,0,0,1,7.8,9V6h-4A1.78,1.78,0,0,0,2,7.81V30.19A1.78,1.78,0,0,0,3.75,32h28.5A1.78,1.78,0,0,0,34,30.19V15.38ZM10,26H8V24h2Zm0-5H8V19h2Zm0-5H8V14h2Zm6,10H14V24h2Zm0-5H14V19h2Zm0-5H14V14h2Zm6,10H20V24h2Zm0-5H20V19h2Zm6,5H26V24h2Zm0-5H26V19h2Z"/><path d="M10,10a1,1,0,0,0,1-1V3A1,1,0,0,0,9,3V9A1,1,0,0,0,10,10Z"/>',solidBadged:'<path d="M10,10a1,1,0,0,0,1-1V3A1,1,0,0,0,9,3V9A1,1,0,0,0,10,10Z"/><path d="M30,13.5A7.5,7.5,0,0,1,22.5,6H12.2V9A2.2,2.2,0,0,1,7.8,9V6h-4A1.78,1.78,0,0,0,2,7.81V30.19A1.78,1.78,0,0,0,3.75,32h28.5A1.78,1.78,0,0,0,34,30.19V12.34A7.45,7.45,0,0,1,30,13.5ZM10,26H8V24h2Zm0-5H8V19h2Zm0-5H8V14h2Zm6,10H14V24h2Zm0-5H14V19h2Zm0-5H14V14h2Zm6,10H20V24h2Zm0-5H20V19h2Zm0-5H20V14h2Zm6,10H26V24h2Zm0-5H26V19h2Zm0-5H26V14h2Z"/>'})],et=["eye-hide",(0,ge.h)({outline:'<path d="M25.19,20.4A6.78,6.78,0,0,0,25.62,18a6.86,6.86,0,0,0-6.86-6.86,6.79,6.79,0,0,0-2.37.43L18,13.23a4.78,4.78,0,0,1,.74-.06A4.87,4.87,0,0,1,23.62,18a4.79,4.79,0,0,1-.06.74Z"/><path d="M34.29,17.53c-3.37-6.23-9.28-10-15.82-10a16.82,16.82,0,0,0-5.24.85L14.84,10a14.78,14.78,0,0,1,3.63-.47c5.63,0,10.75,3.14,13.8,8.43a17.75,17.75,0,0,1-4.37,5.1l1.42,1.42a19.93,19.93,0,0,0,5-6l.26-.48Z"/><path d="M4.87,5.78l4.46,4.46a19.52,19.52,0,0,0-6.69,7.29L2.38,18l.26.48c3.37,6.23,9.28,10,15.82,10a16.93,16.93,0,0,0,7.37-1.69l5,5,1.75-1.5-26-26Zm9.75,9.75,6.65,6.65a4.81,4.81,0,0,1-2.5.72A4.87,4.87,0,0,1,13.9,18,4.81,4.81,0,0,1,14.62,15.53Zm-1.45-1.45a6.85,6.85,0,0,0,9.55,9.55l1.6,1.6a14.91,14.91,0,0,1-5.86,1.2c-5.63,0-10.75-3.14-13.8-8.43a17.29,17.29,0,0,1,6.12-6.3Z"/>',solid:'<path d="M18.37,11.17A6.79,6.79,0,0,0,16,11.6l8.8,8.8A6.78,6.78,0,0,0,25.23,18,6.86,6.86,0,0,0,18.37,11.17Z"/><path d="M34.29,17.53c-3.37-6.23-9.28-10-15.82-10a16.82,16.82,0,0,0-5.24.85L14.84,10a14.78,14.78,0,0,1,3.63-.47c5.63,0,10.75,3.14,13.8,8.43a17.75,17.75,0,0,1-4.37,5.1l1.42,1.42a19.93,19.93,0,0,0,5-6l.26-.48Z"/><path d="M4.87,5.78l4.46,4.46a19.52,19.52,0,0,0-6.69,7.29L2.38,18l.26.48c3.37,6.23,9.28,10,15.82,10a16.93,16.93,0,0,0,7.37-1.69l5,5,1.75-1.5-26-26Zm8.3,8.3a6.85,6.85,0,0,0,9.55,9.55l1.6,1.6a14.91,14.91,0,0,1-5.86,1.2c-5.63,0-10.75-3.14-13.8-8.43a17.29,17.29,0,0,1,6.12-6.3Z"/>'})];var Ae=L(5392);const ce=["ellipsis-vertical",(0,ge.h)({outline:'<circle cx="18" cy="4.9" r="2.9"/><circle cx="18" cy="18" r="2.9"/><circle cx="18" cy="31.1" r="2.9"/>',outlineBadged:'<circle cx="18" cy="4.9" r="2.9"/><circle cx="18" cy="18" r="2.9"/><circle cx="18" cy="31.1" r="2.9"/>'})],ke=["view-columns",(0,ge.h)({outline:'<path d="M31,5H5A2,2,0,0,0,3,7V29a2,2,0,0,0,2,2H31a2,2,0,0,0,2-2V7A2,2,0,0,0,31,5ZM13,29H5V7h8Zm10,0H15V7h8Z"/>'})];var Le=L(3697),nt=L(2409);const It=["step-forward-2",(0,ge.h)({outline:'<path d="M7.08,6.52a1.68,1.68,0,0,0,0,2.4L16.51,18,7.12,27.08a1.7,1.7,0,0,0,2.36,2.44h0L21.4,18,9.48,6.47A1.69,1.69,0,0,0,7.08,6.52Z"/><path d="M26.49,5a1.7,1.7,0,0,0-1.7,1.7V29.3a1.7,1.7,0,0,0,3.4,0V6.7A1.7,1.7,0,0,0,26.49,5Z"/>'})],St=["angle-double",(0,ge.h)({outline:'<path d="M29,19.41a1,1,0,0,1-.71-.29L18,8.83,7.71,19.12a1,1,0,0,1-1.41-1.41L18,6,29.71,17.71A1,1,0,0,1,29,19.41Z"/><path d="M29,30.41a1,1,0,0,1-.71-.29L18,19.83,7.71,30.12a1,1,0,0,1-1.41-1.41L18,17,29.71,28.71A1,1,0,0,1,29,30.41Z"/>'})],Cn=["filter-grid-circle",(0,ge.h)({outline:'<path d="M15,25.86l2,1V20.27a1,1,0,0,0-.29-.7L10.23,13H25.79l-6.47,6.57a1,1,0,0,0-.29.7L19,28l2,1V20.68L27.58,14A1.46,1.46,0,0,0,28,13V12a1,1,0,0,0-1-1H9a1,1,0,0,0-1,1v1a1.46,1.46,0,0,0,.42,1L15,20.68Z"/><path d="M18,2A16,16,0,1,0,34,18,16,16,0,0,0,18,2Zm0,30A14,14,0,1,1,32,18,14,14,0,0,1,18,32Z"/>',solid:'<path d="M18,2A16,16,0,1,0,34,18,16,16,0,0,0,18,2Zm0,30A14,14,0,1,1,32,18,14,14,0,0,1,18,32Z"/><path d="M8,11v1.12a.5.5,0,0,0,.15.35l7.28,7.36a.5.5,0,0,1,.15.35v6.89a.5.5,0,0,0,.28.45l3.95,1.41a.5.5,0,0,0,.72-.45l0-8.39a.54.54,0,0,1,.18-.35l7.12-7.25a.5.5,0,0,0,.15-.35V11Z"/>'})];var Ai=L(8295);const rt=["info-circle",(0,ge.h)({outline:'<circle cx="17.93" cy="11.9" r="1.4"/><path d="M21,23H19V15H16a1,1,0,0,0,0,2h1v6H15a1,1,0,1,0,0,2h6a1,1,0,0,0,0-2Z"/><path d="M18,6A12,12,0,1,0,30,18,12,12,0,0,0,18,6Zm0,22A10,10,0,1,1,28,18,10,10,0,0,1,18,28Z"/>',solid:'<path d="M18,6A12,12,0,1,0,30,18,12,12,0,0,0,18,6Zm-2,5.15a2,2,0,1,1,2,2A2,2,0,0,1,15.9,11.15ZM23,24a1,1,0,0,1-1,1H15a1,1,0,1,1,0-2h2V17H16a1,1,0,0,1,0-2h4v8h2A1,1,0,0,1,23,24Z"/>'})],yt=["exclamation-triangle",(0,ge.h)({outline:'<path d="M18,21.32a1.3,1.3,0,0,0,1.3-1.3V14a1.3,1.3,0,1,0-2.6,0v6A1.3,1.3,0,0,0,18,21.32Z"/><circle cx="17.95" cy="24.27" r="1.5"/><path d="M30.33,25.54,20.59,7.6a3,3,0,0,0-5.27,0L5.57,25.54A3,3,0,0,0,8.21,30H27.69a3,3,0,0,0,2.64-4.43Zm-1.78,1.94a1,1,0,0,1-.86.49H8.21a1,1,0,0,1-.88-1.48L17.07,8.55a1,1,0,0,1,1.76,0l9.74,17.94A1,1,0,0,1,28.55,27.48Z"/>',solid:'<path d="M30.33,25.54,20.59,7.6a3,3,0,0,0-5.27,0L5.57,25.54A3,3,0,0,0,8.21,30H27.69a3,3,0,0,0,2.64-4.43ZM16.46,12.74a1.49,1.49,0,0,1,3,0v6.89a1.49,1.49,0,1,1-3,0ZM18,26.25a1.72,1.72,0,1,1,1.72-1.72A1.72,1.72,0,0,1,18,26.25Z"/>'})],tt=["circle",(0,ge.h)({outline:'<path d="M18,34A16,16,0,1,1,34,18,16,16,0,0,1,18,34ZM18,4A14,14,0,1,0,32,18,14,14,0,0,0,18,4Z"/>',solid:'<path d="M18,34A16,16,0,1,1,34,18,16,16,0,0,1,18,34Z"/>'})],Ge=["dot-circle",(0,ge.h)({outline:'<path d="M18,11a7,7,0,1,1-7,7,7,7,0,0,1,7-7"/><path d="M18,34A16,16,0,1,1,34,18,16,16,0,0,1,18,34ZM18,4A14,14,0,1,0,32,18,14,14,0,0,0,18,4Z"/>'})],Pe=["error-standard",(0,ge.h)({outline:'<circle cx="18" cy="26.06" r="1.33"/><path d="M18,22.61a1,1,0,0,1-1-1v-12a1,1,0,1,1,2,0v12A1,1,0,0,1,18,22.61Z"/><path d="M18,34A16,16,0,1,1,34,18,16,16,0,0,1,18,34ZM18,4A14,14,0,1,0,32,18,14,14,0,0,0,18,4Z"/>',solid:'<path d="M18,2.1a16,16,0,1,0,16,16A16,16,0,0,0,18,2.1ZM16.6,8.8a1.4,1.4,0,0,1,2.8,0v12a1.4,1.4,0,0,1-2.8,0ZM18,28.6a1.8,1.8,0,1,1,1.8-1.8A1.8,1.8,0,0,1,18,28.6Z"/>'})],jt=["success-standard",(0,ge.h)({outline:'<path d="M18,2A16,16,0,1,0,34,18,16,16,0,0,0,18,2Zm0,30A14,14,0,1,1,32,18,14,14,0,0,1,18,32Z"/><path d="M28,12.1a1,1,0,0,0-1.41,0L15.49,23.15l-6-6A1,1,0,0,0,8,18.53L15.49,26,28,13.52A1,1,0,0,0,28,12.1Z"/>',solid:'<path d="M18,2A16,16,0,1,0,34,18,16,16,0,0,0,18,2ZM28.45,12.63,15.31,25.76,7.55,18a1.4,1.4,0,0,1,2-2l5.78,5.78L26.47,10.65a1.4,1.4,0,1,1,2,2Z"/>'})];var Lt=L(7398),pi=(L(9397),L(7921),L(3997),L(9360)),ji=L(8251),ui=L(2181),fa=(L(3620),L(4829)),gi=L(2420);L(5177);var Oi=L(8180),st=(L(1374),L(4664),L(8645)),un=L(5619),Dr=L(5592),mi=L(2438),Un=L(2664),zi=L(2096),mo=L(7328),ut=(L(2572),L(3019),L(6825)),dn=L(95);let ws;try{ws=typeof Intl<"u"&&Intl.v8BreakIterator}catch{ws=!1}var Tu=L(1954),Ql=L(7394);const Jl={schedule(f){let _=requestAnimationFrame,c=cancelAnimationFrame;const{delegate:y}=Jl;y&&(_=y.requestAnimationFrame,c=y.cancelAnimationFrame);const D=_(R=>{c=void 0,f(R)});return new Ql.w0(()=>c?.(D))},requestAnimationFrame(...f){const{delegate:_}=Jl;return(_?.requestAnimationFrame||requestAnimationFrame)(...f)},cancelAnimationFrame(...f){const{delegate:_}=Jl;return(_?.cancelAnimationFrame||cancelAnimationFrame)(...f)},delegate:void 0};var _t=L(2631);new class Nn extends _t.v{flush(_){this._active=!0;const c=this._scheduled;this._scheduled=void 0;const{actions:y}=this;let D;_=_||y.shift();do{if(D=_.execute(_.state,_.delay))break}while((_=y[0])&&_.id===c&&y.shift());if(this._active=!1,D){for(;(_=y[0])&&_.id===c&&y.shift();)_.unsubscribe();throw D}}}(class Mo extends Tu.o{constructor(_,c){super(_,c),this.scheduler=_,this.work=c}requestAsyncId(_,c,y=0){return null!==y&&y>0?super.requestAsyncId(_,c,y):(_.actions.push(this),_._scheduled||(_._scheduled=Jl.requestAnimationFrame(()=>_.flush(void 0))))}recycleAsyncId(_,c,y=0){var D;if(null!=y?y>0:this.delay>0)return super.recycleAsyncId(_,c,y);const{actions:R}=_;null!=c&&(null===(D=R[R.length-1])||void 0===D?void 0:D.id)!==c&&(Jl.cancelAnimationFrame(c),_._scheduled=void 0)}});let Iu,ar=1;const ks={};function ps(f){return f in ks&&(delete ks[f],!0)}const gs={setImmediate(f){const _=ar++;return ks[_]=!0,Iu||(Iu=Promise.resolve()),Iu.then(()=>ps(_)&&f()),_},clearImmediate(f){ps(f)}},{setImmediate:cl,clearImmediate:A1}=gs,rh={setImmediate(...f){const{delegate:_}=rh;return(_?.setImmediate||cl)(...f)},clearImmediate(f){const{delegate:_}=rh;return(_?.clearImmediate||A1)(f)},delegate:void 0};new class to extends _t.v{flush(_){this._active=!0;const c=this._scheduled;this._scheduled=void 0;const{actions:y}=this;let D;_=_||y.shift();do{if(D=_.execute(_.state,_.delay))break}while((_=y[0])&&_.id===c&&y.shift());if(this._active=!1,D){for(;(_=y[0])&&_.id===c&&y.shift();)_.unsubscribe();throw D}}}(class Gi extends Tu.o{constructor(_,c){super(_,c),this.scheduler=_,this.work=c}requestAsyncId(_,c,y=0){return null!==y&&y>0?super.requestAsyncId(_,c,y):(_.actions.push(this),_._scheduled||(_._scheduled=rh.setImmediate(_.flush.bind(_,void 0))))}recycleAsyncId(_,c,y=0){var D;if(null!=y?y>0:this.delay>0)return super.recycleAsyncId(_,c,y);const{actions:R}=_;null!=c&&(null===(D=R[R.length-1])||void 0===D?void 0:D.id)!==c&&(rh.clearImmediate(c),_._scheduled===c&&(_._scheduled=void 0))}});L(6321),L(4825),L(1687),L(4190);var _D=L(862),N1=L(7938),gh=L(9596),Hv=L(60),ip=L(2948),Ri=L(3257);const hm=(0,_D.Z)(3,(f,_,c)=>{(0,gh.px)(f)&&!(0,ip.Wy)()?Ri.$.warn(f+" has already been registered"):(c.define(f,_),(0,Hv.q)(),window&&!Object.keys(window.CDS._state.elementRegistry).some(y=>y===f)&&(window.CDS._state.elementRegistry={...window.CDS._state.elementRegistry,[f]:{}}))});function Fu(f,_){(0,N1.j)()&&(0,gh.Yl)(["customElements"])&&hm(f,_,window.customElements)}var Ti=L(7582);let di=!1;function Nu(f){if((f=Math.trunc(f)||0)<0&&(f+=this.length),!(f<0||f>=this.length))return this[f]}if(!di){di=!0;const f=Reflect.getPrototypeOf(Int8Array);for(const _ of[Array,String,f])Object.defineProperty(_.prototype,"at",{value:Nu,writable:!0,enumerable:!1,configurable:!0})}let rp=!1,mh=!1;function _h(f,_,c){Object.defineProperty(f,c,{configurable:!0,enumerable:!0,get:function(){return this.hasAttribute(_)?this.getAttribute(_):null},set:function(y){null!==y?this.setAttribute(_,y):this.removeAttribute(_)}})}rp||Element.prototype.hasOwnProperty("role")||(_h(Element.prototype,"role","role"),rp=!0),mh||Element.prototype.hasOwnProperty("ariaLabel")||(mh=!0,["ActiveDescendant","Atomic","AutoComplete","Busy","Checked","ColCount","ColIndex","ColSpan","Controls","Current","DescribedBy","Details","Disabled","ErrorMessage","Expanded","FlowTo","HasPopup","Hidden","Invalid","KeyShortcuts","Label","LabelledBy","Level","Live","Modal","MultiLine","MultiSelectable","Orientation","Owns","Placeholder","PosInSet","Pressed","ReadOnly","Relevant","Required","RoleDescription","RowCount","RowIndex","RowSpan","Selected","SetSize","Sort","ValueMax","ValueMin","ValueNow","ValueText"].forEach(f=>_h(Element.prototype,"aria-"+f.toLowerCase(),"aria"+f)));var sp=L(5861);const op=window,Uv=op.ShadowRoot&&(void 0===op.ShadyCSS||op.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,jv=Symbol(),io=new WeakMap;class hl{constructor(_,c,y){if(this._$cssResult$=!0,y!==jv)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=_,this.t=c}get styleSheet(){let _=this.o;const c=this.t;if(Uv&&void 0===_){const y=void 0!==c&&1===c.length;y&&(_=io.get(c)),void 0===_&&((this.o=_=new CSSStyleSheet).replaceSync(this.cssText),y&&io.set(c,_))}return _}toString(){return this.cssText}}const Lu=(f,..._)=>{const c=1===f.length?f[0]:_.reduce((y,D,R)=>y+(Q=>{if(!0===Q._$cssResult$)return Q.cssText;if("number"==typeof Q)return Q;throw Error("Value passed to 'css' function must be a 'css' function result: "+Q+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(D)+f[R+1],f[0]);return new hl(c,f,jv)},fm=Uv?f=>f:f=>f instanceof CSSStyleSheet?(_=>{let c="";for(const y of _.cssRules)c+=y.cssText;return(f=>new hl("string"==typeof f?f:f+"",void 0,jv))(c)})(f):f;var zv;const Ar=window,Zv=Ar.trustedTypes,kS=Zv?Zv.emptyScript:"",pm=Ar.reactiveElementPolyfillSupport,ap={toAttribute(f,_){switch(_){case Boolean:f=f?kS:null;break;case Object:case Array:f=null==f?f:JSON.stringify(f)}return f},fromAttribute(f,_){let c=f;switch(_){case Boolean:c=null!==f;break;case Number:c=null===f?null:Number(f);break;case Object:case Array:try{c=JSON.parse(f)}catch{c=null}}return c}},Lc=(f,_)=>_!==f&&(_==_||f==f),na={attribute:!0,type:String,converter:ap,reflect:!1,hasChanged:Lc},rc="finalized";class Oo extends HTMLElement{constructor(){super(),this._$Ei=new Map,this.isUpdatePending=!1,this.hasUpdated=!1,this._$El=null,this.u()}static addInitializer(_){var c;this.finalize(),(null!==(c=this.h)&&void 0!==c?c:this.h=[]).push(_)}static get observedAttributes(){this.finalize();const _=[];return this.elementProperties.forEach((c,y)=>{const D=this._$Ep(y,c);void 0!==D&&(this._$Ev.set(D,y),_.push(D))}),_}static createProperty(_,c=na){if(c.state&&(c.attribute=!1),this.finalize(),this.elementProperties.set(_,c),!c.noAccessor&&!this.prototype.hasOwnProperty(_)){const y="symbol"==typeof _?Symbol():"__"+_,D=this.getPropertyDescriptor(_,y,c);void 0!==D&&Object.defineProperty(this.prototype,_,D)}}static getPropertyDescriptor(_,c,y){return{get(){return this[c]},set(D){const R=this[_];this[c]=D,this.requestUpdate(_,R,y)},configurable:!0,enumerable:!0}}static getPropertyOptions(_){return this.elementProperties.get(_)||na}static finalize(){if(this.hasOwnProperty(rc))return!1;this[rc]=!0;const _=Object.getPrototypeOf(this);if(_.finalize(),void 0!==_.h&&(this.h=[..._.h]),this.elementProperties=new Map(_.elementProperties),this._$Ev=new Map,this.hasOwnProperty("properties")){const c=this.properties,y=[...Object.getOwnPropertyNames(c),...Object.getOwnPropertySymbols(c)];for(const D of y)this.createProperty(D,c[D])}return this.elementStyles=this.finalizeStyles(this.styles),!0}static finalizeStyles(_){const c=[];if(Array.isArray(_)){const y=new Set(_.flat(1/0).reverse());for(const D of y)c.unshift(fm(D))}else void 0!==_&&c.push(fm(_));return c}static _$Ep(_,c){const y=c.attribute;return!1===y?void 0:"string"==typeof y?y:"string"==typeof _?_.toLowerCase():void 0}u(){var _;this._$E_=new Promise(c=>this.enableUpdating=c),this._$AL=new Map,this._$Eg(),this.requestUpdate(),null===(_=this.constructor.h)||void 0===_||_.forEach(c=>c(this))}addController(_){var c,y;(null!==(c=this._$ES)&&void 0!==c?c:this._$ES=[]).push(_),void 0!==this.renderRoot&&this.isConnected&&(null===(y=_.hostConnected)||void 0===y||y.call(_))}removeController(_){var c;null===(c=this._$ES)||void 0===c||c.splice(this._$ES.indexOf(_)>>>0,1)}_$Eg(){this.constructor.elementProperties.forEach((_,c)=>{this.hasOwnProperty(c)&&(this._$Ei.set(c,this[c]),delete this[c])})}createRenderRoot(){var _;const c=null!==(_=this.shadowRoot)&&void 0!==_?_:this.attachShadow(this.constructor.shadowRootOptions);return((f,_)=>{Uv?f.adoptedStyleSheets=_.map(c=>c instanceof CSSStyleSheet?c:c.styleSheet):_.forEach(c=>{const y=document.createElement("style"),D=op.litNonce;void 0!==D&&y.setAttribute("nonce",D),y.textContent=c.cssText,f.appendChild(y)})})(c,this.constructor.elementStyles),c}connectedCallback(){var _;void 0===this.renderRoot&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),null===(_=this._$ES)||void 0===_||_.forEach(c=>{var y;return null===(y=c.hostConnected)||void 0===y?void 0:y.call(c)})}enableUpdating(_){}disconnectedCallback(){var _;null===(_=this._$ES)||void 0===_||_.forEach(c=>{var y;return null===(y=c.hostDisconnected)||void 0===y?void 0:y.call(c)})}attributeChangedCallback(_,c,y){this._$AK(_,y)}_$EO(_,c,y=na){var D;const R=this.constructor._$Ep(_,y);if(void 0!==R&&!0===y.reflect){const Q=(void 0!==(null===(D=y.converter)||void 0===D?void 0:D.toAttribute)?y.converter:ap).toAttribute(c,y.type);this._$El=_,null==Q?this.removeAttribute(R):this.setAttribute(R,Q),this._$El=null}}_$AK(_,c){var y;const D=this.constructor,R=D._$Ev.get(_);if(void 0!==R&&this._$El!==R){const Q=D.getPropertyOptions(R),me="function"==typeof Q.converter?{fromAttribute:Q.converter}:void 0!==(null===(y=Q.converter)||void 0===y?void 0:y.fromAttribute)?Q.converter:ap;this._$El=R,this[R]=me.fromAttribute(c,Q.type),this._$El=null}}requestUpdate(_,c,y){let D=!0;void 0!==_&&(((y=y||this.constructor.getPropertyOptions(_)).hasChanged||Lc)(this[_],c)?(this._$AL.has(_)||this._$AL.set(_,c),!0===y.reflect&&this._$El!==_&&(void 0===this._$EC&&(this._$EC=new Map),this._$EC.set(_,y))):D=!1),!this.isUpdatePending&&D&&(this._$E_=this._$Ej())}_$Ej(){var _=this;return(0,sp.Z)(function*(){_.isUpdatePending=!0;try{yield _._$E_}catch(y){Promise.reject(y)}const c=_.scheduleUpdate();return null!=c&&(yield c),!_.isUpdatePending})()}scheduleUpdate(){return this.performUpdate()}performUpdate(){var _;if(!this.isUpdatePending)return;this._$Ei&&(this._$Ei.forEach((D,R)=>this[R]=D),this._$Ei=void 0);let c=!1;const y=this._$AL;try{c=this.shouldUpdate(y),c?(this.willUpdate(y),null===(_=this._$ES)||void 0===_||_.forEach(D=>{var R;return null===(R=D.hostUpdate)||void 0===R?void 0:R.call(D)}),this.update(y)):this._$Ek()}catch(D){throw c=!1,this._$Ek(),D}c&&this._$AE(y)}willUpdate(_){}_$AE(_){var c;null===(c=this._$ES)||void 0===c||c.forEach(y=>{var D;return null===(D=y.hostUpdated)||void 0===D?void 0:D.call(y)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(_)),this.updated(_)}_$Ek(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$E_}shouldUpdate(_){return!0}update(_){void 0!==this._$EC&&(this._$EC.forEach((c,y)=>this._$EO(y,this[y],c)),this._$EC=void 0),this._$Ek()}updated(_){}firstUpdated(_){}}var Bu;Oo[rc]=!0,Oo.elementProperties=new Map,Oo.elementStyles=[],Oo.shadowRootOptions={mode:"open"},pm?.({ReactiveElement:Oo}),(null!==(zv=Ar.reactiveElementVersions)&&void 0!==zv?zv:Ar.reactiveElementVersions=[]).push("1.6.2");const gm=window,Hu=gm.trustedTypes,lp=Hu?Hu.createPolicy("lit-html",{createHTML:f=>f}):void 0,sc="$lit$",Aa=`lit$${(Math.random()+"").slice(9)}$`,vh="?"+Aa,mm=`<${vh}>`,Ro=document,fl=()=>Ro.createComment(""),Uu=f=>null===f||"object"!=typeof f&&"function"!=typeof f,_m=Array.isArray,vm="[ \t\n\f\r]",up=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,ym=/-->/g,Vc=/>/g,pl=RegExp(`>|${vm}(?:([^\\s"'>=/]+)(${vm}*=${vm}*(?:[^ \t\n\f\r"'\`<>=]|("|')|))|$)`,"g"),yh=/'/g,Gv=/"/g,oc=/^(?:script|style|textarea|title)$/i,dp=f=>(_,...c)=>({_$litType$:f,strings:_,values:c}),Yv=dp(1),Wv=dp(2),ju=Symbol.for("lit-noChange"),Cr=Symbol.for("lit-nothing"),$v=new WeakMap,gl=Ro.createTreeWalker(Ro,129,null,!1);class Ch{constructor({strings:_,_$litType$:c},y){let D;this.parts=[];let R=0,Q=0;const me=_.length-1,Ie=this.parts,[Ue,Et]=((f,_)=>{const c=f.length-1,y=[];let D,R=2===_?"<svg>":"",Q=up;for(let Ie=0;Ie<c;Ie++){const Ue=f[Ie];let Et,Ht,Kt=-1,Rn=0;for(;Rn<Ue.length&&(Q.lastIndex=Rn,Ht=Q.exec(Ue),null!==Ht);)Rn=Q.lastIndex,Q===up?"!--"===Ht[1]?Q=ym:void 0!==Ht[1]?Q=Vc:void 0!==Ht[2]?(oc.test(Ht[2])&&(D=RegExp("</"+Ht[2],"g")),Q=pl):void 0!==Ht[3]&&(Q=pl):Q===pl?">"===Ht[0]?(Q=D??up,Kt=-1):void 0===Ht[1]?Kt=-2:(Kt=Q.lastIndex-Ht[2].length,Et=Ht[1],Q=void 0===Ht[3]?pl:'"'===Ht[3]?Gv:yh):Q===Gv||Q===yh?Q=pl:Q===ym||Q===Vc?Q=up:(Q=pl,D=void 0);const ni=Q===pl&&f[Ie+1].startsWith("/>")?" ":"";R+=Q===up?Ue+mm:Kt>=0?(y.push(Et),Ue.slice(0,Kt)+sc+Ue.slice(Kt)+Aa+ni):Ue+Aa+(-2===Kt?(y.push(void 0),Ie):ni)}const me=R+(f[c]||"<?>")+(2===_?"</svg>":"");if(!Array.isArray(f)||!f.hasOwnProperty("raw"))throw Error("invalid template strings array");return[void 0!==lp?lp.createHTML(me):me,y]})(_,c);if(this.el=Ch.createElement(Ue,y),gl.currentNode=this.el.content,2===c){const Ht=this.el.content,Kt=Ht.firstChild;Kt.remove(),Ht.append(...Kt.childNodes)}for(;null!==(D=gl.nextNode())&&Ie.length<me;){if(1===D.nodeType){if(D.hasAttributes()){const Ht=[];for(const Kt of D.getAttributeNames())if(Kt.endsWith(sc)||Kt.startsWith(Aa)){const Rn=Et[Q++];if(Ht.push(Kt),void 0!==Rn){const ni=D.getAttribute(Rn.toLowerCase()+sc).split(Aa),Ni=/([.?@])?(.*)/.exec(Rn);Ie.push({type:1,index:R,name:Ni[2],strings:ni,ctor:"."===Ni[1]?qv:"?"===Ni[1]?bm:"@"===Ni[1]?Zu:bh})}else Ie.push({type:6,index:R})}for(const Kt of Ht)D.removeAttribute(Kt)}if(oc.test(D.tagName)){const Ht=D.textContent.split(Aa),Kt=Ht.length-1;if(Kt>0){D.textContent=Hu?Hu.emptyScript:"";for(let Rn=0;Rn<Kt;Rn++)D.append(Ht[Rn],fl()),gl.nextNode(),Ie.push({type:2,index:++R});D.append(Ht[Kt],fl())}}}else if(8===D.nodeType)if(D.data===vh)Ie.push({type:2,index:R});else{let Ht=-1;for(;-1!==(Ht=D.data.indexOf(Aa,Ht+1));)Ie.push({type:7,index:R}),Ht+=Aa.length-1}R++}}static createElement(_,c){const y=Ro.createElement("template");return y.innerHTML=_,y}}function ml(f,_,c=f,y){var D,R,Q,me;if(_===ju)return _;let Ie=void 0!==y?null===(D=c._$Co)||void 0===D?void 0:D[y]:c._$Cl;const Ue=Uu(_)?void 0:_._$litDirective$;return Ie?.constructor!==Ue&&(null===(R=Ie?._$AO)||void 0===R||R.call(Ie,!1),void 0===Ue?Ie=void 0:(Ie=new Ue(f),Ie._$AT(f,c,y)),void 0!==y?(null!==(Q=(me=c)._$Co)&&void 0!==Q?Q:me._$Co=[])[y]=Ie:c._$Cl=Ie),void 0!==Ie&&(_=ml(f,Ie._$AS(f,_.values),Ie,y)),_}class Cm{constructor(_,c){this._$AV=[],this._$AN=void 0,this._$AD=_,this._$AM=c}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(_){var c;const{el:{content:y},parts:D}=this._$AD,R=(null!==(c=_?.creationScope)&&void 0!==c?c:Ro).importNode(y,!0);gl.currentNode=R;let Q=gl.nextNode(),me=0,Ie=0,Ue=D[0];for(;void 0!==Ue;){if(me===Ue.index){let Et;2===Ue.type?Et=new zu(Q,Q.nextSibling,this,_):1===Ue.type?Et=new Ue.ctor(Q,Ue.name,Ue.strings,this,_):6===Ue.type&&(Et=new Sm(Q,this,_)),this._$AV.push(Et),Ue=D[++Ie]}me!==Ue?.index&&(Q=gl.nextNode(),me++)}return gl.currentNode=Ro,R}v(_){let c=0;for(const y of this._$AV)void 0!==y&&(void 0!==y.strings?(y._$AI(_,y,c),c+=y.strings.length-2):y._$AI(_[c])),c++}}class zu{constructor(_,c,y,D){var R;this.type=2,this._$AH=Cr,this._$AN=void 0,this._$AA=_,this._$AB=c,this._$AM=y,this.options=D,this._$Cp=null===(R=D?.isConnected)||void 0===R||R}get _$AU(){var _,c;return null!==(c=null===(_=this._$AM)||void 0===_?void 0:_._$AU)&&void 0!==c?c:this._$Cp}get parentNode(){let _=this._$AA.parentNode;const c=this._$AM;return void 0!==c&&11===_?.nodeType&&(_=c.parentNode),_}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(_,c=this){_=ml(this,_,c),Uu(_)?_===Cr||null==_||""===_?(this._$AH!==Cr&&this._$AR(),this._$AH=Cr):_!==this._$AH&&_!==ju&&this._(_):void 0!==_._$litType$?this.g(_):void 0!==_.nodeType?this.$(_):(f=>_m(f)||"function"==typeof f?.[Symbol.iterator])(_)?this.T(_):this._(_)}k(_){return this._$AA.parentNode.insertBefore(_,this._$AB)}$(_){this._$AH!==_&&(this._$AR(),this._$AH=this.k(_))}_(_){this._$AH!==Cr&&Uu(this._$AH)?this._$AA.nextSibling.data=_:this.$(Ro.createTextNode(_)),this._$AH=_}g(_){var c;const{values:y,_$litType$:D}=_,R="number"==typeof D?this._$AC(_):(void 0===D.el&&(D.el=Ch.createElement(D.h,this.options)),D);if((null===(c=this._$AH)||void 0===c?void 0:c._$AD)===R)this._$AH.v(y);else{const Q=new Cm(R,this),me=Q.u(this.options);Q.v(y),this.$(me),this._$AH=Q}}_$AC(_){let c=$v.get(_.strings);return void 0===c&&$v.set(_.strings,c=new Ch(_)),c}T(_){_m(this._$AH)||(this._$AH=[],this._$AR());const c=this._$AH;let y,D=0;for(const R of _)D===c.length?c.push(y=new zu(this.k(fl()),this.k(fl()),this,this.options)):y=c[D],y._$AI(R),D++;D<c.length&&(this._$AR(y&&y._$AB.nextSibling,D),c.length=D)}_$AR(_=this._$AA.nextSibling,c){var y;for(null===(y=this._$AP)||void 0===y||y.call(this,!1,!0,c);_&&_!==this._$AB;){const D=_.nextSibling;_.remove(),_=D}}setConnected(_){var c;void 0===this._$AM&&(this._$Cp=_,null===(c=this._$AP)||void 0===c||c.call(this,_))}}class bh{constructor(_,c,y,D,R){this.type=1,this._$AH=Cr,this._$AN=void 0,this.element=_,this.name=c,this._$AM=D,this.options=R,y.length>2||""!==y[0]||""!==y[1]?(this._$AH=Array(y.length-1).fill(new String),this.strings=y):this._$AH=Cr}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(_,c=this,y,D){const R=this.strings;let Q=!1;if(void 0===R)_=ml(this,_,c,0),Q=!Uu(_)||_!==this._$AH&&_!==ju,Q&&(this._$AH=_);else{const me=_;let Ie,Ue;for(_=R[0],Ie=0;Ie<R.length-1;Ie++)Ue=ml(this,me[y+Ie],c,Ie),Ue===ju&&(Ue=this._$AH[Ie]),Q||(Q=!Uu(Ue)||Ue!==this._$AH[Ie]),Ue===Cr?_=Cr:_!==Cr&&(_+=(Ue??"")+R[Ie+1]),this._$AH[Ie]=Ue}Q&&!D&&this.j(_)}j(_){_===Cr?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,_??"")}}class qv extends bh{constructor(){super(...arguments),this.type=3}j(_){this.element[this.name]=_===Cr?void 0:_}}const vD=Hu?Hu.emptyScript:"";class bm extends bh{constructor(){super(...arguments),this.type=4}j(_){_&&_!==Cr?this.element.setAttribute(this.name,vD):this.element.removeAttribute(this.name)}}class Zu extends bh{constructor(_,c,y,D,R){super(_,c,y,D,R),this.type=5}_$AI(_,c=this){var y;if((_=null!==(y=ml(this,_,c,0))&&void 0!==y?y:Cr)===ju)return;const D=this._$AH,R=_===Cr&&D!==Cr||_.capture!==D.capture||_.once!==D.once||_.passive!==D.passive,Q=_!==Cr&&(D===Cr||R);R&&this.element.removeEventListener(this.name,this,D),Q&&this.element.addEventListener(this.name,this,_),this._$AH=_}handleEvent(_){var c,y;"function"==typeof this._$AH?this._$AH.call(null!==(y=null===(c=this.options)||void 0===c?void 0:c.host)&&void 0!==y?y:this.element,_):this._$AH.handleEvent(_)}}class Sm{constructor(_,c,y){this.element=_,this.type=6,this._$AN=void 0,this._$AM=c,this.options=y}get _$AU(){return this._$AM._$AU}_$AI(_){ml(this,_)}}const hp=gm.litHtmlPolyfillSupport;hp?.(Ch,zu),(null!==(Bu=gm.litHtmlVersions)&&void 0!==Bu?Bu:gm.litHtmlVersions=[]).push("2.7.4");const fp=(f,_,c)=>{var y,D;const R=null!==(y=c?.renderBefore)&&void 0!==y?y:_;let Q=R._$litPart$;if(void 0===Q){const me=null!==(D=c?.renderBefore)&&void 0!==D?D:null;R._$litPart$=Q=new zu(_.insertBefore(fl(),me),me,void 0,c??{})}return Q._$AI(f),Q};var Bc,wm;class _l extends Oo{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var _,c;const y=super.createRenderRoot();return null!==(_=(c=this.renderOptions).renderBefore)&&void 0!==_||(c.renderBefore=y.firstChild),y}update(_){const c=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(_),this._$Do=fp(c,this.renderRoot,this.renderOptions)}connectedCallback(){var _;super.connectedCallback(),null===(_=this._$Do)||void 0===_||_.setConnected(!0)}disconnectedCallback(){var _;super.disconnectedCallback(),null===(_=this._$Do)||void 0===_||_.setConnected(!1)}render(){return ju}}_l.finalized=!0,_l._$litElement$=!0,null===(Bc=globalThis.litElementHydrateSupport)||void 0===Bc||Bc.call(globalThis,{LitElement:_l});const pp=globalThis.litElementPolyfillSupport;pp?.({LitElement:_l}),(null!==(wm=globalThis.litElementVersions)&&void 0!==wm?wm:globalThis.litElementVersions=[]).push("3.3.2");const Kv=Lu`@charset "UTF-8";:host,:root{--δ2:var(--cds-global-layout-space-xxs, calc(4 * 1rem / var(--cds-global-base, 20)));--δ3:var(--cds-global-layout-space-xs, calc(8 * 1rem / var(--cds-global-base, 20)));--δ4:var(--cds-global-layout-space-sm, calc(12 * 1rem / var(--cds-global-base, 20)));--δ5:var(--cds-global-layout-space-md, calc(16 * 1rem / var(--cds-global-base, 20)));--δ6:var(--cds-global-layout-space-lg, calc(24 * 1rem / var(--cds-global-base, 20)));--δ7:var(--cds-global-layout-space-xl, calc(32 * 1rem / var(--cds-global-base, 20)))}[cds-layout~="wrap:none"]{flex-wrap:nowrap!important}[cds-layout*="align:stretch"]{flex-grow:1!important}[cds-layout*="align:shrink"]{flex-shrink:1!important;flex-grow:0!important}[cds-layout~=horizontal]{display:flex;flex-direction:row;flex-wrap:wrap;justify-items:flex-start;align-items:flex-start;width:100%;margin:0;min-height:0}[cds-layout~=horizontal]>[cds-layout~=horizontal],[cds-layout~=horizontal]>[cds-layout~=vertical],[cds-layout~=horizontal]>[cds-text]{width:initial!important}[cds-layout~=horizontal][cds-layout*="align:top"]{align-items:flex-start}[cds-layout~=horizontal][cds-layout*="align:left"]{justify-content:flex-start}[cds-layout~=horizontal][cds-layout*="align:right"]{justify-content:flex-end}[cds-layout~=horizontal][cds-layout*="align:vertical-center"]{align-items:center;align-content:center}[cds-layout~=horizontal][cds-layout*="align:horizontal-center"]{justify-content:center}[cds-layout~=horizontal][cds-layout*="align:center"]{align-items:center;align-content:center;justify-content:center}[cds-layout~=horizontal][cds-layout*="order:reverse"]{flex-direction:row-reverse}[cds-layout~=horizontal][cds-layout*="align:horizontal-stretch"]{justify-content:stretch;flex-grow:1}[cds-layout~=horizontal][cds-layout*="align:horizontal-stretch"]>*{flex-grow:1}[cds-layout~=horizontal][cds-layout*="align:stretch"]{align-items:stretch;align-content:stretch;flex-grow:1}[cds-layout~=horizontal][cds-layout*="align:stretch"]>*{flex-grow:1}[cds-layout~=horizontal]>[cds-layout*="align:center"],[cds-layout~=horizontal]>[cds-layout*="align:vertical-center"]{align-self:center}[cds-layout~=horizontal]>[cds-layout*="align:center"],[cds-layout~=horizontal]>[cds-layout*="align:horizontal-center"]{margin-left:auto!important;margin-right:auto!important}[cds-layout~=horizontal]>[cds-layout*="align:top"]{align-self:flex-start}[cds-layout~=horizontal]>[cds-layout*="align:right"]{margin-left:auto!important}[cds-layout~=horizontal]>[cds-layout*="align:left"]{margin-right:auto!important}[cds-layout~=vertical]{width:100%;display:flex;flex-direction:column;align-items:flex-start}[cds-layout~=vertical],[cds-layout~=vertical][cds-layout*="align:top"]{justify-content:flex-start}[cds-layout~=vertical][cds-layout*="align:left"]{align-items:flex-start}[cds-layout~=vertical][cds-layout*="align:right"]{align-items:flex-end}[cds-layout~=vertical][cds-layout*="align:vertical-center"]{justify-content:center}[cds-layout~=vertical][cds-layout*="align:horizontal-center"]{align-items:center}[cds-layout~=vertical][cds-layout*="align:center"]{align-items:center;justify-content:center}[cds-layout~=vertical][cds-layout*="order:reverse"]{flex-direction:column-reverse}[cds-layout~=vertical][cds-layout*="align:horizontal-stretch"]{align-items:stretch}[cds-layout~=vertical][cds-layout*="align:stretch"]{align-items:stretch;justify-content:stretch}[cds-layout~=vertical][cds-layout*="align:stretch"]>*{flex-grow:1}[cds-layout~=vertical]>[cds-layout*="align:center"],[cds-layout~=vertical]>[cds-layout*="align:vertical-center"]{margin-top:auto;margin-bottom:auto}[cds-layout~=vertical]>[cds-layout*="align:center"],[cds-layout~=vertical]>[cds-layout*="align:horizontal-center"]{align-self:center}[cds-layout~=vertical]>[cds-layout*="align:top"]{margin-bottom:auto!important}[cds-layout~=vertical]>[cds-layout*="align:right"]{margin-left:auto}[cds-layout~=vertical]>[cds-layout*="align:left"]{margin-right:auto}[cds-layout~=grid]{display:grid;align-items:start;align-content:start;grid-template-columns:repeat(var(--cds-global-layout-grid-cols,12),1fr);width:100%}[cds-layout~=grid][cds-layout*=rows]{grid-template-rows:repeat(12,auto)}[cds-layout~=grid]>[cds-layout*=row]{align-self:stretch}[cds-layout~=grid][cds-layout*="align:top"]{align-content:start}[cds-layout~=grid][cds-layout*="align:right"]{justify-content:end}[cds-layout~=grid][cds-layout*="align:left"]{justify-content:start}[cds-layout~=grid][cds-layout*="align:horizontal-stretch"]{justify-items:stretch;justify-content:stretch}[cds-layout~=grid][cds-layout*="align:stretch"]{align-items:stretch;align-content:stretch;justify-items:stretch;justify-content:stretch}[cds-layout~=grid][cds-layout*="align:vertical-center"]{align-items:center;align-content:center}[cds-layout~=grid][cds-layout*="align:horizontal-center"]{justify-items:center;justify-content:center}[cds-layout~=grid][cds-layout*="align:center"]{align-items:center;align-content:center;justify-items:center;justify-content:center}::slotted([cds-layout~="display:screen-reader-only"]),[cds-layout~="display:screen-reader-only"]{position:absolute!important;clip:rect(1px,1px,1px,1px);clip-path:inset(50%);padding:0;border:0;height:1px;width:1px;overflow:hidden;white-space:nowrap;top:0;left:0;display:block!important}[cds-layout*="gap:none"]{gap:0}[cds-layout*="gap:xxs"]{gap:var(--δ2)}[cds-layout*="gap:xs"]{gap:var(--δ3)}[cds-layout*="gap:sm"]{gap:var(--δ4)}[cds-layout*="gap:md"]{gap:var(--δ5)}[cds-layout*="gap:lg"]{gap:var(--δ6)}[cds-layout~="p:none"]{padding:0!important}[cds-layout~="p:xxs"]{padding:var(--δ2)!important}[cds-layout~="p:xs"]{padding:var(--δ3)!important}[cds-layout~="p:sm"]{padding:var(--δ4)!important}[cds-layout~="p:md"]{padding:var(--δ5)!important}[cds-layout~="m:md"]{margin:var(--δ5)!important}[cds-layout~="p:lg"]{padding:var(--δ6)!important}[cds-layout~="p-y:xs"]{padding-top:var(--δ3)!important;padding-bottom:var(--δ3)!important}[cds-layout~="p-x:lg"]{padding-left:var(--δ6)!important;padding-right:var(--δ6)!important}[cds-layout~="p-y:lg"]{padding-top:var(--δ6)!important;padding-bottom:var(--δ6)!important}[cds-layout~="p-l:md"]{padding-left:var(--δ5)!important}@media (min-width:992px){[cds-layout*="gap@md:lg"]{gap:var(--δ6)}[cds-layout~="p@md:lg"]{padding:var(--δ6)!important}[cds-layout~="m@md:xl"]{margin:var(--δ7)!important}}[cds-layout~=fill]{width:100%!important}*,:after,:before{box-sizing:border-box}[cds-layout~=horizontal][cds-layout*="align:horizontal-stretch"]>::slotted(*),[cds-layout~=horizontal][cds-layout*="align:stretch"]>::slotted(*),[cds-layout~=vertical][cds-layout*="align:stretch"]>::slotted(*){flex-grow:1}[cds-layout~=vertical] ::slotted([cds-layout*="align:center"]),[cds-layout~=vertical] ::slotted([cds-layout*="align:vertical-center"]){margin-top:auto;margin-bottom:auto}[cds-layout~=vertical] ::slotted([cds-layout*="align:center"]),[cds-layout~=vertical] ::slotted([cds-layout*="align:horizontal-center"]){align-self:center}[cds-layout~=vertical] ::slotted([cds-layout*="align:top"]){margin-bottom:auto!important}[cds-layout~=vertical] ::slotted([cds-layout*="align:bottom"]){margin-top:auto!important}[cds-layout~=vertical] ::slotted([cds-layout*="align:right"]){margin-left:auto}[cds-layout~=vertical] ::slotted([cds-layout*="align:left"]),[cds-layout~=vertical]>[cds-layout*="align:left"]{margin-right:auto}@media (min-width:576px){[cds-layout~=vertical] ::slotted([cds-layout*="align@xs:center"]),[cds-layout~=vertical] ::slotted([cds-layout*="align@xs:vertical-center"]){margin-top:auto;margin-bottom:auto}[cds-layout~=vertical] ::slotted([cds-layout*="align@xs:center"]),[cds-layout~=vertical] ::slotted([cds-layout*="align@xs:horizontal-center"]){align-self:center}[cds-layout~=vertical] ::slotted([cds-layout*="align@xs:top"]){margin-bottom:auto!important}[cds-layout~=vertical] ::slotted([cds-layout*="align@xs:bottom"]){margin-top:auto!important}[cds-layout~=vertical] ::slotted([cds-layout*="align@xs:right"]){margin-left:auto}[cds-layout~=vertical] ::slotted([cds-layout*="align@xs:left"]){margin-right:auto}}@media (min-width:768px){[cds-layout~=vertical] ::slotted([cds-layout*="align@sm:center"]),[cds-layout~=vertical] ::slotted([cds-layout*="align@sm:vertical-center"]){margin-top:auto;margin-bottom:auto}[cds-layout~=vertical] ::slotted([cds-layout*="align@sm:center"]),[cds-layout~=vertical] ::slotted([cds-layout*="align@sm:horizontal-center"]){align-self:center}[cds-layout~=vertical] ::slotted([cds-layout*="align@sm:top"]){margin-bottom:auto!important}[cds-layout~=vertical] ::slotted([cds-layout*="align@sm:bottom"]){margin-top:auto!important}[cds-layout~=vertical] ::slotted([cds-layout*="align@sm:right"]){margin-left:auto}[cds-layout~=vertical] ::slotted([cds-layout*="align@sm:left"]){margin-right:auto}}@media (min-width:992px){[cds-layout~=vertical] ::slotted([cds-layout*="align@md:center"]),[cds-layout~=vertical] ::slotted([cds-layout*="align@md:vertical-center"]){margin-top:auto;margin-bottom:auto}[cds-layout~=vertical] ::slotted([cds-layout*="align@md:center"]),[cds-layout~=vertical] ::slotted([cds-layout*="align@md:horizontal-center"]){align-self:center}[cds-layout~=vertical] ::slotted([cds-layout*="align@md:top"]){margin-bottom:auto!important}[cds-layout~=vertical] ::slotted([cds-layout*="align@md:bottom"]){margin-top:auto!important}[cds-layout~=vertical] ::slotted([cds-layout*="align@md:right"]){margin-left:auto}[cds-layout~=vertical] ::slotted([cds-layout*="align@md:left"]){margin-right:auto}}@media (min-width:1200px){[cds-layout~=vertical] ::slotted([cds-layout*="align@lg:center"]),[cds-layout~=vertical] ::slotted([cds-layout*="align@lg:vertical-center"]){margin-top:auto;margin-bottom:auto}[cds-layout~=vertical] ::slotted([cds-layout*="align@lg:center"]),[cds-layout~=vertical] ::slotted([cds-layout*="align@lg:horizontal-center"]){align-self:center}[cds-layout~=vertical] ::slotted([cds-layout*="align@lg:top"]){margin-bottom:auto!important}[cds-layout~=vertical] ::slotted([cds-layout*="align@lg:bottom"]){margin-top:auto!important}[cds-layout~=vertical] ::slotted([cds-layout*="align@lg:right"]){margin-left:auto}[cds-layout~=vertical] ::slotted([cds-layout*="align@lg:left"]){margin-right:auto}}@media (min-width:1440px){[cds-layout~=vertical] ::slotted([cds-layout*="align@xl:center"]),[cds-layout~=vertical] ::slotted([cds-layout*="align@xl:vertical-center"]){margin-top:auto;margin-bottom:auto}[cds-layout~=vertical] ::slotted([cds-layout*="align@xl:center"]),[cds-layout~=vertical] ::slotted([cds-layout*="align@xl:horizontal-center"]){align-self:center}[cds-layout~=vertical] ::slotted([cds-layout*="align@xl:top"]){margin-bottom:auto!important}[cds-layout~=vertical] ::slotted([cds-layout*="align@xl:bottom"]){margin-top:auto!important}[cds-layout~=vertical] ::slotted([cds-layout*="align@xl:right"]){margin-left:auto}[cds-layout~=vertical] ::slotted([cds-layout*="align@xl:left"]){margin-right:auto}}[cds-layout~=horizontal] ::slotted([cds-layout*="align:center"]),[cds-layout~=horizontal] ::slotted([cds-layout*="align:vertical-center"]){align-self:center}[cds-layout~=horizontal] ::slotted([cds-layout*="align:center"]),[cds-layout~=horizontal] ::slotted([cds-layout*="align:horizontal-center"]){margin-left:auto!important;margin-right:auto!important}[cds-layout~=horizontal] ::slotted([cds-layout*="align:top"]){align-self:flex-start}[cds-layout~=horizontal] ::slotted([cds-layout*="align:bottom"]){align-self:flex-end}[cds-layout~=horizontal] ::slotted([cds-layout*="align:right"]){margin-left:auto!important}[cds-layout~=horizontal] ::slotted([cds-layout*="align:left"]){margin-right:auto!important}@media (min-width:576px){[cds-layout~=horizontal] ::slotted([cds-layout*="align@xs:center"]),[cds-layout~=horizontal] ::slotted([cds-layout*="align@xs:vertical-center"]){align-self:center}[cds-layout~=horizontal] ::slotted([cds-layout*="align@xs:center"]),[cds-layout~=horizontal] ::slotted([cds-layout*="align@xs:horizontal-center"]){margin-left:auto!important;margin-right:auto!important}[cds-layout~=horizontal] ::slotted([cds-layout*="align@xs:top"]){align-self:flex-start}[cds-layout~=horizontal] ::slotted([cds-layout*="align@xs:bottom"]){align-self:flex-end}[cds-layout~=horizontal] ::slotted([cds-layout*="align@xs:right"]){margin-left:auto!important}[cds-layout~=horizontal] ::slotted([cds-layout*="align@xs:left"]){margin-right:auto!important}}@media (min-width:768px){[cds-layout~=horizontal] ::slotted([cds-layout*="align@sm:center"]),[cds-layout~=horizontal] ::slotted([cds-layout*="align@sm:vertical-center"]){align-self:center}[cds-layout~=horizontal] ::slotted([cds-layout*="align@sm:center"]),[cds-layout~=horizontal] ::slotted([cds-layout*="align@sm:horizontal-center"]){margin-left:auto!important;margin-right:auto!important}[cds-layout~=horizontal] ::slotted([cds-layout*="align@sm:top"]){align-self:flex-start}[cds-layout~=horizontal] ::slotted([cds-layout*="align@sm:bottom"]){align-self:flex-end}[cds-layout~=horizontal] ::slotted([cds-layout*="align@sm:right"]){margin-left:auto!important}[cds-layout~=horizontal] ::slotted([cds-layout*="align@sm:left"]){margin-right:auto!important}}@media (min-width:992px){[cds-layout~=horizontal] ::slotted([cds-layout*="align@md:center"]),[cds-layout~=horizontal] ::slotted([cds-layout*="align@md:vertical-center"]){align-self:center}[cds-layout~=horizontal] ::slotted([cds-layout*="align@md:center"]),[cds-layout~=horizontal] ::slotted([cds-layout*="align@md:horizontal-center"]){margin-left:auto!important;margin-right:auto!important}[cds-layout~=horizontal] ::slotted([cds-layout*="align@md:top"]){align-self:flex-start}[cds-layout~=horizontal] ::slotted([cds-layout*="align@md:bottom"]){align-self:flex-end}[cds-layout~=horizontal] ::slotted([cds-layout*="align@md:right"]){margin-left:auto!important}[cds-layout~=horizontal] ::slotted([cds-layout*="align@md:left"]){margin-right:auto!important}}@media (min-width:1200px){[cds-layout~=horizontal] ::slotted([cds-layout*="align@lg:center"]),[cds-layout~=horizontal] ::slotted([cds-layout*="align@lg:vertical-center"]){align-self:center}[cds-layout~=horizontal] ::slotted([cds-layout*="align@lg:center"]),[cds-layout~=horizontal] ::slotted([cds-layout*="align@lg:horizontal-center"]){margin-left:auto!important;margin-right:auto!important}[cds-layout~=horizontal] ::slotted([cds-layout*="align@lg:top"]){align-self:flex-start}[cds-layout~=horizontal] ::slotted([cds-layout*="align@lg:bottom"]){align-self:flex-end}[cds-layout~=horizontal] ::slotted([cds-layout*="align@lg:right"]){margin-left:auto!important}[cds-layout~=horizontal] ::slotted([cds-layout*="align@lg:left"]){margin-right:auto!important}}@media (min-width:1440px){[cds-layout~=horizontal] ::slotted([cds-layout*="align@xl:center"]),[cds-layout~=horizontal] ::slotted([cds-layout*="align@xl:vertical-center"]){align-self:center}[cds-layout~=horizontal] ::slotted([cds-layout*="align@xl:center"]),[cds-layout~=horizontal] ::slotted([cds-layout*="align@xl:horizontal-center"]){margin-left:auto!important;margin-right:auto!important}[cds-layout~=horizontal] ::slotted([cds-layout*="align@xl:top"]){align-self:flex-start}[cds-layout~=horizontal] ::slotted([cds-layout*="align@xl:bottom"]){align-self:flex-end}[cds-layout~=horizontal] ::slotted([cds-layout*="align@xl:right"]){margin-left:auto!important}[cds-layout~=horizontal] ::slotted([cds-layout*="align@xl:left"]){margin-right:auto!important}}[cds-text]{font-family:var(--cds-global-typography-font-family, "Clarity City", "Avenir Next", sans-serif);margin-top:0;margin-bottom:0}[cds-text][cds-layout~=grid]::after,[cds-text][cds-layout~=grid]::before,[cds-text][cds-layout~=horizontal]::after,[cds-text][cds-layout~=horizontal]::before,[cds-text][cds-layout~=vertical]::after,[cds-text][cds-layout~=vertical]::before{display:none}[cds-text*=display],[cds-text*=section],[cds-text*=subsection],[cds-text*=title]{font-family:var(--cds-global-typography-header-font-family, "Clarity City", "Avenir Next", sans-serif);color:var(--cds-global-typography-color-400,var(--cds-global-color-construction-900,#21333b))}[cds-text*=body],[cds-text*=message],[cds-text*=secondary]{color:var(--cds-global-typography-color-500,var(--cds-global-color-black,#000))}[cds-text*=inline]{width:auto!important;display:inline-block!important}[cds-text*=display]{font-size:var(--cds-global-typography-display-font-size,calc(40 * 1rem / var(--cds-global-base,20)));font-weight:var(--cds-global-typography-display-font-weight,400);line-height:var(--cds-global-typography-display-line-height,1.1em);letter-spacing:var(--cds-global-typography-display-letter-spacing,-.0125em)}[cds-text*=display]::before{content:"";display:block;height:0;width:0;margin-bottom:calc(((var(--cds-global-typography-top-gap-height,.1475em) + calc((var(--cds-global-typography-display-line-height,1.1em) - 1em)/ 2))*-1) + .037em)}[cds-text*=display]::after{content:"";display:block;height:0;width:0;margin-top:calc((((1em - var(--cds-global-typography-top-gap-height,.1475em) - var(--cds-global-typography-ascender-height,.1703em) - var(--cds-global-typography-x-height,.517em)) + calc((var(--cds-global-typography-display-line-height,1.1em) - 1em)/ 2))*-1) - .044em)}[cds-text*=title]{font-size:var(--cds-global-typography-title-font-size,calc(24 * 1rem / var(--cds-global-base,20)));font-weight:var(--cds-global-typography-title-font-weight,400);line-height:var(--cds-global-typography-title-line-height,1.16667em);letter-spacing:var(--cds-global-typography-title-letter-spacing,-.008333em)}[cds-text*=title]::before{content:"";display:block;height:0;width:0;margin-bottom:calc(((var(--cds-global-typography-top-gap-height,.1475em) + calc((var(--cds-global-typography-title-line-height,1.16667em) - 1em)/ 2))*-1) + .037em)}[cds-text*=title]::after{content:"";display:block;height:0;width:0;margin-top:calc((((1em - var(--cds-global-typography-top-gap-height,.1475em) - var(--cds-global-typography-ascender-height,.1703em) - var(--cds-global-typography-x-height,.517em)) + calc((var(--cds-global-typography-title-line-height,1.16667em) - 1em)/ 2))*-1) - .044em)}[cds-text*=section]{font-size:var(--cds-global-typography-section-font-size,calc(20 * 1rem / var(--cds-global-base,20)));font-weight:var(--cds-global-typography-section-font-weight,400);line-height:var(--cds-global-typography-section-line-height,1.2em);letter-spacing:var(--cds-global-typography-section-letter-spacing,-.01em)}[cds-text*=section]::before{content:"";display:block;height:0;width:0;margin-bottom:calc(((var(--cds-global-typography-top-gap-height,.1475em) + calc((var(--cds-global-typography-section-line-height,1.2em) - 1em)/ 2))*-1) + .037em)}[cds-text*=section]::after{content:"";display:block;height:0;width:0;margin-top:calc((((1em - var(--cds-global-typography-top-gap-height,.1475em) - var(--cds-global-typography-ascender-height,.1703em) - var(--cds-global-typography-x-height,.517em)) + calc((var(--cds-global-typography-section-line-height,1.2em) - 1em)/ 2))*-1) - .044em)}[cds-text*=subsection]{font-size:var(--cds-global-typography-subsection-font-size,calc(16 * 1rem / var(--cds-global-base,20)));font-weight:var(--cds-global-typography-subsection-font-weight,400);line-height:var(--cds-global-typography-subsection-line-height,1.25em);letter-spacing:var(--cds-global-typography-subsection-letter-spacing,-.0125em)}[cds-text*=subsection]::before{content:"";display:block;height:0;width:0;margin-bottom:calc(((var(--cds-global-typography-top-gap-height,.1475em) + calc((var(--cds-global-typography-subsection-line-height,1.25em) - 1em)/ 2))*-1) + .037em)}[cds-text*=subsection]::after{content:"";display:block;height:0;width:0;margin-top:calc((((1em - var(--cds-global-typography-top-gap-height,.1475em) - var(--cds-global-typography-ascender-height,.1703em) - var(--cds-global-typography-x-height,.517em)) + calc((var(--cds-global-typography-subsection-line-height,1.25em) - 1em)/ 2))*-1) - .044em)}[cds-text*=body]{font-weight:var(--cds-global-typography-body-font-weight,400);font-size:var(--cds-global-typography-body-font-size,calc(14 * 1rem / var(--cds-global-base,20)));letter-spacing:var(--cds-global-typography-body-letter-spacing,-.014286em);line-height:var(--cds-global-typography-body-line-height,1.42857em)}[cds-text*=body]::before{content:"";display:block;height:0;width:0;margin-bottom:calc(((var(--cds-global-typography-top-gap-height,.1475em) + calc((var(--cds-global-typography-body-line-height,1.42857em) - 1em)/ 2))*-1) + .1em)}[cds-text*=body]::after{content:"";display:block;height:0;width:0;margin-top:calc((((1em - var(--cds-global-typography-top-gap-height,.1475em) - var(--cds-global-typography-ascender-height,.1703em) - var(--cds-global-typography-x-height,.517em)) + calc((var(--cds-global-typography-body-line-height,1.42857em) - 1em)/ 2))*-1) - .044em)}body[cds-text*=body]::after,body[cds-text*=body]::before{content:none}[cds-text*=message]{font-size:var(--cds-global-typography-message-font-size,calc(16 * 1rem / var(--cds-global-base,20)));font-weight:var(--cds-global-typography-message-font-weight,calc(400 * 1rem / var(--cds-global-base,20)));line-height:var(--cds-global-typography-message-line-height,1.25em);letter-spacing:var(--cds-global-typography-message-letter-spacing,-.0125em)}[cds-text*=message]::before{content:"";display:block;height:0;width:0;margin-bottom:calc(((var(--cds-global-typography-top-gap-height,.1475em) + calc((var(--cds-global-typography-message-line-height,1.25em) - 1em)/ 2))*-1) + .037em)}[cds-text*=message]::after{content:"";display:block;height:0;width:0;margin-top:calc((((1em - var(--cds-global-typography-top-gap-height,.1475em) - var(--cds-global-typography-ascender-height,.1703em) - var(--cds-global-typography-x-height,.517em)) + calc((var(--cds-global-typography-message-line-height,1.25em) - 1em)/ 2))*-1) - .044em)}[cds-text*=secondary]{font-size:var(--cds-global-typography-secondary-font-size,calc(13 * 1rem / var(--cds-global-base,20)));font-weight:var(--cds-global-typography-secondary-font-weight,400);line-height:var(--cds-global-typography-secondary-line-height,1.23077em);letter-spacing:var(--cds-global-typography-secondary-letter-spacing,-.007692em)}[cds-text*=secondary]::before{content:"";display:block;height:0;width:0;margin-bottom:calc(((var(--cds-global-typography-top-gap-height,.1475em) + calc((var(--cds-global-typography-secondary-line-height,1.23077em) - 1em)/ 2))*-1) + .037em)}[cds-text*=secondary]::after{content:"";display:block;height:0;width:0;margin-top:calc((((1em - var(--cds-global-typography-top-gap-height,.1475em) - var(--cds-global-typography-ascender-height,.1703em) - var(--cds-global-typography-x-height,.517em)) + calc((var(--cds-global-typography-secondary-line-height,1.23077em) - 1em)/ 2))*-1) - .044em)}[cds-text~=link]{color:var(--cds-global-typography-link-color,var(--cds-global-color-blue-800,#00608a))!important;text-decoration:underline!important;line-height:inherit!important;font-size:inherit!important}[cds-text~=link]:focus{outline:var(--cds-alias-object-interaction-outline,Highlight solid 2px);outline-offset:var(--cds-alias-object-interaction-outline-offset,1px)}[cds-text~=link]:hover{color:var(--cds-global-typography-link-color-hover,var(--cds-global-color-blue-900,#004b6b))!important}[cds-text~=link]:visited:not([cds-text~=static]){color:var(--cds-global-typography-link-color-visited,var(--cds-global-color-lavender-600,#3b40ce))!important}[cds-text~=link]:visited:not([cds-text~=static]):hover{color:var(--cds-global-typography-link-color-visited-hover,var(--cds-global-color-lavender-700,#2429c2))!important}@media (-webkit-min-device-pixel-ratio:0){[cds-text=link]:focus{outline:var(--cds-alias-object-interaction-outline-webkit,5px auto -webkit-focus-ring-color)}}[cds-text~=code]{color:var(--cds-alias-status-danger,var(--cds-global-color-red-700,#e02200));font-family:monospace;font-size:1.1em}[cds-divider]{display:block;height:var(--cds-alias-object-border-width-100,calc(1 * 1rem / var(--cds-global-base,20)));overflow:hidden;box-shadow:var(--cds-alias-object-border-color,var(--cds-global-color-construction-200,#cbd4d8)) 0 0 0 var(--cds-alias-object-border-width-100,calc(1 * 1rem / var(--cds-global-base,20))) inset}[cds-text~=light]{font-weight:var(--cds-global-typography-font-weight-light,300)!important}[cds-text~=justify]{text-align:justify!important}[cds-text~=left]{text-align:left!important}[cds-text~=right]{text-align:right!important}[cds-text~=center]{text-align:center!important}[cds-text~=lhe]{padding:.05px 0}[cds-text~=lhe]::before{content:"";margin-top:-.124em;display:block;height:0}[cds-text~=lhe]::after{content:"";margin-bottom:-.221em;display:block;height:0}[cds-text*=h2],[cds-text*=h3]{font-family:var(--cds-global-typography-header-font-family, "Clarity City", "Avenir Next", sans-serif);font-size:1.4rem;font-weight:200;color:var(--cds-global-typography-color-400);line-height:1.7143em;letter-spacing:-.017857em}[cds-text*=h2]::before{content:"";display:block;height:0;width:0;margin-bottom:calc(((var(--cds-global-typography-top-gap-height,.1475em) + calc((1.7143em - 1em)/ 2))*-1) + .037em)}[cds-text*=h2]::after{content:"";display:block;height:0;width:0;margin-top:calc((((1em - var(--cds-global-typography-top-gap-height,.1475em) - var(--cds-global-typography-ascender-height,.1703em) - var(--cds-global-typography-x-height,.517em)) + calc((1.7143em - 1em)/ 2))*-1) - .044em)}[cds-text*=h3]{font-size:1.1rem;line-height:1.0909em;letter-spacing:-.013636em}[cds-text*=h3]::before{content:"";display:block;height:0;width:0;margin-bottom:calc(((var(--cds-global-typography-top-gap-height,.1475em) + calc((1.0909em - 1em)/ 2))*-1) + .037em)}[cds-text*=h3]::after{content:"";display:block;height:0;width:0;margin-top:calc((((1em - var(--cds-global-typography-top-gap-height,.1475em) - var(--cds-global-typography-ascender-height,.1703em) - var(--cds-global-typography-x-height,.517em)) + calc((1.0909em - 1em)/ 2))*-1) - .044em)}:host{all:initial;display:block;visibility:inherit;font-family:var(--cds-global-typography-font-family, "Clarity City", "Avenir Next", sans-serif);contain:layout;box-sizing:border-box!important;-webkit-appearance:none!important}*,:after,:before{box-sizing:inherit!important}slot{font-family:var(--cds-global-typography-font-family, "Clarity City", "Avenir Next", sans-serif);display:contents!important}::slotted(*){font-family:inherit;box-sizing:inherit}::slotted(*)::placeholder{color:var(--cds-global-typography-color-200,var(--cds-global-color-construction-600,#4f6169))}:host([_is-anchor]),:host([role=button]){cursor:pointer!important}:host([_is-anchor]) ::slotted(*),:host([role=button]) ::slotted(*){cursor:pointer!important}:host([role=button][disabled]){cursor:not-allowed!important}:host([role=button][disabled]) ::slotted(*){cursor:not-allowed!important;pointer-events:none}:host([hidden]),[hidden]{display:none!important}:host([hidden*=false]){display:block!important}:host([role=dialog][hidden]),:host([role=dialog][hidden]) ::slotted(*){display:block!important;visibility:hidden!important}:host([role=dialog][hidden*=false]),:host([role=dialog][hidden*=false]) ::slotted(*){visibility:visible!important}:host([_focused]) .input,:host([_focused]) [focusable],:host([tabindex="0"]:focus),:host([tabindex="0"]:focus) [focusable],[tabindex="0"][focusable]:focus{outline:Highlight solid 2px;outline:5px auto -webkit-focus-ring-color;outline-offset:var(--cds-alias-object-interaction-outline-offset,1px)}`;var cr=L(7706);function Jv(f){return`calc((${f} / var(--cds-global-base)) * 1rem)`}var ia=L(2309);const $i=(f,_)=>"method"===_.kind&&_.descriptor&&!("value"in _.descriptor)?{..._,finisher(c){c.createProperty(_.key,f)}}:{kind:"field",key:Symbol(),placement:"own",descriptor:{},originalKey:_.key,initializer(){"function"==typeof _.initializer&&(this[_.key]=_.initializer.call(this))},finisher(c){c.createProperty(_.key,f)}},jc=(f,_,c)=>{_.constructor.createProperty(c,f)};function e0(f){return(_,c)=>void 0!==c?jc(f,_,c):$i(f,_)}var Po=L(7548);L(3982),L(6954),L(9835);function Yu(f,_){switch(_&&_.type){case Array:case Object:return{reflect:!1,..._};case String:return{reflect:!0,attribute:(0,Po.w9)(f),converter:{toAttribute:c=>c||null},..._};case Number:return{reflect:!0,attribute:(0,Po.w9)(f),..._};case Boolean:return{reflect:!0,attribute:(0,Po.w9)(f),converter:{toAttribute:c=>c?"":null,fromAttribute:c=>function Yr(f){return null!=f&&""+f!="false"}(c)},..._};case Date:return{reflect:!1,converter:{fromAttribute:c=>new Date(c)},..._};default:return{..._}}}function Ii(f){return(_,c)=>(f?.required&&function Rm(f,_,c){const y=f.firstUpdated;f.firstUpdated=function(D){if(c&&c.required&&(0,cr.KN)(this[_])){const R=c.requiredMessage||function(Q="warning",me,Ie){const Ue=Ie.toLocaleLowerCase();return`${(0,Po.fm)(Q)}: ${me} is required to use ${Ue} component. Set the JS Property or HTML Attribute.\n\n`+((0,ip.tR)()?`Angular: <${Ue} [${me}]="..."></${Ue}>\n`:"")+((0,ip.nd)()?`Vue: <${Ue} :${me}="..."></${Ue}>\n`:"")+((0,ip.Et)()?`React: <${(0,Po.gC)(Ue)} ${Et=me,Et.startsWith("aria")?(0,Po.w9)(Et):Et}={...} />\n`:"")+`HTML: <${Ue} ${(0,Po.w9)(me)}="..."></${Ue}>\nJavaScript: document.querySelector('${Ue}').${me} = '...';\n\n`;var Et}(c.required,_,this.tagName);if("error"===c.required)throw Error(R);Ri.$.warn(R,this)}y&&y.call(this,D)}}(_,c,f),e0(Yu(c,f))(_,c))}function Cp(f){return(_,c)=>{const y=Yu(c,f);return y&&(y.reflect=!!f?.reflect&&f.reflect,y.reflect&&!f?.attribute&&(y.attribute="_"+(0,Po.w9)(c))),e0(y)(_,c)}}var Ns,f,ro=Lu`@keyframes fadeInAndOut{0%,to{opacity:0}75%{opacity:1}}:host{--color:currentColor;display:inline-block;height:var(--cds-global-space-7,calc(16 * 1rem / var(--cds-global-base,20)));width:var(--cds-global-space-7,calc(16 * 1rem / var(--cds-global-base,20)));min-height:var(--cds-global-space-7,calc(16 * 1rem / var(--cds-global-base,20)));min-width:var(--cds-global-space-7,calc(16 * 1rem / var(--cds-global-base,20)));margin:0;vertical-align:middle;fill:var(--color);color:var(--color);contain:strict;cursor:inherit}svg{display:block}:host([size*=xs]){height:var(--cds-global-space-5,calc(8 * 1rem / var(--cds-global-base,20)));width:var(--cds-global-space-5,calc(8 * 1rem / var(--cds-global-base,20)));min-height:var(--cds-global-space-5,calc(8 * 1rem / var(--cds-global-base,20)));min-width:var(--cds-global-space-5,calc(8 * 1rem / var(--cds-global-base,20)))}:host([size*=sm]){height:var(--cds-global-space-7,calc(16 * 1rem / var(--cds-global-base,20)));width:var(--cds-global-space-7,calc(16 * 1rem / var(--cds-global-base,20)));min-height:var(--cds-global-space-7,calc(16 * 1rem / var(--cds-global-base,20)));min-width:var(--cds-global-space-7,calc(16 * 1rem / var(--cds-global-base,20)))}:host([size*=md]){height:var(--cds-global-space-9,calc(24 * 1rem / var(--cds-global-base,20)));width:var(--cds-global-space-9,calc(24 * 1rem / var(--cds-global-base,20)));min-height:var(--cds-global-space-9,calc(24 * 1rem / var(--cds-global-base,20)));min-width:var(--cds-global-space-9,calc(24 * 1rem / var(--cds-global-base,20)))}:host([size*=lg]){height:var(--cds-global-space-11,calc(36 * 1rem / var(--cds-global-base,20)));width:var(--cds-global-space-11,calc(36 * 1rem / var(--cds-global-base,20)));min-height:var(--cds-global-space-11,calc(36 * 1rem / var(--cds-global-base,20)));min-width:var(--cds-global-space-11,calc(36 * 1rem / var(--cds-global-base,20)))}:host([size*=xl]){height:var(--cds-global-space-12,calc(48 * 1rem / var(--cds-global-base,20)));width:var(--cds-global-space-12,calc(48 * 1rem / var(--cds-global-base,20)));min-height:var(--cds-global-space-12,calc(48 * 1rem / var(--cds-global-base,20)));min-width:var(--cds-global-space-12,calc(48 * 1rem / var(--cds-global-base,20)))}:host([size*=xxl]){height:calc(var(--cds-global-space-13,calc(64 * 1rem / var(--cds-global-base,20))) - var(--cds-global-space-5,calc(8 * 1rem / var(--cds-global-base,20))));width:calc(var(--cds-global-space-13,calc(64 * 1rem / var(--cds-global-base,20))) - var(--cds-global-space-5,calc(8 * 1rem / var(--cds-global-base,20))));min-height:calc(var(--cds-global-space-13,calc(64 * 1rem / var(--cds-global-base,20))) - var(--cds-global-space-5,calc(8 * 1rem / var(--cds-global-base,20))));min-width:calc(var(--cds-global-space-13,calc(64 * 1rem / var(--cds-global-base,20))) - var(--cds-global-space-5,calc(8 * 1rem / var(--cds-global-base,20))))}:host([size*=fit]){height:auto;width:auto;contain:layout}:host([status=success]){--color:var(--cds-alias-status-success, var(--cds-global-color-green-700, #42810e))}:host([status=danger]){--color:var(--cds-alias-status-danger, var(--cds-global-color-red-700, #e02200))}:host([status=warning]){--color:var(--cds-alias-status-warning-dark, var(--cds-global-color-ochre-800, #a36500))}:host([status=info]){--color:var(--cds-alias-status-info, var(--cds-global-color-blue-700, #0079ad))}:host([inverse]){--color:var(--cds-global-color-construction-200, #cbd4d8)}:host([direction=up]){transform:rotate(0)}:host([direction=down]){transform:rotate(180deg)}:host([direction=right]){transform:rotate(90deg)}:host([direction=left]){transform:rotate(270deg)}:host([flip=horizontal]){transform:scale(-1) rotateX(180deg)}:host([flip=vertical]){transform:scale(-1) rotateY(180deg)}.alert,.badge{fill:var(--badge-color,var(--cds-alias-status-danger,var(--cds-global-color-red-700,#e02200)))}:host([badge=success]){--badge-color:var(--cds-alias-status-success, var(--cds-global-color-green-700, #42810e))}:host([badge=danger]){--badge-color:var(--cds-alias-status-danger, var(--cds-global-color-red-700, #e02200))}:host([badge*=warning]){--badge-color:var(--cds-alias-status-warning-dark, var(--cds-global-color-ochre-800, #a36500))}:host([badge=inherit]){--badge-color:currentColor}:host([badge=info]){--badge-color:var(--cds-alias-status-info, var(--cds-global-color-blue-700, #0079ad))}:host([badge=inherit-triangle]){--badge-color:currentColor}:host([badge][inverse]){--badge-color:var(--cds-alias-status-danger, var(--cds-global-color-red-700, #e02200))}:host([badge=success][inverse]){--badge-color:var(--cds-alias-status-success, var(--cds-global-color-green-700, #42810e))}:host([badge*=warning][inverse]){--badge-color:var(--cds-alias-status-warning-dark, var(--cds-global-color-ochre-800, #a36500))}:host([badge*=inherit][inverse]){--badge-color:currentColor}:host([badge=info][inverse]){--badge-color:var(--cds-alias-status-info, var(--cds-global-color-blue-700, #0079ad))}.cds-internal-dot-1{animation:fadeInAndOut 1.8s ease-in 0s infinite}.cds-internal-dot-2{animation:fadeInAndOut 1.8s ease-out .422s infinite}.cds-internal-dot-3{animation:fadeInAndOut 1.8s ease-out .675s infinite}@media (prefers-reduced-motion){.cds-internal-dot-1,.cds-internal-dot-2,.cds-internal-dot-3{animation:none}}`;function yl(f){return f.badge&&("inherit-triangle"===f.badge||"warning-triangle"===f.badge)}(f=Ns||(Ns={})).BadSizeValue="bad-value",f.ValidSizeString="value-is-string",f.ValidNumericString="value-is-numeric",f.NilSizeValue="value-is-nil";class br extends _l{constructor(){super(...arguments),this._shape="unknown",this.solid=!1,this.inverse=!1}static get styles(){return[Kv,ro]}get shape(){return this._shape}set shape(_){if((0,cr.OD)(_,this._shape)){const c=this._shape;this._shape=_,this.requestUpdate("shape",c)}}get size(){return this._size}set size(_){if((0,cr.V1)(_,this._size)){const c=this._size;this._size=_,function qu(f,_){let c="";switch(function Wu(f){switch(!0){case(0,cr.KN)(f):return Ns.NilSizeValue;case function wh(f){return["xxs","xs","sm","md","lg","xl","xxl"].indexOf(f)>-1}(f):return Ns.ValidSizeString;case(0,cr.Hv)(f):return Ns.ValidNumericString;default:return Ns.BadSizeValue}}(function Eh(f){return(0,cr.KN)(f)?"":(0,Po.Oc)(f,"fit")}(_))){case Ns.ValidNumericString:return c=Jv(parseInt(_)),void function Qv(f,..._){_.forEach(([c,y])=>{f.style[c]=y})}(f,...function $u(f,_){return!(0,cr.kK)(f)&&f.indexOf("fit")>-1?[["width","auto"],["height","auto"],["min-width",_],["min-height",_]]:[["width",_],["height",_],["min-width",_],["min-height",_]]}(_,c));case Ns.ValidSizeString:case Ns.NilSizeValue:return void function Em(f,..._){_.forEach(c=>{f.style[c]=""})}(f,"width","height","min-width","min-height");default:return}}(this,_),this.requestUpdate("size",c)}}updated(_){if(_.has("innerOffset")&&this.innerOffset>0){const c=Jv(-1*this.innerOffset),y=`calc(100% + ${Jv(2*this.innerOffset)})`;this.svg.style.width=y,this.svg.style.height=y,this.svg.style.margin=`${c} 0 0 ${c}`}}firstUpdated(_){if(super.firstUpdated(_),this.isConnected){let c="unknown";this.subscription=ia.O.stateUpdates.subscribe(y=>{"iconRegistry"===y.key&&te.Q.registry[this.shape]&&c!==this.shape&&(c=this.shape,this.requestUpdate("shape"))})}}disconnectedCallback(){super.disconnectedCallback(),this.subscription?.unsubscribe()}render(){return(0,cr.HD)(te.Q.registry[this.shape])?Yv`<span .innerHTML="${te.Q.registry[this.shape]}"></span>`:Wv`<svg .innerHTML="${function Ra(f){const _=te.Q.registry[f.shape]??te.Q.registry.unknown;let c=f.solid&&_.solid?_.solid:_.outline;return f.badge&&!yl(f)&&(c=f.solid?_.solidBadged??c:_.outlineBadged??c),yl(f)&&(c=f.solid?_.solidAlerted??c:_.outlineAlerted??c),c}(this)+function Cl(f){let _="";return f.badge&&yl(f)?_='<path d="M26.85 1.14L21.13 11a1.28 1.28 0 001.1 2h11.45a1.28 1.28 0 001.1-2l-5.72-9.86a1.28 1.28 0 00-2.21 0z" class="alert" />':f.badge&&(_='<circle cx="30" cy="6" r="5" class="badge" />'),_}(this)}" viewBox="0 0 36 36" xmlns="http://www.w3.org/2000/svg" aria-hidden="true"></svg>`}}(0,Ti.gn)([Ii({type:String})],br.prototype,"shape",null),(0,Ti.gn)([Ii({type:String})],br.prototype,"size",null),(0,Ti.gn)([Ii({type:String})],br.prototype,"direction",void 0),(0,Ti.gn)([Ii({type:String})],br.prototype,"flip",void 0),(0,Ti.gn)([Ii({type:Boolean})],br.prototype,"solid",void 0),(0,Ti.gn)([Ii({type:String})],br.prototype,"status",void 0),(0,Ti.gn)([Ii({type:Boolean})],br.prototype,"inverse",void 0),(0,Ti.gn)([Ii({type:String})],br.prototype,"badge",void 0),(0,Ti.gn)([Cp({type:Number})],br.prototype,"innerOffset",void 0),(0,Ti.gn)([function Sp(f,_){return(({finisher:f,descriptor:_})=>(c,y)=>{var D;if(void 0===y){const R=null!==(D=c.originalKey)&&void 0!==D?D:c.key,Q=null!=_?{kind:"method",placement:"prototype",key:R,descriptor:_(c.key)}:{...c,key:R};return null!=f&&(Q.finisher=function(me){f(me,R)}),Q}{const R=c.constructor;void 0!==_&&Object.defineProperty(c,y,_(y)),f?.(R,y)}})({descriptor:c=>{const y={get(){var D,R;return null!==(R=null===(D=this.renderRoot)||void 0===D?void 0:D.querySelector(f))&&void 0!==R?R:null},enumerable:!0,configurable:!0};if(_){const D="symbol"==typeof c?Symbol():"__"+c;y.get=function(){var R,Q;return void 0===this[D]&&(this[D]=null!==(Q=null===(R=this.renderRoot)||void 0===R?void 0:R.querySelector(f))&&void 0!==Q?Q:null),this[D]}}return y}})}("svg")],br.prototype,"svg",void 0),Fu("cds-icon",br);class h0{constructor(_){this.host=_,this.host.addController(this)}hostConnected(){var _=this;return(0,sp.Z)(function*(){yield _.host.updateComplete,_.host.addEventListener("keydown",c=>_.emulateActive(c)),_.host.addEventListener("mousedown",c=>_.emulateActive(c)),_.host.addEventListener("keyup",()=>_.emulateInactive()),_.host.addEventListener("blur",()=>_.emulateInactive()),_.host.addEventListener("mouseup",()=>_.emulateInactive())})()}emulateActive(_){this.host.disabled||this.host?.setAttribute("cds-active",""),"Space"===_.code&&_.target===this.host&&_.preventDefault()}emulateInactive(){this.host.removeAttribute("cds-active")}}class Fm{constructor(_){this.host=_,this.host.addController(this)}hostConnected(){(this.host.hasAttribute("aria-controls")||this.host.ariaControls)&&(this.host.ariaHasPopup="true",this.host.ariaExpanded="false")}}class Qu{constructor(_){this.host=_,this.host.addController(this)}hostUpdated(){null!==this.host.disabled&&(this.host.ariaDisabled=this.host.disabled),this.host.readonly&&(this.host.ariaDisabled=null)}}class wp{constructor(_){this.host=_,this.host.addController(this)}hostUpdated(){null!=this.host.pressed&&(this.host.ariaPressed=this.host.pressed?"true":"false"),this.host.readonly&&(this.host.ariaPressed=null)}}class Q1{constructor(_){this.host=_,this.host.addController(this)}hostConnected(){this.host.tabIndex=0}hostUpdated(){this.host.role=this.host.readonly?null:"button",this.host.tabIndex=this.host.disabled?-1:0,this.host.readonly&&this.host.removeAttribute("tabindex")}}class g0{constructor(_){this.host=_,this.host.addController(this)}get currentAnchor(){return"A"===this.host.parentElement?.tagName?this.host.parentElement:null}hostConnected(){this.setAnchor()}hostUpdated(){this.setAnchor()}setAnchor(){this.currentAnchor&&this.currentAnchor!==this.previousAnchor&&(this.previousAnchor=this.currentAnchor,this.host.readonly=!0,this.currentAnchor.style.lineHeight="0",this.currentAnchor.style.textDecoration="none")}}const Nm=f=>f??Cr;function m0(f){f.preventDefault(),f.stopPropagation()}const ac=new Map([["arrow-left","ArrowLeft"],["arrow-right","ArrowRight"],["arrow-up","ArrowUp"],["arrow-down","ArrowDown"],["tab","Tab"],["enter","Enter"],["escape","Escape"],["space"," "],["home","Home"],["end","End"]]);class jS{static get keycodes(){return(0,cr.I8)(ac)}static add(_,c){ac.set(_,c)}static has(_){return ac.has(_)}static getCode(_,c=this.keycodes){return function qc(f,_){return _.get(f)||""}(_,c)}}function Hi(f,_){return jS.getCode(_)===f.key}var ko;!function(f){f.ArrowUp="ArrowUp",f.ArrowDown="ArrowDown",f.ArrowLeft="ArrowLeft",f.ArrowRight="ArrowRight",f.End="End",f.Home="Home",f.PageUp="PageUp",f.PageDown="PageDown"}(ko||(ko={}));class Lm{constructor(_){this.host=_,this.triggerNativeButtonBehaviorHandler=this.triggerNativeButtonBehavior.bind(this),this.emulateKeyBoardEventBehaviorHandler=this.emulateKeyBoardEventBehavior.bind(this),this.host.addController(this)}hostUpdated(){this.setButtonType(),this.setupNativeButtonBehavior()}setButtonType(){!this.host.type&&this.host.closest("form")&&(this.host.type="submit")}setupNativeButtonBehavior(){this.host.readonly||this.host.disabled?(this.host.removeEventListener("click",this.triggerNativeButtonBehaviorHandler),this.host.removeEventListener("keyup",this.emulateKeyBoardEventBehaviorHandler)):(this.host.addEventListener("click",this.triggerNativeButtonBehaviorHandler),this.host.addEventListener("keyup",this.emulateKeyBoardEventBehaviorHandler))}emulateKeyBoardEventBehavior(_){!function zS(f,_,c){f.filter(y=>Hi(_,y)).length>0&&c()}(["enter","space"],_,()=>{"submit"===this.host.type?this.triggerNativeButtonBehavior(_):this.host.click(),m0(_)})}triggerNativeButtonBehavior(_){if(this.host.disabled)m0(_);else if(!_.defaultPrevented){const c=function GS(f,_,c){const y=document.createElement("div");_.appendChild(y),fp(f,_,{renderBefore:y,...c});const D=y.previousSibling;return y.remove(),D}(Yv`<button aria-hidden="true" role="presentation" ?disabled="${this.host.disabled}" tabindex="-1" style="display:none!important" value="${Nm(this.host.value)}" name="${Nm(this.host.name)}" type="${Nm(this.host.type)}"></button>`,this.host);c?.dispatchEvent(new MouseEvent("click",{relatedTarget:this.host,composed:!0})),c?.remove()}}}class WS{constructor(_){this.host=_,this.host.addController(this)}hostUpdated(){null!=this.host.expanded&&(this.host.ariaExpanded=this.host.expanded?"true":"false"),this.host.readonly&&(this.host.ariaExpanded=null)}}let Pa=class extends _l{constructor(){super(...arguments),this._disabled=!1}get disabled(){return this._disabled}set disabled(f){const _=this._disabled;this._disabled=f,this.requestUpdate("disabled",_)}};(0,Ti.gn)([Ii({type:Boolean})],Pa.prototype,"pressed",void 0),(0,Ti.gn)([Ii({type:Boolean})],Pa.prototype,"expanded",void 0),(0,Ti.gn)([Ii({type:Boolean})],Pa.prototype,"readonly",void 0),(0,Ti.gn)([Ii({type:String})],Pa.prototype,"type",void 0),(0,Ti.gn)([Ii({type:String})],Pa.prototype,"name",void 0),(0,Ti.gn)([Ii({type:String})],Pa.prototype,"value",void 0),(0,Ti.gn)([Ii({type:Boolean})],Pa.prototype,"disabled",null),(0,Ti.gn)([Ii({type:String})],Pa.prototype,"popup",void 0),Pa=(0,Ti.gn)([function Ku(){return f=>f.addInitializer(_=>new h0(_))}(),function f0(){return f=>f.addInitializer(_=>new Q1(_))}(),function Wc(){return f=>f.addInitializer(_=>new wp(_))}(),function Vm(){return f=>f.addInitializer(_=>new WS(_))}(),function K1(){return f=>f.addInitializer(_=>new Qu(_))}(),function km(){return f=>f.addInitializer(_=>new Fm(_))}(),function YS(){return f=>f.addInitializer(_=>new Lm(_))}(),function p0(){return f=>f.addInitializer(_=>new g0(_))}()],Pa);const xh={actions:{sort:"Sort",expand:"Expand",close:"Close",resize:"Resize",filter:"Filter"},alert:{closeButtonAriaLabel:"Close",loading:"Loading",info:"Info",success:"Success",warning:"Warning",danger:"Error"},dropdown:{open:"Open"},file:{browse:"browse",files:"files",removeFile:"remove file"},modal:{closeButtonAriaLabel:"Close modal",contentStart:"Beginning of modal content",contentBox:"Scrollable modal body",contentEnd:"End of modal content"},navigation:{navigationElement:"navigation",navigationLabel:"navigation menu",navigationAbridgedText:"View abridged menu",navigationUnabridgedText:"View unabridged menu"},overlay:{closeButtonAriaLabel:"Close dialog",contentStart:"Beginning of dialog content",contentEnd:"End of dialog content"},popup:{closeButtonAriaLabel:"Close popup",contentStart:"Beginning of popup content",contentEnd:"End of popup content"},password:{showButtonAriaLabel:"Show password",hideButtonAriaLabel:"Hide password"},progress:{loading:"Loading",looping:"Loading"},treeview:{loading:"Loading"},grid:{resizeColumn:"Resize Column",closeDetails:"Close Details",noData:"No Results Found",rowDetailStart:"Start of row details",rowDetailEnd:"End of row details",footerEnd:"End of grid rows",action:"Action",dropTarget:"Drop Item",pagination:{label:"grid pagination",firstPage:"go to first page",previousPage:"go to previous page",nextPage:"go to next page",lastPage:"go to last page",pageSize:"rows per page",page:"page"}}};class lc{static get keys(){return 0===Object.keys(ia.O.state.i18nRegistry).length&&(ia.O.state.i18nRegistry=(0,cr.PM)(xh,ia.O.state.i18nRegistry)),(0,cr.PM)(xh,ia.O.state.i18nRegistry)}static findKey(_){const c=lc.keys;return Object.keys(c).find(y=>(0,cr.$u)(c[y],_))}static get(_){return _&&lc.keys[_]||{}}static reset(){ia.O.state.i18nRegistry=(0,cr.PM)({},xh)}static hydrate(_,c){return JSON.parse((0,Po.k8)(JSON.stringify(_),c))}static localize(_){ia.O.state.i18nRegistry=(0,cr.PM)(xh,ia.O.state.i18nRegistry,_)}}var Ju=Lu`:host{--icon-width:var(--cds-global-space-7, calc(16 * 1rem / var(--cds-global-base, 20)));--icon-height:var(--cds-global-space-7, calc(16 * 1rem / var(--cds-global-base, 20)));--width:var(--icon-width);--height:var(--icon-width);--cursor:pointer;--color:var(--cds-global-typography-color-300, var(--cds-global-color-construction-800, #2d4048));--font-size:var(--cds-global-typography-font-size-3, calc(13 * 1rem / var(--cds-global-base, 20)));--background:transparent;--padding:0;--outline:var(--cds-alias-object-interaction-outline, Highlight solid 2px);--outline-offset:calc(var(--cds-alias-object-interaction-outline-offset, 1px) * -1);pointer-events:none;display:inline-block;outline:0!important}:host([role=button]){pointer-events:initial;cursor:var(--cursor)!important}:host([status=active]){--color:var(--cds-alias-status-info, var(--cds-global-color-blue-700, #0079ad))}::slotted([shape=close]),::slotted([shape=info-circle]),::slotted([shape=times]),:host([shape=close]),:host([shape=info-circle]){--icon-width:var(--cds-global-space-8, calc(18 * 1rem / var(--cds-global-base, 20)));--icon-height:var(--cds-global-space-8, calc(18 * 1rem / var(--cds-global-base, 20)))}:host(:hover){--color:var(--cds-alias-object-interaction-color-hover, var(--cds-global-color-construction-1000, #1b2b32))}:host(:active){--color:var(--cds-alias-object-interaction-color-active, var(--cds-global-color-construction-1000, #1b2b32))}:host(:active) .private-host{transform:translateY(calc(var(--cds-global-space-1,calc(1 * 1rem / var(--cds-global-base,20)))/ 2))}:host([disabled]){--color:var(--cds-alias-object-interaction-color-disabled, var(--cds-global-color-construction-300, #aeb8bc))}.private-host{--icon-color:var(--color);background:var(--background);padding:var(--padding);color:var(--color);font-size:var(--font-size);display:flex;justify-content:center;align-items:center;min-width:var(--width);min-height:var(--height)}::slotted(cds-icon),cds-icon{width:var(--icon-width);height:var(--icon-height);pointer-events:none}::slotted(cds-icon:not([status])),cds-icon{--color:var(--icon-color)}:host([disabled]:active){pointer-events:none!important}.private-host::after{content:"";position:absolute;left:calc(-1*var(--width) - 1);top:calc(-1*var(--height) - 1);width:var(--cds-alias-object-interaction-touch-target,calc(36 * 1rem / var(--cds-global-base,20)));height:var(--cds-alias-object-interaction-touch-target,calc(36 * 1rem / var(--cds-global-base,20)))}:host([disabled]) .private-host::after{outline:0!important}:host(:focus) .private-host::after{outline:var(--outline);outline-offset:var(--outline-offset)}@media (-webkit-min-device-pixel-ratio:0){:host(:focus) .private-host::after{outline-color:-webkit-focus-ring-color}}`;class ka extends Pa{constructor(){super(...arguments),this.i18n=lc.keys.actions,this.cdsButtonAction=!0}render(){return Yv`<div class="private-host"><slot><cds-icon .shape="${this.shape?this.shape:"ellipsis-vertical"}" .size="${this.iconSize}" ?solid="${this.pressed||this.expanded}" inner-offset="${1}"></cds-icon></slot></div>`}updated(_){super.updated(_),this.ariaLabel||this.readonly||Ri.$.warn("A aria-label is required for interactive cds-button-action type",this),_.has("readonly")&&(this.ariaHidden=this.readonly&&!this.hasAttribute("aria-label")?"true":null)}}ka.styles=[Kv,Ju],(0,Ti.gn)([Ii({type:String})],ka.prototype,"shape",void 0),(0,Ti.gn)([Ii({type:String,reflect:!0})],ka.prototype,"action",void 0),(0,Ti.gn)([Ii({type:String})],ka.prototype,"iconSize",void 0),(0,Ti.gn)([function iC(){return(f,_)=>{const c=f.connectedCallback,y=f.disconnectedCallback;f.connectedCallback=function(){f.__i18nSub=ia.O.stateUpdates.subscribe(R=>{"i18nRegistry"===R.key&&this.requestUpdate(_)}),c&&c.apply(this)},f.disconnectedCallback=function(){f.__i18nSub.unsubscribe(),y&&y.apply(this)};const D={get(){const R=(0,cr.PM)(lc.keys[this.__i18nKey],this.__i18n||{});return lc.hydrate(R,this)},set(R){const Q=function rC(f,_){if((0,cr.KN)(f)){let c={};if(_.hasAttribute("cds-i18n")){const y=_.getAttribute("cds-i18n")+"";if((0,cr.KN)(y))c={};else try{c=JSON.parse(y)}catch{Ri.$.warn("Clarity i18n: Invalid JSON passed to cds-i18n"),c={}}}return c}return f}(R,this),me=function Bm(f,_,c,y){return(0,cr.KN)(f)?(0,cr.$u)(c,y)?{update:!1}:{update:!0,values:c}:f===_?{update:!1,values:{}}:{update:!0,key:f,values:{}}}(lc.findKey(Q)||"",this.__i18nKey,Q,this.__i18n);void 0!==me.key&&(this.__i18nKey=me.key+""),void 0!==me.values&&(this.__i18n={...me.values}),!0===me.update&&this.requestUpdate(),this.requestUpdate(_)},enumerable:!0,configurable:!0};return void 0!==_?function(R,Q,me){const Ie=Object.defineProperty(Q,me,R);return Ii({type:Object,attribute:"cds-i18n"})(Ie,me)}(D,f,_):function(R,Q){const me={kind:"method",placement:"prototype",key:Q.key,descriptor:R};return Ii({type:Object})(me)}(D,f)}}()],ka.prototype,"i18n",void 0),(0,Ti.gn)([Cp({type:Boolean,reflect:!0,attribute:"cds-button-action"})],ka.prototype,"cdsButtonAction",void 0);class Tp extends ka{constructor(){super(...arguments),this.shape="close"}connectedCallback(){super.connectedCallback(),this.ariaLabel=this.ariaLabel?this.ariaLabel:this.i18n.close}}(0,Ti.gn)([Ii({type:String})],Tp.prototype,"shape",void 0),Fu("cds-internal-close-button",Tp),te.Q.addIcons(nt.D),te.Q.addAliases(["times",["close"]]);const an=["*"],lC=["clrLoading",""];function Ym(f,_){1&f&&(a.TgZ(0,"span"),a._UZ(1,"span",2),a.qZA()),2&f&&(a.xp6(1),a.Q6J("@spinner",void 0))}function Th(f,_){if(1&f){const c=a.EpF();a.TgZ(0,"span")(1,"span",3),a.NdJ("@validated.done",function(){a.CHM(c);const D=a.oxw();return a.KtG(D.loadingStateChange(D.buttonState.DEFAULT))}),a.qZA()()}2&f&&(a.xp6(1),a.Q6J("@validated",void 0))}function Rp(f,_){1&f&&(a.TgZ(0,"span"),a.Hsn(1),a.qZA()),2&f&&a.Q6J("@defaultButton",void 0)}function l_(f,_){1&f&&a._UZ(0,"label")}function kC(f,_){1&f&&a._UZ(0,"cds-icon",5)}function z0(f,_){1&f&&a._UZ(0,"cds-icon",6)}function Fo(f,_){1&f&&a.Hsn(0,2,["*ngIf","showHelper"])}function FC(f,_){1&f&&a.Hsn(0,3,["*ngIf","showInvalid"])}function NC(f,_){1&f&&a.Hsn(0,4,["*ngIf","showValid"])}const vw=[[["label"]],[["","clrTextarea",""]],[["clr-control-helper"]],[["clr-control-error"]],[["clr-control-success"]]],Z0=["label","[clrTextarea]","clr-control-helper","clr-control-error","clr-control-success"];function eu(f,_){if(1&f){const c=a.EpF();a.TgZ(0,"button",3),a.NdJ("click",function(){a.CHM(c);const D=a.oxw();return a.KtG(D.toggleByButton())}),a._UZ(1,"cds-icon",4),a.qZA()}if(2&f){const c=a.oxw();a.ekj("on-collapse",c.collapsed),a.uIk("aria-expanded",c.ariaExpanded)("aria-label",c.commonStrings.keys.verticalNavToggle),a.xp6(1),a.uIk("direction",c.collapsed?"right":"left")("title",c.collapsed?c.commonStrings.keys.expand:c.commonStrings.keys.collapse)}}function hd(f,_){if(1&f){const c=a.EpF();a.TgZ(0,"button",5),a.NdJ("click",function(){a.CHM(c);const D=a.oxw();return a.KtG(D.collapsed=!1)}),a.qZA()}if(2&f){const c=a.oxw();a.uIk("aria-label",c.commonStrings.keys.verticalNavToggle)}}const gd=["clrVerticalNavLink",""],Wr=[[["","clrVerticalNavIcon",""]],"*"],wy=["[clrVerticalNavIcon]","*"];function E_(f,_){if(1&f&&(a.TgZ(0,"span"),a._uU(1),a.qZA()),2&f){const c=a.oxw();a.xp6(1),a.Oqu(c.displayValue)}}let hi=(()=>{class f{}return f.\u0275fac=function(c){return new(c||f)},f.\u0275dir=a.lG2({type:f,selectors:[["cds-icon"]]}),f})(),Qn=(()=>{class f{}return f.\u0275fac=function(c){return new(c||f)},f.\u0275mod=a.oAB({type:f}),f.\u0275inj=a.cJS({imports:[W.ez]}),f})();class _d{}var ai=(()=>((ai=ai||{})[ai.DEFAULT=0]="DEFAULT",ai[ai.LOADING=1]="LOADING",ai[ai.SUCCESS=2]="SUCCESS",ai[ai.ERROR=3]="ERROR",ai))();let vd=(()=>{class f{constructor(c){this.listener=c,this._loadingState=ai.DEFAULT}get loadingState(){return this._loadingState}set loadingState(c){!0===c?c=ai.LOADING:c||(c=ai.DEFAULT),c!==this._loadingState&&(this._loadingState=c,this.listener&&this.listener.loadingStateChange(c))}ngOnDestroy(){this.loadingState=ai.DEFAULT}}return f.\u0275fac=function(c){return new(c||f)(a.Y36(_d,8))},f.\u0275dir=a.lG2({type:f,selectors:[["","clrLoading",""]],inputs:{loadingState:["clrLoading","loadingState"]}}),f})(),sg=0;function Ln(){return"clr-id-"+sg++}const ss="0.2s ease-in-out",ag=((0,ut.X$)("skipInitialRender",[(0,ut.eR)(":enter",[])]),(0,ut.X$)("toggle",[(0,ut.eR)("void => *",[(0,ut.oB)({display:"block",height:0}),(0,ut.jt)(ss,(0,ut.oB)({height:"*"}))])]),(0,ut.X$)("skipInitialRender",[(0,ut.eR)(":enter",[])]),(0,ut.X$)("toggle",[(0,ut.eR)("void => *",[(0,ut.oB)({display:"block",height:0}),(0,ut.jt)(ss,(0,ut.oB)({height:"*"}))]),(0,ut.eR)("* => void",[(0,ut.oB)({display:"block"}),(0,ut.jt)(ss,(0,ut.oB)({height:0,display:"none"}))])]),{open:"Open",close:"Close",show:"Show",hide:"Hide",expand:"Expand",collapse:"Collapse",more:"More",select:"Select",selectAll:"Select All",previous:"Previous",next:"Next",current:"Jump to current",info:"Info",success:"Success",warning:"Warning",danger:"Error",rowActions:"Available actions",pickColumns:"Manage Columns",showColumns:"Show Columns",sortColumn:"Sort Column",firstPage:"First Page",lastPage:"Last Page",nextPage:"Next Page",previousPage:"Previous Page",currentPage:"Current Page",totalPages:"Total Pages",filterItems:"Filter items",minValue:"Min value",maxValue:"Max value",modalContentStart:"Beginning of Modal Content",modalContentEnd:"End of Modal Content",showColumnsMenuDescription:"Show or hide columns menu",allColumnsSelected:"All columns selected",signpostToggle:"Signpost Toggle",signpostClose:"Signpost Close",loading:"Loading",detailPaneStart:"Start of row details",detailPaneEnd:"End of row details",singleSelectionAriaLabel:"Single selection header",singleActionableAriaLabel:"Single actionable header",detailExpandableAriaLabel:"Toggle more row content",datagridFilterAriaLabel:"Toggle {COLUMN} filter",datagridFilterDialogAriaLabel:"Filter dialog",columnSeparatorAriaLabel:"Column resize handle",columnSeparatorDescription:"Use left or right key to resize the column",alertCloseButtonAriaLabel:"Close alert",alertNextAlertAriaLabel:"Next alert message, {CURRENT} of {COUNT}",alertPreviousAlertAriaLabel:"Previous alert message, {CURRENT} of {COUNT}",datepickerDialogLabel:"Choose date",datepickerToggleChooseDateLabel:"Choose date",datepickerToggleChangeDateLabel:"Change date, {SELECTED_DATE}",datepickerPreviousMonth:"Previous month",datepickerCurrentMonth:"Current month",datepickerNextMonth:"Next month",datepickerPreviousDecade:"Previous decade",datepickerNextDecade:"Next decade",datepickerCurrentDecade:"Current decade",datepickerSelectMonthText:"Select month, the current month is {CALENDAR_MONTH}",datepickerSelectYearText:"Select year, the current year is {CALENDAR_YEAR}",datepickerSelectedLabel:"{FULL_DATE} - Selected",stackViewChanged:"Value changed.",responsiveNavToggleOpen:"Navigation menu",responsiveNavToggleClose:"Navigation menu",responsiveNavOverflowOpen:"Navigation overflow menu",responsiveNavOverflowClose:"Navigation overflow menu",verticalNavToggle:"Toggle vertical navigation",timelineStepNotStarted:"Not started",timelineStepCurrent:"Current",timelineStepSuccess:"Completed",timelineStepError:"Error",timelineStepProcessing:"In progress",comboboxDelete:"Delete selected option",comboboxSearching:'Searching for matches for "{INPUT}"',comboboxSelection:"Selection",comboboxSelected:"Selected",comboboxNoResults:"No results",comboboxOpen:"Show options",datagridExpandableBeginningOf:"Beginning of",datagridExpandableEndOf:"End of",datagridExpandableRowContent:"Expandable row content",datagridExpandableRowsHelperText:"Screen reader table commands may not work for viewing expanded content, please use your screen reader's browse mode to read the content exposed by this button",wizardStepSuccess:"Completed",wizardStepError:"Error",wizardStepnavAriaLabel:"Step navigation",passwordHide:"Hide password",passwordShow:"Show password",selectedRows:"Selected rows"});let Vn=(()=>{class f{constructor(){this._strings=ag}get keys(){return this._strings}localize(c){this._strings={...this._strings,...c}}parse(c,y={}){const D=Object.keys(y);let R=c;return D.length&&D.forEach(Q=>{R=R.replace(`{${Q}}`,y[Q])}),R}}return f.\u0275fac=function(c){return new(c||f)},f.\u0275prov=a.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})(),El=(()=>{class f{constructor(){this.disableChocolateCheck=!1,this._chocolate=new st.x}get chocolate(){return this._chocolate.asObservable()}ngAfterViewChecked(){this.disableChocolateCheck||this._chocolate.next()}}return f.\u0275fac=function(c){return new(c||f)},f.\u0275dir=a.lG2({type:f}),f})(),_b=(()=>{class f{constructor(){te.Q.addIcons(oe.i,we,pe.M)}}return f.\u0275fac=function(c){return new(c||f)},f.\u0275mod=a.oAB({type:f}),f.\u0275inj=a.cJS({imports:[W.ez,Qn]}),f})(),V_=(()=>{class f{}return f.\u0275fac=function(c){return new(c||f)},f.\u0275mod=a.oAB({type:f}),f.\u0275inj=a.cJS({imports:[W.ez,Qn,_b,_b]}),f})();var Ft=(()=>((Ft=Ft||{}).ArrowLeft="ArrowLeft",Ft.ArrowUp="ArrowUp",Ft.ArrowRight="ArrowRight",Ft.ArrowDown="ArrowDown",Ft.Backspace="Backspace",Ft.Tab="Tab",Ft.Enter="Enter",Ft.Escape="Escape",Ft.Space="Space",Ft.Spacebar=" ",Ft.Home="Home",Ft.End="End",Ft))(),Pr=(()=>((Pr=Pr||{}).ArrowUp="Up",Pr.ArrowDown="Down",Pr.ArrowRight="Right",Pr.ArrowLeft="Left",Pr.Space="Spacebar",Pr.Escape="Esc",Pr))();function ao(f){return f===Ft.ArrowUp||f===Pr.ArrowUp?Ft.ArrowUp:f===Ft.ArrowDown||f===Pr.ArrowDown?Ft.ArrowDown:f===Ft.ArrowRight||f===Pr.ArrowRight?Ft.ArrowRight:f===Ft.ArrowLeft||f===Pr.ArrowLeft?Ft.ArrowLeft:f===Ft.Space||f===Pr.Space?Ft.Space:f===Ft.Escape||f===Pr.Escape?Ft.Escape:f}let Ei=(()=>{class f{constructor(){this._open=!1,this._openChange=new st.x,this._openEventChange=new st.x,this._popoverAligned=new st.x}get openChange(){return this._openChange.asObservable()}get openEvent(){return this._openEvent}set openEvent(c){this._openEvent=c,this._openEventChange.next(c)}get open(){return this._open}set open(c){this._open!==(c=!!c)&&(this._open=c,this._openChange.next(c))}get originalEvent(){return this._openEvent}get popoverAligned(){return this._popoverAligned.asObservable()}getEventChange(){return this._openEventChange.asObservable()}toggleWithEvent(c){(function Qh(f){const _=ao(f.key);(_===Ft.ArrowUp||_===Ft.ArrowDown||_===Ft.ArrowLeft||_===Ft.ArrowRight)&&f.preventDefault()})(c),this.openEvent=c,this.open=!this.open}popoverAlignedEmit(c){this._popoverAligned.next(c)}}return f.\u0275fac=function(c){return new(c||f)},f.\u0275prov=a.Yz7({token:f,factory:f.\u0275fac}),f})(),iu=(()=>{class f{constructor(c,y,D){this.renderer=c,this.smartOpenService=y,this.document=D,this.outsideClickClose=!0,this.scrollToClose=!0,this.subscriptions=[],this.subscriptions.push(y.openChange.subscribe(R=>{R?(this.addEscapeListener(),this.addClickListener(),this.addScrollListener()):this.removeAllEventListeners()}),y.getEventChange().subscribe(R=>{this.ignoredEvent=R}))}ngOnDestroy(){this.subscriptions.forEach(c=>c.unsubscribe()),this.removeAllEventListeners()}addScrollListener(){this.scrollToClose&&(this.documentScroller=(0,mi.R)(this.document,"scroll",{capture:!0}),this.scrollSubscription=this.documentScroller.pipe((0,ui.h)(this.testForSmartPopoverContentContainer)).subscribe(()=>{this.smartOpenService.open=!1,this.setAnchorFocus()}))}removeScrollListener(){this.documentScroller&&(this.scrollSubscription.unsubscribe(),delete this.documentScroller)}addClickListener(){this.outsideClickClose&&(this.documentClickListener=this.renderer.listen(this.document,"click",c=>{c===this.ignoredEvent?delete this.ignoredEvent:(this.smartOpenService.open=!1,c.target.focus())}))}removeClickListener(){this.outsideClickClose&&(delete this.ignoredEvent,this.documentClickListener&&(this.documentClickListener(),delete this.documentClickListener))}addEscapeListener(){this.escapeListener=this.renderer.listen(this.document,"keydown.escape",()=>{this.smartOpenService.open=!1,this.setAnchorFocus()})}removeEscapeListener(){this.escapeListener&&(this.escapeListener(),delete this.escapeListener)}setCloseFocus(){this.closeButtonRef.nativeElement.focus()}setAnchorFocus(){this.anchorButtonRef.nativeElement.focus()}testForSmartPopoverContentContainer(c){let y=c.target;for(;y.classList&&"body"!==y.parentElement.localName;)y=y.parentElement;return!!y.classList&&!y.classList.contains("clr-popover-content")}removeAllEventListeners(){this.removeScrollListener(),this.removeClickListener(),this.removeEscapeListener()}}return f.\u0275fac=function(c){return new(c||f)(a.LFG(a.Qsj),a.LFG(Ei),a.LFG(W.K0))},f.\u0275prov=a.Yz7({token:f,factory:f.\u0275fac}),f})();var ki=(()=>((ki=ki||{})[ki.VERTICAL=0]="VERTICAL",ki[ki.HORIZONTAL=1]="HORIZONTAL",ki))(),Zt=(()=>((Zt=Zt||{})[Zt.START=0]="START",Zt[Zt.CENTER=.5]="CENTER",Zt[Zt.END=1]="END",Zt))(),Ki=(()=>((Ki=Ki||{})[Ki.BOTTOM=0]="BOTTOM",Ki[Ki.LEFT=1]="LEFT",Ki[Ki.RIGHT=2]="RIGHT",Ki[Ki.TOP=3]="TOP",Ki))();const xl=f=>({...f,side:-1*f.side}),sa=(f,_)=>{const c=f.content+(_?.5:-.5);return c<0||c>1?f:{...f,content:c}};function bd(f,_,c){return y=>_(f(y),c)}function lo(f,_,c){let y=_.left,D=_.top;switch(f.axis+f.side){case-1:y+=Py(f,_,c),D-=c.height;break;case 1:y+=Py(f,_,c),D+=_.height;break;case 0:y-=c.width,D+=hg(f,_,c);break;case 2:y+=_.width,D+=hg(f,_,c)}return{xOffset:y,yOffset:D}}function Py(f,_,c){let y=0;switch(f.anchor){case Zt.START:break;case Zt.CENTER:y+=_.width/2;break;case Zt.END:y+=_.width}switch(f.content){case Zt.START:break;case Zt.CENTER:y-=c.width/2;break;case Zt.END:y-=c.width}return y}function hg(f,_,c){let y=0;switch(f.anchor){case Zt.START:break;case Zt.CENTER:y+=_.height/2;break;case Zt.END:y+=_.height}switch(f.content){case Zt.START:break;case Zt.CENTER:y-=c.height/2;break;case Zt.END:y-=c.height}return y}let bb=(()=>{class f{constructor(c,y){this.eventService=c,this.platformId=y,this._shouldRealign=new st.x,this.shouldRealign=this._shouldRealign.asObservable()}realign(){this._shouldRealign.next()}alignContent(c){if(!(0,W.NF)(this.platformId))return{xOffset:0,yOffset:0};this.currentAnchorCoords=this.eventService.anchorButtonRef.nativeElement.getBoundingClientRect(),this.currentContentCoords=c.getBoundingClientRect(),this.contentOffsets=lo(this.position,this.currentAnchorCoords,this.currentContentCoords);const y=function ru(f,_){const c=[],y_bottom=f.yOffset+_.height,y_left=f.xOffset,y_right=f.xOffset+_.width;return f.yOffset>=0||c.push(Ki.TOP),y_left>=0||c.push(Ki.LEFT),y_bottom<=(window.innerHeight||document.documentElement.clientHeight)||c.push(Ki.BOTTOM),y_right<=(window.innerWidth||document.documentElement.clientWidth)||c.push(Ki.RIGHT),c}(this.contentOffsets,this.currentContentCoords),D=y.reduce((R,Q)=>R+Q,0);return 1===y.length&&this.position.axis===ki.VERTICAL?this.handleVerticalAxisOneViolation(D):1===y.length&&this.position.axis===ki.HORIZONTAL?this.handleHorizontalAxisOneViolation(D):2===y.length&&this.position.axis===ki.VERTICAL?this.handleVerticalAxisTwoViolations(D):2===y.length&&this.position.axis===ki.HORIZONTAL&&this.handleHorizontalAxisTwoViolations(D),this.contentOffsets}handleVerticalAxisOneViolation(c){switch(c){case 0:case 3:this.contentOffsets=lo(xl(this.position),this.currentAnchorCoords,this.currentContentCoords);break;case 1:this.contentOffsets=lo(this.position,this.currentAnchorCoords,this.currentContentCoords),this.contentOffsets.xOffset<0&&(this.contentOffsets.xOffset=10);break;case 2:this.contentOffsets=lo(sa(this.position,!0),this.currentAnchorCoords,this.currentContentCoords)}}handleVerticalAxisTwoViolations(c){switch(c){case 5:{const y=bd(xl,sa,!0);this.contentOffsets=lo(y(this.position),this.currentAnchorCoords,this.currentContentCoords);break}case 4:{const y=bd(xl,sa,!1);this.contentOffsets=lo(y(this.position),this.currentAnchorCoords,this.currentContentCoords);break}case 3:default:break;case 2:{const y=bd(xl,sa,!0);this.contentOffsets=lo(y(this.position),this.currentAnchorCoords,this.currentContentCoords);break}case 1:{const y=bd(xl,sa,!1);this.contentOffsets=lo(y(this.position),this.currentAnchorCoords,this.currentContentCoords);break}}}handleHorizontalAxisOneViolation(c){switch(c){case 1:case 2:this.contentOffsets=lo(xl(this.position),this.currentAnchorCoords,this.currentContentCoords);break;case 0:this.contentOffsets=lo(sa(this.position,!0),this.currentAnchorCoords,this.currentContentCoords);break;case 3:this.contentOffsets=lo(sa(this.position),this.currentAnchorCoords,this.currentContentCoords)}}handleHorizontalAxisTwoViolations(c){switch(c){case 5:case 4:{const y=bd(xl,sa,!1);this.contentOffsets=lo(y(this.position),this.currentAnchorCoords,this.currentContentCoords);break}case 3:default:break;case 2:case 1:{const y=bd(xl,sa,!0);this.contentOffsets=lo(y(this.position),this.currentAnchorCoords,this.currentContentCoords);break}}}}return f.\u0275fac=function(c){return new(c||f)(a.LFG(iu),a.LFG(a.Lbi))},f.\u0275prov=a.Yz7({token:f,factory:f.\u0275fac}),f})(),Ba=(()=>{class f{}return f.\u0275fac=function(c){return new(c||f)},f.\u0275mod=a.oAB({type:f}),f.\u0275inj=a.cJS({}),f})();var kr=(()=>((kr=kr||{}).UP="up",kr.DOWN="down",kr.LEFT="left",kr.RIGHT="right",kr))();let Tl=class{constructor(_){this.renderer=_,this._unlistenFuncs=[]}get current(){return this._current}reset(_){this._current=_}listenToArrowKeys(_){this._unlistenFuncs.push(this.renderer.listen(_,"keydown.arrowup",()=>!this.move(kr.UP))),this._unlistenFuncs.push(this.renderer.listen(_,"keydown.arrowdown",()=>!this.move(kr.DOWN))),this._unlistenFuncs.push(this.renderer.listen(_,"keydown.arrowleft",()=>!this.move(kr.LEFT))),this._unlistenFuncs.push(this.renderer.listen(_,"keydown.arrowright",()=>!this.move(kr.RIGHT)))}registerContainer(_,c="0"){this.renderer.setAttribute(_,"tabindex",c),this.listenToArrowKeys(_),this._unlistenFuncs.push(this.renderer.listen(_,"keydown.space",()=>!this.activateCurrent())),this._unlistenFuncs.push(this.renderer.listen(_,"keydown.enter",()=>!this.activateCurrent()))}moveTo(_){void 0!==_&&(this.current&&this.current.blur(),_.focus(),this._current=_)}move(_){let c=!1;if(this.current){const y=this.current[_];y&&((0,Un.b)(y)?y:(0,zi.of)(y)).subscribe(R=>{R&&(this.moveTo(R),c=!0)})}return c}activateCurrent(){return!(!this.current||!this.current.activate||(this.current.activate(),0))}detachListeners(){this._unlistenFuncs.forEach(_=>_())}};Tl.\u0275fac=function(_){return new(_||Tl)(a.LFG(a.Qsj))},Tl.\u0275prov=a.Yz7({token:Tl,factory:Tl.\u0275fac});const wb={provide:Tl,useFactory:function Sb(f,_){return f||new Tl(_)},deps:[[new a.FiY,new a.tp0,Tl],a.Qsj]};var ur=(()=>((ur=ur||{})[ur.BEFORE=-1]="BEFORE",ur[ur.AFTER=1]="AFTER",ur))();class Cs{}Cs["top-right"]={axis:ki.VERTICAL,side:ur.BEFORE,anchor:Zt.END,content:Zt.END},Cs["top-left"]={axis:ki.VERTICAL,side:ur.BEFORE,anchor:Zt.START,content:Zt.START},Cs["bottom-right"]={axis:ki.VERTICAL,side:ur.AFTER,anchor:Zt.END,content:Zt.END},Cs["bottom-left"]={axis:ki.VERTICAL,side:ur.AFTER,anchor:Zt.START,content:Zt.START},Cs["right-top"]={axis:ki.HORIZONTAL,side:ur.AFTER,anchor:Zt.CENTER,content:Zt.END},Cs["right-bottom"]={axis:ki.HORIZONTAL,side:ur.AFTER,anchor:Zt.START,content:Zt.START},Cs["left-top"]={axis:ki.HORIZONTAL,side:ur.BEFORE,anchor:Zt.CENTER,content:Zt.END},Cs["left-bottom"]={axis:ki.HORIZONTAL,side:ur.BEFORE,anchor:Zt.START,content:Zt.START};const Qi=new a.OlP("POPOVER_HOST_ANCHOR");let B_=(()=>{class f{constructor(c){this.toggleService=c,this.lastOpenChange=null}ngOnInit(){this.subscription=this.toggleService.openChange.subscribe(c=>{this.lastOpenChange=c})}ngOnDestroy(){this.subscription?.unsubscribe()}onEscapeKey(c){null!==this.lastOpenChange&&(!1===this.lastOpenChange&&c.stopPropagation(),this.lastOpenChange=null)}}return f.\u0275fac=function(c){return new(c||f)(a.Y36(Ei))},f.\u0275dir=a.lG2({type:f,hostBindings:function(c,y){1&c&&a.NdJ("keyup.escape",function(R){return y.onEscapeKey(R)})},standalone:!0}),f})(),Il=(()=>{class f{}return f.\u0275fac=function(c){return new(c||f)},f.\u0275dir=a.lG2({type:f,standalone:!0,features:[a._Bn([Ei,iu,bb,{provide:Qi,useExisting:a.SBq}]),a.zW0([B_])]}),f})();class H_{static linkParent(_,c,y){_.forEach(D=>D[y]=c)}static linkVertical(_,c=!0){_.forEach((y,D)=>{D>0&&(y.up=_[D-1]),D<_.length-1&&(y.down=_[D+1])}),c&&_.length>1&&(_[0].up=_[_.length-1],_[_.length-1].down=_[0])}}let ef=(()=>{class f{}return f.\u0275fac=function(c){return new(c||f)},f.\u0275mod=a.oAB({type:f}),f.\u0275inj=a.cJS({imports:[W.ez]}),f})();new a.OlP("IF_ACTIVE_ID");let la=(()=>{class f{constructor(c,y,D){this.toggleService=c,this.template=y,this.container=D,this.openChange=new a.vpe(!1),this.subscription=this.toggleService.openChange.subscribe(R=>{this.updateView(R),this.openChange.emit(R)})}get open(){return this.toggleService.open}set open(c){this.toggleService.open=c}ngOnDestroy(){this.subscription.unsubscribe()}updateView(c){c?this.container.createEmbeddedView(this.template):this.container.clear()}}return f.\u0275fac=function(c){return new(c||f)(a.Y36(Ei),a.Y36(a.Rgc),a.Y36(a.s_b))},f.\u0275dir=a.lG2({type:f,selectors:[["","clrIfOpen",""]],inputs:{open:["clrIfOpen","open"]},outputs:{openChange:"clrIfOpenChange"}}),f})(),Vs=(()=>{class f{}return f.\u0275fac=function(c){return new(c||f)},f.\u0275mod=a.oAB({type:f}),f.\u0275inj=a.cJS({imports:[W.ez]}),f})();const Eb={provide:new a.OlP("FOCUS_ON_VIEW_INIT"),useValue:!0};let gg=(()=>{class f{}return f.\u0275fac=function(c){return new(c||f)},f.\u0275mod=a.oAB({type:f}),f.\u0275inj=a.cJS({providers:[Eb],imports:[W.ez]}),f})(),Mb=(()=>{class f{}return f.\u0275fac=function(c){return new(c||f)},f.\u0275mod=a.oAB({type:f}),f.\u0275inj=a.cJS({imports:[W.ez,Qn,Ba]}),f})(),z_=(()=>{class f{constructor(c,y){this.el=c,this.renderer=y,this.clrLoadingChange=new a.vpe(!1),this.buttonState=ai,this.state=ai.DEFAULT}loadingStateChange(c){if(c!==this.state){switch(this.state=c,c){case ai.DEFAULT:this.renderer.removeStyle(this.el.nativeElement,"width"),this.renderer.removeStyle(this.el.nativeElement,"transform"),this.disabled||this.renderer.removeAttribute(this.el.nativeElement,"disabled");break;case ai.LOADING:this.setExplicitButtonWidth(),this.renderer.setStyle(this.el.nativeElement,"transform","translatez(0)"),this.renderer.setAttribute(this.el.nativeElement,"disabled","");break;case ai.SUCCESS:this.setExplicitButtonWidth();break;case ai.ERROR:this.loadingStateChange(ai.DEFAULT)}this.clrLoadingChange.emit(c)}}setExplicitButtonWidth(){if(this.el.nativeElement&&this.el.nativeElement.getBoundingClientRect){const c=this.el.nativeElement.getBoundingClientRect(),y=Math.max(42,c.width);this.renderer.setStyle(this.el.nativeElement,"width",`${y}px`)}}}return f.\u0275fac=function(c){return new(c||f)(a.Y36(a.SBq),a.Y36(a.Qsj))},f.\u0275cmp=a.Xpm({type:f,selectors:[["button","clrLoading",""]],hostVars:1,hostBindings:function(c,y){2&c&&a.uIk("disabled",y.disabled?"":null)},inputs:{disabled:"disabled"},outputs:{clrLoadingChange:"clrLoadingChange"},features:[a._Bn([{provide:_d,useExisting:f}])],attrs:lC,ngContentSelectors:an,decls:4,vars:4,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"spinner","spinner-inline"],[1,"spinner","spinner-inline","spinner-check"]],template:function(c,y){1&c&&(a.F$t(),a.ynx(0,0),a.YNc(1,Ym,2,1,"span",1),a.YNc(2,Th,2,1,"span",1),a.YNc(3,Rp,2,1,"span",1),a.BQk()),2&c&&(a.Q6J("ngSwitch",y.state),a.xp6(1),a.Q6J("ngSwitchCase",y.buttonState.LOADING),a.xp6(1),a.Q6J("ngSwitchCase",y.buttonState.SUCCESS),a.xp6(1),a.Q6J("ngSwitchCase",y.buttonState.DEFAULT))},dependencies:[W.RF,W.n9],encapsulation:2,data:{animation:[(0,ut.X$)("defaultButton",[(0,ut.eR)(":enter",[(0,ut.oB)({opacity:0}),(0,ut.jt)("200ms 100ms ease-in",(0,ut.oB)({opacity:1}))]),(0,ut.eR)(":leave",[(0,ut.oB)({opacity:0})])]),(0,ut.X$)("spinner",[(0,ut.eR)(":enter",[(0,ut.oB)({opacity:0}),(0,ut.jt)("200ms 100ms ease-in",(0,ut.oB)({opacity:1}))]),(0,ut.eR)(":leave",[(0,ut.oB)({opacity:1}),(0,ut.jt)("100ms ease-out",(0,ut.oB)({opacity:0}))])]),(0,ut.X$)("validated",[(0,ut.eR)(":enter",[(0,ut.jt)("600ms",(0,ut.F4)([(0,ut.oB)({transform:"scale(0,0)",offset:0}),(0,ut.oB)({opacity:1,offset:.2}),(0,ut.oB)({transform:"scale(1.2,1.2)",offset:.4}),(0,ut.oB)({transform:"scale(.9,.9)",offset:.6}),(0,ut.oB)({transform:"scale(1,1)",offset:1})]))]),(0,ut.eR)(":leave",[(0,ut.oB)({opacity:1}),(0,ut.jt)("100ms ease-out",(0,ut.oB)({opacity:0}))])])]}}),f})(),Ly=(()=>{class f{}return f.\u0275fac=function(c){return new(c||f)},f.\u0275mod=a.oAB({type:f}),f.\u0275inj=a.cJS({imports:[W.ez]}),f})(),Vy=(()=>{class f{constructor(){te.Q.addIcons(ie)}}return f.\u0275fac=function(c){return new(c||f)},f.\u0275mod=a.oAB({type:f}),f.\u0275inj=a.cJS({imports:[Ly,Mb]}),f})(),By=(()=>{class f{}return f.\u0275fac=function(c){return new(c||f)},f.\u0275cmp=a.Xpm({type:f,selectors:[["ng-component"]],decls:0,vars:0,template:function(c,y){},encapsulation:2}),f})(),tf=(()=>{class f{}return f.\u0275fac=function(c){return new(c||f)},f.\u0275mod=a.oAB({type:f}),f.\u0275inj=a.cJS({}),f})(),Ab=0,za=(()=>{class f{constructor(){this._id="clr-form-control-"+ ++Ab,this._idChange=new un.X(this._id)}get id(){return this._id}set id(c){this._id=c,this._idChange.next(c)}get idChange(){return this._idChange.asObservable()}}return f.\u0275fac=function(c){return new(c||f)},f.\u0275prov=a.Yz7({token:f,factory:f.\u0275fac}),f})(),G_=0,gc=(()=>{class f{constructor(){this._id="clr-form-container-"+ ++G_,this._idChange=new un.X(this._id)}get id(){return this._id}set id(c){this._id=c,this._idChange.next(c)}get idChange(){return this._idChange.asObservable()}}return f.\u0275fac=function(c){return new(c||f)},f.\u0275prov=a.Yz7({token:f,factory:f.\u0275fac}),f})();let nf=(()=>{class f{constructor(c,y){this.controlIdService=c,this.containerIdService=y,this.controlIdSuffix="abstract"}get id(){return this.containerIdService?`${this.containerIdService.id}-${this.controlIdSuffix}`:this.controlIdService?`${this.controlIdService.id}-${this.controlIdSuffix}`:null}}return f.\u0275fac=function(c){return new(c||f)(a.Y36(za,8),a.Y36(gc,8))},f.\u0275dir=a.lG2({type:f}),f})(),Y_=(()=>{class f extends nf{constructor(c,y){super(c,y),this.controlIdService=c,this.containerIdService=y,this.controlIdSuffix="error"}}return f.\u0275fac=function(c){return new(c||f)(a.Y36(za,8),a.Y36(gc,8))},f.\u0275cmp=a.Xpm({type:f,selectors:[["clr-control-error"]],hostVars:3,hostBindings:function(c,y){2&c&&(a.uIk("id",y.id),a.ekj("clr-subtext",!0))},features:[a.qOj],ngContentSelectors:an,decls:1,vars:0,template:function(c,y){1&c&&(a.F$t(),a.Hsn(0))},encapsulation:2}),f})(),Hy=(()=>{class f extends nf{constructor(c,y){super(c,y),this.controlIdService=c,this.containerIdService=y,this.controlIdSuffix="helper"}}return f.\u0275fac=function(c){return new(c||f)(a.Y36(za,8),a.Y36(gc,8))},f.\u0275cmp=a.Xpm({type:f,selectors:[["clr-control-helper"]],hostVars:3,hostBindings:function(c,y){2&c&&(a.uIk("id",y.id),a.ekj("clr-subtext",!0))},features:[a.qOj],ngContentSelectors:an,decls:1,vars:0,template:function(c,y){1&c&&(a.F$t(),a.Hsn(0))},encapsulation:2}),f})(),_c=(()=>{class f{constructor(){this._controlChanges=new st.x,this._helpers=new st.x}get controlChanges(){return this._controlChanges.asObservable()}get helpersChange(){return this._helpers.asObservable()}setControl(c){this._controlChanges.next(c)}setHelpers(c){this._helpers.next(c)}}return f.\u0275fac=function(c){return new(c||f)},f.\u0275prov=a.Yz7({token:f,factory:f.\u0275fac}),f})();var dr=(()=>((dr=dr||{}).NONE="NONE",dr.VALID="VALID",dr.INVALID="INVALID",dr))();let Dd=(()=>{class f{constructor(c){this.ngControlService=c,this.subscriptions=[],this._statusChanges=new un.X(dr.NONE),this.subscriptions.push(this.ngControlService.controlChanges.subscribe(y=>{y&&(this.control=y,this.subscriptions.push(this.control.statusChanges.subscribe(()=>{this.triggerStatusChange()})))}))}get statusChanges(){return this._statusChanges.asObservable()}ngOnDestroy(){this.subscriptions.forEach(c=>c.unsubscribe())}triggerStatusChange(){if(this.control){const c=dr[this.control.status];this._statusChanges.next(["VALID","INVALID"].includes(c)?c:dr.NONE)}}}return f.\u0275fac=function(c){return new(c||f)(a.LFG(_c))},f.\u0275prov=a.Yz7({token:f,factory:f.\u0275fac}),f})();var co=(()=>((co=co||{}).VERTICAL="vertical",co.HORIZONTAL="horizontal",co.COMPACT="compact",co))();let ou=(()=>{class f{constructor(){this.minLabelSize=1,this.maxLabelSize=12,this.layout=co.HORIZONTAL,this.layoutValues=Object.keys(co).map(c=>co[c]),this._labelSize=2}get labelSize(){return this._labelSize}set labelSize(c){this.labelSizeIsValid(c)&&(this._labelSize=c)}get layoutClass(){return`clr-form-${this.layout}`}isVertical(){return this.layout===co.VERTICAL}isHorizontal(){return this.layout===co.HORIZONTAL}isCompact(){return this.layout===co.COMPACT}isValid(c){return this.layoutValues.indexOf(c)>-1}labelSizeIsValid(c){return Number.isInteger(c)&&c>=this.minLabelSize&&c<=this.maxLabelSize}}return f.\u0275fac=function(c){return new(c||f)},f.\u0275prov=a.Yz7({token:f,factory:f.\u0275fac}),f})(),Bs=(()=>{class f{constructor(c,y,D,R,Q){this.controlIdService=c,this.layoutService=y,this.ngControlService=D,this.renderer=R,this.el=Q,this.enableGrid=!0,this.subscriptions=[]}get labelText(){return this.el.nativeElement&&this.el.nativeElement.textContent}ngOnInit(){(this.controlIdService||this.ngControlService)&&this.renderer.addClass(this.el.nativeElement,"clr-control-label"),this.enableGrid&&this.layoutService&&!this.layoutService.isVertical()&&this.el.nativeElement&&this.el.nativeElement.className.indexOf("clr-col")<0&&(this.renderer.addClass(this.el.nativeElement,"clr-col-12"),this.renderer.addClass(this.el.nativeElement,`clr-col-md-${this.layoutService.labelSize}`)),this.controlIdService&&!this.forAttr&&this.subscriptions.push(this.controlIdService.idChange.subscribe(c=>this.forAttr=c))}ngOnDestroy(){this.subscriptions.forEach(c=>c.unsubscribe())}disableGrid(){this.enableGrid=!1}}return f.\u0275fac=function(c){return new(c||f)(a.Y36(za,8),a.Y36(ou,8),a.Y36(_c,8),a.Y36(a.Qsj),a.Y36(a.SBq))},f.\u0275dir=a.lG2({type:f,selectors:[["label"]],hostVars:1,hostBindings:function(c,y){2&c&&a.uIk("for",y.forAttr)},inputs:{forAttr:["for","forAttr"]}}),f})(),Ob=(()=>{class f extends nf{constructor(c,y){super(c,y),this.controlIdService=c,this.containerIdService=y,this.controlIdSuffix="success"}}return f.\u0275fac=function(c){return new(c||f)(a.Y36(za,8),a.Y36(gc,8))},f.\u0275cmp=a.Xpm({type:f,selectors:[["clr-control-success"]],hostVars:3,hostBindings:function(c,y){2&c&&(a.uIk("id",y.id),a.ekj("clr-subtext",!0))},features:[a.qOj],ngContentSelectors:an,decls:1,vars:0,template:function(c,y){1&c&&(a.F$t(),a.Hsn(0))},encapsulation:2}),f})(),_g=(()=>{class f{constructor(c){this.layoutService=c,this.className=""}controlClass(c=dr.NONE,y=!1,D=""){const R=[this.className,D];switch(c){case dr.VALID:R.push("clr-success");break;case dr.INVALID:R.push("clr-error")}return y&&this.layoutService&&-1===this.className.indexOf("clr-col")&&R.push(`clr-col-md-${this.layoutService.maxLabelSize-this.layoutService.labelSize} clr-col-12`),R.join(" ").trim()}initControlClass(c,y){y&&y.className&&(this.className=y.className,y.className.split(" ").forEach(R=>{R.startsWith("clr-col")&&c.removeClass(y,R)}))}}return f.\u0275fac=function(c){return new(c||f)(a.LFG(ou,8))},f.\u0275prov=a.Yz7({token:f,factory:f.\u0275fac}),f})(),jy=(()=>{class f{constructor(c,y,D,R){this.ifControlStateService=c,this.layoutService=y,this.controlClassService=D,this.ngControlService=R,this._dynamic=!1,this.subscriptions=[],this.subscriptions.push(this.ifControlStateService.statusChanges.subscribe(Q=>{this.state=Q,this.updateHelpers()})),this.subscriptions.push(this.ngControlService.controlChanges.subscribe(Q=>{this.control=Q}))}get showHelper(){return!!this.controlHelperComponent&&(!!this.controlHelperComponent&&(!this.touched||this.state===dr.NONE)||!this.controlSuccessComponent&&this.state===dr.VALID||!this.controlErrorComponent&&this.state===dr.INVALID)}get showValid(){return this.touched&&this.state===dr.VALID&&!!this.controlSuccessComponent}get showInvalid(){return this.touched&&this.state===dr.INVALID&&!!this.controlErrorComponent}get touched(){return this.control?.touched}ngAfterContentInit(){this.updateHelpers()}ngOnDestroy(){this.subscriptions.forEach(c=>c.unsubscribe())}controlClass(){return this.controlClassService.controlClass(!this.controlSuccessComponent&&this.state===dr.VALID||!this.touched?dr.NONE:this.state,this.addGrid())}addGrid(){return this.layoutService&&!this.layoutService.isVertical()}updateHelpers(){this.ngControlService&&this.ngControlService.setHelpers({show:this.showInvalid||this.showHelper||this.showValid,showInvalid:this.showInvalid,showHelper:this.showHelper,showValid:this.showValid})}}return f.\u0275fac=function(c){return new(c||f)(a.Y36(Dd),a.Y36(ou,8),a.Y36(_g),a.Y36(_c))},f.\u0275dir=a.lG2({type:f,contentQueries:function(c,y,D){if(1&c&&(a.Suo(D,Bs,5),a.Suo(D,Ob,5),a.Suo(D,Y_,5),a.Suo(D,Hy,5)),2&c){let R;a.iGM(R=a.CRH())&&(y.label=R.first),a.iGM(R=a.CRH())&&(y.controlSuccessComponent=R.first),a.iGM(R=a.CRH())&&(y.controlErrorComponent=R.first),a.iGM(R=a.CRH())&&(y.controlHelperComponent=R.first)}}}),f})();class W_{constructor(_,c,y=0){if(this.injector=c.injector,!this.injector.get(_,null)){const D=this.injector.get(a._Vd),R=this.injector.get(a.SBq);c.createComponent(D.resolveComponentFactory(By));const Q=D.resolveComponentFactory(_),me=[];me[y]=[R.nativeElement];const Ie=c.createComponent(Q,void 0,void 0,me);c.remove(0),Ie.instance._dynamic=!0,this.injector=Ie.injector}}get(_,c){return this.injector.get(_,c)}}let vg=(()=>{class f{constructor(){this._touched=new st.x}get touchedChange(){return this._touched.asObservable()}markAsTouched(){this._touched.next()}}return f.\u0275fac=function(c){return new(c||f)},f.\u0275prov=a.Yz7({token:f,factory:f.\u0275fac}),f})(),yg=(()=>{class f{constructor(c,y,D,R,Q,me){this.vcr=c,this.wrapperType=y,this.ngControl=R,this.index=0,this.subscriptions=[],this.renderer=Q,this.el=me;try{this.ngControlService=D.get(_c),this.ifControlStateService=D.get(Dd),this.controlClassService=D.get(_g),this.markControlService=D.get(vg)}catch{}this.controlClassService&&this.controlClassService.initControlClass(Q,me.nativeElement),this.markControlService&&this.subscriptions.push(this.markControlService.touchedChange.subscribe(()=>{this.markAsTouched()})),this.ngControlService&&this.subscriptions.push(this.ngControlService.helpersChange.subscribe(Ie=>{this.setAriaDescribedBy(Ie)}))}get id(){return this._id}set id(c){this._id=c,this.controlIdService&&(this.controlIdService.id=c)}ngOnInit(){this._containerInjector=new W_(this.wrapperType,this.vcr,this.index),this.controlIdService=this._containerInjector.get(za);try{this.containerIdService=this._containerInjector.get(gc)}catch{}this._id?this.controlIdService.id=this._id:this._id=this.controlIdService.id,this.ngControlService&&this.ngControlService.setControl(this.ngControl)}ngOnDestroy(){this.subscriptions.forEach(c=>c.unsubscribe())}triggerValidation(){this.ifControlStateService&&this.ifControlStateService.triggerStatusChange()}getProviderFromContainer(c,y){try{return this._containerInjector.get(c,y)}catch{return y}}markAsTouched(){this.ngControl.control.markAsTouched(),this.ngControl.control.updateValueAndValidity()}setAriaDescribedBy(c){if(c.show){const y=this.getAriaDescribedById(c);if(null!==y)return void this.renderer.setAttribute(this.el.nativeElement,"aria-describedby",y)}this.renderer.removeAttribute(this.el.nativeElement,"aria-describedby")}getAriaDescribedById(c){let y="helper";return c.showInvalid?y="error":c.showValid&&(y="success"),this.containerIdService?this.containerIdService.id.concat("-",y):this.controlIdService?this.controlIdService.id.concat("-",y):null}}return f.\u0275fac=function(c){return new(c||f)(a.Y36(a.s_b),a.Y36(a.DyG),a.Y36(a.zs3),a.Y36(dn.a5),a.Y36(a.Qsj),a.Y36(a.SBq))},f.\u0275dir=a.lG2({type:f,hostVars:1,hostBindings:function(c,y){1&c&&a.NdJ("blur",function(){return y.triggerValidation()}),2&c&&a.Ikx("id",y.id)},inputs:{id:"id"}}),f})(),Pb=(()=>{class f{constructor(c,y){this.layoutService=c,this.markControlService=y}set labelSize(c){const y=parseInt(c,10)||2;this.layoutService.labelSize=y}onFormSubmit(){this.markAsTouched()}markAsTouched(){this.markControlService.markAsTouched()}}return f.\u0275fac=function(c){return new(c||f)(a.Y36(ou),a.Y36(vg))},f.\u0275dir=a.lG2({type:f,selectors:[["","clrForm",""]],contentQueries:function(c,y,D){if(1&c&&a.Suo(D,Bs,5),2&c){let R;a.iGM(R=a.CRH())&&(y.labels=R)}},hostVars:6,hostBindings:function(c,y){1&c&&a.NdJ("submit",function(){return y.onFormSubmit()}),2&c&&a.ekj("clr-form",!0)("clr-form-horizontal",y.layoutService.isHorizontal())("clr-form-compact",y.layoutService.isCompact())},inputs:{labelSize:["clrLabelSize","labelSize"]},features:[a._Bn([ou,vg])]}),f})(),kb=(()=>{class f{constructor(c){this.layoutService=c}ngOnInit(){this.layout&&this.layoutService.isValid(this.layout)&&(this.layoutService.layout=this.layout)}}return f.\u0275fac=function(c){return new(c||f)(a.Y36(ou))},f.\u0275dir=a.lG2({type:f,selectors:[["","clrForm","","clrLayout",""]],inputs:{layout:["clrLayout","layout"]}}),f})(),Fr=(()=>{class f{constructor(){te.Q.addIcons(we,pe.M)}}return f.\u0275fac=function(c){return new(c||f)},f.\u0275mod=a.oAB({type:f}),f.\u0275inj=a.cJS({imports:[W.ez,Qn]}),f})();new a.OlP("IS_TOGGLE");let Zy=(()=>{class f{constructor(){te.Q.addIcons(we,pe.M)}}return f.\u0275fac=function(c){return new(c||f)},f.\u0275mod=a.oAB({type:f}),f.\u0275inj=a.cJS({imports:[W.ez,Qn,Fr,tf,Fr]}),f})();function uo(f){return null!==f&&("string"==typeof f?f.length>=0:"boolean"==typeof f&&f)}let au=(()=>{class f{}return f.\u0275fac=function(c){return new(c||f)},f.\u0275mod=a.oAB({type:f}),f.\u0275inj=a.cJS({imports:[W.ez]}),f})(),lf=(()=>{class f{}return f.\u0275fac=function(c){return new(c||f)},f.\u0275mod=a.oAB({type:f}),f.\u0275inj=a.cJS({imports:[W.ez]}),f})();class Wy{containsItem(_){return!!this.model&&this.model.includes(_)}select(_){this.addItem(_)}unselect(_){this.removeItem(_)}isEmpty(){return!(this.model&&this.model.length>0)}pop(){let _;return this.model&&this.model.length>0&&(_=this.model[this.model.length-1],this.removeItem(_)),_}toString(_,c=-1){let y="";return this.model&&(c>-1?this.model[c]&&(y+=_&&this.model[c][_]?this.model[c][_]:this.model[c].toString()):this.model.forEach(D=>{y+=_&&D[_]?D[_]:D.toString(),y+=" "})),y.trim()}addItem(_){this.containsItem(_)||(this.model=this.model||[],this.model.push(_))}removeItem(_){if(null==this.model)return;const c=this.model.indexOf(_);c>-1&&this.model.splice(c,1),0===this.model.length&&(this.model=null)}}class zw{containsItem(_){return this.model===_}select(_){this.model=_}unselect(_){this.containsItem(_)&&(this.model=null)}isEmpty(){return!this.model}pop(){const _=this.model;return this.model=null,_}toString(_){return this.model?_&&this.model[_]?this.model[_]:this.model.toString():""}}class Sg{}function $y(f){return[f,{provide:Sg,useExisting:f}]}class Vb extends zw{constructor(){super(...arguments),this._focusChanged=new un.X(null)}get focusChanged(){return this._focusChanged.asObservable()}select(_){this.model!==_&&(this.model=_,this._focusChanged.next(_))}}let cf=(()=>{class f{constructor(){this.loading=!1,this.showAllOptions=!0,this._currentInput="",this._inputChanged=new un.X(""),this._selectionChanged=new mo.t(1),this.inputChanged=this._inputChanged.asObservable()}get currentInput(){return this._currentInput}set currentInput(c){""===c&&!this.multiselectable&&this.setSelectionValue(null),this._currentInput=c,this._inputChanged.next(c)}get selectionChanged(){return this._selectionChanged.asObservable()}get multiselectable(){return this.selectionModel instanceof Wy}select(c){null==c||this.selectionModel.containsItem(c)||(this.selectionModel.select(c),this._selectionChanged.next(this.selectionModel))}toggle(c){null!=c&&(this.selectionModel.containsItem(c)?this.selectionModel.unselect(c):this.selectionModel.select(c),this._selectionChanged.next(this.selectionModel))}unselect(c){null==c||!this.selectionModel.containsItem(c)||(this.selectionModel.unselect(c),this._selectionChanged.next(this.selectionModel))}setSelectionValue(c){!this.selectionModel||this.selectionModel.model===c||!this.selectionModel.model&&!c||(this.selectionModel.model=c,this._selectionChanged.next(this.selectionModel))}}return f.\u0275fac=function(c){return new(c||f)},f.\u0275prov=a.Yz7({token:f,factory:f.\u0275fac}),f})();$y((()=>{class f{constructor(c,y,D,R){this.toggleService=y,this.selectionService=D,this.platformId=R,this.pseudoFocus=new Vb,this.optionData=[],this.handleFocusSubscription(),this.renderer=c.createRenderer(null,null)}get trigger(){return this._trigger}set trigger(c){this._trigger=c,this.addFocusOnBlurListener(c)}get listbox(){return this._listbox}set listbox(c){this._listbox=c,this.addFocusOnBlurListener(c)}get textInput(){return this._textInput}set textInput(c){this._textInput=c,this.renderer.listen(c,"keydown",y=>!this.handleTextInput(y)),this.addFocusOnBlurListener(c)}focusInput(){this.textInput&&(0,W.NF)(this.platformId)&&this.textInput.focus()}focusFirstActive(){if(this.optionData.length>0)if(this.selectionService.selectionModel.isEmpty())this.pseudoFocus.select(this.optionData[0]);else{let c;c=this.selectionService.multiselectable?this.selectionService.selectionModel.model[0]:this.selectionService.selectionModel.model;const y=this.optionData.find(D=>D.value===c);this.pseudoFocus.select(y||this.optionData[0]),this.scrollIntoSelectedModel("auto")}}addOptionValues(c){this.optionData=c}handleFocusSubscription(){this.toggleService.openChange.subscribe(c=>{c||(this.pseudoFocus.model=null)})}moveFocusTo(c){let y=this.optionData.findIndex(D=>D.equals(this.pseudoFocus.model));c===kr.UP?-1===y||0===y?y=this.optionData.length-1:y--:c===kr.DOWN&&(-1===y||y===this.optionData.length-1?y=0:y++),this.pseudoFocus.select(this.optionData[y]),this.scrollIntoSelectedModel()}openAndMoveTo(c){this.toggleService.open?this.moveFocusTo(c):(this.toggleService.openChange.pipe((0,Oi.q)(1)).subscribe(y=>{y&&this.moveFocusTo(c)}),this.toggleService.open=!0)}handleTextInput(c){let y=!1;const D=ao(c.key);if(c)switch(D){case Ft.Enter:this.toggleService.open&&this.pseudoFocus.model&&(this.selectionService.multiselectable?this.selectionService.toggle(this.pseudoFocus.model.value):this.selectionService.select(this.pseudoFocus.model.value),y=!0);break;case Ft.Space:this.toggleService.open||(this.toggleService.open=!0,y=!0);break;case Ft.ArrowUp:this.preventViewportScrolling(c),this.openAndMoveTo(kr.UP),y=!0;break;case Ft.ArrowDown:this.preventViewportScrolling(c),this.openAndMoveTo(kr.DOWN),y=!0;break;default:c.key!==Ft.Tab&&(!this.selectionService.multiselectable||c.key!==Ft.Backspace)&&c.key!==Ft.Escape&&!this.toggleService.open&&(this.toggleService.open=!0)}return y}scrollIntoSelectedModel(c="smooth"){this.pseudoFocus.model&&this.pseudoFocus.model.el&&this.pseudoFocus.model.el.scrollIntoView({behavior:c,block:"center",inline:"nearest"})}preventViewportScrolling(c){c.preventDefault(),c.stopImmediatePropagation()}addFocusOnBlurListener(c){(0,W.NF)(this.platformId)&&this.renderer.listen(c,"blur",y=>{this.focusOutOfComponent(y)&&(this.toggleService.open=!1,this.componentCdRef&&this.componentCdRef.detectChanges())})}focusOutOfComponent(c){const y=c.relatedTarget||document.activeElement;return!(this.textInput.contains(y)||this.trigger.contains(y)||this.listbox.contains(y))}}return f.\u0275fac=function(c){return new(c||f)(a.LFG(a.FYo),a.LFG(Ei),a.LFG(cf),a.LFG(a.Lbi))},f.\u0275prov=a.Yz7({token:f,factory:f.\u0275fac}),f})());let Q_=(()=>{class f{constructor(){te.Q.addIcons(we,pe.M,oe.i,_e)}}return f.\u0275fac=function(c){return new(c||f)},f.\u0275mod=a.oAB({type:f}),f.\u0275inj=a.cJS({imports:[W.ez,dn.u5,Qn,lf,Fr,Vs,Ba,au,Fr,Vs]}),f})(),X_=(()=>{class f{constructor(){te.Q.addIcons(we,pe.M)}}return f.\u0275fac=function(c){return new(c||f)},f.\u0275mod=a.oAB({type:f}),f.\u0275inj=a.cJS({imports:[W.ez,dn.u5,Qn,Fr,Fr]}),f})(),qy=(()=>{class f{constructor(){te.Q.addIcons(we,pe.M)}}return f.\u0275fac=function(c){return new(c||f)},f.\u0275mod=a.oAB({type:f}),f.\u0275inj=a.cJS({imports:[W.ez,X_,Qn]}),f})(),uf=(()=>{class f{}return f.\u0275fac=function(c){return new(c||f)},f.\u0275mod=a.oAB({type:f}),f.\u0275inj=a.cJS({}),f})(),Qb=(()=>{class f{constructor(){te.Q.addIcons(we,pe.M,oe.i,Fe,se)}}return f.\u0275fac=function(c){return new(c||f)},f.\u0275mod=a.oAB({type:f}),f.\u0275inj=a.cJS({imports:[W.ez,uf,tf,Vs,Ba,Qn,Fr]}),f})();new a.OlP(void 0);let Xb=(()=>{class f{constructor(){te.Q.addIcons(et,Ae.c,we,pe.M)}}return f.\u0275fac=function(c){return new(c||f)},f.\u0275mod=a.oAB({type:f}),f.\u0275inj=a.cJS({imports:[W.ez,dn.u5,Qn,Fr,Fr]}),f})(),ev=(()=>{class f{constructor(){te.Q.addIcons(we,pe.M)}}return f.\u0275fac=function(c){return new(c||f)},f.\u0275mod=a.oAB({type:f}),f.\u0275inj=a.cJS({imports:[W.ez,Fr,tf,Qn,Fr]}),f})(),a1=(()=>{class f{constructor(){te.Q.addIcons(we,pe.M)}}return f.\u0275fac=function(c){return new(c||f)},f.\u0275mod=a.oAB({type:f}),f.\u0275inj=a.cJS({imports:[W.ez,Fr,tf,Qn,Fr]}),f})(),l1=(()=>{class f{constructor(){te.Q.addIcons(we,pe.M)}}return f.\u0275fac=function(c){return new(c||f)},f.\u0275mod=a.oAB({type:f}),f.\u0275inj=a.cJS({imports:[W.ez,dn.u5,Qn,Fr,Fr]}),f})(),c1=(()=>{class f extends jy{}return f.\u0275fac=function(){let _;return function(y){return(_||(_=a.n5z(f)))(y||f)}}(),f.\u0275cmp=a.Xpm({type:f,selectors:[["clr-textarea-container"]],hostVars:6,hostBindings:function(c,y){2&c&&a.ekj("clr-form-control",!0)("clr-form-control-disabled",null==y.control?null:y.control.disabled)("clr-row",y.addGrid())},features:[a._Bn([Dd,_c,za,_g]),a.qOj],ngContentSelectors:Z0,decls:10,vars:7,consts:[[4,"ngIf"],[1,"clr-control-container",3,"ngClass"],[1,"clr-textarea-wrapper"],["class","clr-validate-icon","shape","exclamation-circle","status","danger","aria-hidden","true",4,"ngIf"],["class","clr-validate-icon","shape","check-circle","status","success","aria-hidden","true",4,"ngIf"],["shape","exclamation-circle","status","danger","aria-hidden","true",1,"clr-validate-icon"],["shape","check-circle","status","success","aria-hidden","true",1,"clr-validate-icon"]],template:function(c,y){1&c&&(a.F$t(vw),a.Hsn(0),a.YNc(1,l_,1,0,"label",0),a.TgZ(2,"div",1)(3,"div",2),a.Hsn(4,1),a.YNc(5,kC,1,0,"cds-icon",3),a.YNc(6,z0,1,0,"cds-icon",4),a.qZA(),a.YNc(7,Fo,1,0,"ng-content",0),a.YNc(8,FC,1,0,"ng-content",0),a.YNc(9,NC,1,0,"ng-content",0),a.qZA()),2&c&&(a.xp6(1),a.Q6J("ngIf",!y.label&&y.addGrid()),a.xp6(1),a.Q6J("ngClass",y.controlClass()),a.xp6(3),a.Q6J("ngIf",y.showInvalid),a.xp6(1),a.Q6J("ngIf",y.showValid),a.xp6(1),a.Q6J("ngIf",y.showHelper),a.xp6(1),a.Q6J("ngIf",y.showInvalid),a.xp6(1),a.Q6J("ngIf",y.showValid))},dependencies:[W.mk,W.O5,hi,Bs],encapsulation:2}),f})(),tv=(()=>{class f extends yg{constructor(c,y,D,R,Q){super(c,c1,y,D,R,Q),this.index=1}}return f.\u0275fac=function(c){return new(c||f)(a.Y36(a.s_b),a.Y36(a.zs3),a.Y36(dn.a5,10),a.Y36(a.Qsj),a.Y36(a.SBq))},f.\u0275dir=a.lG2({type:f,selectors:[["","clrTextarea",""]],hostVars:2,hostBindings:function(c,y){2&c&&a.ekj("clr-textarea",!0)},features:[a.qOj]}),f})(),tS=(()=>{class f{constructor(){te.Q.addIcons(we,pe.M)}}return f.\u0275fac=function(c){return new(c||f)},f.\u0275mod=a.oAB({type:f}),f.\u0275inj=a.cJS({imports:[W.ez,dn.u5,Qn,Fr,Fr]}),f})(),hu=(()=>{class f{}return f.\u0275fac=function(c){return new(c||f)},f.\u0275mod=a.oAB({type:f}),f.\u0275inj=a.cJS({imports:[W.ez,Fr,Zy,Q_,Qb,X_,Xb,ev,l1,tS,a1,qy]}),f})(),Fd=(()=>{class f{}return f.\u0275fac=function(c){return new(c||f)},f.\u0275mod=a.oAB({type:f}),f.\u0275inj=a.cJS({imports:[W.ez]}),f})(),nv=(()=>{class f{}return f.\u0275fac=function(c){return new(c||f)},f.\u0275mod=a.oAB({type:f}),f.\u0275inj=a.cJS({}),f})(),u1=(()=>{class f{}return f.\u0275fac=function(c){return new(c||f)},f.\u0275mod=a.oAB({type:f}),f.\u0275inj=a.cJS({imports:[W.ez]}),f})(),vf=(()=>{class f{constructor(){this.nbChanges=0,this._change=new st.x}get change(){return this._change.asObservable()}changeStart(){this.nbChanges++}changeDone(){0==--this.nbChanges&&this._change.next()}}return f.\u0275fac=function(c){return new(c||f)},f.\u0275prov=a.Yz7({token:f,factory:f.\u0275fac}),f})(),po=(()=>{class f{constructor(c){this.stateDebouncer=c,this.activated=!1,this._size=0,this._current=1,this._change=new st.x,this.preventEmit=!1,this._sizeChange=new st.x}get size(){return this._size}set size(c){const y=this._size;c!==y&&(this.preventEmit||this.stateDebouncer.changeStart(),this._size=c,this._current=0===c?1:Math.floor(y/c*(this._current-1))+1,this.preventEmit||(this._change.next(this._current),this._sizeChange.next(this._size),this.stateDebouncer.changeDone())),this.preventEmit=!1}get totalItems(){return this._totalItems||0}set totalItems(c){this._totalItems=c,this.current>this.last&&(this.current=this.last)}get last(){return this._last?this._last:this.size>0&&this.totalItems?Math.ceil(this.totalItems/this.size):1}set last(c){this._last=c}get change(){return this._change.asObservable()}get sizeChange(){return this._sizeChange.asObservable()}get current(){return this._current}set current(c){c!==this._current&&(this.stateDebouncer.changeStart(),this._current=c,this._change.next(c),this.stateDebouncer.changeDone())}get firstItem(){return 0===this._totalItems?-1:0===this.size?0:(this.current-1)*this.size}get lastItem(){if(0===this._totalItems)return-1;if(0===this.size)return this.totalItems-1;let c=this.current*this.size-1;return this.totalItems&&(c=Math.min(c,this.totalItems-1)),c}previous(){this.current>1&&this.current--}next(){this.current<this.last&&this.current++}resetPageSize(c=!1){this.preventEmit=c,this.size=0}}return f.\u0275fac=function(c){return new(c||f)(a.LFG(vf))},f.\u0275prov=a.Yz7({token:f,factory:f.\u0275fac}),f})(),Ya=(()=>{class f{constructor(c,y){this._page=c,this.stateDebouncer=y,this._change=new st.x,this._all=[]}get change(){return this._change.asObservable()}hasActiveFilters(){for(const{filter:c}of this._all)if(c&&c.isActive())return!0;return!1}getActiveFilters(){const c=[];for(const{filter:y}of this._all)y&&y.isActive()&&c.push(y);return c}add(c){const y=c.changes.subscribe(()=>this.resetPageAndEmitFilterChange([c]));let D=!1;const R=new yf(c,()=>{if(D)return;y.unsubscribe();const Q=this._all.findIndex(me=>me.filter===c);Q>=0&&this._all.splice(Q,1),c.isActive()&&this.resetPageAndEmitFilterChange([]),D=!0});return this._all.push(R),c.isActive()&&this.resetPageAndEmitFilterChange([c]),R}accepts(c){for(const{filter:y}of this._all)if(y&&y.isActive()&&!y.accepts(c))return!1;return!0}resetPageAndEmitFilterChange(c){this.stateDebouncer.changeStart(),this._page.current=1,this._change.next(c),this.stateDebouncer.changeDone()}}return f.\u0275fac=function(c){return new(c||f)(a.LFG(po),a.LFG(vf))},f.\u0275prov=a.Yz7({token:f,factory:f.\u0275fac}),f})();class yf{constructor(_,c){this.filter=_,this.unregister=c}}let Ld=(()=>{class f{constructor(c){this.stateDebouncer=c,this._reverse=!1,this._change=new st.x}get comparator(){return this._comparator}set comparator(c){this.stateDebouncer.changeStart(),this._comparator=c,this.emitChange(),this.stateDebouncer.changeDone()}get reverse(){return this._reverse}set reverse(c){this.stateDebouncer.changeStart(),this._reverse=c,this.emitChange(),this.stateDebouncer.changeDone()}get change(){return this._change.asObservable()}toggle(c,y){this.stateDebouncer.changeStart(),this.comparator===c?this._reverse=typeof y<"u"&&y||!this._reverse:(this._comparator=c,this._reverse=typeof y<"u"&&y),this.emitChange(),this.stateDebouncer.changeDone()}clear(){this.comparator=null}compare(c,y){return(this.reverse?-1:1)*this.comparator.compare(c,y)}emitChange(){this._change.next(this)}}return f.\u0275fac=function(c){return new(c||f)(a.LFG(vf))},f.\u0275prov=a.Yz7({token:f,factory:f.\u0275fac}),f})(),Dc=(()=>{class f{constructor(c,y,D){this._filters=c,this._sort=y,this._page=D,this.loading=!1,this._smart=!1,this._displayed=[],this._change=new st.x,this._allChanges=new st.x,this.iteratorTrackBy=(R,Q)=>Q}get smart(){return this._smart}get all(){return this._all}set all(c){this._all=c,this.emitAllChanges(c),this.smart?this._filterItems():(this._displayed=c,this.emitChange())}get displayed(){return this._displayed}get change(){return this._change.asObservable()}get allChanges(){return this._allChanges.asObservable()}get uninitialized(){return!this._all}destroy(){this._filtersSub&&this._filtersSub.unsubscribe(),this._sortSub&&this._sortSub.unsubscribe(),this._pageSub&&this._pageSub.unsubscribe()}smartenUp(){this._smart=!0,this._filtersSub=this._filters.change.subscribe(()=>this._filterItems()),this._sortSub=this._sort.change.subscribe(()=>{this._sort.comparator?this._sortItems():this._filterItems()}),this._pageSub=this._page.change.subscribe(()=>this._changePage())}refresh(){this.smart&&this._filterItems()}canTrackBy(){return!!this.datagridTrackBy||Array.isArray(this.all)}trackBy(c,y){if(this.datagridTrackBy)return this.datagridTrackBy(c);if(Array.isArray(this.all))return y=y??this.all.indexOf(c),this.iteratorTrackBy(y,c);throw new Error("improper call to Items#trackBy")}emitChange(){this._change.next(this.displayed)}emitAllChanges(c){this._allChanges.next(c)}_filterItems(){this.uninitialized||(this._filtered=this._filters.hasActiveFilters()?this._all.filter(c=>this._filters.accepts(c)):this._all.slice(),this._page.totalItems=this._filtered.length,this._sortItems())}_sortItems(){this.uninitialized||(this._sort.comparator&&this._filtered.sort((c,y)=>this._sort.compare(c,y)),this._changePage())}_changePage(){this.uninitialized||this._page.activated&&0===this._page.size||(this._displayed=this._page.size>0?this._filtered.slice(this._page.firstItem,this._page.lastItem+1):this._filtered,this.emitChange())}}return f.\u0275fac=function(c){return new(c||f)(a.LFG(Ya),a.LFG(Ld),a.LFG(po))},f.\u0275prov=a.Yz7({token:f,factory:f.\u0275fac}),f})();var hr=(()=>((hr=hr||{})[hr.WIDTH=0]="WIDTH",hr[hr.HIDDEN=1]="HIDDEN",hr))();Object.keys(hr).map(f=>hr[f]).filter(f=>f===parseInt(f,10));const m1=f=>f;let jd=(()=>{class f{constructor(c){this._items=c}set trackBy(c){c!==m1&&this._items&&(this._items.iteratorTrackBy=c)}}return f.\u0275fac=function(c){return new(c||f)(a.Y36(Dc,8))},f.\u0275dir=a.lG2({type:f,selectors:[["","ngForTrackBy",""]],inputs:{trackBy:["ngForTrackBy","trackBy"]}}),f})();new a.OlP("COLUMN_STATE");let dS=(()=>{class f{constructor(){te.Q.addIcons(ce,ke,_e,Le.V,nt.D,It,St,Cn,Ai.g)}}return f.\u0275fac=function(c){return new(c||f)},f.\u0275mod=a.oAB({type:f}),f.\u0275inj=a.cJS({imports:[W.ez,nv,uf,Qn,hu,dn.u5,ef,Vs,u1,Fd,au,Ba,lf]}),f})(),Zg=(()=>{class f{constructor(){te.Q.addIcons(oe.i)}}return f.\u0275fac=function(c){return new(c||f)},f.\u0275mod=a.oAB({type:f}),f.\u0275inj=a.cJS({imports:[W.ez,dn.u5,Qn,Fd]}),f})();new a.FiY,new a.tp0;let Me=(()=>{class f{constructor(){te.Q.addIcons(oe.i)}}return f.\u0275fac=function(c){return new(c||f)},f.\u0275mod=a.oAB({type:f}),f.\u0275inj=a.cJS({imports:[W.ez,Qn,ef]}),f})(),Ne=(()=>{class f{}return f.\u0275fac=function(c){return new(c||f)},f.\u0275mod=a.oAB({type:f}),f.\u0275inj=a.cJS({imports:[dS,Zg,Me]}),f})();function We(f,_,c){return Dr.y.create(y=>{_(y);const D=f.subscribe(y);return()=>{D.unsubscribe(),c&&c(y)}})}let Ye=(()=>{class f{constructor(c,y,D,R,Q){this.renderer=c,this.parent=y,this.toggleService=D,this.focusService=R,this.platformId=Q,this.id=Ln(),this.focusBackOnTriggerWhenClosed=!1,this._unlistenFuncs=[],this.resetChildren(),this.moveToFirstItemWhenOpen(),this.parent||this.handleRootFocus()}get trigger(){return this._trigger}set trigger(c){this._trigger=c,this.parent?this._unlistenFuncs.push(this.renderer.listen(c,"keydown.arrowright",y=>this.toggleService.toggleWithEvent(y))):(this._unlistenFuncs.push(this.renderer.listen(c,"keydown.arrowup",y=>this.toggleService.toggleWithEvent(y))),this._unlistenFuncs.push(this.renderer.listen(c,"keydown.arrowdown",y=>this.toggleService.toggleWithEvent(y))),this.focusService.listenToArrowKeys(c))}get container(){return this._container}set container(c){this._container=c,this._unlistenFuncs.push(this.renderer.listen(c,"keydown.tab",y=>this.toggleService.toggleWithEvent(y))),this.parent?this._unlistenFuncs.push(this.renderer.listen(c,"keydown.escape",y=>{this.focusService.move(kr.LEFT),y.stopPropagation()})):(this.focusService.registerContainer(c),this._unlistenFuncs.push(this.renderer.listen(c,"keydown.escape",y=>this.toggleService.toggleWithEvent(y))),this._unlistenFuncs.push(this.renderer.listen(c,"blur",y=>{this.children.pipe((0,Oi.q)(1)).subscribe(R=>R.forEach(Q=>Q.blur()));const D=y.relatedTarget||document.activeElement;D&&(0,W.NF)(this.platformId)&&(c.contains(D)||D===this.trigger)||(this.focusBackOnTriggerWhenClosed=!1,this.toggleService.open=!1)})))}ngOnDestroy(){this._unlistenFuncs.forEach(c=>c()),this.focusService.detachListeners()}moveToFirstItemWhenOpen(){const c=this.toggleService.openChange.subscribe(y=>{y&&this.toggleService.originalEvent&&setTimeout(()=>{this.focusService.moveTo(this),this.focusService.move(this.parent?kr.RIGHT:kr.DOWN)})});this._unlistenFuncs.push(()=>c.unsubscribe())}handleRootFocus(){const c=this.toggleService.openChange.subscribe(y=>{y||(this.focusService.reset(this),this.focusBackOnTriggerWhenClosed&&this.focus()),this.focusBackOnTriggerWhenClosed=y});this._unlistenFuncs.push(()=>c.unsubscribe())}focus(){this.trigger&&(0,W.NF)(this.platformId)&&this.trigger.focus()}blur(){this.trigger&&(0,W.NF)(this.platformId)&&this.trigger.blur()}activate(){(0,W.NF)(this.platformId)&&this.trigger.click()}resetChildren(){this.children=new mo.t(1),this.parent?this.right=this.openAndGetChildren().pipe((0,Lt.U)(c=>c[0])):(this.down=this.openAndGetChildren().pipe((0,Lt.U)(c=>c[0])),this.up=this.openAndGetChildren().pipe((0,Lt.U)(c=>c[c.length-1])))}addChildren(c){H_.linkVertical(c),this.parent&&H_.linkParent(c,this.closeAndGetThis(),kr.LEFT),this.children.next(c)}openAndGetChildren(){return We(this.children,()=>this.toggleService.open=!0)}closeAndGetThis(){return We((0,zi.of)(this),()=>this.toggleService.open=!1)}}return f.\u0275fac=function(c){return new(c||f)(a.LFG(a.Qsj),a.LFG(f,12),a.LFG(Ei),a.LFG(Tl),a.LFG(a.Lbi))},f.\u0275prov=a.Yz7({token:f,factory:f.\u0275fac}),f})();const Xe=$y(Ye);let gt=(()=>{class f{constructor(){this._changes=new st.x}get changes(){return this._changes.asObservable()}closeMenus(){this._changes.next(!1)}}return f.\u0275fac=function(c){return new(c||f)},f.\u0275prov=a.Yz7({token:f,factory:f.\u0275fac}),f})();const Rt={provide:gt,useFactory:function Mt(f){return f||new gt},deps:[[new a.FiY,new a.tp0,gt]]};let Ot=(()=>{class f{constructor(c,y,D,R,Q){this.parent=c,this.toggleService=y,this.focusHandler=D,this.cdr=R,this.isMenuClosable=!0,this.subscriptions=[],this.subscriptions.push(Q.changes.subscribe(me=>this.toggleService.open=me)),this.subscriptions.push(y.openChange.subscribe(()=>this.cdr.markForCheck()))}ngOnDestroy(){this.subscriptions.forEach(c=>c.unsubscribe())}}return f.\u0275fac=function(c){return new(c||f)(a.Y36(f,12),a.Y36(Ei),a.Y36(Ye),a.Y36(a.sBO),a.Y36(gt))},f.\u0275cmp=a.Xpm({type:f,selectors:[["clr-dropdown"]],hostVars:4,hostBindings:function(c,y){2&c&&a.ekj("dropdown",!0)("open",y.toggleService.open)},inputs:{isMenuClosable:["clrCloseMenuOnItemClick","isMenuClosable"]},features:[a._Bn([Rt,wb,Xe]),a.zW0([Il])],ngContentSelectors:an,decls:1,vars:0,template:function(c,y){1&c&&(a.F$t(),a.Hsn(0))},encapsulation:2}),f})();const rn=[{provide:Sg,useClass:(()=>{class f{constructor(c,y,D){this.el=c,this.renderer=y,this.platformId=D,this.id=Ln(),this.disabled=!1,y.setAttribute(c.nativeElement,"id",this.id),y.setAttribute(c.nativeElement,"tabindex","-1")}focus(){(0,W.NF)(this.platformId)&&(this.renderer.setAttribute(this.el.nativeElement,"tabindex","0"),this.el.nativeElement.focus(),this.el.nativeElement.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"}))}blur(){(0,W.NF)(this.platformId)&&(this.renderer.setAttribute(this.el.nativeElement,"tabindex","-1"),this.el.nativeElement.blur())}activate(){(0,W.NF)(this.platformId)&&this.el.nativeElement.click()}}return f.\u0275fac=function(c){return new(c||f)(a.LFG(a.SBq),a.LFG(a.Qsj),a.LFG(a.Lbi))},f.\u0275prov=a.Yz7({token:f,factory:f.\u0275fac}),f})()}];let Bn=(()=>{class f{constructor(c,y,D){this.dropdown=c,this._dropdownService=y,this.focusableItem=D}get disabled(){return this.focusableItem.disabled}set disabled(c){this.focusableItem.disabled=!!c||""===c}get dropdownItemId(){return this.focusableItem.id}set dropdownItemId(c){this.focusableItem.id=c}onDropdownItemClick(){if(this.dropdown.isMenuClosable&&!this.disabled&&this.dropdown.toggleService.open){const c=this.findRootDropdown();c.focusHandler.focus(),c.focusHandler.focusBackOnTriggerWhenClosed=!1}setTimeout(()=>{this.dropdown.isMenuClosable&&!this.disabled&&this._dropdownService.closeMenus()})}onSpaceKeydown(c){this.stopImmediatePropagationIfDisabled(c)}onEnterKeydown(c){this.stopImmediatePropagationIfDisabled(c)}stopImmediatePropagationIfDisabled(c){this.disabled&&(c.preventDefault(),c.stopImmediatePropagation())}findRootDropdown(){let c=this.dropdown;for(;c.parent;)c=c.parent;return c}}return f.\u0275fac=function(c){return new(c||f)(a.Y36(Ot),a.Y36(gt),a.Y36(Sg))},f.\u0275dir=a.lG2({type:f,selectors:[["","clrDropdownItem",""]],hostVars:7,hostBindings:function(c,y){1&c&&a.NdJ("click",function(){return y.onDropdownItemClick()})("keydown.space",function(R){return y.onSpaceKeydown(R)})("keydown.enter",function(R){return y.onEnterKeydown(R)}),2&c&&(a.uIk("role","menuitem")("aria-disabled",y.disabled)("id",y.dropdownItemId),a.ekj("disabled",y.disabled)("dropdown-item",!0))},inputs:{disabled:["clrDisabled","disabled"],dropdownItemId:["id","dropdownItemId"]},features:[a._Bn([rn])]}),f})();var He=(()=>((He=He||{})[He.RIGHT_CENTER=0]="RIGHT_CENTER",He[He.RIGHT_TOP=1]="RIGHT_TOP",He[He.RIGHT_BOTTOM=2]="RIGHT_BOTTOM",He[He.TOP_CENTER=3]="TOP_CENTER",He[He.TOP_RIGHT=4]="TOP_RIGHT",He[He.TOP_LEFT=5]="TOP_LEFT",He[He.BOTTOM_CENTER=6]="BOTTOM_CENTER",He[He.BOTTOM_RIGHT=7]="BOTTOM_RIGHT",He[He.BOTTOM_LEFT=8]="BOTTOM_LEFT",He[He.LEFT_CENTER=9]="LEFT_CENTER",He[He.LEFT_TOP=10]="LEFT_TOP",He[He.LEFT_BOTTOM=11]="LEFT_BOTTOM",He))();const fi="absolute";class Ct{constructor(_){this.element=_,this.boundOnScrollListener=this.emitScrollEvent.bind(this),this.scrollableElements=[],_.style.position=fi,_.style.top=0,_.style.bottom="auto",_.style.left=0,_.style.right="auto"}anchor(_,c,y,{offsetX:D=0,offsetY:R=0,useAnchorParent:Q=!1}={}){this.addScrollEventListeners(_),Q&&(_=_.parentNode),_.style.position="static";const me=_.getBoundingClientRect(),Ie=this.element.getBoundingClientRect();let Ue=me.left-Ie.left+D,Et=me.top-Ie.top+R;switch(c){case He.LEFT_TOP:case He.TOP_LEFT:break;case He.TOP_CENTER:Ue+=me.width/2;break;case He.TOP_RIGHT:case He.RIGHT_TOP:Ue+=me.width;break;case He.LEFT_BOTTOM:case He.BOTTOM_LEFT:Et+=me.height;break;case He.BOTTOM_CENTER:Et+=me.height,Ue+=me.width/2;break;case He.BOTTOM_RIGHT:case He.RIGHT_BOTTOM:Et+=me.height,Ue+=me.width;break;case He.LEFT_CENTER:Et+=me.height/2;break;case He.RIGHT_CENTER:Et+=me.height/2,Ue+=me.width}switch(y){case He.LEFT_TOP:case He.TOP_LEFT:break;case He.TOP_CENTER:Ue-=Ie.width/2;break;case He.TOP_RIGHT:case He.RIGHT_TOP:Ue-=Ie.width;break;case He.LEFT_BOTTOM:case He.BOTTOM_LEFT:Et-=Ie.height;break;case He.BOTTOM_CENTER:Et-=Ie.height,Ue-=Ie.width/2;break;case He.BOTTOM_RIGHT:case He.RIGHT_BOTTOM:Et-=Ie.height,Ue-=Ie.width;break;case He.LEFT_CENTER:Et-=Ie.height/2;break;case He.RIGHT_CENTER:Et-=Ie.height/2,Ue-=Ie.width}const Ht=getComputedStyle(this.element),Kt=parseInt(Ht.marginLeft,10),Rn=parseInt(Ht.marginRight,10),ni=parseInt(Ht.marginTop,10),Ni=parseInt(Ht.marginBottom,10);switch(c){case He.LEFT_TOP:case He.TOP_LEFT:case He.TOP_RIGHT:case He.RIGHT_TOP:(y===He.BOTTOM_RIGHT||y===He.RIGHT_BOTTOM)&&(Et-=Ni,Ue-=Rn),(y===He.BOTTOM_LEFT||y===He.LEFT_BOTTOM)&&(Et-=ni,Ue+=Kt),(y===He.TOP_LEFT||y===He.LEFT_TOP)&&(Et+=ni,Ue+=Kt),(y===He.TOP_RIGHT||y===He.RIGHT_TOP)&&(Et+=ni,Ue-=Rn);break;case He.LEFT_BOTTOM:case He.BOTTOM_LEFT:case He.BOTTOM_RIGHT:case He.RIGHT_BOTTOM:(y===He.BOTTOM_LEFT||y===He.LEFT_BOTTOM)&&(Et-=Ni,Ue+=Kt),(y===He.BOTTOM_RIGHT||y===He.RIGHT_BOTTOM)&&(Et-=Ni,Ue-=Rn),(y===He.TOP_LEFT||y===He.LEFT_TOP)&&(Et+=ni,Ue+=Kt),(y===He.TOP_RIGHT||y===He.RIGHT_TOP)&&(Et+=ni,Ue-=Rn);break;case He.TOP_CENTER:Et-=Ni,Ue+=Kt,Ue-=Rn;break;case He.BOTTOM_CENTER:Et+=ni,Ue+=Kt,Ue-=Rn;break;case He.LEFT_CENTER:Et+=ni,Et-=Ni,Ue-=Rn;break;case He.RIGHT_CENTER:Et+=ni,Et-=Ni,Ue+=Kt}return this.element.style.transform=`translateX(${Math.round(Ue)}px) translateY(${Math.round(Et)}px)`,this._scroll.asObservable()}release(){this.element.style.transform="",this.removeScrollEventListeners()}isPositioned(_){const c=getComputedStyle(_).position;return"relative"===c||c===fi||"fixed"===c}emitScrollEvent(){this._scroll.next()}addScrollEventListeners(_){this._scroll=new st.x;const c=_;let y=_;for(;y&&y!==document&&(this.scrolls(y)&&(y.addEventListener("scroll",this.boundOnScrollListener),this.scrollableElements.push(y)),y===c||!this.isPositioned(y));)y=y.parentNode}removeScrollEventListeners(){for(const _ of this.scrollableElements)_.removeEventListener("scroll",this.boundOnScrollListener);this.scrollableElements.length=0,this._scroll&&(this._scroll.complete(),delete this._scroll)}scrolls(_){const c=getComputedStyle(_);return"scroll"===c.overflowX||"auto"===c.overflowX||"scroll"===c.overflowY||"auto"===c.overflowY}}let Ut=(()=>{class f{constructor(c,y){this.parentHost=y,this.closeOnOutsideClick=!1,this.popoverOptions={},this.updateAnchor=!1,this.documentESCListener=null,this.closeOnOutsideClickCallback=D=>{this.anchorElem.contains(D.target)||(this.toggleService.open=!1)},this.el=c.get(a.SBq),this.toggleService=c.get(Ei),this.renderer=c.get(a.Qsj),this.ngZone=c.get(a.R0b),this.ref=c.get(a.sBO),this.anchorElem=y.nativeElement,this.popoverInstance=new Ct(this.el.nativeElement),this.subscription=this.toggleService.openChange.subscribe(D=>{D?(this.anchor(),this.attachESCListener()):(this.release(),this.detachESCListener())}),this.toggleService.open&&(this.anchor(),this.attachESCListener())}get isOffScreen(){return!this.toggleService.open}ngAfterViewChecked(){this.updateAnchor&&(this.updateAnchor=!1,this.popoverInstance.anchor(this.anchorElem,this.anchorPoint,this.popoverPoint,this.popoverOptions).subscribe(()=>{this.toggleService.open=!1}),this.attachOutsideClickListener())}ngOnDestroy(){this.release(),this.detachESCListener(),this.subscription.unsubscribe()}anchor(){this.updateAnchor=!0}release(){this.detachOutsideClickListener(),this.popoverInstance.release()}attachESCListener(){this.popoverOptions.ignoreGlobalESCListener||this.ngZone.runOutsideAngular(()=>{this.documentESCListener=this.renderer.listen("document","keydown",c=>{c&&c.key&&ao(c.key)===Ft.Escape&&this.ngZone.run(()=>{this.toggleService.open=!1,this.ref.markForCheck()})})})}detachESCListener(){this.documentESCListener&&(this.documentESCListener(),this.documentESCListener=null)}attachOutsideClickListener(){this.closeOnOutsideClick&&this.toggleService.open&&document&&document.addEventListener&&document.addEventListener("click",this.closeOnOutsideClickCallback,!0)}detachOutsideClickListener(){this.closeOnOutsideClick&&document&&document.removeEventListener&&document.removeEventListener("click",this.closeOnOutsideClickCallback,!0)}}return f.\u0275fac=function(c){return new(c||f)(a.Y36(a.zs3),a.Y36(a.SBq,4))},f.\u0275dir=a.lG2({type:f,hostVars:2,hostBindings:function(c,y){2&c&&a.ekj("is-off-screen",y.isOffScreen)}}),f})(),vn=(()=>{class f extends Ut{constructor(c,y,D,R){if(!y)throw new Error("clr-dropdown-menu should only be used inside of a clr-dropdown");super(c,y),D?(this.anchorPoint=He.RIGHT_TOP,this.popoverPoint=He.LEFT_TOP):(this.anchorPoint=He.BOTTOM_LEFT,this.popoverPoint=He.LEFT_TOP),this.popoverOptions.allowMultipleOpen=!0,this.popoverOptions.ignoreGlobalESCListener=!0,this.closeOnOutsideClick=!0,this.focusHandler=R}set position(c){switch(c){case"top-right":this.anchorPoint=He.TOP_RIGHT,this.popoverPoint=He.RIGHT_BOTTOM;break;case"top-left":this.anchorPoint=He.TOP_LEFT,this.popoverPoint=He.LEFT_BOTTOM;break;case"bottom-right":this.anchorPoint=He.BOTTOM_RIGHT,this.popoverPoint=He.RIGHT_TOP;break;case"bottom-left":default:this.anchorPoint=He.BOTTOM_LEFT,this.popoverPoint=He.LEFT_TOP;break;case"right-top":this.anchorPoint=He.RIGHT_TOP,this.popoverPoint=He.LEFT_TOP;break;case"right-bottom":this.anchorPoint=He.RIGHT_BOTTOM,this.popoverPoint=He.LEFT_BOTTOM;break;case"left-top":this.anchorPoint=He.LEFT_TOP,this.popoverPoint=He.RIGHT_TOP;break;case"left-bottom":this.anchorPoint=He.LEFT_BOTTOM,this.popoverPoint=He.RIGHT_BOTTOM}}ngAfterContentInit(){this.focusHandler.container=this.el.nativeElement,this.items.changes.subscribe(()=>this.focusHandler.addChildren(this.items.toArray())),this.items.notifyOnChanges()}ngOnDestroy(){super.ngOnDestroy(),this.focusHandler.resetChildren()}}return f.\u0275fac=function(c){return new(c||f)(a.Y36(a.zs3),a.Y36(Qi,8),a.Y36(f,12),a.Y36(Ye))},f.\u0275cmp=a.Xpm({type:f,selectors:[["clr-dropdown-menu"]],contentQueries:function(c,y,D){if(1&c&&a.Suo(D,Sg,4),2&c){let R;a.iGM(R=a.CRH())&&(y.items=R)}},hostVars:3,hostBindings:function(c,y){2&c&&(a.uIk("role","menu"),a.ekj("dropdown-menu",!0))},inputs:{position:["clrPosition","position"]},features:[a.qOj],ngContentSelectors:an,decls:1,vars:0,template:function(c,y){1&c&&(a.F$t(),a.Hsn(0))},encapsulation:2}),f})(),ti=(()=>{class f{constructor(c,y,D,R){this.toggleService=y,this.isRootLevelToggle=!0,c.parent&&(this.isRootLevelToggle=!1),R.trigger=D.nativeElement}get active(){return this.toggleService.open}onDropdownTriggerClick(c){this.toggleService.toggleWithEvent(c)}}return f.\u0275fac=function(c){return new(c||f)(a.Y36(Ot),a.Y36(Ei),a.Y36(a.SBq),a.Y36(Ye))},f.\u0275dir=a.lG2({type:f,selectors:[["","clrDropdownTrigger",""],["","clrDropdownToggle",""]],hostVars:10,hostBindings:function(c,y){1&c&&a.NdJ("click",function(R){return y.onDropdownTriggerClick(R)}),2&c&&(a.uIk("aria-haspopup","menu")("aria-expanded",y.active),a.ekj("dropdown-toggle",y.isRootLevelToggle)("dropdown-item",!y.isRootLevelToggle)("expandable",!y.isRootLevelToggle)("active",y.active))}}),f})(),Fi=(()=>{class f{}return f.\u0275fac=function(c){return new(c||f)},f.\u0275mod=a.oAB({type:f}),f.\u0275inj=a.cJS({imports:[W.ez,Vs,Qn]}),f})(),Zd=(()=>{class f{constructor(){te.Q.addIcons(pe.M,rt,we,yt,_e)}}return f.\u0275fac=function(c){return new(c||f)},f.\u0275mod=a.oAB({type:f}),f.\u0275inj=a.cJS({imports:[W.ez,Qn,Fi]}),f})(),Fl=(()=>{class f{}return f.\u0275fac=function(c){return new(c||f)},f.\u0275mod=a.oAB({type:f}),f.\u0275inj=a.cJS({imports:[Zd]}),f})(),Hn=(()=>{class f{}return f.NAV_LEVEL_1=1,f.NAV_LEVEL_2=2,f.NAV_CLOSE_ALL="NAV_CLOSE_ALL",f.NAV_OPEN="NAV_OPEN",f.NAV_CLOSE="NAV_CLOSE",f.NAV_TOGGLE="NAV_TOGGLE",f.NAV_CLASS_HAMBURGER_MENU="open-hamburger-menu",f.NAV_CLASS_OVERFLOW_MENU="open-overflow-menu",f.NAV_CLASS_TRIGGER_1="header-hamburger-trigger",f.NAV_CLASS_TRIGGER_2="header-overflow-trigger",f.NAV_CLASS_LEVEL_1="clr-nav-level-1",f.NAV_CLASS_LEVEL_2="clr-nav-level-2",f})();class Wa{constructor(_,c){this._controlCode=_,this._navLevel=c}get controlCode(){return this._controlCode}get navLevel(){return this._navLevel}}let mu=(()=>{class f{constructor(){this.responsiveNavList=[],this.registerNavSubject=new mo.t,this.controlNavSubject=new st.x,this.closeAllNavs()}get registeredNavs(){return this.registerNavSubject.asObservable()}get navControl(){return this.controlNavSubject.asObservable()}registerNav(c){!c||this.isNavRegistered(c)||(this.responsiveNavList.push(c),this.registerNavSubject.next(this.responsiveNavList))}isNavRegistered(c){return this.responsiveNavList.indexOf(c)>-1&&(console.error("Multiple clr-nav-level "+c+" attributes found. Please make sure that only one exists"),!0)}unregisterNav(c){const y=this.responsiveNavList.indexOf(c);y>-1&&(this.responsiveNavList.splice(y,1),this.registerNavSubject.next(this.responsiveNavList))}sendControlMessage(c,y){const D=new Wa(c,y);this.controlNavSubject.next(D)}closeAllNavs(){const c=new Wa(Hn.NAV_CLOSE_ALL,-999);this.controlNavSubject.next(c)}}return f.\u0275fac=function(c){return new(c||f)},f.\u0275prov=a.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})(),Ff=(()=>{class f{constructor(c,y){this.elRef=c,this.responsiveNavService=y}ngOnInit(){this._classList=this.elRef.nativeElement.classList,this._subscription=this.responsiveNavService.navControl.subscribe({next:c=>{this.processMessage(c)}})}processMessage(c){let y=Hn.NAV_CLASS_HAMBURGER_MENU;c.controlCode===Hn.NAV_CLOSE_ALL?(this._classList.remove(Hn.NAV_CLASS_HAMBURGER_MENU),this._classList.remove(Hn.NAV_CLASS_OVERFLOW_MENU)):c.navLevel===Hn.NAV_LEVEL_1?this.controlNav(c.controlCode,y):c.navLevel===Hn.NAV_LEVEL_2&&(y=Hn.NAV_CLASS_OVERFLOW_MENU,this.controlNav(c.controlCode,y))}controlNav(c,y){c===Hn.NAV_OPEN?this._classList.add(y):c===Hn.NAV_CLOSE?this._classList.remove(y):c===Hn.NAV_TOGGLE&&this._classList.toggle(y)}ngOnDestroy(){this._subscription.unsubscribe()}}return f.\u0275fac=function(c){return new(c||f)(a.Y36(a.SBq),a.Y36(mu))},f.\u0275dir=a.lG2({type:f,selectors:[["clr-main-container"]],hostVars:2,hostBindings:function(c,y){2&c&&a.ekj("main-container",!0)}}),f})(),_u=(()=>{class f{}return f.\u0275fac=function(c){return new(c||f)},f.\u0275mod=a.oAB({type:f}),f.\u0275inj=a.cJS({imports:[W.ez,Qn]}),f})(),bs=(()=>{class f extends El{}return f.\u0275fac=function(){let _;return function(y){return(_||(_=a.n5z(f)))(y||f)}}(),f.\u0275dir=a.lG2({type:f,selectors:[["clr-main-container"]],features:[a.qOj]}),f})(),vu=(()=>{class f{}return f.\u0275fac=function(c){return new(c||f)},f.\u0275mod=a.oAB({type:f}),f.\u0275inj=a.cJS({imports:[W.ez,Qn,Fi]}),f})(),qr=(()=>{class f{}return f.\u0275fac=function(c){return new(c||f)},f.\u0275mod=a.oAB({type:f}),f.\u0275inj=a.cJS({imports:[W.ez]}),f})();new a.OlP("TABS_ID");let wr=(()=>{class f{constructor(){te.Q.addIcons(ie)}}return f.\u0275fac=function(c){return new(c||f)},f.\u0275mod=a.oAB({type:f}),f.\u0275inj=a.cJS({imports:[W.ez,Vs,Qn,qr,lf,Vs]}),f})(),ls=(()=>{class f{constructor(){this.navGroupCount=0}registerNavGroup(){this.navGroupCount++}unregisterNavGroup(){this.navGroupCount--}}return f.\u0275fac=function(c){return new(c||f)},f.\u0275prov=a.Yz7({token:f,factory:f.\u0275fac}),f})(),qd=(()=>{class f{constructor(){this._icons=0}get hasIcons(){return this._icons>0}registerIcon(){this._icons++}unregisterIcon(){this._icons--}}return f.\u0275fac=function(c){return new(c||f)},f.\u0275prov=a.Yz7({token:f,factory:f.\u0275fac}),f})(),Uf=(()=>{class f{constructor(){this._animateOnCollapsed=new st.x,this._collapsedChanged=new st.x,this._collapsed=!1,this._collapsible=!1}get animateOnCollapsed(){return this._animateOnCollapsed.asObservable()}get collapsedChanged(){return this._collapsedChanged.asObservable()}get collapsed(){return this._collapsed}set collapsed(c){c=!!c,this.collapsible&&this._collapsed!==c&&this.updateCollapseBehavior(c)}get collapsible(){return this._collapsible}set collapsible(c){this._collapsible!==(c=!!c)&&(!c&&this.collapsed&&this.updateCollapseBehavior(!1),this._collapsible=c)}updateCollapseBehavior(c){this._animateOnCollapsed.next(c),this._collapsed=c,this._collapsedChanged.next(c)}}return f.\u0275fac=function(c){return new(c||f)},f.\u0275prov=a.Yz7({token:f,factory:f.\u0275fac}),f})(),ci=(()=>{class f{constructor(c,y,D,R){this._navService=c,this._navIconService=y,this._navGroupRegistrationService=D,this.commonStrings=R,this._collapsedChanged=new a.vpe(!0),this._sub=this._navService.collapsedChanged.subscribe(Q=>{this._collapsedChanged.emit(Q)})}get collapsible(){return this._navService.collapsible}set collapsible(c){this._navService.collapsible=c}get collapsed(){return this._navService.collapsed}set collapsed(c){this._navService.collapsed=c}get hasNavGroups(){return this._navGroupRegistrationService.navGroupCount>0}get hasIcons(){return this._navIconService.hasIcons}get ariaExpanded(){return this.collapsible?this.collapsed?"false":"true":null}ngOnDestroy(){this._sub.unsubscribe()}toggleByButton(){this.collapsed=!this.collapsed}}return f.\u0275fac=function(c){return new(c||f)(a.Y36(Uf),a.Y36(qd),a.Y36(ls),a.Y36(Vn))},f.\u0275cmp=a.Xpm({type:f,selectors:[["clr-vertical-nav"]],hostAttrs:[1,"clr-vertical-nav"],hostVars:6,hostBindings:function(c,y){2&c&&a.ekj("is-collapsed",y.collapsed)("has-nav-groups",y.hasNavGroups)("has-icons",y.hasIcons)},inputs:{collapsible:["clrVerticalNavCollapsible","collapsible"],collapsed:["clrVerticalNavCollapsed","collapsed"]},outputs:{_collapsedChanged:"clrVerticalNavCollapsedChange"},features:[a._Bn([Uf,qd,ls])],ngContentSelectors:an,decls:4,vars:2,consts:[["type","button","class","nav-trigger",3,"on-collapse","click",4,"ngIf"],[1,"nav-content"],["class","nav-btn","aria-hidden","true","tabindex","-1",3,"click",4,"ngIf"],["type","button",1,"nav-trigger",3,"click"],["shape","angle-double",1,"nav-trigger-icon"],["aria-hidden","true","tabindex","-1",1,"nav-btn",3,"click"]],template:function(c,y){1&c&&(a.F$t(),a.YNc(0,eu,2,6,"button",0),a.TgZ(1,"div",1),a.Hsn(2),a.YNc(3,hd,1,1,"button",2),a.qZA()),2&c&&(a.Q6J("ngIf",y.collapsible),a.xp6(3),a.Q6J("ngIf",y.collapsible&&y.collapsed))},dependencies:[W.O5,hi],encapsulation:2}),f})(),js=(()=>{class f{constructor(){this._expandChange=new st.x}get expandChange(){return this._expandChange.asObservable()}expand(){this._expandChange.next(!0)}}return f.\u0275fac=function(c){return new(c||f)},f.\u0275prov=a.Yz7({token:f,factory:f.\u0275fac}),f})(),CS=(()=>{class f{constructor(c){this._verticalNavIconService=c,this._verticalNavIconService.registerIcon()}ngOnDestroy(){this._verticalNavIconService.unregisterIcon()}}return f.\u0275fac=function(c){return new(c||f)(a.Y36(qd))},f.\u0275dir=a.lG2({type:f,selectors:[["","clrVerticalNavIcon",""]],hostAttrs:[1,"nav-icon"]}),f})(),bS=(()=>{class f{constructor(c,y,D){this.destroy$=new st.x,D&&(0,mi.R)(c.nativeElement,"click").pipe(function ii(f){return(0,pi.e)((_,c)=>{(0,fa.Xf)(f).subscribe((0,ji.x)(c,()=>c.complete(),gi.Z)),!c.closed&&_.subscribe(c)})}(this.destroy$)).subscribe(()=>{D.expand(),y.markForCheck()})}ngOnDestroy(){this.destroy$.next()}}return f.\u0275fac=function(c){return new(c||f)(a.Y36(a.SBq),a.Y36(a.sBO),a.Y36(js,8))},f.\u0275cmp=a.Xpm({type:f,selectors:[["","clrVerticalNavLink",""]],hostAttrs:[1,"nav-link"],attrs:gd,ngContentSelectors:wy,decls:3,vars:0,consts:[[1,"nav-text"]],template:function(c,y){1&c&&(a.F$t(Wr),a.Hsn(0),a.TgZ(1,"span",0),a.Hsn(2,1),a.qZA())},encapsulation:2}),f})(),eD=(()=>{class f{constructor(){te.Q.addIcons(oe.i,St)}}return f.\u0275fac=function(c){return new(c||f)},f.\u0275mod=a.oAB({type:f}),f.\u0275inj=a.cJS({imports:[W.ez,Qn,Vs,gg,Vs,Qn,gg]}),f})(),tD=(()=>{class f{}return f.\u0275fac=function(c){return new(c||f)},f.\u0275mod=a.oAB({type:f}),f.\u0275inj=a.cJS({imports:[_u,vu,wr,eD]}),f})(),DS=(()=>{class f{constructor(c,y,D){this.renderer=c,this.host=y,this.tabindex="0",this.unlisteners=[],D.runOutsideAngular(()=>{this.observer=new ResizeObserver(()=>this.addOrRemoveTabIndex()),this.observer.observe(this.host.nativeElement),this.unlisteners.push(this.renderer.listen(this.host.nativeElement,"mouseup",()=>{this.addOrRemoveTabIndex()}),this.renderer.listen(this.host.nativeElement,"mousedown",()=>{this.removeTabIndex()}))})}ngOnDestroy(){for(;this.unlisteners.length;)this.unlisteners.pop()();this.observer.disconnect(),this.observer=null}addTabIndex(){this.renderer.setAttribute(this.host.nativeElement,"tabindex",this.tabindex)}removeTabIndex(){this.renderer.removeAttribute(this.host.nativeElement,"tabindex")}addOrRemoveTabIndex(){const c=this.host.nativeElement.parentElement;c&&c.clientHeight<c.scrollHeight?this.addTabIndex():this.removeTabIndex()}}return f.\u0275fac=function(c){return new(c||f)(a.Y36(a.Qsj),a.Y36(a.SBq),a.Y36(a.R0b))},f.\u0275dir=a.lG2({type:f,selectors:[["",8,"modal-body"]]}),f})(),nD=(()=>{class f{constructor(){te.Q.addIcons(_e)}}return f.\u0275fac=function(c){return new(c||f)},f.\u0275mod=a.oAB({type:f}),f.\u0275inj=a.cJS({imports:[W.ez,uf,Qn,Qn]}),f})(),xS=(()=>{class f{constructor(){te.Q.addIcons(_e,rt)}}return f.\u0275fac=function(c){return new(c||f)},f.\u0275mod=a.oAB({type:f}),f.\u0275inj=a.cJS({imports:[W.ez,Qn,gg,Vs]}),f})(),aD=(()=>{class f{}return f.\u0275fac=function(c){return new(c||f)},f.\u0275mod=a.oAB({type:f}),f.\u0275inj=a.cJS({imports:[W.ez,Vs,Qn]}),f})(),cE=(()=>{class f{}return f.\u0275fac=function(c){return new(c||f)},f.\u0275mod=a.oAB({type:f}),f.\u0275inj=a.cJS({imports:[Fi,xS,aD]}),f})(),I1=(()=>{class f{constructor(){this.max=100,this.value=0,this.externalId=""}get id(){return this._ID}set id(c){this._ID=c,this.externalId=null}get progressClass(){return!0}set clrLabeled(c){this._labeled=uo(c)}get labeledClass(){return this._labeled}set clrFade(c){this._fade=uo(c)}get fadeClass(){return this._fade}set clrLoop(c){this._loop=uo(c)}get loopClass(){return this._loop}set clrSuccess(c){this._success=uo(c)}get successClass(){return this._success}set clrDanger(c){this._danger=uo(c)}get dangerClass(){return this._danger}set clrFlash(c){this._flash=uo(c)}get flashClass(){return this._flash}set clrFlashDanger(c){this._flashDanger=uo(c)}get flashDangerClass(){return this._flashDanger}get displayValue(){return this.displayval?this.displayval:`${this.value||0}%`}displayStringValue(){return this._labeled}}return f.\u0275fac=function(c){return new(c||f)},f.\u0275cmp=a.Xpm({type:f,selectors:[["clr-progress-bar"]],hostVars:17,hostBindings:function(c,y){2&c&&(a.uIk("id",y.externalId),a.ekj("progress",y.progressClass)("labeled",y.labeledClass)("progress-fade",y.fadeClass)("loop",y.loopClass)("success",y.successClass)("danger",y.dangerClass)("flash",y.flashClass)("flash-danger",y.flashDangerClass))},inputs:{max:["clrMax","max"],displayval:["clrDisplayval","displayval"],value:["clrValue","value"],id:"id",clrLabeled:"clrLabeled",clrFade:"clrFade",clrLoop:"clrLoop",clrSuccess:"clrSuccess",clrDanger:"clrDanger",clrFlash:"clrFlash",clrFlashDanger:"clrFlashDanger"},decls:2,vars:5,consts:[[3,"id"],[4,"ngIf"]],template:function(c,y){1&c&&(a._UZ(0,"progress",0),a.YNc(1,E_,2,1,"span",1)),2&c&&(a.Q6J("id",y.id),a.uIk("max",y.max)("value",y.value)("data-displayval",y.displayValue),a.xp6(1),a.Q6J("ngIf",y.displayStringValue()))},dependencies:[W.O5],encapsulation:2}),f})(),lD=(()=>{class f{}return f.\u0275fac=function(c){return new(c||f)},f.\u0275mod=a.oAB({type:f}),f.\u0275inj=a.cJS({imports:[W.ez]}),f})(),hE=(()=>{class f{constructor(){te.Q.addIcons(tt,Ge,Pe,jt)}}return f.\u0275fac=function(c){return new(c||f)},f.\u0275mod=a.oAB({type:f}),f.\u0275inj=a.cJS({imports:[W.ez,Qn,au,Qn,au]}),f})(),zf=(()=>{class f{constructor(){te.Q.addIcons(Pe)}}return f.\u0275fac=function(c){return new(c||f)},f.\u0275mod=a.oAB({type:f}),f.\u0275inj=a.cJS({imports:[W.ez,nD,Zd]}),f})(),hD=(()=>{class f{}return f.\u0275fac=function(c){return new(c||f)},f.\u0275mod=a.oAB({type:f}),f.\u0275inj=a.cJS({imports:[Fl,Ne,Qn,nD,ef,Vs,gg,Vy,hu,tD,cE,zf,V_,au,lD,Ba,hE]}),f})()},862:(pt,Te,L)=>{"use strict";function a(pe,ue){switch(pe){case 0:return function(){return ue.apply(this,arguments)};case 1:return function(ie){return ue.apply(this,arguments)};case 2:return function(ie,le){return ue.apply(this,arguments)};case 3:return function(ie,le,_e){return ue.apply(this,arguments)};case 4:return function(ie,le,_e,Ve){return ue.apply(this,arguments)};case 5:return function(ie,le,_e,Ve,Fe){return ue.apply(this,arguments)};case 6:return function(ie,le,_e,Ve,Fe,de){return ue.apply(this,arguments)};case 7:return function(ie,le,_e,Ve,Fe,de,se){return ue.apply(this,arguments)};case 8:return function(ie,le,_e,Ve,Fe,de,se,xe){return ue.apply(this,arguments)};case 9:return function(ie,le,_e,Ve,Fe,de,se,xe,et){return ue.apply(this,arguments)};case 10:return function(ie,le,_e,Ve,Fe,de,se,xe,et,Ae){return ue.apply(this,arguments)};default:throw new Error("First argument to _arity must be a non-negative integer no greater than ten")}}L.d(Te,{Z:()=>we});var W=L(7144),te=L(3021),oe=L(4381);function ge(pe,ue,ie){return function(){for(var le=[],_e=0,Ve=pe,Fe=0;Fe<ue.length||_e<arguments.length;){var de;Fe<ue.length&&(!(0,oe.Z)(ue[Fe])||_e>=arguments.length)?de=ue[Fe]:(de=arguments[_e],_e+=1),le[Fe]=de,(0,oe.Z)(de)||(Ve-=1),Fe+=1}return Ve<=0?ie.apply(this,le):a(Ve,ge(pe,le,ie))}}const we=(0,te.Z)(function(ue,ie){return 1===ue?(0,W.Z)(ie):a(ue,ge(ue,[],ie))})},3982:(pt,Te,L)=>{"use strict";L.d(Te,{Z:()=>de});var a=L(3021);function W(se){for(var et,xe=[];!(et=se.next()).done;)xe.push(et.value);return xe}function te(se,xe,et){for(var Ae=0,Je=et.length;Ae<Je;){if(se(xe,et[Ae]))return!0;Ae+=1}return!1}var ge=L(5585);const we="function"==typeof Object.is?Object.is:function Ee(se,xe){return se===xe?0!==se||1/se==1/xe:se!=se&&xe!=xe};var pe=L(9835);const le=(0,L(7144).Z)(function(xe){return null===xe?"Null":void 0===xe?"Undefined":Object.prototype.toString.call(xe).slice(8,-1)});function _e(se,xe,et,Ae){var Je=W(se);function ye(ke,Le){return Ve(ke,Le,et.slice(),Ae.slice())}return!te(function(ke,Le){return!te(ye,Le,ke)},W(xe),Je)}function Ve(se,xe,et,Ae){if(we(se,xe))return!0;var Je=le(se);if(Je!==le(xe))return!1;if("function"==typeof se["fantasy-land/equals"]||"function"==typeof xe["fantasy-land/equals"])return"function"==typeof se["fantasy-land/equals"]&&se["fantasy-land/equals"](xe)&&"function"==typeof xe["fantasy-land/equals"]&&xe["fantasy-land/equals"](se);if("function"==typeof se.equals||"function"==typeof xe.equals)return"function"==typeof se.equals&&se.equals(xe)&&"function"==typeof xe.equals&&xe.equals(se);switch(Je){case"Arguments":case"Array":case"Object":if("function"==typeof se.constructor&&"Promise"===function oe(se){var xe=String(se).match(/^function (\w*)/);return null==xe?"":xe[1]}(se.constructor))return se===xe;break;case"Boolean":case"Number":case"String":if(typeof se!=typeof xe||!we(se.valueOf(),xe.valueOf()))return!1;break;case"Date":if(!we(se.valueOf(),xe.valueOf()))return!1;break;case"Error":return se.name===xe.name&&se.message===xe.message;case"RegExp":if(se.source!==xe.source||se.global!==xe.global||se.ignoreCase!==xe.ignoreCase||se.multiline!==xe.multiline||se.sticky!==xe.sticky||se.unicode!==xe.unicode)return!1}for(var ce=et.length-1;ce>=0;){if(et[ce]===se)return Ae[ce]===xe;ce-=1}switch(Je){case"Map":return se.size===xe.size&&_e(se.entries(),xe.entries(),et.concat([se]),Ae.concat([xe]));case"Set":return se.size===xe.size&&_e(se.values(),xe.values(),et.concat([se]),Ae.concat([xe]));case"Arguments":case"Array":case"Object":case"Boolean":case"Number":case"String":case"Date":case"Error":case"RegExp":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"ArrayBuffer":break;default:return!1}var ye=(0,pe.Z)(se);if(ye.length!==(0,pe.Z)(xe).length)return!1;var ke=et.concat([se]),Le=Ae.concat([xe]);for(ce=ye.length-1;ce>=0;){var nt=ye[ce];if(!(0,ge.Z)(nt,xe)||!Ve(xe[nt],se[nt],ke,Le))return!1;ce-=1}return!0}const de=(0,a.Z)(function(xe,et){return Ve(xe,et,[],[])})},7144:(pt,Te,L)=>{"use strict";L.d(Te,{Z:()=>W});var a=L(4381);function W(te){return function oe(ge){return 0===arguments.length||(0,a.Z)(ge)?oe:te.apply(this,arguments)}}},3021:(pt,Te,L)=>{"use strict";L.d(Te,{Z:()=>te});var a=L(7144),W=L(4381);function te(oe){return function ge(Ee,we){switch(arguments.length){case 0:return ge;case 1:return(0,W.Z)(Ee)?ge:(0,a.Z)(function(pe){return oe(Ee,pe)});default:return(0,W.Z)(Ee)&&(0,W.Z)(we)?ge:(0,W.Z)(Ee)?(0,a.Z)(function(pe){return oe(pe,we)}):(0,W.Z)(we)?(0,a.Z)(function(pe){return oe(Ee,pe)}):oe(Ee,we)}}}},5585:(pt,Te,L)=>{"use strict";function a(W,te){return Object.prototype.hasOwnProperty.call(te,W)}L.d(Te,{Z:()=>a})},6819:(pt,Te,L)=>{"use strict";L.d(Te,{Z:()=>oe});var a=L(5585),W=Object.prototype.toString;const oe=function(){return"[object Arguments]"===W.call(arguments)?function(Ee){return"[object Arguments]"===W.call(Ee)}:function(Ee){return(0,a.Z)("callee",Ee)}}()},6954:(pt,Te,L)=>{"use strict";L.d(Te,{Z:()=>a});const a=Array.isArray||function(te){return null!=te&&te.length>=0&&"[object Array]"===Object.prototype.toString.call(te)}},4381:(pt,Te,L)=>{"use strict";function a(W){return null!=W&&"object"==typeof W&&!0===W["@@functional/placeholder"]}L.d(Te,{Z:()=>a})},82:(pt,Te,L)=>{"use strict";function a(W){return"[object String]"===Object.prototype.toString.call(W)}L.d(Te,{Z:()=>a})},9835:(pt,Te,L)=>{"use strict";L.d(Te,{Z:()=>ue});var a=L(7144),W=L(5585),te=L(6819),oe=!{toString:null}.propertyIsEnumerable("toString"),ge=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],Ee=function(){return arguments.propertyIsEnumerable("length")}(),we=function(le,_e){for(var Ve=0;Ve<le.length;){if(le[Ve]===_e)return!0;Ve+=1}return!1};const ue=(0,a.Z)("function"!=typeof Object.keys||Ee?function(le){if(Object(le)!==le)return[];var _e,Ve,Fe=[],de=Ee&&(0,te.Z)(le);for(_e in le)(0,W.Z)(_e,le)&&(!de||"length"!==_e)&&(Fe[Fe.length]=_e);if(oe)for(Ve=ge.length-1;Ve>=0;)(0,W.Z)(_e=ge[Ve],le)&&!we(Fe,_e)&&(Fe[Fe.length]=_e),Ve-=1;return Fe}:function(le){return Object(le)!==le?[]:Object.keys(le)})},5861:(pt,Te,L)=>{"use strict";function a(te,oe,ge,Ee,we,pe,ue){try{var ie=te[pe](ue),le=ie.value}catch(_e){return void ge(_e)}ie.done?oe(le):Promise.resolve(le).then(Ee,we)}function W(te){return function(){var oe=this,ge=arguments;return new Promise(function(Ee,we){var pe=te.apply(oe,ge);function ue(le){a(pe,Ee,we,ue,ie,"next",le)}function ie(le){a(pe,Ee,we,ue,ie,"throw",le)}ue(void 0)})}}L.d(Te,{Z:()=>W})},7582:(pt,Te,L)=>{"use strict";function ge(Ke,rt,ot,yt){var ht,Tt=arguments.length,tt=Tt<3?rt:null===yt?yt=Object.getOwnPropertyDescriptor(rt,ot):yt;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)tt=Reflect.decorate(Ke,rt,ot,yt);else for(var Ge=Ke.length-1;Ge>=0;Ge--)(ht=Ke[Ge])&&(tt=(Tt<3?ht(tt):Tt>3?ht(rt,ot,tt):ht(rt,ot))||tt);return Tt>3&&tt&&Object.defineProperty(rt,ot,tt),tt}function _e(Ke,rt,ot,yt){return new(ot||(ot=Promise))(function(tt,ht){function Ge(Qe){try{Pe(yt.next(Qe))}catch(jt){ht(jt)}}function kt(Qe){try{Pe(yt.throw(Qe))}catch(jt){ht(jt)}}function Pe(Qe){Qe.done?tt(Qe.value):function Tt(tt){return tt instanceof ot?tt:new ot(function(ht){ht(tt)})}(Qe.value).then(Ge,kt)}Pe((yt=yt.apply(Ke,rt||[])).next())})}function ce(Ke){return this instanceof ce?(this.v=Ke,this):new ce(Ke)}function ye(Ke,rt,ot){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Tt,yt=ot.apply(Ke,rt||[]),tt=[];return Tt={},ht("next"),ht("throw"),ht("return"),Tt[Symbol.asyncIterator]=function(){return this},Tt;function ht(Lt){yt[Lt]&&(Tt[Lt]=function(Fn){return new Promise(function(ln,Di){tt.push([Lt,Fn,ln,Di])>1||Ge(Lt,Fn)})})}function Ge(Lt,Fn){try{!function kt(Lt){Lt.value instanceof ce?Promise.resolve(Lt.value.v).then(Pe,Qe):jt(tt[0][2],Lt)}(yt[Lt](Fn))}catch(ln){jt(tt[0][3],ln)}}function Pe(Lt){Ge("next",Lt)}function Qe(Lt){Ge("throw",Lt)}function jt(Lt,Fn){Lt(Fn),tt.shift(),tt.length&&Ge(tt[0][0],tt[0][1])}}function Le(Ke){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ot,rt=Ke[Symbol.asyncIterator];return rt?rt.call(Ke):(Ke=function se(Ke){var rt="function"==typeof Symbol&&Symbol.iterator,ot=rt&&Ke[rt],yt=0;if(ot)return ot.call(Ke);if(Ke&&"number"==typeof Ke.length)return{next:function(){return Ke&&yt>=Ke.length&&(Ke=void 0),{value:Ke&&Ke[yt++],done:!Ke}}};throw new TypeError(rt?"Object is not iterable.":"Symbol.iterator is not defined.")}(Ke),ot={},yt("next"),yt("throw"),yt("return"),ot[Symbol.asyncIterator]=function(){return this},ot);function yt(tt){ot[tt]=Ke[tt]&&function(ht){return new Promise(function(Ge,kt){!function Tt(tt,ht,Ge,kt){Promise.resolve(kt).then(function(Pe){tt({value:Pe,done:Ge})},ht)}(Ge,kt,(ht=Ke[tt](ht)).done,ht.value)})}}}L.d(Te,{FC:()=>ye,KL:()=>Le,gn:()=>ge,mG:()=>_e,qq:()=>ce})}},pt=>{pt(pt.s=6763)}]);