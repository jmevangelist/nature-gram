<app-header title="iNatureGram" id='top' 
    (onAction)="reload()" shape="logo" 
    [secondaryShape]="bellIcon" (onSecondaryAction)="goToNotifications()"
    [badge]="(notification$ | async) ? 'warning': ''" class="sticky-top"></app-header>

<div class="chips-filter-container">
    <div class="filters" #optscroll>
        <a [routerLink]="['preference']" class="btn btn-sm btn-pref">
            <cds-icon shape="filter-grid" size="md"></cds-icon>
        </a>
        |
        <span *ngFor="let chips of chipGroup;let last=last">
            <app-chips [chips]="chips.chips" (chipSelect)="selectChip(chips)"
                [multiSelect]="chips.multiSelect"> 
            </app-chips>
            <span *ngIf="!last">| </span>
        </span>
    </div>
</div>

<div class="home">
    <app-observations [query]="q$ | async" [style]="'cards'" [retrieveOnScroll]="true" [size]="1" [allowEmptyQuery]="false">
    </app-observations>
</div>